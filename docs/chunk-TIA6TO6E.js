import{a as Ft}from"./chunk-YIITF5BT.js";import{a as Ni}from"./chunk-XYKJ2AR5.js";import{d as di,g as pi,i as Ae,n as ui,o as ci,p as mi,r as Ue,u as gi,w as fe}from"./chunk-RUYFV3C5.js";import{a as Ge}from"./chunk-GZYBDEW2.js";import{A as jt,B as De,D as j,E as Q,F as Qt,I as K,L as Kt,La as li,M as Zt,N as Xt,O as $t,Q as ke,S as he,Y as Fe,Z as Yt,_ as Jt,a as Ee,aa as He,ba as Be,ca as ei,da as ti,ea as ii,fa as ni,h as Ht,ja as ri,la as ai,m as ht,ma as Z,n as Bt,o as zt,p as P,pa as oi,q as At,qa as si,r as Le,s as Ut,u as Gt,ua as ze,x as Wt,y as Re,z as qt}from"./chunk-B26AGM6E.js";import{Aa as D,Ba as Nt,Bb as b,Bc as Lt,C as Ct,Fa as Ce,K as pt,Lb as J,Lc as oe,Mb as d,Nb as gt,Ob as pe,Pb as Mt,Wb as u,Xb as c,Yb as O,Yc as Rt,Z as ut,Zb as ue,_ as ct,_b as ce,ab as It,ac as N,ba as St,ca as Ie,da as se,db as Vt,dc as C,dd as Dt,ed as U,f as Te,fa as Ot,fc as g,fd as z,gb as l,gd as ge,ha as Ve,hb as S,hd as kt,jc as Pt,kc as k,kd as Pe,lc as L,mb as Se,mc as R,pa as le,qa as w,qc as f,ra as T,rc as E,sc as M,uc as ne,vb as B,vc as re,wb as de,wc as ae,xb as Me,xc as Et,yb as mt,zc as me}from"./chunk-ULTRSJM6.js";import{e as Oi}from"./chunk-EQDQRRRY.js";var Tt=Oi(Ni());var W=(s=>(s[s.TextBox=1]="TextBox",s[s.Checkbox=2]="Checkbox",s[s.Dropdown=3]="Dropdown",s[s.Radio=4]="Radio",s[s.Toggle=5]="Toggle",s[s.Slider=6]="Slider",s))(W||{}),q=(n=>(n[n.Text=1]="Text",n[n.Number=2]="Number",n[n.Boolean=3]="Boolean",n[n.Password=4]="Password",n))(q||{});var We=class{static toFormGroup(r){let e={};return r.forEach(t=>this.ConvertToFormGroup(e,t)),new Ut(e)}static ConvertToFormGroup(r,e){r[e.propertyName]=new Gt(e.value||"",e.validations)}};var ee=class{isErrorState(r,e){let t=e&&e.submitted;return!!(r&&r.invalid&&(r.dirty||r.touched||t))}};var I=class{static NetworkName_Pattern="Invalid network name. Up to 32 printable characters are allowed.";static ServerIP_Pattern="Invalid server IP. Please provide a valid IP Address.";static Ssid_required="Wi-Fi SSID is required";static Ssid_Pattern="Invalid hotspot name. Up to 32 printable characters are allowed.";static APassword_Pattern="Invalid password. Minimum 8 to maximum 32 printable characters are allowed.";static STPassword_Pattern="Invalid password. Minimum 8 to maximum 32 printable characters are allowed.";static APassword_Required="Password is required";static STPassword_Required="Password is required";static APSsid_Pattern="Invalid hotspot name";static P2PPinCode_Pattern="Only 8 digits are allowed";static Bluetooth_PairMac_Pattern="Mac address should be in proper format e.g. C0:84:7D:78:A9:74";static FourG_SIMPIN_Pattern="Pin code should be exactly of 8 digits";static GPSFrequency_Pattern="GPS frequency may only contain digits";static GPSFrequency_Min="GPS frequency value may not be less than 1";static GPSFrequency_Max="GPS frequency value may not exceed 32767";static DeviceName_Pattern="Invalid device name. Up to 32 printable characters are allowed.";static DeviceName_Required="Device name is required."},i=class{static WifiConnectionMode=["WifiConnectionMode","Wi-Fi mode"];static WifiMode=["WifiMode","Wi-Fi"];static WIFI_ConnectTimeout=["WIFI_ConnectTimeout","Wi-Fi connection timeout"];static Ssid=["Ssid","Wi-Fi SSID"];static APPassword=["APPassword","Wi-Fi password"];static STPassword=["Password","Wi-Fi password"];static APCameraIP=["APCameraIP","Assign camera IP"];static STA_AutoGetIP=["STA_AutoGetIP","Use fixed IP"];static UpdateCertificate=["UpdateCertificate","Update enterprise certificate"];static Four_G=["G4Mode","4G"];static MediaServerAddress=["MediaServerAddress","Media server address"];static LEDLight=["LEDLight","LED light"];static ShockReminding=["ShockReminding","Haptic feedback"];static BeepSound=["BeepSound","Audible tones"];static StealthMode=["StealthMode","Stealth mode"];static RecordingNotification=["RecordingNotification","Recording notification"];static LowBatteryWarning=["LowBatteryWarning","Low battery warning"];static LowSpaceWarning=["LowSpaceWarning","Low storage warning"];static KeyTone=["KeyTone","Key tone"];static KeyToneVolume=["Volume","Key tone volume"];static DisplayBrightness=["Brightness","Display brightness"];static LCDAutoOff=["ScreenSaver","Screen timeout"];static IRMode=["IRMode","IR mode"];static IRCUTSensitivity=["IRCUTSensitivity","IR sensitivity"];static LocationService=["LocationService","GPS"];static GPSFrequency=["GPSFrequency","GPS update frequency"];static EnableWatermark=["EnableWatermark","Display text overlay"];static BurnText=["BurnText","Text overlay"];static PowerOff=["PowerOff","Auto power off"];static OutputTV=["OutputTV","Video standard"];static EncodingFormat=["EncodingFormat","Video encoding"];static RecordingSize=["RecordingSize","Recording resolution"];static RecordingTime=["RecordingTime","Recording segmentation"];static RecordingQuality=["RecordingQuality","Recording quality"];static StreamingResolution=["StreamingResolution","Streaming resolution"];static StreamingFrameRate=["StreamingFrameRate","Streaming frame rate"];static StreamingBitrate=["StreamingBitrate","Streaming bit rate"];static StreamingControl=["StreamingControl","Streaming control"];static PreRecordingTime=["PreRecordingTime","Pre record"];static PostRecord=["PostRecord","Post record"];static VideoMute=["VideoMute","Mute recording"];static VideoEIS=["VideoEIS","Video EIS"];static DoubleClickRecord=["DoubleClickRecord","Double click record"];static DashCamMode=["CarMode","Dash camera mode"];static AutoRecording=["AutoRecording","Auto recording"];static AutoDetection=["AutoDetection","Motion detection"];static LoopRecording=["LoopRecording","Loop recording"];static PhotoSize=["PhotoSize","Photo resolution"];static SelfieTime=["SelfieTime","Photo timer"];static BurstMode=["BurstMode","Burst mode"];static BluetoothMode=["BluetoothMode","Bluetooth"];static WifiDirectPin=["P2PPinCode","Wi-Fi direct PIN"]},G=Object.values(i).filter(a=>a[0]===i.WifiConnectionMode[0]||a[0]===i.WIFI_ConnectTimeout[0]||a[0]===i.Ssid[0]||a[0]===i.APPassword[0]||a[0]===i.STPassword[0]||a[0]===i.APCameraIP[0]||a[0]===i.STA_AutoGetIP[0]||a[0]===i.UpdateCertificate[0]||a[0]===i.WifiDirectPin[0]).map(a=>a[0]),hi=[{id:1,icon:mi,title:"Connectivity"},{id:2,icon:Ae,title:"Camera"},{id:3,icon:gi,title:"Video"},{id:4,icon:pi,title:"Photo"}],fi=[{tabId:1,id:1,title:"Wi-Fi global settings"},{tabId:1,id:2,title:"Network configuration"},{tabId:1,id:3,title:"Bluetooth"},{tabId:1,id:4,title:"4G "},{tabId:1,id:5,title:"Other settings"},{tabId:2,id:6,title:"Notifications"},{tabId:2,id:7,title:"Screen & keys"},{tabId:2,id:8,title:"Low-light recording"},{tabId:2,id:9,title:"GPS"},{tabId:2,id:10,title:"Text overlay"},{tabId:3,id:11,title:"Video format"},{tabId:3,id:12,title:"Recording settings"},{tabId:3,id:13,title:"Streaming settings"},{tabId:3,id:14,title:"Pre and post recording"},{tabId:3,id:15,title:"Other settings"},{tabId:4,id:16,title:"Image quality"},{tabId:4,id:17,title:"Image capture"}],ve=[{id:1,name:"Matrix"},{id:2,name:"Matrix 2"},{id:3,name:"Matrix 2 Plus"},{id:4,name:"Matrix 4G"}];var te=class a extends Ge{constructor(e){super();this.http=e}getRoles(){return this.http.get(this.basePath+"/api/Role/GetRoles")}static \u0275fac=function(t){return new(t||a)(Ve(Ee))};static \u0275prov=Ie({token:a,factory:a.\u0275fac,providedIn:"root"})};var A=typeof window<"u"?window:{screen:{},navigator:{}},ye=(A.matchMedia||function(){return{matches:!1}}).bind(A),vi=!1,Mi={get passive(){return vi=!0}},yi=function(){};A.addEventListener&&A.addEventListener("p",yi,Mi);A.removeEventListener&&A.removeEventListener("p",yi,!1);var qe=vi,Sr="PointerEvent"in A,ft="ontouchstart"in A,Pi="TouchEvent"in A,Ei=ft||Pi&&ye("(any-pointer: coarse)").matches,Or=(A.navigator.maxTouchPoints||0)>0||Ei,xi=A.navigator.userAgent||"",Li=ye("(pointer: coarse)").matches&&/iPad|Macintosh/.test(xi)&&Math.min(A.screen.width||0,A.screen.height||0)>=768,Nr=(ye("(pointer: coarse)").matches||!ye("(pointer: fine)").matches&&ft)&&!/Windows.*Firefox/.test(xi),Ir=ye("(any-pointer: fine)").matches||ye("(any-hover: hover)").matches||Li||!ft;var Ri=(a,r,e)=>({tooltip:a,placement:r,content:e});function Di(a,r){}function ki(a,r){a&1&&b(0,Di,0,0,"ng-template")}function Fi(a,r){if(a&1&&(ue(0),b(1,ki,1,0,null,1),ce()),a&2){let e=g();l(),d("ngTemplateOutlet",e.template)("ngTemplateOutletContext",Lt(2,Ri,e.tooltip,e.placement,e.content))}}function Hi(a,r){if(a&1&&(ue(0),u(1,"div",2),f(2),c(),ce()),a&2){let e=g();l(),J("title",e.tooltip)("data-tooltip-placement",e.placement),l(),M(" ",e.content," ")}}var Bi=["tooltipTemplate"],zi=["leftOuterSelectionBar"],Ai=["rightOuterSelectionBar"],Ui=["fullBar"],Gi=["selectionBar"],Wi=["minHandle"],qi=["maxHandle"],ji=["floorLabel"],Qi=["ceilLabel"],Ki=["minHandleLabel"],Zi=["maxHandleLabel"],Xi=["combinedLabel"],$i=["ticksElement"],Yi=a=>({"ngx-slider-selected":a});function Ji(a,r){if(a&1&&O(0,"ngx-slider-tooltip-wrapper",32),a&2){let e=g().$implicit,t=g();d("template",t.tooltipTemplate)("tooltip",e.valueTooltip)("placement",e.valueTooltipPlacement)("content",e.value)}}function en(a,r){if(a&1&&O(0,"span",33),a&2){let e=g().$implicit;d("innerText",e.legend)}}function tn(a,r){if(a&1&&O(0,"span",34),a&2){let e=g().$implicit;d("innerHTML",e.legend,It)}}function nn(a,r){if(a&1&&(u(0,"span",27),O(1,"ngx-slider-tooltip-wrapper",28),b(2,Ji,1,4,"ngx-slider-tooltip-wrapper",29)(3,en,1,1,"span",30)(4,tn,1,1,"span",31),c()),a&2){let e=r.$implicit,t=g();d("ngClass",me(8,Yi,e.selected))("ngStyle",e.style),l(),d("template",t.tooltipTemplate)("tooltip",e.tooltip)("placement",e.tooltipPlacement),l(),d("ngIf",e.value!==null&&e.value!==void 0),l(),d("ngIf",e.legend!==null&&e.legend!==void 0&&t.allowUnsafeHtmlInSlider===!1),l(),d("ngIf",e.legend!==null&&e.legend!==void 0&&(t.allowUnsafeHtmlInSlider===null||t.allowUnsafeHtmlInSlider===void 0||t.allowUnsafeHtmlInSlider))}}var X=function(a){return a[a.Low=0]="Low",a[a.High=1]="High",a[a.Floor=2]="Floor",a[a.Ceil=3]="Ceil",a[a.TickValue=4]="TickValue",a}(X||{}),_e=class{floor=0;ceil=null;step=1;minRange=null;maxRange=null;pushRange=!1;minLimit=null;maxLimit=null;translate=null;combineLabels=null;getLegend=null;getStepLegend=null;stepsArray=null;bindIndexForStepsArray=!1;draggableRange=!1;draggableRangeOnly=!1;showSelectionBar=!1;showSelectionBarEnd=!1;showSelectionBarFromValue=null;showOuterSelectionBars=!1;hidePointerLabels=!1;hideLimitLabels=!1;autoHideLimitLabels=!0;readOnly=!1;disabled=!1;showTicks=!1;showTicksValues=!1;tickStep=null;tickValueStep=null;ticksArray=null;ticksTooltip=null;ticksValuesTooltip=null;vertical=!1;getSelectionBarColor=null;getTickColor=null;getPointerColor=null;keyboardSupport=!0;scale=1;rotate=0;enforceStep=!0;enforceRange=!0;enforceStepsArray=!0;noSwitching=!1;onlyBindHandles=!1;rightToLeft=!1;reversedControls=!1;boundPointerLabels=!0;logScale=!1;customValueToPosition=null;customPositionToValue=null;precisionLimit=12;selectionBarGradient=null;ariaLabel="ngx-slider";ariaLabelledBy=null;ariaLabelHigh="ngx-slider-max";ariaLabelledByHigh=null;handleDimension=null;barDimension=null;animate=!0;animateOnMove=!1},_i=new Ot("AllowUnsafeHtmlInSlider"),h=function(a){return a[a.Min=0]="Min",a[a.Max=1]="Max",a}(h||{}),yt=class{value;highValue;pointerType},p=class{static isNullOrUndefined(r){return r==null}static areArraysEqual(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;++t)if(r[t]!==e[t])return!1;return!0}static linearValueToPosition(r,e,t){let n=t-e;return(r-e)/n}static logValueToPosition(r,e,t){r=Math.log(r),e=Math.log(e),t=Math.log(t);let n=t-e;return(r-e)/n}static linearPositionToValue(r,e,t){return r*(t-e)+e}static logPositionToValue(r,e,t){e=Math.log(e),t=Math.log(t);let n=r*(t-e)+e;return Math.exp(n)}static findStepIndex(r,e){let t=e.map(o=>Math.abs(r-o.value)),n=0;for(let o=0;o<e.length;o++)t[o]!==t[n]&&t[o]<t[n]&&(n=o);return n}},$=class{static isTouchEvent(r){return window.TouchEvent!==void 0?r instanceof TouchEvent:r.touches!==void 0}static isResizeObserverAvailable(){return window.ResizeObserver!==void 0}},V=class{static roundToPrecisionLimit(r,e){return+r.toPrecision(e)}static isModuloWithinPrecisionLimit(r,e,t){let n=Math.pow(10,-t);return Math.abs(r%e)<=n||Math.abs(Math.abs(r%e)-e)<=n}static clampToRange(r,e,t){return Math.min(Math.max(r,e),t)}},je=class{eventName=null;events=null;eventsSubscription=null;teardownCallback=null},Qe=class{renderer;constructor(r){this.renderer=r}attachPassiveEventListener(r,e,t,n){if(qe!==!0)return this.attachEventListener(r,e,t,n);let o=new je;o.eventName=e,o.events=new Te;let s=m=>{o.events.next(m)};return r.addEventListener(e,s,{passive:!0,capture:!1}),o.teardownCallback=()=>{r.removeEventListener(e,s,{passive:!0,capture:!1})},o.eventsSubscription=o.events.pipe(p.isNullOrUndefined(n)?ut(()=>{}):ct(n,void 0,{leading:!0,trailing:!0})).subscribe(m=>{t(m)}),o}detachEventListener(r){p.isNullOrUndefined(r.eventsSubscription)||(r.eventsSubscription.unsubscribe(),r.eventsSubscription=null),p.isNullOrUndefined(r.events)||(r.events.complete(),r.events=null),p.isNullOrUndefined(r.teardownCallback)||(r.teardownCallback(),r.teardownCallback=null)}attachEventListener(r,e,t,n){let o=new je;o.eventName=e,o.events=new Te;let s=m=>{o.events.next(m)};return o.teardownCallback=this.renderer.listen(r,e,s),o.eventsSubscription=o.events.pipe(p.isNullOrUndefined(n)?ut(()=>{}):ct(n,void 0,{leading:!0,trailing:!0})).subscribe(m=>{t(m)}),o}},ie=(()=>{class a{elemRef;renderer;changeDetectionRef;_position=0;get position(){return this._position}_dimension=0;get dimension(){return this._dimension}_alwaysHide=!1;get alwaysHide(){return this._alwaysHide}_vertical=!1;get vertical(){return this._vertical}_scale=1;get scale(){return this._scale}_rotate=0;get rotate(){return this._rotate}opacity=1;visibility="visible";left="";bottom="";height="";width="";transform="";eventListenerHelper;eventListeners=[];constructor(e,t,n){this.elemRef=e,this.renderer=t,this.changeDetectionRef=n,this.eventListenerHelper=new Qe(this.renderer)}setAlwaysHide(e){this._alwaysHide=e,e?this.visibility="hidden":this.visibility="visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return this.alwaysHide?!1:this.opacity!==0}setVertical(e){this._vertical=e,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(e){this._scale=e}setRotate(e){this._rotate=e,this.transform="rotate("+e+"deg)"}getRotate(){return this._rotate}setPosition(e){this._position!==e&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=e,this._vertical?this.bottom=Math.round(e)+"px":this.left=Math.round(e)+"px"}calculateDimension(){let e=this.getBoundingClientRect();this.vertical?this._dimension=(e.bottom-e.top)*this.scale:this._dimension=(e.right-e.left)*this.scale}setDimension(e){this._dimension!==e&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=e,this._vertical?this.height=Math.round(e)+"px":this.width=Math.round(e)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(e,t,n){let o=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,e,t,n);this.eventListeners.push(o)}onPassive(e,t,n){let o=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,e,t,n);this.eventListeners.push(o)}off(e){let t,n;p.isNullOrUndefined(e)?(t=[],n=this.eventListeners):(t=this.eventListeners.filter(o=>o.eventName!==e),n=this.eventListeners.filter(o=>o.eventName===e));for(let o of n)this.eventListenerHelper.detachEventListener(o);this.eventListeners=t}isRefDestroyed(){return p.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}static \u0275fac=function(t){return new(t||a)(S(Ce),S(Se),S(oe))};static \u0275dir=Me({type:a,selectors:[["","ngxSliderElement",""]],hostVars:14,hostBindings:function(t,n){t&2&&gt("opacity",n.opacity)("visibility",n.visibility)("left",n.left)("bottom",n.bottom)("height",n.height)("width",n.width)("transform",n.transform)},standalone:!1})}return a})(),vt=(()=>{class a extends ie{active=!1;role="";tabindex="";ariaOrientation="";ariaLabel="";ariaLabelledBy="";ariaValueNow="";ariaValueText="";ariaValueMin="";ariaValueMax="";focus(){this.elemRef.nativeElement.focus()}focusIfNeeded(){document.activeElement!==this.elemRef.nativeElement&&this.elemRef.nativeElement.focus()}constructor(e,t,n){super(e,t,n)}static \u0275fac=function(t){return new(t||a)(S(Ce),S(Se),S(oe))};static \u0275dir=Me({type:a,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(t,n){t&2&&(J("role",n.role)("tabindex",n.tabindex)("aria-orientation",n.ariaOrientation)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledBy)("aria-valuenow",n.ariaValueNow)("aria-valuetext",n.ariaValueText)("aria-valuemin",n.ariaValueMin)("aria-valuemax",n.ariaValueMax),pe("ngx-slider-active",n.active))},standalone:!1,features:[mt]})}return a})(),xe=(()=>{class a extends ie{allowUnsafeHtmlInSlider;_value=null;get value(){return this._value}constructor(e,t,n,o){super(e,t,n),this.allowUnsafeHtmlInSlider=o}setValue(e){let t=!1;!this.alwaysHide&&(p.isNullOrUndefined(this.value)||this.value.length!==e.length||this.value.length>0&&this.dimension===0)&&(t=!0),this._value=e,this.allowUnsafeHtmlInSlider===!1?this.elemRef.nativeElement.innerText=e:this.elemRef.nativeElement.innerHTML=e,t&&this.calculateDimension()}static \u0275fac=function(t){return new(t||a)(S(Ce),S(Se),S(oe),S(_i,8))};static \u0275dir=Me({type:a,selectors:[["","ngxSliderLabel",""]],standalone:!1,features:[mt]})}return a})(),rn=(()=>{class a{template;tooltip;placement;content;static \u0275fac=function(t){return new(t||a)};static \u0275cmp=B({type:a,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},standalone:!1,decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(t,n){t&1&&b(0,Fi,2,6,"ng-container",0)(1,Hi,3,3,"ng-container",0),t&2&&(d("ngIf",n.template),l(),d("ngIf",!n.template))},dependencies:[z,kt],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]})}return a})(),xt=class{selected=!1;style={};tooltip=null;tooltipPlacement=null;value=null;valueTooltip=null;valueTooltipPlacement=null;legend=null},Ke=class{active=!1;value=0;difference=0;position=0;lowLimit=0;highLimit=0},be=class{value;highValue;static compare(r,e){return p.isNullOrUndefined(r)&&p.isNullOrUndefined(e)||p.isNullOrUndefined(r)!==p.isNullOrUndefined(e)?!1:r.value===e.value&&r.highValue===e.highValue}},Ze=class extends be{forceChange;static compare(r,e){return p.isNullOrUndefined(r)&&p.isNullOrUndefined(e)||p.isNullOrUndefined(r)!==p.isNullOrUndefined(e)?!1:r.value===e.value&&r.highValue===e.highValue&&r.forceChange===e.forceChange}};var an={provide:Bt,useExisting:St(()=>Ne),multi:!0},Ne=(()=>{class a{renderer;elementRef;changeDetectionRef;zone;allowUnsafeHtmlInSlider;sliderElementNgxSliderClass=!0;value=null;valueChange=new D;highValue=null;highValueChange=new D;options=new _e;userChangeStart=new D;userChange=new D;userChangeEnd=new D;manualRefreshSubscription;set manualRefresh(e){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=e.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}triggerFocusSubscription;set triggerFocus(e){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=e.subscribe(t=>{this.focusPointer(t)})}get range(){return!p.isNullOrUndefined(this.value)&&!p.isNullOrUndefined(this.highValue)}initHasRun=!1;inputModelChangeSubject=new Te;inputModelChangeSubscription=null;outputModelChangeSubject=new Te;outputModelChangeSubscription=null;viewLowValue=null;viewHighValue=null;viewOptions=new _e;handleHalfDimension=0;maxHandlePosition=0;currentTrackingPointer=null;currentFocusPointer=null;firstKeyDown=!1;touchId=null;dragging=new Ke;leftOuterSelectionBarElement;rightOuterSelectionBarElement;fullBarElement;selectionBarElement;minHandleElement;maxHandleElement;floorLabelElement;ceilLabelElement;minHandleLabelElement;maxHandleLabelElement;combinedLabelElement;ticksElement;tooltipTemplate;sliderElementVerticalClass=!1;sliderElementAnimateClass=!1;sliderElementWithLegendClass=!1;sliderElementDisabledAttr=null;sliderElementAriaLabel="ngx-slider";barStyle={};minPointerStyle={};maxPointerStyle={};fullBarTransparentClass=!1;selectionBarDraggableClass=!1;ticksUnderValuesClass=!1;get showTicks(){return this.viewOptions.showTicks}intermediateTicks=!1;ticks=[];eventListenerHelper=null;onMoveEventListener=null;onEndEventListener=null;moving=!1;resizeObserver=null;onTouchedCallback=null;onChangeCallback=null;constructor(e,t,n,o,s){this.renderer=e,this.elementRef=t,this.changeDetectionRef=n,this.zone=o,this.allowUnsafeHtmlInSlider=s,this.eventListenerHelper=new Qe(this.renderer)}ngOnInit(){this.viewOptions=new _e,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState(),this.updateAriaLabel()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(),this.subscribeOutputModelChangeSubject(),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.range?this.viewHighValue=this.modelValueToViewValue(this.highValue):this.viewHighValue=null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.updateAriaLabel(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(e){!p.isNullOrUndefined(e.options)&&JSON.stringify(e.options.previousValue)!==JSON.stringify(e.options.currentValue)&&this.onChangeOptions(),(!p.isNullOrUndefined(e.value)||!p.isNullOrUndefined(e.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(e){e instanceof Array?(this.value=e[0],this.highValue=e[1]):this.value=e,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.viewOptions.disabled=e,this.updateDisabledState()}setAriaLabel(e){this.viewOptions.ariaLabel=e,this.updateAriaLabel()}onResize(e){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(pt(Ze.compare),Ct(e=>!e.forceChange&&!e.internalChange)).subscribe(e=>this.applyInputModelChange(e))}subscribeOutputModelChangeSubject(){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(pt(Ze.compare)).subscribe(e=>this.publishOutputModelChange(e))}subscribeResizeObserver(){$.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){$.isResizeObserverAvailable()&&this.resizeObserver!==null&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){p.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){p.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){p.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){p.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){p.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){p.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(e){return e===h.Min?this.minHandleElement:e===h.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===h.Min?this.viewLowValue:this.currentTrackingPointer===h.Max?this.viewHighValue:null}modelValueToViewValue(e){return p.isNullOrUndefined(e)?NaN:!p.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray?p.findStepIndex(+e,this.viewOptions.stepsArray):+e}viewValueToModelValue(e){return!p.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray?this.getStepValue(e):e}getStepValue(e){let t=this.viewOptions.stepsArray[e];return p.isNullOrUndefined(t)?NaN:t.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(e){let t=this.normaliseModelValues(e),n=!be.compare(e,t);n&&(this.value=t.value,this.highValue=t.highValue),this.viewLowValue=this.modelValueToViewValue(t.value),this.range?this.viewHighValue=this.modelValueToViewValue(t.highValue):this.viewHighValue=null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:t.value,highValue:t.highValue,forceChange:n,userEventInitiated:!1})}publishOutputModelChange(e){let t=()=>{this.valueChange.emit(e.value),this.range&&this.highValueChange.emit(e.highValue),p.isNullOrUndefined(this.onChangeCallback)||(this.range?this.onChangeCallback([e.value,e.highValue]):this.onChangeCallback(e.value)),p.isNullOrUndefined(this.onTouchedCallback)||(this.range?this.onTouchedCallback([e.value,e.highValue]):this.onTouchedCallback(e.value))};e.userEventInitiated?(t(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{t()})}normaliseModelValues(e){let t=new be;if(t.value=e.value,t.highValue=e.highValue,!p.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){let n=p.findStepIndex(t.value,this.viewOptions.stepsArray);if(t.value=this.viewOptions.stepsArray[n].value,this.range){let o=p.findStepIndex(t.highValue,this.viewOptions.stepsArray);t.highValue=this.viewOptions.stepsArray[o].value}}return t}if(this.viewOptions.enforceStep&&(t.value=this.roundStep(t.value),this.range&&(t.highValue=this.roundStep(t.highValue))),this.viewOptions.enforceRange&&(t.value=V.clampToRange(t.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(t.highValue=V.clampToRange(t.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&e.value>e.highValue))if(this.viewOptions.noSwitching)t.value=t.highValue;else{let n=e.value;t.value=e.highValue,t.highValue=n}return t}renormaliseModelValues(){let e={value:this.value,highValue:this.highValue},t=this.normaliseModelValues(e);be.compare(t,e)||(this.value=t.value,this.highValue=t.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;let e=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();let t=this.getOptionsInfluencingEventBindings(this.viewOptions),n=!p.areArraysEqual(e,t);this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.range?this.viewHighValue=this.modelValueToViewValue(this.highValue):this.viewHighValue=null,this.resetSlider(n)}applyOptions(){if(this.viewOptions=new _e,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!p.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!p.isNullOrUndefined(this.viewOptions.tickStep)||!p.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!p.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),p.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),p.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(e,t)=>e+" - "+t),this.viewOptions.logScale&&this.viewOptions.floor===0)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,p.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=e=>this.viewOptions.bindIndexForStepsArray?String(this.getStepValue(e)):String(e))}applyFloorCeilOptions(){if(p.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),p.isNullOrUndefined(this.viewOptions.ceil)||p.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,p.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=e=>String(e))}resetSlider(e=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),e&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.updateAriaLabel(),this.calculateViewDimensions(),this.refocusPointerIfNeeded()}focusPointer(e){e!==h.Min&&e!==h.Max&&(e=h.Min),e===h.Min?this.minHandleElement.focus():this.range&&e===h.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){p.isNullOrUndefined(this.currentFocusPointer)||this.getPointerElement(this.currentFocusPointer).focusIfNeeded()}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);let e=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(e||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate}),this.updateRotate()}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateAriaLabel(){this.sliderElementAriaLabel=this.viewOptions.ariaLabel||"nxg-slider"}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(let e of this.getAllSliderElements())p.isNullOrUndefined(e)||e.setVertical(this.viewOptions.vertical)}updateScale(){for(let e of this.getAllSliderElements())e.setScale(this.viewOptions.scale)}updateRotate(){for(let e of this.getAllSliderElements())e.setRotate(this.viewOptions.rotate)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.viewOptions.keyboardSupport&&!(this.viewOptions.readOnly||this.viewOptions.disabled)?this.minHandleElement.tabindex="0":this.minHandleElement.tabindex="",this.minHandleElement.ariaOrientation=this.viewOptions.vertical||this.viewOptions.rotate!==0?"vertical":"horizontal",p.isNullOrUndefined(this.viewOptions.ariaLabel)?p.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.viewOptions.keyboardSupport&&!(this.viewOptions.readOnly||this.viewOptions.disabled)?this.maxHandleElement.tabindex="0":this.maxHandleElement.tabindex="",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical||this.viewOptions.rotate!==0?"vertical":"horizontal",p.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?p.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,X.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,X.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){p.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);let e=this.minHandleElement.dimension;this.handleHalfDimension=e/2,p.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-e,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks&&this.sliderElementWithLegendClass){setTimeout(()=>{this.sliderElementWithLegendClass=!1});return}let e=p.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,t=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&e.reverse();let n=p.isNullOrUndefined(this.viewOptions.tickValueStep)?p.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep,o=!1,s=e.map(m=>{let y=this.valueToPosition(m);this.viewOptions.vertical&&(y=this.maxHandlePosition-y);let x=t+"("+Math.round(y)+"px)",v=new xt;v.selected=this.isTickSelected(m),v.style={"-webkit-transform":x,"-moz-transform":x,"-o-transform":x,"-ms-transform":x,transform:x},v.selected&&!p.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(v.style["background-color"]=this.getSelectionBarColor()),!v.selected&&!p.isNullOrUndefined(this.viewOptions.getTickColor)&&(v.style["background-color"]=this.getTickColor(m)),p.isNullOrUndefined(this.viewOptions.ticksTooltip)||(v.tooltip=this.viewOptions.ticksTooltip(m),v.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!p.isNullOrUndefined(n)&&V.isModuloWithinPrecisionLimit(m,n,this.viewOptions.precisionLimit)&&(v.value=this.getDisplayValue(m,X.TickValue),p.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(v.valueTooltip=this.viewOptions.ticksValuesTooltip(m),v.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let _=null;if(p.isNullOrUndefined(this.viewOptions.stepsArray))p.isNullOrUndefined(this.viewOptions.getLegend)||(_=this.viewOptions.getLegend(m));else{let F=this.viewOptions.stepsArray[m];p.isNullOrUndefined(this.viewOptions.getStepLegend)?p.isNullOrUndefined(F)||(_=F.legend):_=this.viewOptions.getStepLegend(F)}return p.isNullOrUndefined(_)||(v.legend=_,o=!0),v});if(this.sliderElementWithLegendClass!==o&&setTimeout(()=>{this.sliderElementWithLegendClass=o}),!p.isNullOrUndefined(this.ticks)&&this.ticks.length===s.length)for(let m=0;m<s.length;++m)Object.assign(this.ticks[m],s[m]);else this.ticks=s,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}getTicksArray(){if(!this.viewOptions.showTicks)return[];let e=p.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,t=[],n=1+Math.floor(V.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/e,this.viewOptions.precisionLimit));for(let o=0;o<n;++o)t.push(V.roundToPrecisionLimit(this.viewOptions.floor+e*o,this.viewOptions.precisionLimit));return t}isTickSelected(e){if(!this.range)if(p.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(e>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&e<=this.viewLowValue)return!0}else{let t=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>t&&e>=t&&e<=this.viewLowValue)return!0;if(this.viewLowValue<t&&e<=t&&e>=this.viewLowValue)return!0}return!!(this.range&&e>=this.viewLowValue&&e<=this.viewHighValue)}updateFloorLabel(){if(!this.floorLabelElement.alwaysHide){this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,X.Floor)),this.floorLabelElement.calculateDimension();let e=this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0;this.floorLabelElement.setPosition(e)}}updateCeilLabel(){if(!this.ceilLabelElement.alwaysHide){this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,X.Ceil)),this.ceilLabelElement.calculateDimension();let e=this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension;this.ceilLabelElement.setPosition(e)}}updateHandles(e,t){e===h.Min?this.updateLowHandle(t):e===h.Max&&this.updateHighHandle(t),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(e,t){let n=e===h.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,o=t-n/2+this.handleHalfDimension,s=this.fullBarElement.dimension-n;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&e===h.Min||!this.viewOptions.rightToLeft&&e===h.Max?Math.min(o,s):Math.min(Math.max(o,0),s):o}updateLowHandle(e){this.minHandleElement.setPosition(e),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,X.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(h.Min,e)),p.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(h.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(e){this.maxHandleElement.setPosition(e),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,X.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(h.Max,e)),p.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(h.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let e=!1,t=!1,n=this.isLabelBelowFloorLabel(this.minHandleLabelElement),o=this.isLabelAboveCeilLabel(this.minHandleLabelElement),s=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),m=this.isLabelBelowFloorLabel(this.combinedLabelElement),y=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(n?(e=!0,this.floorLabelElement.hide()):(e=!1,this.floorLabelElement.show()),o?(t=!0,this.ceilLabelElement.hide()):(t=!1,this.ceilLabelElement.show()),this.range){let x=this.combinedLabelElement.isVisible()?y:s,v=this.combinedLabelElement.isVisible()?m:n;x?this.ceilLabelElement.hide():t||this.ceilLabelElement.show(),v?this.floorLabelElement.hide():e||this.floorLabelElement.show()}}isLabelBelowFloorLabel(e){let t=e.position,n=e.dimension,o=this.floorLabelElement.position,s=this.floorLabelElement.dimension;return this.viewOptions.rightToLeft?t+n>=o-2:t<=o+s+2}isLabelAboveCeilLabel(e){let t=e.position,n=e.dimension,o=this.ceilLabelElement.position,s=this.ceilLabelElement.dimension;return this.viewOptions.rightToLeft?t<=o+s+2:t+n>=o-2}updateSelectionBar(){let e=0,t=0,n=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,o=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)t=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),e=o;else if(p.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))n?(t=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),e=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(t=this.minHandleElement.position+this.handleHalfDimension,e=0);else{let s=this.viewOptions.showSelectionBarFromValue,m=this.valueToPosition(s);(this.viewOptions.rightToLeft?this.viewLowValue<=s:this.viewLowValue>s)?(t=this.minHandleElement.position-m,e=m+this.handleHalfDimension):(t=m-this.minHandleElement.position,e=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(t),this.selectionBarElement.setPosition(e),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(e),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(e+t)),this.leftOuterSelectionBarElement.setPosition(e+t)):(this.leftOuterSelectionBarElement.setDimension(e),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(e+t)),this.rightOuterSelectionBarElement.setPosition(e+t))),p.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!p.isNullOrUndefined(this.viewOptions.selectionBarGradient)){let s=p.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),m=s-e>0&&!n||s-e<=0&&n,y=this.viewOptions.vertical?m?"bottom":"top":m?"left":"right";this.barStyle={backgroundImage:"linear-gradient(to "+y+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(s+t+e+(m?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=s-e+(m?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{let s=this.getSelectionBarColor();this.barStyle={backgroundColor:s}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(e){return e===h.Max?this.viewOptions.getPointerColor(this.highValue,e):this.viewOptions.getPointerColor(this.value,e)}getTickColor(e){return this.viewOptions.getTickColor(e)}updateCombinedLabel(){let e=null;if(this.viewOptions.rightToLeft?e=this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:e=this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,e){let t=this.getDisplayValue(this.viewLowValue,X.Low),n=this.getDisplayValue(this.viewHighValue,X.High),o=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(n,t):this.viewOptions.combineLabels(t,n);this.combinedLabelElement.setValue(o);let s=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(s),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(e,t){return!p.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(e=this.getStepValue(e)),this.viewOptions.translate(e,t)}roundStep(e,t){let n=p.isNullOrUndefined(t)?this.viewOptions.step:t,o=V.roundToPrecisionLimit((e-this.viewOptions.floor)/n,this.viewOptions.precisionLimit);return o=Math.round(o)*n,V.roundToPrecisionLimit(this.viewOptions.floor+o,this.viewOptions.precisionLimit)}valueToPosition(e){let t=p.linearValueToPosition;p.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(t=p.logValueToPosition):t=this.viewOptions.customValueToPosition,e=V.clampToRange(e,this.viewOptions.floor,this.viewOptions.ceil);let n=t(e,this.viewOptions.floor,this.viewOptions.ceil);return p.isNullOrUndefined(n)&&(n=0),this.viewOptions.rightToLeft&&(n=1-n),n*this.maxHandlePosition}positionToValue(e){let t=e/this.maxHandlePosition;this.viewOptions.rightToLeft&&(t=1-t);let n=p.linearPositionToValue;p.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(n=p.logPositionToValue):n=this.viewOptions.customPositionToValue;let o=n(t,this.viewOptions.floor,this.viewOptions.ceil);return p.isNullOrUndefined(o)?0:o}getEventXY(e,t){if(e instanceof MouseEvent)return this.viewOptions.vertical||this.viewOptions.rotate!==0?e.clientY:e.clientX;let n=0,o=e.touches;if(!p.isNullOrUndefined(t)){for(let s=0;s<o.length;s++)if(o[s].identifier===t){n=s;break}}return this.viewOptions.vertical||this.viewOptions.rotate!==0?o[n].clientY:o[n].clientX}getEventPosition(e,t){let n=this.elementRef.nativeElement.getBoundingClientRect(),o=this.viewOptions.vertical||this.viewOptions.rotate!==0?n.bottom:n.left,s=0;return this.viewOptions.vertical||this.viewOptions.rotate!==0?s=-this.getEventXY(e,t)+o:s=this.getEventXY(e,t)-o,s*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(e){if(!this.range)return h.Min;let t=this.getEventPosition(e),n=Math.abs(t-this.minHandleElement.position),o=Math.abs(t-this.maxHandleElement.position);return n<o?h.Min:n>o?h.Max:this.viewOptions.rightToLeft?t>this.minHandleElement.position?h.Min:h.Max:t<this.minHandleElement.position?h.Min:h.Max}bindEvents(){let e=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",t=>this.onBarStart(null,e,t,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",t=>this.onBarStart(h.Min,e,t,!0,!0)),this.maxHandleElement.on("mousedown",t=>this.onBarStart(h.Max,e,t,!0,!0))):(this.minHandleElement.on("mousedown",t=>this.onStart(h.Min,t,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",t=>this.onStart(h.Max,t,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",t=>this.onStart(null,t,!0,!0,!0)),this.ticksElement.on("mousedown",t=>this.onStart(null,t,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",t=>this.onBarStart(null,e,t,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",t=>this.onBarStart(h.Min,e,t,!0,!0)),this.maxHandleElement.onPassive("touchstart",t=>this.onBarStart(h.Max,e,t,!0,!0))):(this.minHandleElement.onPassive("touchstart",t=>this.onStart(h.Min,t,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",t=>this.onStart(h.Max,t,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",t=>this.onStart(null,t,!0,!0,!0)),this.ticksElement.onPassive("touchstart",t=>this.onStart(null,t,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(h.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(h.Max)))}getOptionsInfluencingEventBindings(e){return[e.disabled,e.readOnly,e.draggableRange,e.draggableRangeOnly,e.onlyBindHandles,e.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(let e of this.getAllSliderElements())p.isNullOrUndefined(e)||e.off()}onBarStart(e,t,n,o,s,m,y){t?this.onDragStart(e,n,o,s):this.onStart(e,n,o,s,m,y)}onStart(e,t,n,o,s,m){t.stopPropagation(),!$.isTouchEvent(t)&&!qe&&t.preventDefault(),this.moving=!1,this.calculateViewDimensions(),p.isNullOrUndefined(e)&&(e=this.getNearestHandle(t)),this.currentTrackingPointer=e;let y=this.getPointerElement(e);if(y.active=!0,this.viewOptions.keyboardSupport&&y.focus(),n){this.unsubscribeOnMove();let x=v=>this.dragging.active?this.onDragMove(v):this.onMove(v);$.isTouchEvent(t)?this.onMoveEventListener=this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",x):this.onMoveEventListener=this.eventListenerHelper.attachEventListener(document,"mousemove",x)}if(o){this.unsubscribeOnEnd();let x=v=>this.onEnd(v);$.isTouchEvent(t)?this.onEndEventListener=this.eventListenerHelper.attachPassiveEventListener(document,"touchend",x):this.onEndEventListener=this.eventListenerHelper.attachEventListener(document,"mouseup",x)}this.userChangeStart.emit(this.getChangeContext()),$.isTouchEvent(t)&&!p.isNullOrUndefined(t.changedTouches)&&p.isNullOrUndefined(this.touchId)&&(this.touchId=t.changedTouches[0].identifier),s&&this.onMove(t,!0),m&&this.onEnd(t)}onMove(e,t){let n=null;if($.isTouchEvent(e)){let x=e.changedTouches;for(let v=0;v<x.length;v++)if(x[v].identifier===this.touchId){n=x[v];break}if(p.isNullOrUndefined(n))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;let o=p.isNullOrUndefined(n)?this.getEventPosition(e):this.getEventPosition(e,n.identifier),s,m=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil,y=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor;o<=0?s=y:o>=this.maxHandlePosition?s=m:(s=this.positionToValue(o),t&&!p.isNullOrUndefined(this.viewOptions.tickStep)?s=this.roundStep(s,this.viewOptions.tickStep):s=this.roundStep(s)),this.positionTrackingHandle(s)}onEnd(e){$.isTouchEvent(e)&&e.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(e){let t=this.getPointerElement(e);t.on("blur",()=>this.onPointerBlur(t)),t.on("keydown",n=>this.onKeyboardEvent(n)),t.on("keyup",()=>this.onKeyUp()),t.active=!0,this.currentTrackingPointer=e,this.currentFocusPointer=e,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(e){e.off("blur"),e.off("keydown"),e.off("keyup"),e.active=!1,p.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(e){let t=this.viewOptions.ceil-this.viewOptions.floor,n=e+this.viewOptions.step,o=e-this.viewOptions.step,s=e+t/10,m=e-t/10;this.viewOptions.reversedControls&&(n=e-this.viewOptions.step,o=e+this.viewOptions.step,s=e-t/10,m=e+t/10);let y={UP:n,DOWN:o,LEFT:o,RIGHT:n,PAGEUP:s,PAGEDOWN:m,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(y.LEFT=n,y.RIGHT=o,(this.viewOptions.vertical||this.viewOptions.rotate!==0)&&(y.UP=o,y.DOWN=n)),y}onKeyboardEvent(e){let t=this.getCurrentTrackingValue(),n=p.isNullOrUndefined(e.keyCode)?e.which:e.keyCode,o={38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"},s=this.getKeyActions(t),m=o[n],y=s[m];if(p.isNullOrUndefined(y)||p.isNullOrUndefined(this.currentTrackingPointer))return;e.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));let x=V.clampToRange(y,this.viewOptions.floor,this.viewOptions.ceil),v=this.roundStep(x);if(!this.viewOptions.draggableRangeOnly)this.positionTrackingHandle(v);else{let _=this.viewHighValue-this.viewLowValue,F,H;this.currentTrackingPointer===h.Min?(F=v,H=v+_,H>this.viewOptions.ceil&&(H=this.viewOptions.ceil,F=H-_)):this.currentTrackingPointer===h.Max&&(H=v,F=v-_,F<this.viewOptions.floor&&(F=this.viewOptions.floor,H=F+_)),this.positionTrackingBar(F,H)}}onDragStart(e,t,n,o){let s=this.getEventPosition(t);this.dragging=new Ke,this.dragging.active=!0,this.dragging.value=this.positionToValue(s),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-s:s-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?s-this.maxHandleElement.position:this.maxHandleElement.position-s,this.onStart(e,t,n,o)}getMinValue(e,t,n){let o=this.viewOptions.rightToLeft,s=null;return t?n?s=o?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:s=o?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:s=o?this.positionToValue(e+this.dragging.lowLimit):this.positionToValue(e-this.dragging.lowLimit),this.roundStep(s)}getMaxValue(e,t,n){let o=this.viewOptions.rightToLeft,s=null;return t?n?s=o?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:s=o?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:o?s=this.positionToValue(e+this.dragging.lowLimit)+this.dragging.difference:s=this.positionToValue(e-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(s)}onDragMove(e){let t=this.getEventPosition(e);this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;let n,o,s,m;this.viewOptions.rightToLeft?(n=this.dragging.lowLimit,o=this.dragging.highLimit,s=this.maxHandleElement,m=this.minHandleElement):(n=this.dragging.highLimit,o=this.dragging.lowLimit,s=this.minHandleElement,m=this.maxHandleElement);let y=t<=o,x=t>=this.maxHandlePosition-n,v,_;if(y){if(s.position===0)return;v=this.getMinValue(t,!0,!1),_=this.getMaxValue(t,!0,!1)}else if(x){if(m.position===this.maxHandlePosition)return;_=this.getMaxValue(t,!0,!0),v=this.getMinValue(t,!0,!0)}else v=this.getMinValue(t,!1,!1),_=this.getMaxValue(t,!1,!1);this.positionTrackingBar(v,_)}positionTrackingBar(e,t){!p.isNullOrUndefined(this.viewOptions.minLimit)&&e<this.viewOptions.minLimit&&(e=this.viewOptions.minLimit,t=V.roundToPrecisionLimit(e+this.dragging.difference,this.viewOptions.precisionLimit)),!p.isNullOrUndefined(this.viewOptions.maxLimit)&&t>this.viewOptions.maxLimit&&(t=this.viewOptions.maxLimit,e=V.roundToPrecisionLimit(t-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=e,this.viewHighValue=t,this.applyViewChange(),this.updateHandles(h.Min,this.valueToPosition(e)),this.updateHandles(h.Max,this.valueToPosition(t))}positionTrackingHandle(e){e=this.applyMinMaxLimit(e),this.range&&(this.viewOptions.pushRange?e=this.applyPushRange(e):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===h.Min&&e>this.viewHighValue?e=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===h.Max&&e<this.viewLowValue&&(e=this.applyMinMaxRange(this.viewLowValue))),e=this.applyMinMaxRange(e),this.currentTrackingPointer===h.Min&&e>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(h.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=h.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===h.Max&&e<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(h.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=h.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==e&&(this.currentTrackingPointer===h.Min?(this.viewLowValue=e,this.applyViewChange()):this.currentTrackingPointer===h.Max&&(this.viewHighValue=e,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(e)),this.updateAriaAttributes())}applyMinMaxLimit(e){return!p.isNullOrUndefined(this.viewOptions.minLimit)&&e<this.viewOptions.minLimit?this.viewOptions.minLimit:!p.isNullOrUndefined(this.viewOptions.maxLimit)&&e>this.viewOptions.maxLimit?this.viewOptions.maxLimit:e}applyMinMaxRange(e){let t=this.currentTrackingPointer===h.Min?this.viewHighValue:this.viewLowValue,n=Math.abs(e-t);if(!p.isNullOrUndefined(this.viewOptions.minRange)&&n<this.viewOptions.minRange){if(this.currentTrackingPointer===h.Min)return V.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===h.Max)return V.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!p.isNullOrUndefined(this.viewOptions.maxRange)&&n>this.viewOptions.maxRange){if(this.currentTrackingPointer===h.Min)return V.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===h.Max)return V.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return e}applyPushRange(e){let t=this.currentTrackingPointer===h.Min?this.viewHighValue-e:e-this.viewLowValue,n=p.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,o=this.viewOptions.maxRange;return t<n?(this.currentTrackingPointer===h.Min?(this.viewHighValue=V.roundToPrecisionLimit(Math.min(e+n,this.viewOptions.ceil),this.viewOptions.precisionLimit),e=V.roundToPrecisionLimit(this.viewHighValue-n,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(h.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===h.Max&&(this.viewLowValue=V.roundToPrecisionLimit(Math.max(e-n,this.viewOptions.floor),this.viewOptions.precisionLimit),e=V.roundToPrecisionLimit(this.viewLowValue+n,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(h.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!p.isNullOrUndefined(o)&&t>o&&(this.currentTrackingPointer===h.Min?(this.viewHighValue=V.roundToPrecisionLimit(e+o,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(h.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===h.Max&&(this.viewLowValue=V.roundToPrecisionLimit(e-o,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(h.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),e}getChangeContext(){let e=new yt;return e.pointerType=this.currentTrackingPointer,e.value=+this.value,this.range&&(e.highValue=+this.highValue),e}static \u0275fac=function(t){return new(t||a)(S(Se),S(Ce),S(oe),S(Nt),S(_i,8))};static \u0275cmp=B({type:a,selectors:[["ngx-slider"]],contentQueries:function(t,n,o){if(t&1&&Pt(o,Bi,5),t&2){let s;L(s=R())&&(n.tooltipTemplate=s.first)}},viewQuery:function(t,n){if(t&1&&(k(zi,5,ie),k(Ai,5,ie),k(Ui,5,ie),k(Gi,5,ie),k(Wi,5,vt),k(qi,5,vt),k(ji,5,xe),k(Qi,5,xe),k(Ki,5,xe),k(Zi,5,xe),k(Xi,5,xe),k($i,5,ie)),t&2){let o;L(o=R())&&(n.leftOuterSelectionBarElement=o.first),L(o=R())&&(n.rightOuterSelectionBarElement=o.first),L(o=R())&&(n.fullBarElement=o.first),L(o=R())&&(n.selectionBarElement=o.first),L(o=R())&&(n.minHandleElement=o.first),L(o=R())&&(n.maxHandleElement=o.first),L(o=R())&&(n.floorLabelElement=o.first),L(o=R())&&(n.ceilLabelElement=o.first),L(o=R())&&(n.minHandleLabelElement=o.first),L(o=R())&&(n.maxHandleLabelElement=o.first),L(o=R())&&(n.combinedLabelElement=o.first),L(o=R())&&(n.ticksElement=o.first)}},hostVars:10,hostBindings:function(t,n){t&1&&C("resize",function(s){return n.onResize(s)},!1,Vt),t&2&&(J("disabled",n.sliderElementDisabledAttr)("aria-label",n.sliderElementAriaLabel),pe("ngx-slider",n.sliderElementNgxSliderClass)("vertical",n.sliderElementVerticalClass)("animate",n.sliderElementAnimateClass)("with-legend",n.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},standalone:!1,features:[Et([an]),le],decls:29,vars:13,consts:[["leftOuterSelectionBar",""],["rightOuterSelectionBar",""],["fullBar",""],["selectionBar",""],["minHandle",""],["maxHandle",""],["floorLabel",""],["ceilLabel",""],["minHandleLabel",""],["maxHandleLabel",""],["combinedLabel",""],["ticksElement",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerText",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerText"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(t,n){t&1&&(u(0,"span",12,0),O(2,"span",13),c(),u(3,"span",14,1),O(5,"span",13),c(),u(6,"span",15,2),O(8,"span",13),c(),u(9,"span",16,3),O(11,"span",17),c(),O(12,"span",18,4)(14,"span",19,5)(16,"span",20,6)(18,"span",21,7)(20,"span",22,8)(22,"span",23,9)(24,"span",24,10),u(26,"span",25,11),b(28,nn,5,10,"span",26),c()),t&2&&(l(6),pe("ngx-slider-transparent",n.fullBarTransparentClass),l(3),pe("ngx-slider-draggable",n.selectionBarDraggableClass),l(2),d("ngStyle",n.barStyle),l(),d("ngStyle",n.minPointerStyle),l(2),gt("display",n.range?"inherit":"none"),d("ngStyle",n.maxPointerStyle),l(12),pe("ngx-slider-ticks-values-under",n.ticksUnderValuesClass),d("hidden",!n.showTicks),l(2),d("ngForOf",n.ticks))},dependencies:[Dt,U,z,ge,ie,vt,xe,rn],styles:['.ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:transparent}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;-webkit-border-radius:16px;-moz-border-radius:16px;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:"";width:8px;height:8px;position:absolute;top:12px;left:12px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;transform:translate(-50%)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;transform:translate(-50%);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;transform:translateY(-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;transform:translateY(-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-selection{transition:background-color linear .3s}  .ngx-slider.animate .ngx-slider-pointer{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-pointer:after{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-bubble{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity linear .3s}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity linear .3s}  .ngx-slider.animate .ngx-slider-tick{transition:background-color linear .3s}']})}return a})(),bi=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=de({type:a});static \u0275inj=se({imports:[Pe]})}return a})();var ln=a=>({opacity:a});function dn(a,r){if(a&1&&O(0,"input",11),a&2){let e=g(2);d("errorStateMatcher",e.matcher)("value",e.property.value)("placeholder",e.property.displayName)}}function pn(a,r){if(a&1&&O(0,"input",12),a&2){let e=g(2);d("errorStateMatcher",e.matcher)("value",e.property.value)("placeholder",e.property.displayName)}}function un(a,r){if(a&1&&O(0,"input",13),a&2){let e=g(2);d("errorStateMatcher",e.matcher)("value",e.property.value)("placeholder",e.property.displayName)}}function cn(a,r){if(a&1&&(u(0,"mat-form-field",7)(1,"mat-label"),f(2),c(),b(3,dn,1,3,"input",8)(4,pn,1,3,"input",9)(5,un,1,3,"input",10),c()),a&2){let e=g();d("ngStyle",me(5,ln,e.disabled?"0.5":"1")),l(2),E(e.property.displayName),l(),d("ngIf",e.property.renderType===e.RenderType.TextBox&&e.property.inputType===e.InputType.Text),l(),d("ngIf",e.property.renderType===e.RenderType.TextBox&&e.property.inputType===e.InputType.Number),l(),d("ngIf",e.property.renderType===e.RenderType.TextBox&&e.property.inputType===e.InputType.Password)}}function mn(a,r){if(a&1&&(u(0,"mat-option",17),f(1),c()),a&2){let e=r.$implicit;d("value",e.value),l(),M(" ",e.text,"")}}function gn(a,r){if(a&1){let e=N();u(0,"mat-form-field",14)(1,"mat-label"),f(2),c(),u(3,"mat-select",15),C("selectionChange",function(n){w(e);let o=g();return T(o.dropdownUpdate(n))}),b(4,mn,2,2,"mat-option",16),c()()}if(a&2){let e=g();l(2),E(e.property.displayName),l(),d("value",e.property.value),l(),d("ngForOf",e.property.renderTypeValues)}}function hn(a,r){if(a&1&&(u(0,"mat-label",18),f(1),c()),a&2){let e=g();l(),E(e.property.displayName)}}function fn(a,r){if(a&1){let e=N();u(0,"ngx-slider",19),ae("valueChange",function(n){w(e);let o=g();return re(o.propValue,n)||(o.propValue=n),T(n)}),c()}if(a&2){let e=g();ne("value",e.propValue),d("options",e.options)("manualRefresh",e.manualRefresh)}}function vn(a,r){if(a&1){let e=N();u(0,"mat-checkbox",20),C("change",function(n){w(e);let o=g();return T(o.property.value=n.checked)}),u(1,"mat-label"),f(2),c()()}if(a&2){let e=g();d("value",e.property.value.toString()),l(2),E(e.property.displayName)}}function yn(a,r){if(a&1){let e=N();u(0,"mat-slide-toggle",21),C("change",function(n){w(e);let o=g();return T(o.toggleUpdate(n))}),f(1),c()}if(a&2){let e=g();d("checked",e.property.value),l(),E(e.property.displayName)}}var Xe=class a{property;disabled=!1;form;manualRefresh=new D;onChange=new D;options;get propValue(){return this.property.value}get isValid(){return this.form?this.form.controls[this.property.propertyName].valid:!1}childProperties=[];get RenderType(){return W}get InputType(){return q}constructor(){}matcher=new ee;ngOnInit(){this.property.renderType==6&&(this.options={floor:this.property.min,ceil:this.property.max,step:1,showTicks:!0,disabled:!0})}textBoxUpdate(r){this.property.value=r.target.value}dropdownUpdate(r){this.property.value=r.value}toggleUpdate(r){this.property.value=r.checked,this.onChange.next(r.checked)}checkBoxUpdate(r){this.property.value=r.checked}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=B({type:a,selectors:[["mat-generic-form-field-disabled"]],inputs:{property:"property",disabled:"disabled",form:"form",manualRefresh:"manualRefresh"},outputs:{onChange:"onChange"},standalone:!1,decls:7,vars:6,consts:[["class","example-full-width","style","width: 100%",3,"ngStyle",4,"ngIf"],["style","width: 100%",4,"ngIf"],["style","display: block; font: 800 14px/20px Roboto; margin-bottom: 10px",4,"ngIf"],[2,"display","flex","justify-content","center","align-items","center"],["style","margin-top: 10px; width: 90%",3,"value","options","manualRefresh","valueChange",4,"ngIf"],["matInput","","color","primary","disabled","",3,"value","change",4,"ngIf"],["style","padding: 5px","matInput","","disabled","",3,"checked","change",4,"ngIf"],[1,"example-full-width",2,"width","100%",3,"ngStyle"],["disabled","","type","text","matInput","",3,"errorStateMatcher","value","placeholder",4,"ngIf"],["disabled","","type","number","matInput","",3,"errorStateMatcher","value","placeholder",4,"ngIf"],["disabled","","type","password","matInput","",3,"errorStateMatcher","value","placeholder",4,"ngIf"],["disabled","","type","text","matInput","",3,"errorStateMatcher","value","placeholder"],["disabled","","type","number","matInput","",3,"errorStateMatcher","value","placeholder"],["disabled","","type","password","matInput","",3,"errorStateMatcher","value","placeholder"],[2,"width","100%"],["matInput","","disabled","",3,"selectionChange","value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[2,"display","block","font","800 14px/20px Roboto","margin-bottom","10px"],[2,"margin-top","10px","width","90%",3,"valueChange","value","options","manualRefresh"],["matInput","","color","primary","disabled","",3,"change","value"],["matInput","","disabled","",2,"padding","5px",3,"change","checked"]],template:function(e,t){e&1&&(b(0,cn,6,7,"mat-form-field",0)(1,gn,5,3,"mat-form-field",1)(2,hn,2,1,"mat-label",2),u(3,"div",3),b(4,fn,1,3,"ngx-slider",4),c(),b(5,vn,3,2,"mat-checkbox",5)(6,yn,2,2,"mat-slide-toggle",6)),e&2&&(d("ngIf",t.property.renderType===t.RenderType.TextBox),l(),d("ngIf",t.property.renderType===t.RenderType.Dropdown),l(),d("ngIf",t.property.renderType===t.RenderType.Slider),l(2),d("ngIf",t.property.renderType===t.RenderType.Slider),l(),d("ngIf",t.property.renderType===t.RenderType.Checkbox),l(),d("ngIf",t.property.renderType===t.RenderType.Toggle))},dependencies:[U,z,ge,j,ke,K,Q,he,Z,ze,Ne],encapsulation:2})};function wn(a,r){if(a&1){let e=N();u(0,"div",23)(1,"button",24),C("click",function(){let n=w(e).$implicit,o=g(3);return T(o.resetProp(n.propertyName))}),O(2,"fa-icon",25),c(),u(3,"div",26),O(4,"mat-generic-form-field-disabled",27),c()()}if(a&2){let e=r.$implicit,t=g(3);l(2),d("icon",t.faTimes),l(2),d("property",e)("manualRefresh",t.manualRefresh)("disabled",!0)}}function Tn(a,r){if(a&1&&(u(0,"ul",20)(1,"li",21),f(2),c(),b(3,wn,5,4,"div",22),O(4,"br"),c()),a&2){let e=r.$implicit;l(2),M(" ",e.group.title," "),l(),d("ngForOf",e.initialValues)}}function Cn(a,r){if(a&1&&(u(0,"li",16)(1,"div",17),O(2,"fa-icon",18),f(3),c(),b(4,Tn,5,2,"ul",19),c()),a&2){let e=r.$implicit;l(2),d("icon",e.tab.icon),l(),M(" ",e.tab.title," "),l(),d("ngForOf",e.groups)}}function Sn(a,r){if(a&1&&(u(0,"mat-option",34),f(1),c()),a&2){let e=r.$implicit;d("value",e.CompanyId),l(),M("",e.Name," ")}}function On(a,r){if(a&1){let e=N();u(0,"mat-form-field",28)(1,"mat-label"),f(2,"Select organisation"),c(),u(3,"mat-select",29),C("selectionChange",function(n){w(e);let o=g(2);return T(o.onOrganizationChange(n))}),b(4,Sn,2,2,"mat-option",33),c()()}if(a&2){let e=g(2);l(3),d("value",e.selectedOrganizationId),l(),d("ngForOf",e.organizations)}}function Nn(a,r){if(a&1&&(u(0,"mat-option",34),f(1),c()),a&2){let e=r.$implicit;d("value",e.ID),l(),M("",e.RoleName," ")}}function In(a,r){if(a&1){let e=N();u(0,"mat-form-field",28)(1,"mat-label"),f(2,"Select role"),c(),u(3,"mat-select",29),C("selectionChange",function(n){w(e);let o=g(2);return T(o.onRoleChange(n))}),b(4,Nn,2,2,"mat-option",33),c()()}if(a&2){let e=g(2);l(3),d("value",e.selectedRoleId),l(),d("ngForOf",e.roles)}}function Vn(a,r){if(a&1){let e=N();u(0,"div")(1,"mat-form-field",28)(2,"mat-label"),f(3,"Select"),c(),u(4,"mat-select",29),C("selectionChange",function(n){w(e);let o=g();return T(o.onTypeChange(n))}),u(5,"mat-option",30),f(6,"Organisation"),c(),u(7,"mat-option",31),f(8,"Role"),c()()(),b(9,On,5,2,"mat-form-field",32)(10,In,5,2,"mat-form-field",32),c()}if(a&2){let e=g();l(4),d("value",e.updateType),l(5),d("ngIf",e.updateType=="Organization"),l(),d("ngIf",e.updateType=="Role")}}function Mn(a,r){if(a&1&&(u(0,"div")(1,"mat-form-field",35),O(2,"input",36),c()()),a&2){let e=g();l(2),d("readonly",!0)("value",e.userName)}}var tt=class a{constructor(r,e,t,n){this.data=r;this.organizationsService=e;this.roleService=t;this.dialogRef=n;this.ModifiedSettings=r.properties,this.organizations=r.organizations,this.roles=r.roles,console.log("Props : ",r.properties),this.modifiedCount=this.ModifiedSettings.reduce((o,s)=>o+s.groups?.reduce((m,y)=>m+y.initialValues.length,0),0),this.userId=r.userId,this.selectedRoleId=r.roleId,this.selectedOrganizationId=r.companyId,this.userName=r.userName,r.mode==3?this.updateType="Organization":r.mode==2?this.updateType="Role":this.updateType="User"}manualRefresh=new D;UndoClick=new D;ModifiedSettings=[];organizations=[];selectedOrganizationId=1;selectedRoleId=1;roles=[];updateType="";faTimes=Ue;userId=0;userName="";roleId=0;roleName="";companyId=0;companyName="";mode=1;modifiedCount=0;faCamera=Ae;ngAfterContentChecked(){this.manualRefresh.emit()}onOrganizationChange(r){this.selectedOrganizationId=r.value}onRoleChange(r){this.selectedRoleId=r.value}onTypeChange(r){this.updateType=r.value}closeDialog(){this.dialogRef.close({Status:!1,OrganizationId:this.selectedOrganizationId,RoleId:this.selectedRoleId,UpdateType:this.updateType})}onSuccessClick(){this.dialogRef.close({Status:!0,OrganizationId:this.selectedOrganizationId,RoleId:this.selectedRoleId,UpdateType:this.updateType})}resetProp(r){this.modifiedCount--,this.UndoClick.emit(r),this.ModifiedSettings.forEach(e=>e.groups.forEach(t=>t.initialValues=t.initialValues.filter(n=>n.propertyName!=r))),this.ModifiedSettings=this.ModifiedSettings.filter(e=>e.groups.some(t=>t.initialValues.length>0))}static \u0275fac=function(e){return new(e||a)(S(Yt),S(fe),S(te),S(Fe))};static \u0275cmp=B({type:a,selectors:[["app-changes-dialog"]],outputs:{manualRefresh:"manualRefresh"},standalone:!1,decls:23,vars:4,consts:[["mat-dialog-content",""],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"row",2,"height","100%"],[1,"col-6",2,"height","100%"],["mat-dialog-title","",2,"color","#5f6369","font-size","16px"],[2,"background","#f3f3f4","height","90%","border-radius","10px","overflow-y","auto","padding","2%","list-style-type","none"],["style","padding: 10px",4,"ngFor","ngForOf"],[2,"display","flex","align-items","center","justify-content","start","height","100%"],[2,"max-width","50%"],["mat-dialog-title","",2,"color","#5f6369","font-size","24px"],[4,"ngIf"],[1,"row",2,"width","200%","margin-bottom","10%"],[1,"col-12"],[1,"btn","rounded-pill",2,"color","black","background","white","border","1px solid black","margin-right","10px","width","160px","height","40px",3,"click"],[1,"btn","default-success","rounded-pill",2,"width","160px","height","40px",3,"click"],[2,"padding","10px"],[2,"padding","10px","margin-bottom","5px","font-size","20px","font-weight","bold"],[3,"icon"],["style","list-style: none",4,"ngFor","ngForOf"],[2,"list-style","none"],[2,"padding","5px","margin-bottom","5px","font-size","16px","font-weight","bold"],["style","margin-top: 10px; margin-bottom: 10px",4,"ngFor","ngForOf"],[2,"margin-top","10px","margin-bottom","10px"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",2,"margin-top","10px","float","right",3,"click"],[2,"border","1px solid #d00e0e","background-color","#d00e0e","color","white","font-size","10px","font-weight","bold","display","inline-block","border-radius","60px","box-shadow","0 0 2px #888","padding","0.1em 0.3em",3,"icon"],[2,"background","white","border-radius","10px","box-shadow","0 4px 14px 0 rgba(0, 0, 0, 0.03)","height","55px","width","90%"],[3,"property","manualRefresh","disabled"],["appearance","fill",1,"mask",2,"width","200%","margin-bottom","10%"],[3,"selectionChange","value"],["value","Organization"],["value","Role"],["class","mask","appearance","fill","style","width: 200%; margin-bottom: 10%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["appearance","fill",2,"width","200%","margin-bottom","10%"],["disabled","","type","text","matInput","","placeholder","User",3,"readonly","value"]],template:function(e,t){e&1&&(u(0,"div",0)(1,"button",1),C("click",function(){return t.closeDialog()}),u(2,"span",2),f(3,"\xD7"),c()(),u(4,"div",3)(5,"div",4)(6,"h1",5),f(7),c(),u(8,"ul",6),b(9,Cn,5,3,"li",7),c()(),u(10,"div",4)(11,"div",8)(12,"div",9)(13,"h1",10),f(14,"Apply to"),c(),b(15,Vn,11,3,"div",11)(16,Mn,3,2,"div",11),u(17,"div",12)(18,"div",13)(19,"button",14),C("click",function(){return t.closeDialog()}),f(20," Cancel "),c(),u(21,"button",15),C("click",function(){return t.onSuccessClick()}),f(22," Apply changes "),c()()()()()()()()),e&2&&(l(7),M("Change Summary (",t.modifiedCount,")"),l(2),d("ngForOf",t.ModifiedSettings),l(6),d("ngIf",!t.userId),l(),d("ngIf",t.userId))},dependencies:[U,z,j,K,Q,He,Be,he,Z,De,Xe],styles:["[_ngcontent-%COMP%]:ng-deep   .mat-mdc-form-field[_ngcontent-%COMP%]{margin-top:-7px!important;padding-left:10px!important}.mask[_ngcontent-%COMP%]{box-sizing:border-box;border:1px solid #bdc1c5;border-radius:5px;background-color:#fff}.btn[_ngcontent-%COMP%]{text-shadow:none!important}"]})};function Pn(a,r){if(a&1&&(u(0,"mat-option",17),f(1),c()),a&2){let e=r.$implicit;d("value",e.CompanyId),l(),M("",e.Name," ")}}function En(a,r){if(a&1){let e=N();u(0,"mat-form-field",14)(1,"mat-label"),f(2,"Select organisation"),c(),u(3,"mat-select",15),C("selectionChange",function(n){w(e);let o=g();return T(o.onOrganizationChange(n))}),b(4,Pn,2,2,"mat-option",16),c()()}if(a&2){let e=g();l(3),d("value",e.selectedOrganizationId),l(),d("ngForOf",e.organizations)}}function Ln(a,r){if(a&1&&(u(0,"mat-option",17),f(1),c()),a&2){let e=r.$implicit;d("value",e.ID),l(),M("",e.RoleName," ")}}function Rn(a,r){if(a&1){let e=N();u(0,"mat-form-field",14)(1,"mat-label"),f(2,"Select role"),c(),u(3,"mat-select",15),C("selectionChange",function(n){w(e);let o=g();return T(o.onRoleChange(n))}),b(4,Ln,2,2,"mat-option",16),c()()}if(a&2){let e=g();l(3),d("value",e.selectedRoleId),l(),d("ngForOf",e.roles)}}var it=class a{constructor(r,e,t){this.organizationsService=r;this.roleService=e;this.dialogRef=t;this.organizationsService.getOrganizations().subscribe(n=>{n=n.sort((o,s)=>o.CompanyId>s.CompanyId?1:-1),this.organizations=n}),this.roleService.getRoles().subscribe(n=>{n=n.sort((o,s)=>o.ID>s.ID?1:-1),this.roles=n}),this.dialogRef.backdropClick().subscribe(()=>{t.close()})}UndoClick=new D;ModifiedProps=[];organizations=[];selectedOrganizationId=1;selectedRoleId=1;roles=[];updateType="Organization";faTimes=Ue;userId=0;userName="";onOrganizationChange(r){this.selectedOrganizationId=r.value}onRoleChange(r){this.selectedRoleId=r.value}onTypeChange(r){console.log(r.value),this.updateType=r.value}closeDialog(){this.dialogRef.close({Status:!1,OrganizationId:this.selectedOrganizationId,OrganizationName:this.organizations.find(r=>r.CompanyId==this.selectedOrganizationId).Name,RoleId:this.selectedRoleId,RoleName:this.roles.find(r=>r.ID==this.selectedRoleId).RoleName,UpdateType:this.updateType})}onSuccessClick(){this.dialogRef.close({Status:!0,OrganizationId:this.selectedOrganizationId,OrganizationName:this.organizations.find(r=>r.CompanyId==this.selectedOrganizationId).Name,RoleName:this.roles.find(r=>r.ID==this.selectedRoleId).RoleName,RoleId:this.selectedRoleId,UpdateType:this.updateType})}resetProp(r){this.UndoClick.emit(r),this.ModifiedProps=this.ModifiedProps.filter(e=>e.propertyName!=r)}static \u0275fac=function(e){return new(e||a)(S(fe),S(te),S(Fe))};static \u0275cmp=B({type:a,selectors:[["app-selection-dialog"]],standalone:!1,decls:24,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"overflow","hidden"],[1,"container"],[1,"col-12"],[1,"row",2,"margin-bottom","3%"],[1,"col-8"],["aria-label","Select an option",2,"display","flex","justify-content","space-between",3,"change","value"],["value","Organization"],["value","Role"],[1,"col-4"],[1,"row"],["class","mask","appearance","fill","style","width: 100%; margin-bottom: 5%",4,"ngIf"],[1,"row",2,"margin-bottom","5%"],[1,"btn","default-success","rounded-pill",2,"width","160px","height","40px",3,"click"],["appearance","fill",1,"mask",2,"width","100%","margin-bottom","5%"],[3,"selectionChange","value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){e&1&&(u(0,"h2",0),f(1,"Select the role or organisation you wish to load camera settings from"),c(),u(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",3)(7,"div",5)(8,"mat-label"),f(9,"Load settings from"),c(),u(10,"mat-radio-group",6),C("change",function(o){return t.onTypeChange(o)}),u(11,"mat-radio-button",7),f(12,"Organisation"),c(),u(13,"mat-radio-button",8),f(14,"Role"),c()()(),O(15,"div",9),c()(),u(16,"div",10)(17,"div",3),b(18,En,5,2,"mat-form-field",11)(19,Rn,5,2,"mat-form-field",11),c()(),u(20,"div",12)(21,"div",3)(22,"button",13),C("click",function(){return t.onSuccessClick()}),f(23," Continue "),c()()()()()()),e&2&&(l(10),d("value",t.updateType),l(8),d("ngIf",t.updateType=="Organization"),l(),d("ngIf",t.updateType=="Role"))},dependencies:[U,z,j,K,Q,He,Be,oi,si,Z],styles:["[_ngcontent-%COMP%]:ng-deep   .mat-mdc-form-field[_ngcontent-%COMP%]{margin-top:-7px!important;padding-left:10px!important}.mask[_ngcontent-%COMP%]{box-sizing:border-box;border:1px solid #bdc1c5;border-radius:5px;background-color:#fff}.btn[_ngcontent-%COMP%]{text-shadow:none!important}.mat-mdc-radio-group[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between}"]})};var nt=[{groupId:1,propertyName:i.WifiMode[0],displayName:i.WifiMode[1],render:!0,value:1,defaultValue:1,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"On",value:1}],size:4,effects:[{propertyNames:G,givenValues:[1],disabled:!1},{propertyNames:G,givenValues:[0],disabled:!0}]},{groupId:1,propertyName:i.WifiConnectionMode[0],displayName:i.WifiConnectionMode[1],render:!0,value:1,defaultValue:1,size:4,inputType:2,renderType:3,renderTypeValues:[{value:1,text:"Station"},{value:2,text:"Wi-Fi direct"},{value:3,text:"Station enterprise"}],effects:[{givenValues:[1,3],propertyNames:[i.Ssid[0],i.STPassword[0]],disabled:!1},{givenValues:[1,3],propertyNames:[i.WifiDirectPin[0]],disabled:!0},{givenValues:[2],propertyNames:[i.WifiDirectPin[0]],disabled:!1},{givenValues:[2],propertyNames:[i.Ssid[0],i.STPassword[0]],disabled:!0}]},{groupId:1,propertyName:i.WIFI_ConnectTimeout[0],displayName:i.WIFI_ConnectTimeout[1],render:!0,value:0,defaultValue:0,size:4,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"1 min",value:1},{text:"3 mins",value:2},{text:"5 mins",value:3},{text:"10 mins",value:4},{text:"30 mins",value:5}]},{groupId:2,propertyName:i.Ssid[0],displayName:i.Ssid[1],render:!0,value:"",size:4,defaultValue:"",inputType:1,renderType:1,validations:[P.required,P.pattern("^[ -~]+$")],validationErrorMessages:{required:I.Ssid_required,pattern:I.Ssid_Pattern}},{groupId:2,propertyName:i.STPassword[0],displayName:i.STPassword[1],render:!0,value:"",size:4,defaultValue:"",inputType:4,renderType:1,validations:[P.pattern("^[ -~]{8,32}$")],validationErrorMessages:{pattern:I.STPassword_Pattern,required:I.STPassword_Required}},{groupId:2,propertyName:i.WifiDirectPin[0],displayName:i.WifiDirectPin[1],render:!0,value:"",size:4,defaultValue:"",inputType:1,renderType:1,validations:[P.pattern("^[0-9]{8,8}$")],validationErrorMessages:{pattern:I.P2PPinCode_Pattern}},{groupId:3,propertyName:i.BluetoothMode[0],displayName:i.BluetoothMode[1],render:!0,value:0,defaultValue:0,size:4,inputType:3,renderType:3,renderTypeValues:[{value:0,text:"Off"},{value:1,text:"Auto"}]},{groupId:4,propertyName:i.Four_G[0],displayName:i.Four_G[1],render:!0,value:0,defaultValue:0,size:4,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"Auto",value:1}]},{groupId:5,propertyName:i.MediaServerAddress[0],displayName:i.MediaServerAddress[1],render:!0,value:"",defaultValue:"",inputType:1,renderType:1,size:4},{groupId:6,propertyName:i.LEDLight[0],displayName:i.LEDLight[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:6,propertyName:i.ShockReminding[0],displayName:i.ShockReminding[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:6,propertyName:i.BeepSound[0],displayName:i.BeepSound[1],render:!0,value:!0,size:4,defaultValue:!0,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"Beep",value:1}]},{groupId:6,propertyName:i.StealthMode[0],displayName:i.StealthMode[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:6,propertyName:i.RecordingNotification[0],displayName:i.RecordingNotification[1],render:!0,value:!0,size:4,defaultValue:!0,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"Beep every 5 secs",value:1},{text:"Beep every 10 secs",value:2},{text:"Beep every 15 secs",value:3},{text:"Beep every 30 secs",value:4},{text:"Beep every 60 secs",value:5}]},{groupId:6,propertyName:i.LowBatteryWarning[0],displayName:i.LowBatteryWarning[1],render:!0,value:1,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:6,propertyName:i.LowSpaceWarning[0],displayName:i.LowSpaceWarning[1],render:!0,value:1,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:7,propertyName:i.KeyTone[0],displayName:i.KeyTone[1],render:!0,value:1,size:4,defaultValue:1,inputType:2,renderType:5},{groupId:7,propertyName:i.KeyToneVolume[0],displayName:i.KeyToneVolume[1],render:!0,value:5,size:4,defaultValue:0,inputType:2,renderType:6,max:10,min:0,step:1},{groupId:7,propertyName:i.DisplayBrightness[0],displayName:i.DisplayBrightness[1],render:!0,value:-1,size:4,defaultValue:-1,inputType:2,renderType:3,renderTypeValues:[{text:"Auto",value:-1},{text:"0",value:0},{text:"1",value:1},{text:"2",value:2},{text:"3",value:3},{text:"4",value:4},{text:"5",value:5},{text:"6",value:6},{text:"7",value:7},{text:"8",value:8},{text:"9",value:9},{text:"10",value:10}]},{groupId:7,propertyName:i.LCDAutoOff[0],displayName:i.LCDAutoOff[1],render:!0,value:10,size:4,defaultValue:10,inputType:2,renderType:3,renderTypeValues:[{text:"10 secs",value:1},{text:"30 secs",value:2},{text:"1 min",value:3},{text:"3 min",value:4},{text:"5 min",value:5},{text:"Always On",value:0}]},{groupId:8,propertyName:i.IRMode[0],displayName:i.IRMode[1],render:!0,value:3,size:4,defaultValue:3,inputType:1,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"During recording",value:2},{text:"Auto",value:3}]},{groupId:8,propertyName:i.IRCUTSensitivity[0],displayName:i.IRCUTSensitivity[1],render:!0,value:5,size:4,defaultValue:5,inputType:2,renderType:6,min:0,max:10,step:1},{groupId:9,propertyName:i.LocationService[0],displayName:i.LocationService[1],render:!0,value:0,size:4,defaultValue:0,inputType:3,renderType:5},{groupId:9,propertyName:i.GPSFrequency[0],displayName:i.GPSFrequency[1],render:!0,value:30,size:4,defaultValue:30,inputType:2,renderType:3,renderTypeValues:[{text:"15 secs",value:15},{text:"30 secs",value:30},{text:"1 min",value:60},{text:"2 mins",value:120},{text:"5 mins",value:300}]},{groupId:10,propertyName:i.EnableWatermark[0],displayName:i.EnableWatermark[1],render:!1,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:10,propertyName:i.BurnText[0],displayName:i.BurnText[1],render:!0,value:"",defaultValue:"",size:4,inputType:1,renderType:1},{groupId:11,propertyName:i.OutputTV[0],displayName:i.OutputTV[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"NTSC",value:0},{text:"PAL",value:1}]},{groupId:11,propertyName:i.EncodingFormat[0],displayName:i.EncodingFormat[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"H.264",value:0},{text:"H.265",value:1}]},{groupId:12,propertyName:i.RecordingSize[0],displayName:i.RecordingSize[1],render:!0,value:6,size:4,defaultValue:6,inputType:2,renderType:3,renderTypeValues:[{text:"2560X1440@30fps",value:1},{text:"1920X1080@60fps",value:5},{text:"1920X1080@30fps",value:6},{text:"1280X720@60fps",value:10},{text:"1280X720@30fps",value:11},{text:"848X480@30fps",value:13}]},{groupId:12,propertyName:i.RecordingQuality[0],displayName:i.RecordingQuality[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"High",value:0},{text:"Medium",value:1},{text:"Low",value:2}]},{groupId:12,propertyName:i.RecordingTime[0],displayName:i.RecordingTime[1],render:!0,value:4,size:4,defaultValue:4,inputType:2,renderType:3,renderTypeValues:[{text:"5 mins",value:4},{text:"10 mins",value:5},{text:"15 mins",value:6}]},{groupId:13,propertyName:i.StreamingResolution[0],displayName:i.StreamingResolution[1],render:!0,value:1,size:4,defaultValue:1,inputType:2,renderType:3,renderTypeValues:[{text:"1280X720",value:1},{text:"848X480",value:2},{text:"432X240",value:3}]},{groupId:13,propertyName:i.StreamingFrameRate[0],displayName:i.StreamingFrameRate[1],render:!0,value:3,size:4,defaultValue:3,inputType:2,renderType:3,renderTypeValues:[{text:"5FPS",value:0},{text:"10FPS",value:1},{text:"15FPS",value:2},{text:"20FPS",value:3},{text:"25FPS",value:4},{text:"30FPS",value:5}]},{groupId:13,propertyName:i.StreamingBitrate[0],displayName:i.StreamingBitrate[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"5000 Kbps",value:0},{text:"4000 Kbps",value:1},{text:"3000 Kbps",value:2},{text:"2000 Kbps",value:3},{text:"1000 Kbps",value:4},{text:"500 Kbps",value:5},{text:"300 Kbps",value:6}]},{groupId:13,propertyName:i.StreamingControl[0],displayName:i.StreamingControl[1],render:!0,value:3,size:4,defaultValue:3,inputType:2,renderType:3,renderTypeValues:[{text:"Video Only",value:2},{text:"Audio and video",value:3}]},{groupId:14,propertyName:i.PreRecordingTime[0],displayName:i.PreRecordingTime[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"5 secs",value:1},{text:"10 secs",value:2},{text:"15 secs",value:3},{text:"20 secs",value:4},{text:"30 secs",value:5},{text:"60 secs",value:6},{text:"120 secs",value:7}]},{groupId:14,propertyName:i.PostRecord[0],displayName:i.PostRecord[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"5 secs",value:1},{text:"10 secs",value:2},{text:"20 secs",value:3},{text:"30 secs",value:4},{text:"60 secs",value:5}]},{groupId:14,propertyName:i.VideoMute[0],displayName:i.VideoMute[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"On",value:1},{text:"Pre-recorded only",value:2}]},{groupId:15,propertyName:i.PowerOff[0],displayName:i.PowerOff[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"30 secs",value:1},{text:"1 min",value:2},{text:"3 mins",value:3},{text:"5 mins",value:4},{text:"10 mins",value:5},{text:"30 mins",value:6}]},{groupId:15,propertyName:i.VideoEIS[0],displayName:i.VideoEIS[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:15,propertyName:i.DoubleClickRecord[0],displayName:i.DoubleClickRecord[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:15,propertyName:i.DashCamMode[0],displayName:i.DashCamMode[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:15,propertyName:i.AutoRecording[0],displayName:i.AutoRecording[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:15,propertyName:i.AutoDetection[0],displayName:i.AutoDetection[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:15,propertyName:i.LoopRecording[0],displayName:i.LoopRecording[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:16,propertyName:i.PhotoSize[0],displayName:i.PhotoSize[1],render:!0,value:4,size:4,defaultValue:4,inputType:2,renderType:3,renderTypeValues:[{text:"40 MP",value:10},{text:"30 MP",value:9},{text:"16 MP",value:3},{text:"12 MP",value:4},{text:"8 MP",value:5},{text:"4 MP",value:7}]},{groupId:17,propertyName:i.SelfieTime[0],displayName:i.SelfieTime[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"3 secs",value:1},{text:"5 secs",value:2},{text:"10 secs",value:3}]},{groupId:17,propertyName:i.BurstMode[0],displayName:i.BurstMode[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"3 photos every button press",value:2},{text:"5 photos every button press",value:3}]}];var we=[{groupId:1,propertyName:i.WifiMode[0],displayName:i.WifiMode[1],render:!0,value:1,defaultValue:1,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"On",value:1}],size:4,effects:[{propertyNames:G,givenValues:[1],disabled:!1},{propertyNames:G,givenValues:[0],disabled:!0}]},{groupId:1,propertyName:i.WifiConnectionMode[0],displayName:i.WifiConnectionMode[1],render:!0,value:1,disabled:!0,defaultValue:1,inputType:2,size:4,renderType:3,renderTypeValues:[{text:"Station",value:1},{text:"Wi-Fi direct",value:2}],effects:[{givenValues:[1],propertyNames:[i.Ssid[0],i.STPassword[0]],disabled:!1},{givenValues:[2],propertyNames:[i.Ssid[0],i.STPassword[0]],disabled:!0},{givenValues:[2],propertyNames:[i.WifiDirectPin[0]],disabled:!1},{givenValues:[1],propertyNames:[i.WifiDirectPin[0]],disabled:!0}]},{groupId:2,propertyName:i.Ssid[0],displayName:i.Ssid[1],render:!0,value:"",defaultValue:"",inputType:1,size:4,renderType:1,validations:[P.pattern("^[ -~]+$"),P.required],validationErrorMessages:{pattern:I.Ssid_Pattern,required:I.Ssid_required}},{groupId:2,propertyName:i.STPassword[0],displayName:i.STPassword[1],render:!0,value:"",defaultValue:"",inputType:4,size:4,renderType:1,validations:[P.pattern("^[ -~]{8,32}$"),P.required],validationErrorMessages:{pattern:I.STPassword_Pattern,required:I.STPassword_Required}},{groupId:6,propertyName:i.BeepSound[0],displayName:i.BeepSound[1],render:!0,value:1,defaultValue:1,size:4,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"Beep",value:1}]},{groupId:6,propertyName:i.RecordingNotification[0],displayName:i.RecordingNotification[1],render:!0,value:0,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"Beep every 5 secs",value:1},{text:"Beep every 10 secs",value:2},{text:"Beep every 15 secs",value:3},{text:"Beep every 30 secs",value:4},{text:"Beep every 60 secs",value:5}],size:4},{groupId:8,propertyName:i.IRMode[0],displayName:i.IRMode[1],render:!0,value:3,size:4,defaultValue:3,inputType:1,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"During recording",value:2},{text:"Auto",value:3}]},{groupId:8,propertyName:i.IRCUTSensitivity[0],displayName:i.IRCUTSensitivity[1],render:!0,value:5,size:4,defaultValue:5,inputType:2,renderType:6,min:0,max:10,step:1},{groupId:12,propertyName:i.RecordingSize[0],displayName:i.RecordingSize[1],render:!0,value:5,size:4,defaultValue:5,inputType:2,renderType:3,renderTypeValues:[{text:"1920*1080",value:5},{text:"1280*720",value:10},{text:"848*480",value:13}]},{groupId:12,propertyName:i.RecordingQuality[0],displayName:i.RecordingQuality[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"High",value:0},{text:"Medium",value:1},{text:"Low",value:2}]},{groupId:12,propertyName:i.RecordingTime[0],displayName:i.RecordingTime[1],render:!0,value:4,size:4,defaultValue:4,inputType:2,renderType:3,renderTypeValues:[{text:"5 mins",value:4},{text:"10 mins",value:5},{text:"15 mins",value:6}]},{groupId:14,propertyName:i.PreRecordingTime[0],displayName:i.PreRecordingTime[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"5 secs",value:1},{text:"10 secs",value:2},{text:"20 secs",value:3},{text:"30 secs",value:4},{text:"60 secs",value:5}]},{groupId:16,propertyName:i.PhotoSize[0],displayName:i.PhotoSize[1],render:!0,value:4,size:4,defaultValue:4,inputType:2,renderType:3,renderTypeValues:[{text:"16 MP",value:3},{text:"12 MP",value:4},{text:"8 MP",value:5},{text:"4 MP",value:7}]}];var rt=[{groupId:1,propertyName:i.WifiMode[0],displayName:i.WifiMode[1],render:!0,value:1,defaultValue:1,inputType:2,renderType:3,renderTypeValues:[{value:0,text:"Off"},{value:1,text:"On"}],size:4,effects:[{propertyNames:G,givenValues:[1],disabled:!1},{propertyNames:G,givenValues:[0],disabled:!0}]},{groupId:1,propertyName:i.WifiConnectionMode[0],displayName:i.WifiConnectionMode[1],render:!0,value:1,defaultValue:1,size:4,inputType:2,renderType:3,renderTypeValues:[{value:1,text:"Station"},{value:2,text:"Wi-Fi Direct"}],effects:[{givenValues:[1],propertyNames:[i.Ssid[0],i.STA_AutoGetIP[0],i.STPassword[0]],disabled:!1},{givenValues:[1],propertyNames:[i.WIFI_ConnectTimeout[0],"P2PPinCode"],disabled:!0},{givenValues:[2],propertyNames:[i.WIFI_ConnectTimeout[0],"P2PPinCode"],disabled:!1},{givenValues:[2],propertyNames:[i.Ssid[0],i.STA_AutoGetIP[0],i.STPassword[0]],disabled:!0}]},{groupId:1,propertyName:i.WIFI_ConnectTimeout[0],displayName:i.WIFI_ConnectTimeout[1],render:!0,value:0,defaultValue:0,size:4,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"1 min",value:1},{text:"3 mins",value:2},{text:"5 mins",value:3},{text:"10 mins",value:4},{text:"30 mins",value:5}]},{groupId:2,propertyName:i.Ssid[0],displayName:i.Ssid[1],render:!0,value:"",size:4,defaultValue:"",inputType:1,renderType:1,validations:[P.required,P.pattern("^[ -~]+$")],validationErrorMessages:{required:I.Ssid_required,pattern:I.Ssid_Pattern}},{groupId:2,propertyName:i.STPassword[0],displayName:i.STPassword[1],render:!0,value:"",size:4,defaultValue:"",inputType:4,renderType:1,validations:[P.pattern("^[ -~]{8,32}$")],validationErrorMessages:{pattern:I.STPassword_Pattern,required:I.STPassword_Required}},{groupId:2,propertyName:i.UpdateCertificate[0],displayName:i.UpdateCertificate[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:2,propertyName:i.WifiDirectPin[0],displayName:i.WifiDirectPin[1],render:!0,value:"",size:4,defaultValue:"",inputType:1,renderType:1,validations:[P.pattern("^[0-9]{8,8}$")],validationErrorMessages:{pattern:I.P2PPinCode_Pattern}},{groupId:6,propertyName:i.LEDLight[0],displayName:i.LEDLight[1],render:!0,value:1,size:4,defaultValue:1,inputType:2,renderType:5},{groupId:6,propertyName:i.ShockReminding[0],displayName:i.ShockReminding[1],render:!0,value:1,size:4,defaultValue:1,inputType:2,renderType:5},{groupId:6,propertyName:i.BeepSound[0],displayName:i.BeepSound[1],render:!0,value:1,size:4,defaultValue:1,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"Beep",value:1}]},{groupId:6,propertyName:i.StealthMode[0],displayName:i.StealthMode[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:6,propertyName:i.RecordingNotification[0],displayName:i.RecordingNotification[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"Beep every 5 secs",value:1},{text:"Beep every 10 secs",value:2},{text:"Beep every 15 secs",value:3},{text:"Beep every 30 secs",value:4},{text:"Beep every 60 secs",value:5}]},{groupId:8,propertyName:i.IRMode[0],displayName:i.IRMode[1],render:!0,value:3,size:4,defaultValue:3,inputType:1,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"During recording",value:2},{text:"Auto",value:3}]},{groupId:9,propertyName:i.LocationService[0],displayName:i.LocationService[1],render:!0,value:0,size:4,defaultValue:0,inputType:3,renderType:5},{groupId:10,propertyName:i.EnableWatermark[0],displayName:i.EnableWatermark[1],render:!1,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:10,propertyName:i.BurnText[0],displayName:i.BurnText[1],render:!0,value:"",defaultValue:"",size:4,inputType:1,renderType:1},{groupId:11,propertyName:i.OutputTV[0],displayName:i.OutputTV[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"NTSC",value:0},{text:"PAL",value:1}]},{groupId:12,propertyName:i.RecordingSize[0],displayName:i.RecordingSize[1],render:!0,value:6,size:4,defaultValue:6,inputType:2,renderType:3,renderTypeValues:[{text:"1920X1080@30fps",value:6},{text:"1280X720@30fps",value:11},{text:"848X480@30fps",value:13}]},{groupId:12,propertyName:i.RecordingQuality[0],displayName:i.RecordingQuality[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"High",value:0},{text:"Medium",value:1},{text:"Low",value:2}]},{groupId:12,propertyName:i.RecordingTime[0],displayName:i.RecordingTime[1],render:!0,value:4,size:4,defaultValue:4,inputType:2,renderType:3,renderTypeValues:[{text:"5 mins",value:4},{text:"10 mins",value:5},{text:"15 mins",value:6}]},{groupId:13,propertyName:i.StreamingResolution[0],displayName:i.StreamingResolution[1],render:!0,value:1,size:4,defaultValue:1,inputType:2,renderType:3,renderTypeValues:[{text:"1280X720",value:1},{text:"848X480",value:2},{text:"432X240",value:3}]},{groupId:13,propertyName:i.StreamingBitrate[0],displayName:i.StreamingBitrate[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"5000 Kbps",value:0},{text:"4000 Kbps",value:1},{text:"3000 Kbps",value:2},{text:"2000 Kbps",value:3},{text:"1000 Kbps",value:4},{text:"500 Kbps",value:5},{text:"300 Kbps",value:6}]},{groupId:14,propertyName:i.PreRecordingTime[0],displayName:i.PreRecordingTime[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"5 secs",value:1},{text:"10 secs",value:2},{text:"15 secs",value:3},{text:"20 secs",value:4},{text:"30 secs",value:5},{text:"60 secs",value:6},{text:"120 secs",value:7}]},{groupId:14,propertyName:i.VideoMute[0],displayName:i.VideoMute[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"On",value:1},{text:"Pre-recorded only",value:2}]},{groupId:15,propertyName:i.PowerOff[0],displayName:i.PowerOff[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"30 secs",value:1},{text:"1 min",value:2},{text:"3 mins",value:3},{text:"5 mins",value:4},{text:"10 mins",value:5},{text:"30 mins",value:6}]},{groupId:15,propertyName:i.AutoDetection[0],displayName:i.AutoDetection[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:16,propertyName:i.PhotoSize[0],displayName:i.PhotoSize[1],render:!0,value:4,size:4,defaultValue:4,inputType:2,renderType:3,renderTypeValues:[{text:"16 MP",value:3},{text:"12 MP",value:4},{text:"8 MP",value:5},{text:"4 MP",value:7}]},{groupId:17,propertyName:i.SelfieTime[0],displayName:i.SelfieTime[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"3 secs",value:1},{text:"5 secs",value:2},{text:"10 secs",value:3}]},{groupId:17,propertyName:i.BurstMode[0],displayName:i.BurstMode[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"3 photos every button press",value:2},{text:"5 photos every button press",value:3}]}];var at=[{groupId:1,propertyName:i.WifiMode[0],displayName:i.WifiMode[1],render:!0,value:1,defaultValue:1,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"On",value:1}],size:4,effects:[{propertyNames:G,givenValues:[1],disabled:!1},{propertyNames:G,givenValues:[0],disabled:!0}]},{groupId:1,propertyName:i.WifiConnectionMode[0],displayName:i.WifiConnectionMode[1],render:!0,value:1,defaultValue:1,size:4,inputType:2,renderType:3,renderTypeValues:[{value:1,text:"Station"},{value:2,text:"Wi-Fi direct"},{value:3,text:"Station enterprise"}],effects:[{givenValues:[1,3],propertyNames:[i.Ssid[0],i.STA_AutoGetIP[0],i.STPassword[0],i.WifiDirectPin[0]],disabled:!1},{givenValues:[1,3],propertyNames:[i.APCameraIP[0],i.WifiDirectPin[0]],disabled:!0},{givenValues:[2],propertyNames:[i.WifiDirectPin[0]],disabled:!1},{givenValues:[2],propertyNames:[i.Ssid[0],i.STA_AutoGetIP[0],i.STPassword[0],i.APCameraIP[0]],disabled:!0}]},{groupId:1,propertyName:i.WIFI_ConnectTimeout[0],displayName:i.WIFI_ConnectTimeout[1],render:!0,value:0,defaultValue:0,size:4,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"1 min",value:1},{text:"3 mins",value:2},{text:"5 mins",value:3},{text:"10 mins",value:4},{text:"30 mins",value:5}]},{groupId:2,propertyName:i.Ssid[0],displayName:i.Ssid[1],render:!0,value:"",size:4,defaultValue:"",inputType:1,renderType:1,validations:[P.required,P.pattern("^[ -~]+$")],validationErrorMessages:{required:I.Ssid_required,pattern:I.Ssid_Pattern}},{groupId:2,propertyName:i.STPassword[0],displayName:i.STPassword[1],render:!0,value:"",size:4,defaultValue:"",inputType:4,renderType:1,validations:[P.required,P.pattern("^[ -~]{8,32}$")],validationErrorMessages:{required:I.APassword_Required,pattern:I.APassword_Pattern}},{groupId:2,propertyName:i.STA_AutoGetIP[0],displayName:i.STA_AutoGetIP[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:2,propertyName:i.APCameraIP[0],displayName:i.APCameraIP[1],render:!0,value:"",defaultValue:"",inputType:1,renderType:1,size:4},{groupId:2,propertyName:i.UpdateCertificate[0],displayName:i.UpdateCertificate[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:2,propertyName:i.WifiDirectPin[0],displayName:i.WifiDirectPin[1],render:!0,value:"",size:4,defaultValue:"",inputType:1,renderType:1,validations:[P.pattern("^[0-9]{8,8}$")],validationErrorMessages:{pattern:I.P2PPinCode_Pattern}},{groupId:3,propertyName:i.BluetoothMode[0],displayName:i.BluetoothMode[1],render:!0,value:0,defaultValue:0,size:4,inputType:3,renderType:3,renderTypeValues:[{value:0,text:"Off"},{value:1,text:"Auto"}]},{groupId:5,propertyName:i.MediaServerAddress[0],displayName:i.MediaServerAddress[1],render:!0,value:"",defaultValue:"",inputType:1,renderType:1,size:4},{groupId:6,propertyName:i.LEDLight[0],displayName:i.LEDLight[1],render:!0,value:1,size:4,defaultValue:1,inputType:2,renderType:5},{groupId:6,propertyName:i.ShockReminding[0],displayName:i.ShockReminding[1],render:!0,value:1,size:4,defaultValue:1,inputType:2,renderType:5},{groupId:6,propertyName:i.BeepSound[0],displayName:i.BeepSound[1],render:!0,value:1,size:4,defaultValue:1,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"Beep",value:1}]},{groupId:6,propertyName:i.StealthMode[0],displayName:i.StealthMode[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:6,propertyName:i.RecordingNotification[0],displayName:i.RecordingNotification[1],render:!0,value:!0,size:4,defaultValue:!0,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"Beep Every 5 secs",value:1},{text:"Beep Every 10 secs",value:2},{text:"Beep Every 15 secs",value:3},{text:"Beep Every 30 secs",value:4},{text:"Beep Every 60 secs",value:5}]},{groupId:6,propertyName:i.LowBatteryWarning[0],displayName:i.LowBatteryWarning[1],render:!0,value:1,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:6,propertyName:i.LowSpaceWarning[0],displayName:i.LowSpaceWarning[1],render:!0,value:1,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:8,propertyName:i.IRMode[0],displayName:i.IRMode[1],render:!0,value:3,size:4,defaultValue:3,inputType:1,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"During recording",value:2},{text:"Auto",value:3}]},{groupId:8,propertyName:i.IRCUTSensitivity[0],displayName:i.IRCUTSensitivity[1],render:!0,value:5,size:4,defaultValue:5,inputType:2,renderType:6,min:0,max:10,step:1},{groupId:9,propertyName:i.LocationService[0],displayName:i.LocationService[1],render:!0,value:0,size:4,defaultValue:0,inputType:3,renderType:5},{groupId:9,propertyName:i.GPSFrequency[0],displayName:i.GPSFrequency[1],render:!0,value:30,size:4,defaultValue:30,inputType:2,renderType:3,renderTypeValues:[{text:"15 secs",value:15},{text:"30 secs",value:30},{text:"1 min",value:60},{text:"2 mins",value:120},{text:"5 mins",value:300}]},{groupId:10,propertyName:i.EnableWatermark[0],displayName:i.EnableWatermark[1],render:!1,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:10,propertyName:i.BurnText[0],displayName:i.BurnText[1],render:!0,value:"",defaultValue:"",size:4,inputType:1,renderType:1},{groupId:11,propertyName:i.OutputTV[0],displayName:i.OutputTV[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"NTSC",value:0},{text:"PAL",value:1}]},{groupId:11,propertyName:i.EncodingFormat[0],displayName:i.EncodingFormat[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"H.264",value:0},{text:"H.265",value:1}]},{groupId:12,propertyName:i.RecordingSize[0],displayName:i.RecordingSize[1],render:!0,value:6,size:4,defaultValue:6,inputType:2,renderType:3,renderTypeValues:[{text:"2560X1440@30fps",value:1},{text:"1920X1080@60fps",value:5},{text:"1920X1080@30fps",value:6},{text:"1280X720@60fps",value:10},{text:"1280X720@30fps",value:11},{text:"848X480@30fps",value:13}]},{groupId:12,propertyName:i.RecordingQuality[0],displayName:i.RecordingQuality[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"High",value:0},{text:"Medium",value:1},{text:"Low",value:2}]},{groupId:12,propertyName:i.RecordingTime[0],displayName:i.RecordingTime[1],render:!0,value:4,size:4,defaultValue:4,inputType:2,renderType:3,renderTypeValues:[{text:"5 mins",value:4},{text:"10 mins",value:5},{text:"15 mins",value:6}]},{groupId:12,propertyName:i.StreamingResolution[0],displayName:i.StreamingResolution[1],render:!0,value:1,size:4,defaultValue:1,inputType:2,renderType:3,renderTypeValues:[{text:"1280X720",value:1},{text:"848X480",value:2},{text:"432X240",value:3}]},{groupId:12,propertyName:i.StreamingFrameRate[0],displayName:i.StreamingFrameRate[1],render:!0,value:3,size:4,defaultValue:3,inputType:2,renderType:3,renderTypeValues:[{text:"5FPS",value:0},{text:"10FPS",value:1},{text:"15FPS",value:2},{text:"20FPS",value:3},{text:"25FPS",value:4},{text:"30FPS",value:5}]},{groupId:12,propertyName:i.StreamingBitrate[0],displayName:i.StreamingBitrate[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"5000 Kbps",value:0},{text:"4000 Kbps",value:1},{text:"3000 Kbps",value:2},{text:"2000 Kbps",value:3},{text:"1000 Kbps",value:4},{text:"500 Kbps",value:5},{text:"300 Kbps",value:6}]},{groupId:12,propertyName:i.StreamingControl[0],displayName:i.StreamingControl[1],render:!0,value:3,size:4,defaultValue:3,inputType:2,renderType:3,renderTypeValues:[{text:"Video only",value:2},{text:"Audio and video",value:3}]},{groupId:14,propertyName:i.PreRecordingTime[0],displayName:i.PreRecordingTime[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"5 secs",value:1},{text:"10 secs",value:2},{text:"15 secs",value:3},{text:"20 secs",value:4},{text:"30 secs",value:5},{text:"60 secs",value:6},{text:"120 secs",value:7}]},{groupId:14,propertyName:i.PostRecord[0],displayName:i.PostRecord[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"5 secs",value:1},{text:"10 secs",value:2},{text:"20 secs",value:3},{text:"30 secs",value:4},{text:"60 secs",value:5}]},{groupId:14,propertyName:i.VideoMute[0],displayName:i.VideoMute[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"On",value:1},{text:"Pre-recorded only",value:2}]},{groupId:15,propertyName:i.PowerOff[0],displayName:i.PowerOff[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"30 secs",value:1},{text:"1 min",value:2},{text:"3 mins",value:3},{text:"5 mins",value:4},{text:"10 mins",value:5},{text:"30 mins",value:6}]},{groupId:15,propertyName:i.VideoEIS[0],displayName:i.VideoEIS[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:15,propertyName:i.DoubleClickRecord[0],displayName:i.DoubleClickRecord[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:15,propertyName:i.DashCamMode[0],displayName:i.DashCamMode[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:15,propertyName:i.AutoRecording[0],displayName:i.AutoRecording[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:15,propertyName:i.AutoDetection[0],displayName:i.AutoDetection[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:15,propertyName:i.LoopRecording[0],displayName:i.LoopRecording[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:5},{groupId:16,propertyName:i.PhotoSize[0],displayName:i.PhotoSize[1],render:!0,value:4,size:4,defaultValue:4,inputType:2,renderType:3,renderTypeValues:[{text:"40 MP",value:10},{text:"30 MP",value:9},{text:"16 MP",value:3},{text:"12 MP",value:4},{text:"8 MP",value:5},{text:"4 MP",value:7}]},{groupId:17,propertyName:i.SelfieTime[0],displayName:i.SelfieTime[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"3 secs",value:1},{text:"5 secs",value:2},{text:"10 secs",value:3}]},{groupId:17,propertyName:i.BurstMode[0],displayName:i.BurstMode[1],render:!0,value:0,size:4,defaultValue:0,inputType:2,renderType:3,renderTypeValues:[{text:"Off",value:0},{text:"3 photos every button press",value:2},{text:"5 photos Every Button press",value:3}]}];var ot=class a extends Ge{constructor(e){super();this.http=e}getCameraSettings(e,t,n){let o=0,s="";switch(n){case 1:o=4,s="Matrix";break;case 2:o=5,s="Matrix2";break;case 3:o=7,s="Matrix2Plus";break;case 4:o=8,s="Matrix4G";break}console.log("making http request ");let m=this.basePath+`/api/Kiosk/GetCameraSettingsByUserId?id=${e}&Modeid=${t}&provider=${n}`;return this.http.get(m)}updateCameraSettings(e){return this.http.post(this.basePath+"/api/Kiosk/UpdateCameraSettings",e)}static \u0275fac=function(t){return new(t||a)(Ve(Ee))};static \u0275prov=Ie({token:a,factory:a.\u0275fac,providedIn:"root"})};var Hn=a=>({opacity:a});function Bn(a,r){if(a&1){let e=N();u(0,"input",12),C("change",function(n){w(e);let o=g(2);return T(o.textBoxUpdate(n))}),c()}if(a&2){let e=g(2);d("readonly",e.property.disabled)("formControlName",e.property.propertyName)("errorStateMatcher",e.matcher)("placeholder",e.property.displayName),J("disabled",e.property.disabled?"":null)}}function zn(a,r){if(a&1){let e=N();u(0,"input",13),C("change",function(n){w(e);let o=g(2);return T(o.textBoxUpdate(n))}),c()}if(a&2){let e=g(2);d("readonly",e.property.disabled)("formControlName",e.property.propertyName)("errorStateMatcher",e.matcher)("placeholder",e.property.displayName),J("disabled",e.property.disabled?"":null)}}function An(a,r){if(a&1){let e=N();u(0,"input",14),C("change",function(n){w(e);let o=g(2);return T(o.textBoxUpdate(n))}),c()}if(a&2){let e=g(2);d("readonly",e.property.disabled)("formControlName",e.property.propertyName)("errorStateMatcher",e.matcher)("placeholder",e.property.displayName),J("disabled",e.property.disabled?"":null)}}function Un(a,r){if(a&1&&(u(0,"span"),f(1),c()),a&2){let e=g(3);l(),E(e.property.validationErrorMessages?e.property.validationErrorMessages.required:"")}}function Gn(a,r){if(a&1&&(u(0,"span"),f(1),c()),a&2){let e=g(3);l(),E(e.property.validationErrorMessages?e.property.validationErrorMessages.pattern:"")}}function Wn(a,r){if(a&1&&(u(0,"span"),f(1),c()),a&2){let e=g(3);l(),E(e.property.validationErrorMessages?e.property.validationErrorMessages.max:"")}}function qn(a,r){if(a&1&&(u(0,"span"),f(1),c()),a&2){let e=g(3);l(),E(e.property.validationErrorMessages?e.property.validationErrorMessages.maxlength:"")}}function jn(a,r){if(a&1&&(u(0,"span"),f(1),c()),a&2){let e=g(3);l(),E(e.property.validationErrorMessages?e.property.validationErrorMessages.min:"")}}function Qn(a,r){if(a&1&&(u(0,"span"),f(1),c()),a&2){let e=g(3);l(),E(e.property.validationErrorMessages?e.property.validationErrorMessages.minlength:"")}}function Kn(a,r){if(a&1&&(u(0,"mat-error",15),b(1,Un,2,1,"span",16)(2,Gn,2,1,"span",16)(3,Wn,2,1,"span",16)(4,qn,2,1,"span",16)(5,jn,2,1,"span",16)(6,Qn,2,1,"span",16),c()),a&2){let e=g(2);l(),d("ngIf",e.Error("required")),l(),d("ngIf",e.Error("pattern")),l(),d("ngIf",e.Error("max")),l(),d("ngIf",e.Error("maxlength")),l(),d("ngIf",e.Error("min")),l(),d("ngIf",e.Error("minlength"))}}function Zn(a,r){if(a&1&&(u(0,"mat-form-field",7)(1,"mat-label"),f(2),c(),b(3,Bn,1,5,"input",8)(4,zn,1,5,"input",9)(5,An,1,5,"input",10)(6,Kn,7,6,"mat-error",11),c()),a&2){let e=g();d("ngStyle",me(6,Hn,e.property.disabled?"0.5":"1")),l(2),E(e.property.displayName),l(),d("ngIf",e.property.renderType===e.RenderType.TextBox&&e.property.inputType===e.InputType.Text),l(),d("ngIf",e.property.renderType===e.RenderType.TextBox&&e.property.inputType===e.InputType.Number),l(),d("ngIf",e.property.renderType===e.RenderType.TextBox&&e.property.inputType===e.InputType.Password),l(),d("ngIf",!e.isValid)}}function Xn(a,r){if(a&1&&(u(0,"mat-option",20),f(1),c()),a&2){let e=r.$implicit;d("value",e.value),l(),M(" ",e.text,"")}}function $n(a,r){if(a&1){let e=N();u(0,"mat-form-field",17)(1,"mat-label"),f(2),c(),u(3,"mat-select",18),C("selectionChange",function(n){w(e);let o=g();return T(o.dropdownUpdate(n))}),b(4,Xn,2,2,"mat-option",19),c()()}if(a&2){let e=g();l(2),E(e.property.displayName),l(),d("value",e.property.value)("disabled",e.property.disabled),l(),d("ngForOf",e.property.renderTypeValues)}}function Yn(a,r){if(a&1&&(u(0,"mat-label",21),f(1),c()),a&2){let e=g();l(),E(e.property.displayName)}}function Jn(a,r){if(a&1){let e=N();u(0,"ngx-slider",22),ae("valueChange",function(n){w(e);let o=g();return re(o.propValue,n)||(o.propValue=n),T(n)}),c()}if(a&2){let e=g();ne("value",e.propValue),d("options",e.options)}}function er(a,r){if(a&1){let e=N();u(0,"mat-checkbox",23),C("change",function(n){w(e);let o=g();return T(o.checkBoxUpdate(n))}),u(1,"mat-label"),f(2),c()()}if(a&2){let e=g();d("formControlName",e.property.propertyName)("value",e.property.value.toString()),l(2),E(e.property.displayName)}}function tr(a,r){if(a&1){let e=N();u(0,"mat-slide-toggle",24),C("change",function(n){w(e);let o=g();return T(o.toggleUpdate(n))}),f(1),c()}if(a&2){let e=g();d("checked",e.property.value)("disabled",e.property.disabled),l(),M(" ",e.property.displayName,"")}}function ir(a,r){if(a&1){let e=N();u(0,"mat-slide-toggle",24),C("change",function(n){w(e);let o=g();return T(o.toggleUpdate(n))}),f(1),c()}if(a&2){let e=g();d("checked",e.property.value==1)("disabled",e.property.disabled),l(),M(" ",e.property.displayName,"")}}var st=class a{property;form;onChange=new D;options;get propValue(){return this.property.value}get isValid(){try{return this.form?this.form.controls[this.property.propertyName]?.valid:!1}catch(r){throw console.error(this.property.propertyName),r}}Error(r){return this.form&&this.form.controls[this.property.propertyName]?.errors?this.form.controls[this.property.propertyName]?.errors[r]:null}childProperties=[];get RenderType(){return W}get InputType(){return q}constructor(){}matcher=new ee;ngOnInit(){this.property.renderType==6&&(this.options={floor:this.property.min,ceil:this.property.max,showTicks:!0})}ngOnChanges(){this.property.disabled?this.form.controls[this.property.propertyName]?.disable():this.form.controls[this.property.propertyName]?.enable()}ngAfterViewInit(){}textBoxUpdate(r){this.property.value=r.target.value,this.onChange.next(r.target.value)}dropdownUpdate(r){this.property.value=r.value,this.onChange.next(r.value)}toggleUpdate(r){this.property.value=r.checked,this.onChange.next(r.checked)}checkBoxUpdate(r){this.property.value=r.checked,this.onChange.next(r.checked)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=B({type:a,selectors:[["mat-generic-form-field"]],inputs:{property:"property",form:"form"},outputs:{onChange:"onChange"},standalone:!1,features:[le],decls:8,vars:8,consts:[[2,"width","100%","margin-top","10px","margin-bottom","10px",3,"formGroup"],["appearance","fill","class","example-full-width mask","style","width: 100%",3,"ngStyle",4,"ngIf"],["class","mask","appearance","fill","style","width: 100%",4,"ngIf"],["style","display: block; font: 800 14px/20px Roboto; margin-bottom: 10px",4,"ngIf"],["style","margin-top: 15px",3,"value","options","valueChange",4,"ngIf"],["matInput","","color","primary",3,"formControlName","value","change",4,"ngIf"],["style","padding: 5px; margin-top: 10px","matInput","",3,"checked","disabled","change",4,"ngIf"],["appearance","fill",1,"example-full-width","mask",2,"width","100%",3,"ngStyle"],["autocomplete","off","type","text","matInput","",3,"readonly","formControlName","errorStateMatcher","placeholder","change",4,"ngIf"],["autocomplete","off","type","number","matInput","",3,"readonly","formControlName","errorStateMatcher","placeholder","change",4,"ngIf"],["autocomplete","off","type","password","matInput","",3,"readonly","formControlName","errorStateMatcher","placeholder","change",4,"ngIf"],["style","margin-top: 14px; margin-left: -10px",4,"ngIf"],["autocomplete","off","type","text","matInput","",3,"change","readonly","formControlName","errorStateMatcher","placeholder"],["autocomplete","off","type","number","matInput","",3,"change","readonly","formControlName","errorStateMatcher","placeholder"],["autocomplete","off","type","password","matInput","",3,"change","readonly","formControlName","errorStateMatcher","placeholder"],[2,"margin-top","14px","margin-left","-10px"],[4,"ngIf"],["appearance","fill",1,"mask",2,"width","100%"],["matInput","",3,"selectionChange","value","disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[2,"display","block","font","800 14px/20px Roboto","margin-bottom","10px"],[2,"margin-top","15px",3,"valueChange","value","options"],["matInput","","color","primary",3,"change","formControlName","value"],["matInput","",2,"padding","5px","margin-top","10px",3,"change","checked","disabled"]],template:function(e,t){e&1&&(u(0,"div",0),b(1,Zn,7,8,"mat-form-field",1)(2,$n,5,4,"mat-form-field",2)(3,Yn,2,1,"mat-label",3)(4,Jn,1,2,"ngx-slider",4)(5,er,3,3,"mat-checkbox",5)(6,tr,2,3,"mat-slide-toggle",6)(7,ir,2,3,"mat-slide-toggle",6),c()),e&2&&(d("formGroup",t.form),l(),d("ngIf",t.property.renderType===t.RenderType.TextBox),l(),d("ngIf",t.property.renderType===t.RenderType.Dropdown),l(),d("ngIf",t.property.renderType===t.RenderType.Slider),l(),d("ngIf",t.property.renderType===t.RenderType.Slider),l(),d("ngIf",t.property.renderType===t.RenderType.Checkbox),l(),d("ngIf",t.property.renderType===t.RenderType.Toggle&&t.property.inputType==t.InputType.Boolean),l(),d("ngIf",t.property.renderType===t.RenderType.Toggle&&t.property.inputType==t.InputType.Number))},dependencies:[U,z,ge,zt,Wt,At,Le,Re,qt,j,ke,K,Q,Qt,he,Z,ze,Ne],styles:[".mask[_ngcontent-%COMP%]{box-sizing:border-box;border:1px solid #bdc1c5;border-radius:5px;background-color:#fff}  .mat-slider-thumb-label{height:20px!important;width:20px!important;text-align:center}  .mat-slider-horizontal .mat-slider-thumb-label{transform:rotate(45deg)!important}  .mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)!important}  ngx-slider-tooltip-wrapper .ngx-slider-inner-tooltip{background-color:#fff}  ngx-slider .ngx-slider-pointer{cursor:pointer;width:15px!important;height:15px!important;top:-5px!important;background-color:#0f72ad!important;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{content:none!important}  .ngx-slider-bubble{font-size:12px!important;bottom:5px!important}  .ngx-slider-ticks{margin-left:-2%!important}  .ngx-slider-tick{width:5px!important}"]})};var rr=["scrollableDiv"],ar=["scrollToTopButton"];function or(a,r){if(a&1&&(u(0,"div",26)(1,"div",27)(2,"label"),f(3),c()()()),a&2){let e=g(2);l(3),M(" ",e.mode===3?"Organisation: "+e.OrganizationName:"Role : "+e.RoleName," ")}}function sr(a,r){if(a&1&&(u(0,"mat-option",28),f(1),c()),a&2){let e=r.$implicit;d("value",e.id),l(),M(" ",e.name," ")}}function lr(a,r){if(a&1){let e=N();u(0,"mat-list-option",29),C("click",function(){let n=w(e).$implicit,o=g(2);return T(o.onTabChange(n))}),u(1,"div",30),O(2,"fa-icon",31),u(3,"span",32),f(4),c()()()}if(a&2){let e=r.$implicit,t=g(2);d("selected",t.selectedTabId==e.id)("value",e),l(2),d("icon",e.icon),l(2),E(e.title)}}function dr(a,r){if(a&1&&O(0,"fa-icon",24),a&2){let e=g(5);d("icon",e.faChevronUp)}}function pr(a,r){if(a&1&&O(0,"fa-icon",24),a&2){let e=g(5);d("icon",e.faChevronDown)}}function ur(a,r){if(a&1){let e=N();u(0,"div")(1,"mat-generic-form-field",42),C("onChange",function(n){w(e);let o=g().$implicit,s=g(5);return T(s.updateValues({name:o.propertyName,value:n}))}),c()()}if(a&2){let e=g().$implicit,t=g(5);Mt("col-"+e.size),l(),d("property",e)("form",t.form)}}function cr(a,r){if(a&1&&(ue(0),b(1,ur,2,4,"div",41),ce()),a&2){let e=r.$implicit,t=g(5);l(),d("ngIf",t.PropertyNameDisplayCheck(e.displayName))}}function mr(a,r){if(a&1){let e=N();u(0,"mat-expansion-panel",38),ae("expandedChange",function(n){w(e);let o=g().$implicit;return re(o.isOpen,n)||(o.isOpen=n),T(n)}),C("opened",function(){w(e);let n=g().$implicit;return T(n.isOpen=!0)})("closed",function(){w(e);let n=g().$implicit;return T(n.isOpen=!1)}),u(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"span",39),b(4,dr,1,1,"fa-icon",40)(5,pr,1,1,"fa-icon",40),c(),f(6),c()(),u(7,"div",26),b(8,cr,2,1,"ng-container",25),c()()}if(a&2){let e=g().$implicit;ne("expanded",e.isOpen),l(4),d("ngIf",e.isOpen),l(),d("ngIf",!e.isOpen),l(),M(" ",e.group.title," "),l(2),d("ngForOf",e.initialValues)}}function gr(a,r){if(a&1&&(ue(0),b(1,mr,9,5,"mat-expansion-panel",37),ce()),a&2){let e=r.$implicit,t=g(3);l(),d("ngIf",e.initialValues&&e.initialValues.length>0&&t.PropertyNameDisplayCheckGroup(e.initialValues))}}function hr(a,r){if(a&1&&(u(0,"div")(1,"div",33)(2,"div",34),O(3,"fa-icon",35),u(4,"span"),f(5),c()(),u(6,"mat-accordion",36),b(7,gr,2,1,"ng-container",25),c(),O(8,"br"),c()()),a&2){let e=r.$implicit;l(),d("id",e.tab.title+"_"+e.tab.id),l(2),d("icon",e.tab.icon),l(2),E(e.tab.title),l(2),d("ngForOf",e.groups)}}function fr(a,r){if(a&1){let e=N();u(0,"div",6),b(1,or,4,1,"div",7),u(2,"div",8)(3,"div",9)(4,"mat-form-field",10)(5,"mat-label"),f(6,"Select Camera"),c(),u(7,"mat-select",11),ae("valueChange",function(n){w(e);let o=g();return re(o.selectedCameraId,n)||(o.selectedCameraId=n),T(n)}),C("valueChange",function(){w(e);let n=g();return T(n.selectedCameraIdOld=n.selectedCamera.id)})("selectionChange",function(n){w(e);let o=g();return T(o.onCameraChange(n))}),b(8,sr,2,2,"mat-option",12),c()()(),u(9,"div",13)(10,"input",14),C("keyup",function(n){w(e);let o=g();return T(o.updateSearchText(n))})("keydown.enter",function(n){return w(e),T(n.preventDefault())}),c()(),u(11,"div",15)(12,"button",16),C("click",function(){w(e);let n=g();return T(n.onSubmit())}),f(13," Apply changes "),c()()(),u(14,"div",17)(15,"div",9)(16,"mat-card",18)(17,"mat-card-header")(18,"mat-card-title",19),f(19),c()(),u(20,"mat-card-content")(21,"mat-selection-list",20),b(22,lr,5,4,"mat-list-option",21),c()()()(),u(23,"div",22,0),C("scroll",function(n){w(e);let o=g();return T(o.onScroll(n))}),u(25,"button",23,1),C("click",function(){w(e);let n=g();return T(n.scrollToTop())}),O(27,"fa-icon",24),c(),b(28,hr,9,4,"div",25),c()()()}if(a&2){let e=g();l(),d("ngIf",e.mode===3||e.mode===2),l(6),ne("value",e.selectedCameraId),l(),d("ngForOf",e.cameraList),l(2),d("value",e.searchText),l(4),d("formGroup",e.form),l(5),M("",e.selectedCamera.name," Setting "),l(2),d("multiple",!1),l(),d("ngForOf",e.tabs),l(5),d("icon",e.faChevronUp),l(),d("ngForOf",e.CameraSettings)}}var lt=class a{constructor(r,e,t,n,o,s,m,y,x){this.dialog=r;this.fb=e;this.route=t;this.cameraSettingService=n;this.ChangeDetecter=o;this.pageScrollService=s;this.document=m;this.organizationsService=y;this.roleService=x;this.ReadQueryString(),this.SetupCameraSettings(),this.queryCameraId||(this.queryCameraId=1),!this.queryUserId&&!this.queryRoleId&&!this.queryCompanyId?this.dialog.open(it,{disableClose:!0,data:{properties:{},userId:this.queryUserId,cameraId:this.queryCameraId,userName:this.queryUsername}}).afterClosed().subscribe(_=>{_&&_.Status===!0&&(console.log(_),this.queryRoleId=_.RoleId,this.queryCompanyId=_.OrganizationId,this.OrganizationName=_.OrganizationName,this.RoleName=_.RoleName,this.mode=_.UpdateType==="Organization"?3:2,this.GetCameraSettings())}):this.GetCameraSettings()}scrollableDiv;scrollToTopButton;selectedCamera=ve[0];selectedCameraId=ve[0].id;selectedCameraIdOld=0;tabs=hi;groups=fi;selectedTabId=0;selectedTabBackup=0;searchText="";cameraList=ve;form=null;allowPageRender=!1;OrganizationName;RoleName;Organizations;Roles;get RenderType(){return W}get InputType(){return q}matcher=new ee;FormProperties=[];InitialValues=[];CameraSettings;panelOpenState=!1;mode=1;faChevronUp=di;faChevronDown=ui;faArrowUp=ci;queryCameraId=0;queryUserId=0;queryUsername="";queryRoleId=0;queryRoleName="";queryCompanyId=0;queryCompanyName="";validationError="<p>Please Fix the Validation errors before submiting.</p>";ngOnInit(){this.organizationsService.getOrganizations().subscribe(r=>{this.Organizations=r,this.OrganizationName=r.find(e=>e.CompanyId==this.queryCompanyId)?.Name}),this.roleService.getRoles().subscribe(r=>{this.Roles=r,this.RoleName=r.find(e=>e.ID==this.queryRoleId)?.RoleName})}ngOnChanges(){this.filterInput()}ngAfterViewInit(){this.selectedTabId=1,this.onScroll(null)}onScroll(r){this.scrollableDiv?.nativeElement.scrollTop>200?this.scrollToTopButton.nativeElement.style.display="block":this.scrollToTopButton.nativeElement.style.display="none",console.log("scrolling")}scrollToTop(){this.scrollableDiv?.nativeElement.scrollTo({top:0,behavior:"smooth"})}SetupCameraSettings(){this.CameraSettings=[];for(let r in this.tabs){let t=this.groups.filter(n=>n.tabId==this.tabs[r].id).map(n=>({group:n,isOpen:!0}));t.forEach(n=>{this.selectedCameraId==1&&(n.initialValues=we.filter(o=>o.groupId==n.group.id)),this.selectedCameraId==2&&(n.initialValues=rt.filter(o=>o.groupId==n.group.id)),this.selectedCameraId==3&&(n.initialValues=at.filter(o=>o.groupId==n.group.id)),this.selectedCameraId==4&&(n.initialValues=nt.filter(o=>o.groupId==n.group.id))}),this.CameraSettings.push({tab:this.tabs[r],groups:t})}}ReadQueryString(){this.route.queryParams.subscribe(r=>{this.queryCameraId=parseInt(r.cameraId),this.queryCameraId||(this.queryCameraId=1),r.userId&&r.cameraId?(this.queryUserId=r.userId,this.queryUsername=r.userName,this.mode=1):r.roleId&&r.cameraId?(this.queryRoleId=r.roleId,this.mode=2):r.companyId&&r.cameraId&&(this.queryCompanyId=r.companyId,this.mode=3)})}FormInitialization(){this.FormProperties=this.InitialValues,this.FormProperties.reverse().forEach(r=>{this.ApplyEffects2(r.propertyName)}),this.InitializeForm(),this.allowPageRender=!0}ApplyEffects2(r){let e=this.FormProperties.find(n=>n.propertyName==r),t=[];e&&e.effects&&(e.effects.filter(o=>o.givenValues.indexOf(e.value)>=0).forEach(o=>{let s=this.FormProperties.filter(m=>o.propertyNames.indexOf(m.propertyName)>=0);s&&s.length>0&&s.forEach(m=>{console.log(m);let y=this.InitialValues.find(x=>x.propertyName==m.propertyName);o.disabled!=null&&o.disabled!=null?(m.disabled=o.disabled,console.log(`${r} ${o.disabled} ${m.propertyName}`),this.InitializeForm()):m.disabled=y.disabled,y.effects&&!y.disabled&&t.push(y)})}),t.length>0&&t.forEach(o=>{console.log("loop apply effects for "+o.propertyName),this.ApplyEffects2(o.propertyName)}))}GetCameraSettings(){let r=0;this.mode===3?r=this.queryCompanyId:this.mode===2?r=this.queryRoleId:this.mode===1&&(r=this.queryUserId),this.cameraSettingService.getCameraSettings(r,this.mode,this.queryCameraId).subscribe(e=>{this.SelectCamera(this.queryCameraId);let t=JSON.parse(e.toString())[0],n={};Object.keys(t).map(o=>n[o]=t[o]),this.InitialValues.forEach(o=>{let s=n[o.propertyName];s!=null&&s!=null&&(o.inputType==2?(o.value=Number(s||0),o.defaultValue=o.value||0):(o.value=s,o.defaultValue=o.value))}),this.FormInitialization()},e=>{this.SweetAlert("error","Technical error","Unable to acccess the API resources")})}onCameraChange(r){let e=this;console.log("previous Camera : ",this.selectedCameraIdOld);let t=r.source.value;console.log("Current Camera : ",r.source.value);function n(){console.log("change called"),e.SelectCamera(t),e.selectedTabId=e.tabs[0].id;let m=t;e.queryCameraId=m,e.SelectCamera(e.queryCameraId),e.GetCameraSettings()}let o=[];this.InitialValues.forEach(m=>{s(m)});function s(m){m.value!=m.defaultValue&&o.push(m)}console.log(o),o.length>0?Tt.default.fire({title:"You are about to change camera type, all unsaved settings will be lost",icon:"warning",showCancelButton:!0,confirmButtonColor:"#0f1c24",confirmButtonText:"Yes, I am sure!",cancelButtonText:"No, cancel it!",cancelButtonColor:"#FFFFFF",showClass:{popup:"animated fadeInDown faster"},hideClass:{popup:"animated fadeOutUp faster"},reverseButtons:!0}).then(m=>{console.log(m),o=[],m.isConfirmed?(console.log("confirmation"),n()):(console.log("reverting back"),this.selectedCamera=ve.find(y=>y.id==this.selectedCameraIdOld),this.selectedCameraId=this.selectedCameraIdOld,console.log(this.selectedCamera),this.ChangeDetecter.detectChanges())}):n()}compareCategoryObjects(r,e){return r&&e&&r.id==e.id}SelectCamera(r){switch(this.selectedCamera=ve.filter(e=>e.id==r)[0],this.selectedCameraId=this.selectedCamera.id,r){case 1:this.InitialValues=we,this.FormProperties=we;break;case 2:this.InitialValues=rt,this.FormProperties=rt;break;case 3:this.InitialValues=at,this.FormProperties=at;break;case 4:this.InitialValues=nt,this.FormProperties=nt;break;default:this.InitialValues=we,this.FormProperties=we;break}this.SetupCameraSettings()}InitializeForm(){this.form=We.toFormGroup(this.FormProperties)}updateValues(r){this.FormProperties.forEach(e=>{e.propertyName==r.name&&(e.value=r.value)}),this.ApplyEffects2(r.name),this.ChangeDetecter.detectChanges()}onTabChange(r){this.pageScrollService.scroll({document:this.document,scrollTarget:r.title+"_"+r.id,duration:500}),this.selectedTabId=r.id,this.searchText="",this.filterInput()}onSubmit(){if(!this.form.valid){let s=[],m='<ul style="text-align:left;font-size: 15px;color: #F27474;">';Object.keys(this.form.controls).forEach(x=>{let v=this.form.get(x);v.markAsTouched(),v.updateValueAndValidity();let _=v.errors,F=this.InitialValues.find(H=>H.propertyName==x);_!=null&&(s.push(F.groupId),Object.keys(_).forEach(H=>{m+=`<li>${F.validationErrorMessages[H]}</li>`,console.warn(`${x}, ${H}${_[H]}`)}))}),m+="</ul>";let y=Array.from(new Set(s));this.CameraSettings.forEach(x=>{x.groups.forEach(v=>{y.indexOf(v.group.id)>=0&&(v.isOpen=!0)})}),this.ChangeDetecter.detectChanges(),this.SweetAlert("error","Please fix the validation errors",m);return}let r=[],e=[];this.InitialValues.forEach(s=>{s.value!=s.defaultValue&&r.push(s),e.push(s)});let t=[];for(let s in this.tabs){let y=this.groups.filter(x=>x.tabId==this.tabs[s].id).map(x=>({group:x,isOpen:!0}));y.forEach(x=>{x.initialValues=r.filter(v=>v.groupId==x.group.id)}),y=y.filter(x=>x.initialValues.length>0),y.length>0&&t.push({tab:this.tabs[s],groups:y})}let n={properties:t,userId:this.queryUserId,userName:this.queryUsername,roleId:Number(this.queryRoleId),roleName:this.RoleName,companyId:Number(this.queryCompanyId),companyName:this.OrganizationName,organizations:this.Organizations,roles:this.Roles,mode:this.mode,cameraId:this.queryCameraId};console.log("data : ",n);let o=this.dialog.open(tt,{data:n,panelClass:"custom-dialog-container"});o.componentInstance.UndoClick.subscribe(s=>{this.InitialValues.forEach(m=>{m.propertyName==s&&(m.value=m.defaultValue)}),this.FormProperties.forEach(m=>{m.propertyName==s&&(m.value=m.defaultValue)}),this.InitializeForm(),e=e.filter(m=>m.propertyName!=s)}),o.afterClosed().subscribe(s=>{if(console.log(s),s&&s.Status===!0){let m=1;switch(this.selectedCamera.id){case 1:m=1;break;case 2:m=2;break;case 3:m=3;break;case 4:m=4;break}let y=e.map(_=>(_.inputType==2&&_.renderType==5&&(_.value=Number(_.value)),(_.value===!1||_.value===!0)&&(_.value=Number(_.value)),{[_.propertyName]:_.value})),x={root:{}};y.forEach(_=>{Object.assign(x.root,_)});let v=null;console.log("RoleId : ",s.RoleId),console.log("CompanyId : ",s.RoleId),s.UpdateType==="User"?v={updateMode:1,cameraType:m,updateID:this.queryUserId,updatePayload:JSON.stringify(x)}:s.UpdateType==="Organization"?v={updateMode:3,cameraType:m,updateID:s.OrganizationId,updatePayload:JSON.stringify(x)}:s.UpdateType==="Role"?v={updateMode:2,cameraType:m,updateID:s.RoleId,updatePayload:JSON.stringify(x)}:v={updateMode:3,cameraType:m,updateID:0,updatePayload:JSON.stringify(x)},console.log("cameraSettings : ",v),this.cameraSettingService.updateCameraSettings(v).subscribe(_=>{this.SweetAlert("success","Success","Settings saved successfully").then(F=>{this.form.reset(),this.GetCameraSettings(),this.FormInitialization()})},_=>{this.SweetAlert("error","Technical error","Unable to save camera settings")})}})}filterInput(){console.log("selected tab : ",this.selectedTabId),this.FormProperties=this.InitialValues.filter(r=>{if(!this.searchText||this.PropertyNameCheck(r))return r})}PropertyNameCheck(r){let e=this;return r.displayName.toLowerCase().indexOf(e.searchText.toLowerCase())>-1}PropertyNameDisplayCheck(r){let e=this;return r.toLowerCase().indexOf(e.searchText.toLowerCase())>-1||!this.searchText}PropertyNameDisplayCheckGroup(r){let e=this,t=!1;return r.forEach(n=>{t=t||n.displayName.toLowerCase().indexOf(e.searchText.toLowerCase())>-1}),t||!this.searchText}updateSearchText(r){r.preventDefault(),this.searchText=r.target.value,this.filterInput()}SweetAlert(r,e,t){return Tt.default.fire({title:e,html:t,icon:r,confirmButtonColor:"#0f1c24",showClass:{popup:"animated fadeInDown faster"},hideClass:{popup:"animated fadeOutUp faster"}})}static \u0275fac=function(e){return new(e||a)(S(Jt),S(jt),S(Ht),S(ot),S(oe),S(Ft),S(Rt),S(fe),S(te))};static \u0275cmp=B({type:a,selectors:[["app-camera-settings"]],viewQuery:function(e,t){if(e&1&&(k(rr,5),k(ar,5)),e&2){let n;L(n=R())&&(t.scrollableDiv=n.first),L(n=R())&&(t.scrollToTopButton=n.first)}},standalone:!1,features:[le],decls:4,vars:1,consts:[["scrollableDiv",""],["scrollToTopButton",""],[2,"height","10px","width","100%","background-color","#f8f9fa"],[1,"content",2,"display","block","background-color","#f8f9fa"],["class","container-fluid",4,"ngIf"],[2,"height","25px","width","100%","background-color","#f8f9fa"],[1,"container-fluid"],["class","row",4,"ngIf"],[1,"row",2,"margin-bottom","24px"],[1,"col-4"],["appearance","fill",1,"white-dropdown",2,"width","100%","box-shadow","0 4px 14px 0 rgba(0, 0, 0, 0.03)"],[3,"valueChange","selectionChange","value"],["class","input-value",3,"value",4,"ngFor","ngForOf"],[1,"col-6"],["type","text","placeholder","Look for specific setting","autocomplete","off",1,"form-control","box-shadow","mask",2,"height","48px","border","none !important",3,"keyup","keydown.enter","value"],[1,"col-2","mt-4"],["type","button",1,"btn","default-success","rounded-pill",2,"width","100%","font-size","16px","font-weight","500","height","48px",3,"click"],[1,"row",3,"formGroup"],[2,"height","100%"],[1,"heading-color",2,"font-size","24px"],[3,"multiple"],[3,"selected","value","click",4,"ngFor","ngForOf"],[1,"col-8","scrollable-div",2,"height","80vh","overflow-y","auto",3,"scroll"],["type","button",1,"scroll-to-top",2,"display","none","position","fixed","right","2%","z-index","99","bottom","5%","width","45px","height","45px","color","white","border","1px solid #142430","border-radius","50%","background","#142430",3,"click"],[2,"font-size","10px",3,"icon"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-12","mb-2"],[1,"input-value",3,"value"],[3,"click","selected","value"],[1,"with-icon"],[2,"height","16px","width","16px",3,"icon"],[1,"heading-color",2,"margin-left","16px","margin-top","5px","font-size","16px","font-weight","500","letter-spacing","-0.38px","line-height","40px"],[1,"mt-3",2,"height","100%",3,"id"],[1,"tab-title"],[3,"icon"],["multi","",1,"example-headers-align"],[3,"expanded","expandedChange","opened","closed",4,"ngIf"],[3,"expandedChange","opened","closed","expanded"],[2,"display","flex","justify-content","center","align-items","center"],["style","font-size: 10px",3,"icon",4,"ngIf"],[3,"class",4,"ngIf"],[2,"margin-bottom","2%",3,"onChange","property","form"]],template:function(e,t){e&1&&(O(0,"div",2),u(1,"section",3),b(2,fr,29,10,"div",4),c(),O(3,"div",5)),e&2&&(l(2),d("ngIf",t.allowPageRender))},dependencies:[U,z,Le,Re,j,Kt,Xt,$t,Zt,K,Q,ni,ei,ti,ii,ai,ri,Z,De,st],styles:[".with-icon[_ngcontent-%COMP%]{display:flex;align-items:center}.mat-mdc-radio-button[_ngcontent-%COMP%] ~ .mat-mdc-radio-button[_ngcontent-%COMP%]{margin-left:16px}  .mat-mdc-select-panel .white-dropdown{background:red!important}.heading-color[_ngcontent-%COMP%]{color:#5f6369}.input-value[_ngcontent-%COMP%]{color:#5f6367;font-family:Roboto;font-size:16px;letter-spacing:0;line-height:19px}.tab-title[_ngcontent-%COMP%]{font-family:Roboto;font-size:24px;font-weight:500;color:#5f6369;letter-spacing:-.58px;line-height:40px}.col[_ngcontent-%COMP%], .col-1[_ngcontent-%COMP%], .col-10[_ngcontent-%COMP%], .col-11[_ngcontent-%COMP%], .col-12[_ngcontent-%COMP%], .col-2[_ngcontent-%COMP%], .col-3[_ngcontent-%COMP%], .col-4[_ngcontent-%COMP%], .col-5[_ngcontent-%COMP%], .col-6[_ngcontent-%COMP%], .col-7[_ngcontent-%COMP%], .col-8[_ngcontent-%COMP%], .col-9[_ngcontent-%COMP%], .col-auto[_ngcontent-%COMP%], .col-lg[_ngcontent-%COMP%], .col-lg-1[_ngcontent-%COMP%], .col-lg-10[_ngcontent-%COMP%], .col-lg-11[_ngcontent-%COMP%], .col-lg-12[_ngcontent-%COMP%], .col-lg-2[_ngcontent-%COMP%], .col-lg-3[_ngcontent-%COMP%], .col-lg-4[_ngcontent-%COMP%], .col-lg-5[_ngcontent-%COMP%], .col-lg-6[_ngcontent-%COMP%], .col-lg-7[_ngcontent-%COMP%], .col-lg-8[_ngcontent-%COMP%], .col-lg-9[_ngcontent-%COMP%], .col-lg-auto[_ngcontent-%COMP%], .col-md[_ngcontent-%COMP%], .col-md-1[_ngcontent-%COMP%], .col-md-10[_ngcontent-%COMP%], .col-md-11[_ngcontent-%COMP%], .col-md-12[_ngcontent-%COMP%], .col-md-2[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-4[_ngcontent-%COMP%], .col-md-5[_ngcontent-%COMP%], .col-md-6[_ngcontent-%COMP%], .col-md-7[_ngcontent-%COMP%], .col-md-8[_ngcontent-%COMP%], .col-md-9[_ngcontent-%COMP%], .col-md-auto[_ngcontent-%COMP%], .col-sm[_ngcontent-%COMP%], .col-sm-1[_ngcontent-%COMP%], .col-sm-10[_ngcontent-%COMP%], .col-sm-11[_ngcontent-%COMP%], .col-sm-12[_ngcontent-%COMP%], .col-sm-2[_ngcontent-%COMP%], .col-sm-3[_ngcontent-%COMP%], .col-sm-4[_ngcontent-%COMP%], .col-sm-5[_ngcontent-%COMP%], .col-sm-6[_ngcontent-%COMP%], .col-sm-7[_ngcontent-%COMP%], .col-sm-8[_ngcontent-%COMP%], .col-sm-9[_ngcontent-%COMP%], .col-sm-auto[_ngcontent-%COMP%], .col-xl[_ngcontent-%COMP%], .col-xl-1[_ngcontent-%COMP%], .col-xl-10[_ngcontent-%COMP%], .col-xl-11[_ngcontent-%COMP%], .col-xl-12[_ngcontent-%COMP%], .col-xl-2[_ngcontent-%COMP%], .col-xl-3[_ngcontent-%COMP%], .col-xl-4[_ngcontent-%COMP%], .col-xl-5[_ngcontent-%COMP%], .col-xl-6[_ngcontent-%COMP%], .col-xl-7[_ngcontent-%COMP%], .col-xl-8[_ngcontent-%COMP%], .col-xl-9[_ngcontent-%COMP%], .col-xl-auto[_ngcontent-%COMP%]{position:relative;width:100%;padding-right:14px;padding-left:14px}.box-shadow[_ngcontent-%COMP%]{box-shadow:0 2px 8px #00000008}.mask[_ngcontent-%COMP%]{box-sizing:border-box;border:1px solid #bdc1c5;border-radius:8px;background-color:#fff}.mat-mdc-card[_ngcontent-%COMP%], .mat-expansion-panel[_ngcontent-%COMP%]{border-radius:7px;box-shadow:0 4px 16px #00000008}  mat-label{font-size:15px!important;font-family:Roboto!important;color:#0f72ad!important;font-weight:700!important}  .custom-dialog-container{width:80%!important;height:80%!important}  .mat-mdc-dialog-content{margin:0!important;padding:0!important;max-height:100%!important}  .md-dialog-container{background-color:#000;width:250px;height:250px}  .mat-form-field-disabled mat-label{color:#c2c2c2!important}  .btn:hover{color:#fff;text-decoration:none}.tab-title[_ngcontent-%COMP%]{color:#142430;font-family:Roboto;font-size:24px;font-weight:500;letter-spacing:-.58px;line-height:40px;margin-bottom:15px}.tab-title[_ngcontent-%COMP%]   .ng-fa-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:15px}  .swal2-cancel{border:1px solid black!important;color:#000!important}  ngx-slider-tooltip-wrapper .ngx-slider-inner-tooltip{background-color:#fff}  ngx-slider .ngx-slider-pointer{cursor:pointer;width:15px!important;height:15px!important;top:-5px!important;background-color:#0f72ad!important;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{content:none!important}  .ngx-slider-bubble{font-size:12px!important;bottom:5px!important}  .ngx-slider-ticks{margin-left:-2%!important}  .ngx-slider-tick{width:5px!important}  .mat-mdc-form-field-subscript-wrapper{display:none!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#fff!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom-color:transparent}  .mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px)!important;border-bottom-left-radius:var(--mdc-shape-small, 4px)!important}"]})};var vr=[{path:"",component:lt}],dt=class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=de({type:a});static \u0275inj=se({imports:[ht.forChild(vr),ht]})};var Si=class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=de({type:a});static \u0275inj=se({imports:[Pe,li.forRoot(),dt,bi]})};export{Si as CameraSettingsModule};
