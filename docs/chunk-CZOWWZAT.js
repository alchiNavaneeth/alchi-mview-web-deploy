import{a as k}from"./chunk-R7VYI33H.js";import{a as S}from"./chunk-SU2D24LB.js";import{k as A,l as I}from"./chunk-B462WD2V.js";import{i as v,j as f,xa as g}from"./chunk-5TSWEN53.js";import{Bb as l,Fa as u,Mb as h,Yb as c,fd as d,hb as o,vb as m}from"./chunk-EHZKD7YP.js";import{f as p}from"./chunk-SE5JAREP.js";var b={production:!0};function R(n,y){n&1&&c(0,"topbar-old")}var M=(()=>{class n{elementRef;router;sharedService;tokenApiService;authService;userSessionService;isProduction;constructor(e,t,i,a,s,r){this.elementRef=e,this.router=t,this.sharedService=i,this.tokenApiService=a,this.authService=s,this.userSessionService=r,this.isProduction=b.production,this.initializeRouting()}navigateToRoute(e,t){Object.keys(t).length>0?this.router.navigate([e],{queryParams:t,queryParamsHandling:"merge"}):this.router.navigate([e])}initializeRouting(){return p(this,null,function*(){let e=this.getAttribute("route"),t=this.getAttribute("queryParams"),i=this.getAttribute("token"),a=this.getAttribute("loggedInUser");if(!i){let r=this.authService.token;r&&r!=="null"?(this.authService.checkTokenExpiration()||(yield this.tokenApiService.fetchToken()),i=r):(yield this.tokenApiService.fetchToken(),i=r)}let s=this.getAttribute("loggedInUserId")??0;if(this.userSessionService.userId=s,this.authService.token=i,e){let r=t?JSON.parse(t):{};this.navigateToRoute(e,r)}})}getAttribute(e){return this.elementRef.nativeElement.getAttribute(e)}ngOnInit(){let e=this.getAttribute("Screen");this.sharedService.changeScreen(e)}static \u0275fac=function(t){return new(t||n)(o(u),o(f),o(S),o(I),o(A),o(k))};static \u0275cmp=m({type:n,selectors:[["app-root"]],standalone:!1,decls:2,vars:1,consts:[[4,"ngIf"]],template:function(t,i){t&1&&(l(0,R,1,0,"topbar-old",0),c(1,"router-outlet")),t&2&&h("ngIf",!i.isProduction)},dependencies:[d,v,g],styles:["/*# sourceMappingURL=/Angular/WebForms/app.component.css.map */"]})}return n})();export{M as a};
//# sourceMappingURL=chunk-CZOWWZAT.js.map
