import{a as I}from"./chunk-7D63BCU7.js";import{a as g}from"./chunk-GCLFISJJ.js";import{k as S,l as A}from"./chunk-UC3LMKJM.js";import{i as f,j as d,xa as h}from"./chunk-3YWFRLHX.js";import{Bb as u,Fa as p,Mb as v,Yb as s,fd as l,hb as o,vb as m}from"./chunk-ULTRSJM6.js";import{f as c}from"./chunk-EQDQRRRY.js";var b={production:!0};function T(n,e){n&1&&s(0,"topbar-old")}var k=class n{constructor(e,t,i,R,a,r){this.elementRef=e;this.router=t;this.sharedService=i;this.tokenApiService=R;this.authService=a;this.userSessionService=r;this.isProduction=b.production,this.initializeRouting()}isProduction;navigateToRoute(e,t){Object.keys(t).length>0?this.router.navigate([e],{queryParams:t,queryParamsHandling:"merge"}):this.router.navigate([e])}initializeRouting(){return c(this,null,function*(){let e=this.getAttribute("route"),t=this.getAttribute("queryParams"),i=this.getAttribute("token"),R=this.getAttribute("loggedInUser");if(!i){let r=this.authService.token;r&&r!=="null"?(this.authService.checkTokenExpiration()||(yield this.tokenApiService.fetchToken()),i=r):(yield this.tokenApiService.fetchToken(),i=r)}let a=this.getAttribute("loggedInUserId")??0;if(this.userSessionService.userId=a,this.authService.token=i,e){let r=t?JSON.parse(t):{};this.navigateToRoute(e,r)}})}getAttribute(e){return this.elementRef.nativeElement.getAttribute(e)}ngOnInit(){let e=this.getAttribute("Screen");this.sharedService.changeScreen(e)}static \u0275fac=function(t){return new(t||n)(o(p),o(d),o(g),o(A),o(S),o(I))};static \u0275cmp=m({type:n,selectors:[["app-root"]],standalone:!1,decls:2,vars:1,consts:[[4,"ngIf"]],template:function(t,i){t&1&&(u(0,T,1,0,"topbar-old",0),s(1,"router-outlet")),t&2&&v("ngIf",!i.isProduction)},dependencies:[l,f,h],encapsulation:2})};export{k as a};
