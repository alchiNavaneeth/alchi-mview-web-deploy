import{$ as b1,$a as S1,$b as mi,$c as ie,Ab as j,Ac as Ze,B as p1,Ba as cu,Bb as V,Bc as E_,C as xt,Ca as Z,Cb as ea,Cc as Ii,D as Pe,Da as de,Db as ge,Dc as Pi,E as p_,Ea as Jo,Eb as pu,Ec as Ri,F as io,Fa as Ki,Fb as O,Fc as j1,G as no,Ga as xe,Gb as k_,Gc as ue,H as Xo,Ha as Q,Hb as N1,I as m_,Ia as ja,Ib as mu,J as lt,Ja as rt,Jb as fu,Jc as Oc,K as f_,Ka as cn,Kb as D_,Kc as ta,L as g_,La as w1,Lb as al,Ma as Ua,Mb as V1,N as Qo,Na as x1,Nb as M_,Nc as at,O as Zo,Oa as Sr,Ob as B1,Oc as st,P as __,Pa as Oe,Pb as Er,Q as m1,Qa as Ic,Qb as te,Qc as Cn,R as b_,Ra as C1,Rb as M,Rc as A_,S as f1,Sa as C_,Sb as Dt,Sc as U1,T as g1,Ta as rl,Tb as N,Tc as bu,U as v_,Ua as Ct,Ub as z1,Uc as $1,V as su,Va as Pc,Vb as et,W as ct,Wa as $a,Wb as Ti,Wc as _e,X as Yt,Xa as ol,Xb as le,Xc as T_,Y as Ee,Ya as k1,Yb as Rc,Yc as I_,Z as _1,Za as D1,Zb as Ga,Zc as W1,_ as Pt,_a as M1,_b as pi,_c as G1,a as Ue,aa as We,ab as E1,ac as b,ad as Mt,b as d1,ba as ro,bb as A1,bc as w,bd as fi,c as Un,ca as bt,cb as T1,cc as B,cd as Oi,d as c_,da as R,db as yn,dc as wn,dd as so,e as d_,ea as H,eb as oo,ec as xn,ed as sl,f as L,fa as v1,fb as ao,fc as yi,fd as q1,g as vi,ga as P,gb as I1,gc as be,h as h_,ha as y_,hb as P1,hc as yt,i as h1,ia as ke,ib as Ut,j as u_,ja as f,jb as y,jc as Wn,k as bn,ka as vn,kb as Wa,kc as Kt,l as ri,la as lr,lb as Rt,lc as T,m as pe,ma as lu,mc as k,n as Ha,na as y1,nb as ui,nc as me,o as Ac,oa as Yi,ob as Le,oc as re,p as u1,pa as $n,pb as ne,pc as gu,qa as we,qb as du,qc as Te,ra as W,rb as kt,rc as se,s as Se,sa as G,sb as R1,sc as q,t as nl,ta as je,tb as O1,tc as Y,u as ln,ua as Ai,ub as F1,uc as H1,v as Tc,va as Fe,vb as Xi,vc as S_,w as ru,wa as w_,wb as hu,wc as _u,x as to,xa as Ie,xb as L1,xc as ut,y as ou,ya as hi,yb as uu,yc as K,z as au,za as x_,zb as I,zc as De}from"./chunk-IBV6FFWV.js";import{a as E,b as ye,c as a_,e as U2,g as il,h as U,i as s_,j as l_,k as c1}from"./chunk-XYUF6GX4.js";var ve=new P("");var X1=null;function kn(){return X1}function P_(n){X1??=n}var Fc=class{},Lc=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:()=>f(Q1),providedIn:"platform"})}return n})(),R_=new P(""),Q1=(()=>{class n extends Lc{_location;_history;_doc=f(ve);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return kn().getBaseHref(this._doc)}onPopState(e){let i=kn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=kn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function vu(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function Y1(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function cr(n){return n&&n[0]!=="?"?`?${n}`:n}var dr=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:()=>f(wu),providedIn:"root"})}return n})(),yu=new P(""),wu=(()=>{class n extends dr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??f(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return vu(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+cr(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){let a=this.prepareExternalUrl(r+cr(o));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){let a=this.prepareExternalUrl(r+cr(o));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(ke(Lc),ke(yu,8))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ar=(()=>{class n{_subject=new L;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=G2(Y1(K1(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+cr(i))}normalize(e){return n.stripTrailingSlash(W2(this._basePath,K1(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+cr(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+cr(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=cr;static joinWithSlash=vu;static stripTrailingSlash=Y1;static \u0275fac=function(i){return new(i||n)(ke(dr))};static \u0275prov=R({token:n,factory:()=>$2(),providedIn:"root"})}return n})();function $2(){return new Ar(ke(dr))}function W2(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function K1(n){return n.replace(/\/index.html$/,"")}function G2(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var z_=(()=>{class n extends dr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){let i=vu(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let a=this.prepareExternalUrl(r+cr(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){let a=this.prepareExternalUrl(r+cr(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(ke(Lc),ke(yu,8))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})();var Fi=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Fi||{}),vt=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(vt||{}),dn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(dn||{}),co={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function nk(n){return Wn(n)[Kt.LocaleId]}function rk(n,t,e){let i=Wn(n),r=[i[Kt.DayPeriodsFormat],i[Kt.DayPeriodsStandalone]],o=Gn(r,t);return Gn(o,e)}function ok(n,t,e){let i=Wn(n),r=[i[Kt.DaysFormat],i[Kt.DaysStandalone]],o=Gn(r,t);return Gn(o,e)}function ak(n,t,e){let i=Wn(n),r=[i[Kt.MonthsFormat],i[Kt.MonthsStandalone]],o=Gn(r,t);return Gn(o,e)}function sk(n,t){let i=Wn(n)[Kt.Eras];return Gn(i,t)}function Nc(n,t){let e=Wn(n);return Gn(e[Kt.DateFormat],t)}function Vc(n,t){let e=Wn(n);return Gn(e[Kt.TimeFormat],t)}function Bc(n,t){let i=Wn(n)[Kt.DateTimeFormat];return Gn(i,t)}function zc(n,t){let e=Wn(n),i=e[Kt.NumberSymbols][t];if(typeof i>"u"){if(t===co.CurrencyDecimal)return e[Kt.NumberSymbols][co.Decimal];if(t===co.CurrencyGroup)return e[Kt.NumberSymbols][co.Group]}return i}function lk(n){if(!n[Kt.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Kt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ck(n){let t=Wn(n);return lk(t),(t[Kt.ExtraData][2]||[]).map(i=>typeof i=="string"?O_(i):[O_(i[0]),O_(i[1])])}function dk(n,t,e){let i=Wn(n);lk(i);let r=[i[Kt.ExtraData][0],i[Kt.ExtraData][1]],o=Gn(r,t)||[];return Gn(o,e)||[]}function Gn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function O_(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}var q2=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xu={},Y2=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function hk(n,t,e,i){let r=nF(n);t=lo(e,t)||t;let a=[],s;for(;t;)if(s=Y2.exec(t),s){a=a.concat(s.slice(1));let d=a.pop();if(!d)break;t=d}else{a.push(t);break}let l=r.getTimezoneOffset();i&&(l=pk(i,l),r=iF(r,i));let c="";return a.forEach(d=>{let h=eF(d);c+=h?h(r,e,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Su(n,t,e){let i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function lo(n,t){let e=nk(n);if(xu[e]??={},xu[e][t])return xu[e][t];let i="";switch(t){case"shortDate":i=Nc(n,dn.Short);break;case"mediumDate":i=Nc(n,dn.Medium);break;case"longDate":i=Nc(n,dn.Long);break;case"fullDate":i=Nc(n,dn.Full);break;case"shortTime":i=Vc(n,dn.Short);break;case"mediumTime":i=Vc(n,dn.Medium);break;case"longTime":i=Vc(n,dn.Long);break;case"fullTime":i=Vc(n,dn.Full);break;case"short":let r=lo(n,"shortTime"),o=lo(n,"shortDate");i=Cu(Bc(n,dn.Short),[r,o]);break;case"medium":let a=lo(n,"mediumTime"),s=lo(n,"mediumDate");i=Cu(Bc(n,dn.Medium),[a,s]);break;case"long":let l=lo(n,"longTime"),c=lo(n,"longDate");i=Cu(Bc(n,dn.Long),[l,c]);break;case"full":let d=lo(n,"fullTime"),h=lo(n,"fullDate");i=Cu(Bc(n,dn.Full),[d,h]);break}return i&&(xu[e][t]=i),i}function Cu(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return t!=null&&i in t?t[i]:e})),n}function hr(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,o=e));let a=String(n);for(;a.length<t;)a="0"+a;return i&&(a=a.slice(a.length-t)),o+a}function K2(n,t){return hr(n,3).substring(0,t)}function Xt(n,t,e=0,i=!1,r=!1){return function(o,a){let s=X2(n,o);if((e>0||s>-e)&&(s+=e),n===3)s===0&&e===-12&&(s=12);else if(n===6)return K2(s,t);let l=zc(a,co.MinusSign);return hr(s,t,l,i,r)}}function X2(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function St(n,t,e=Fi.Format,i=!1){return function(r,o){return Q2(r,o,n,t,e,i)}}function Q2(n,t,e,i,r,o){switch(e){case 2:return ak(t,r,i)[n.getMonth()];case 1:return ok(t,r,i)[n.getDay()];case 0:let a=n.getHours(),s=n.getMinutes();if(o){let c=ck(t),d=dk(t,r,i),h=c.findIndex(u=>{if(Array.isArray(u)){let[p,m]=u,g=a>=p.hours&&s>=p.minutes,_=a<m.hours||a===m.hours&&s<m.minutes;if(p.hours<m.hours){if(g&&_)return!0}else if(g||_)return!0}else if(u.hours===a&&u.minutes===s)return!0;return!1});if(h!==-1)return d[h]}return rk(t,r,i)[a<12?0:1];case 3:return sk(t,i)[n.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function ku(n){return function(t,e,i){let r=-1*i,o=zc(e,co.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case 0:return(r>=0?"+":"")+hr(a,2,o)+hr(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+hr(a,1,o);case 2:return"GMT"+(r>=0?"+":"")+hr(a,2,o)+":"+hr(Math.abs(r%60),2,o);case 3:return i===0?"Z":(r>=0?"+":"")+hr(a,2,o)+":"+hr(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var Z2=0,Mu=4;function J2(n){let t=Su(n,Z2,1).getDay();return Su(n,0,1+(t<=Mu?Mu:Mu+7)-t)}function uk(n){let t=n.getDay(),e=t===0?-3:Mu-t;return Su(n.getFullYear(),n.getMonth(),n.getDate()+e)}function F_(n,t=!1){return function(e,i){let r;if(t){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();r=1+Math.floor((a+o)/7)}else{let o=uk(e),a=J2(o.getFullYear()),s=o.getTime()-a.getTime();r=1+Math.round(s/6048e5)}return hr(r,n,zc(i,co.MinusSign))}}function Du(n,t=!1){return function(e,i){let o=uk(e).getFullYear();return hr(o,n,zc(i,co.MinusSign),t)}}var L_={};function eF(n){if(L_[n])return L_[n];let t;switch(n){case"G":case"GG":case"GGG":t=St(3,vt.Abbreviated);break;case"GGGG":t=St(3,vt.Wide);break;case"GGGGG":t=St(3,vt.Narrow);break;case"y":t=Xt(0,1,0,!1,!0);break;case"yy":t=Xt(0,2,0,!0,!0);break;case"yyy":t=Xt(0,3,0,!1,!0);break;case"yyyy":t=Xt(0,4,0,!1,!0);break;case"Y":t=Du(1);break;case"YY":t=Du(2,!0);break;case"YYY":t=Du(3);break;case"YYYY":t=Du(4);break;case"M":case"L":t=Xt(1,1,1);break;case"MM":case"LL":t=Xt(1,2,1);break;case"MMM":t=St(2,vt.Abbreviated);break;case"MMMM":t=St(2,vt.Wide);break;case"MMMMM":t=St(2,vt.Narrow);break;case"LLL":t=St(2,vt.Abbreviated,Fi.Standalone);break;case"LLLL":t=St(2,vt.Wide,Fi.Standalone);break;case"LLLLL":t=St(2,vt.Narrow,Fi.Standalone);break;case"w":t=F_(1);break;case"ww":t=F_(2);break;case"W":t=F_(1,!0);break;case"d":t=Xt(2,1);break;case"dd":t=Xt(2,2);break;case"c":case"cc":t=Xt(7,1);break;case"ccc":t=St(1,vt.Abbreviated,Fi.Standalone);break;case"cccc":t=St(1,vt.Wide,Fi.Standalone);break;case"ccccc":t=St(1,vt.Narrow,Fi.Standalone);break;case"cccccc":t=St(1,vt.Short,Fi.Standalone);break;case"E":case"EE":case"EEE":t=St(1,vt.Abbreviated);break;case"EEEE":t=St(1,vt.Wide);break;case"EEEEE":t=St(1,vt.Narrow);break;case"EEEEEE":t=St(1,vt.Short);break;case"a":case"aa":case"aaa":t=St(0,vt.Abbreviated);break;case"aaaa":t=St(0,vt.Wide);break;case"aaaaa":t=St(0,vt.Narrow);break;case"b":case"bb":case"bbb":t=St(0,vt.Abbreviated,Fi.Standalone,!0);break;case"bbbb":t=St(0,vt.Wide,Fi.Standalone,!0);break;case"bbbbb":t=St(0,vt.Narrow,Fi.Standalone,!0);break;case"B":case"BB":case"BBB":t=St(0,vt.Abbreviated,Fi.Format,!0);break;case"BBBB":t=St(0,vt.Wide,Fi.Format,!0);break;case"BBBBB":t=St(0,vt.Narrow,Fi.Format,!0);break;case"h":t=Xt(3,1,-12);break;case"hh":t=Xt(3,2,-12);break;case"H":t=Xt(3,1);break;case"HH":t=Xt(3,2);break;case"m":t=Xt(4,1);break;case"mm":t=Xt(4,2);break;case"s":t=Xt(5,1);break;case"ss":t=Xt(5,2);break;case"S":t=Xt(6,1);break;case"SS":t=Xt(6,2);break;case"SSS":t=Xt(6,3);break;case"Z":case"ZZ":case"ZZZ":t=ku(0);break;case"ZZZZZ":t=ku(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ku(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=ku(2);break;default:return null}return L_[n]=t,t}function pk(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function tF(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function iF(n,t,e){let r=n.getTimezoneOffset(),o=pk(t,r);return tF(n,-1*(o-r))}function nF(n){if(Z1(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,o=1,a=1]=n.split("-").map(s=>+s);return Su(r,o-1,a)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(q2))return rF(i)}let t=new Date(n);if(!Z1(t))throw new Error(`Unable to convert "${n}" into a date`);return t}function rF(n){let t=new Date(0),e=0,i=0,r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let a=Number(n[4]||0)-e,s=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(t,a,s,l,c),t}function Z1(n){return n instanceof Date&&!isNaN(n.valueOf())}var N_=/\s+/,J1=[],Qi=(()=>{class n{_ngEl;_renderer;initialClasses=J1;rawClass;stateMap=new Map;constructor(e,i){this._ngEl=e,this._renderer=i}set klass(e){this.initialClasses=e!=null?e.trim().split(N_):J1}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(N_):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(N_).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(ne(Q),ne(Le))};static \u0275dir=V({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Eu=class{$implicit;ngForOf;index;count;constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ho=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((r,o,a)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Eu(r.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let s=i.get(o);i.move(s,a),ek(s,r)}});for(let r=0,o=i.length;r<o;r++){let s=i.get(r).context;s.index=r,s.count=o,s.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);ek(o,r)})}static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(ne(kt),ne(Rt),ne(T_))};static \u0275dir=V({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function ek(n,t){n.context.$implicit=t.item}var Vt=(()=>{class n{_viewContainer;_context=new Au;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,i){this._viewContainer=e,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){tk(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){tk(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(ne(kt),ne(Rt))};static \u0275dir=V({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Au=class{$implicit=null;ngIf=null};function tk(n,t){if(n&&!n.createEmbeddedView)throw new We(2020,!1)}var H_=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){let[r,o]=e.split("."),a=r.indexOf("-")===-1?void 0:Wa.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static \u0275fac=function(i){return new(i||n)(ne(Q),ne(I_),ne(Le))};static \u0275dir=V({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),Tr=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(e,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||n)(ne(kt))};static \u0275dir=V({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[we]})}return n})();function mk(n,t){return new We(2100,!1)}var V_=class{createSubscription(t,e){return fi(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){fi(()=>t.unsubscribe())}},B_=class{createSubscription(t,e){return t.then(i=>e?.(i),i=>{throw i}),{unsubscribe:()=>{e=null}}}dispose(t){t.unsubscribe()}},oF=new B_,aF=new V_,uo=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(al(e))return oF;if(V1(e))return aF;throw mk(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(i){return new(i||n)(ne(_e,16))};static \u0275pipe=ea({name:"async",type:n,pure:!1})}return n})();var sF="mediumDate",fk=new P(""),gk=new P(""),j_=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(e==null||e===""||e!==e)return null;try{let a=i??this.defaultOptions?.dateFormat??sF,s=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return hk(e,a,o||this.locale,s)}catch(a){throw mk(n,a.message)}}static \u0275fac=function(i){return new(i||n)(ne(bu,16),ne(fk,24),ne(gk,24))};static \u0275pipe=ea({name:"date",type:n,pure:!0})}return n})();function lF(n,t){return{key:n,value:t}}var U_=(()=>{class n{differs;constructor(e){this.differs=e}differ;keyValues=[];compareFn=ik;transform(e,i=ik){if(!e||!(e instanceof Map)&&typeof e!="object")return null;this.differ??=this.differs.find(e).create();let r=this.differ.diff(e),o=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(a=>{this.keyValues.push(lF(a.key,a.currentValue))})),(r||o)&&(i&&this.keyValues.sort(i),this.compareFn=i),this.keyValues}static \u0275fac=function(i){return new(i||n)(ne(I_,16))};static \u0275pipe=ea({name:"keyvalue",type:n,pure:!1})}return n})();function ik(n,t){let e=n.key,i=t.key;if(e===i)return 0;if(e==null)return 1;if(i==null)return-1;if(typeof e=="string"&&typeof i=="string")return e<i?-1:1;if(typeof e=="number"&&typeof i=="number")return e-i;if(typeof e=="boolean"&&typeof i=="boolean")return e<i?-1:1;let r=String(e),o=String(i);return r==o?0:r<o?-1:1}var Li=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({})}return n})();function Hc(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let i=e.indexOf("="),[r,o]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var Tu="browser",_k="server";function jc(n){return n===Tu}function Iu(n){return n===_k}var qa=class{};var bk=(()=>{class n{static \u0275prov=R({token:n,providedIn:"root",factory:()=>new $_(f(ve),window)})}return n})(),$_=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let e=dF(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function dF(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let a=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}var Ou=new P(""),K_=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r,o){return this._findPluginFor(i).addEventListener(e,i,r,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new We(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||n)(ke(Ou),ke(de))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),Uc=class{_doc;constructor(t){this._doc=t}manager},Pu="ng-app-id";function vk(n){for(let t of n)t.remove()}function yk(n,t){let e=t.createElement("style");return e.textContent=n,e}function hF(n,t,e,i){let r=n.head?.querySelectorAll(`style[${Pu}="${t}"],link[${Pu}="${t}"]`);if(r)for(let o of r)o.removeAttribute(Pu),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function q_(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var X_=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.isServer=Iu(o),hF(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let r of e)this.addUsage(r,this.inline,yk);i?.forEach(r=>this.addUsage(r,this.external,q_))}removeStyles(e,i){for(let r of e)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,i,r){let o=i.get(e);o?o.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,r(e,this.doc)))})}removeUsage(e,i){let r=i.get(e);r&&(r.usage--,r.usage<=0&&(vk(r.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])vk(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(e,yk(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(e,q_(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(Pu,this.appId),e.appendChild(i)}static \u0275fac=function(i){return new(i||n)(ke(ve),ke(Ua),ke(Ic,8),ke(Sr))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),G_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Q_=/%COMP%/g;var xk="%COMP%",uF=`_nghost-${xk}`,pF=`_ngcontent-${xk}`,mF=!0,fF=new P("",{providedIn:"root",factory:()=>mF});function gF(n){return pF.replace(Q_,n)}function _F(n){return uF.replace(Q_,n)}function Ck(n,t){return t.map(e=>e.replace(Q_,n))}var Z_=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,r,o,a,s,l,c=null,d=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=s,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=Iu(s),this.defaultRenderer=new $c(e,a,l,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Pc.ShadowDom&&(i=ye(E({},i),{encapsulation:Pc.Emulated}));let r=this.getOrCreateRenderer(e,i);return r instanceof Ru?r.applyToHost(e):r instanceof Wc&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let a=this.doc,s=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer,u=this.tracingService;switch(i.encapsulation){case Pc.Emulated:o=new Ru(l,c,i,this.appId,d,a,s,h,u);break;case Pc.ShadowDom:return new Y_(l,c,e,i,a,s,this.nonce,h,u);default:o=new Wc(l,c,i,d,a,s,h,u);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||n)(ke(K_),ke(X_),ke(Ua),ke(fF),ke(ve),ke(Sr),ke(de),ke(Ic),ke(C1,8))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),$c=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,r,o){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(G_[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(wk(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(wk(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new We(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;let o=G_[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let r=G_[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Wa.DashCase|Wa.Important)?t.style.setProperty(e,i,r&Wa.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Wa.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,r){if(typeof t=="string"&&(t=kn().getGlobalEventTarget(this.doc,t),!t))throw new We(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function wk(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Y_=class extends $c{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,i,r,o,a,s,l,c){super(t,o,a,l,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=Ck(r.id,d);for(let u of d){let p=document.createElement("style");s&&p.setAttribute("nonce",s),p.textContent=u,this.shadowRoot.appendChild(p)}let h=r.getExternalStyles?.();if(h)for(let u of h){let p=q_(u,o);s&&p.setAttribute("nonce",s),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Wc=class extends $c{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,r,o,a,s,l,c){super(t,o,a,s,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let d=i.styles;this.styles=c?Ck(c,d):d,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ru=class extends Wc{contentAttr;hostAttr;constructor(t,e,i,r,o,a,s,l,c){let d=r+"-"+i.id;super(t,e,i,o,a,s,l,c,d),this.contentAttr=gF(d),this.hostAttr=_F(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}};var Fu=class n extends Fc{supportsDOMEvents=!0;static makeCurrent(){P_(new n)}onAndCancel(t,e,i,r){return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=bF();return e==null?null:vF(e)}resetBaseElement(){Gc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Hc(document.cookie,t)}},Gc=null;function bF(){return Gc=Gc||document.head.querySelector("base"),Gc?Gc.getAttribute("href"):null}function vF(n){return new URL(n,document.baseURI).pathname}var Lu=class{addToWindow(t){ro.getAngularTestability=(i,r=!0)=>{let o=t.findTestabilityInTree(i,r);if(o==null)throw new We(5103,!1);return o},ro.getAllAngularTestabilities=()=>t.getAllTestabilities(),ro.getAllAngularRootElements=()=>t.getAllRootElements();let e=i=>{let r=ro.getAllAngularTestabilities(),o=r.length,a=function(){o--,o==0&&i()};r.forEach(s=>{s.whenStable(a)})};ro.frameworkStabilizers||(ro.frameworkStabilizers=[]),ro.frameworkStabilizers.push(e)}findTestabilityInTree(t,e,i){if(e==null)return null;let r=t.getTestability(e);return r??(i?kn().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},yF=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),Dk=(()=>{class n extends Uc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r,o){return e.addEventListener(i,r,o),()=>this.removeEventListener(e,i,r,o)}removeEventListener(e,i,r,o){return e.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(ke(ve))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),kk=["alt","control","meta","shift"],wF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Mk=(()=>{class n extends Uc{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,r,o){let a=n.parseEventName(i),s=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>kn().onAndCancel(e,a.domEventName,s,o))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),a="",s=i.indexOf("code");if(s>-1&&(i.splice(s,1),a="code."),kk.forEach(c=>{let d=i.indexOf(c);d>-1&&(i.splice(d,1),a+=c+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=a,l}static matchEventFullKeyCode(e,i){let r=wF[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),kk.forEach(a=>{if(a!==r){let s=xF[a];s(e)&&(o+=a+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||n)(ke(ve))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})();function CF(){Fu.makeCurrent()}function kF(){return new Jo}function DF(){return w1(document),document}var MF=[{provide:Sr,useValue:Tu},{provide:x1,useValue:CF,multi:!0},{provide:ve,useFactory:DF}],SF=$1(W1,"browser",MF);var EF=[{provide:mu,useClass:Lu},{provide:N1,useClass:fu,deps:[de,D_,mu]},{provide:fu,useClass:fu,deps:[de,D_,mu]}],AF=[{provide:y1,useValue:"root"},{provide:Jo,useFactory:kF},{provide:Ou,useClass:Dk,multi:!0,deps:[ve]},{provide:Ou,useClass:Mk,multi:!0,deps:[ve]},Z_,X_,K_,{provide:ui,useExisting:Z_},{provide:qa,useClass:yF},[]],TF=(()=>{class n{constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({providers:[...AF,...EF],imports:[Li,G1]})}return n})();var cl=class{},qc=class{},na=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),o=e.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let a=this.headers.get(e);if(!a)return;a=a.filter(s=>o.indexOf(s)===-1),a.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}break}}addHeaderEntry(t,e){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Vu=class{encodeKey(t){return Sk(t)}encodeValue(t){return Sk(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function IF(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[a,s]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(a)||[];l.push(s),e.set(a,l)}),e}var PF=/%(\d[a-f0-9])/gi,RF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Sk(n){return encodeURIComponent(n).replace(PF,(t,e)=>RF[e]??t)}function Nu(n){return`${n}`}var po=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Vu,t.fromString){if(t.fromObject)throw new We(2805,!1);this.map=IF(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],r=Array.isArray(i)?i.map(Nu):[Nu(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(Nu(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(Nu(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Bu=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function OF(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Ek(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Ak(n){return typeof Blob<"u"&&n instanceof Blob}function Tk(n){return typeof FormData<"u"&&n instanceof FormData}function FF(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Ik="Content-Type",Pk="Accept",Rk="X-Request-URL",Ok="text/plain",Fk="application/json",LF=`${Fk}, ${Ok}, */*`,ll=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,i,r){this.url=e,this.method=t.toUpperCase();let o;if(OF(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new na,this.context??=new Bu,!this.params)this.params=new po,this.urlWithParams=e;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=e;else{let s=e.indexOf("?"),l=s===-1?"?":s<e.length-1?"&":"";this.urlWithParams=e+l+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Ek(this.body)||Ak(this.body)||Tk(this.body)||FF(this.body)?this.body:this.body instanceof po?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Tk(this.body)?null:Ak(this.body)?this.body.type||null:Ek(this.body)?null:typeof this.body=="string"?Ok:this.body instanceof po?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Fk:null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,a=t.body!==void 0?t.body:this.body,s=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,d=t.params||this.params,h=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((u,p)=>u.set(p,t.setHeaders[p]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((u,p)=>u.set(p,t.setParams[p]),d)),new n(e,i,a,{params:d,headers:c,context:h,reportProgress:l,responseType:r,withCredentials:s,transferCache:o})}},Ya=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Ya||{}),dl=class{headers;status;statusText;url;ok;type;constructor(t,e=200,i="OK"){this.headers=t.headers||new na,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},zu=class n extends dl{constructor(t={}){super(t)}type=Ya.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Yc=class n extends dl{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Ya.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Kc=class extends dl{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},NF=200,VF=204;function J_(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var ju=(()=>{class n{handler;constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof ll)o=e;else{let l;r.headers instanceof na?l=r.headers:l=new na(r.headers);let c;r.params&&(r.params instanceof po?c=r.params:c=new po({fromObject:r.params})),o=new ll(e,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let a=pe(o).pipe(no(l=>this.handler.handle(l)));if(e instanceof ll||r.observe==="events")return a;let s=a.pipe(Pe(l=>l instanceof Yc));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(Se(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new We(2806,!1);return l.body}));case"blob":return s.pipe(Se(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new We(2807,!1);return l.body}));case"text":return s.pipe(Se(l=>{if(l.body!==null&&typeof l.body!="string")throw new We(2808,!1);return l.body}));case"json":default:return s.pipe(Se(l=>l.body))}case"response":return s;default:throw new We(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new po().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,J_(r,i))}post(e,i,r={}){return this.request("POST",e,J_(r,i))}put(e,i,r={}){return this.request("PUT",e,J_(r,i))}static \u0275fac=function(i){return new(i||n)(ke(cl))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})();var BF=new P("");function zF(n,t){return t(n)}function HF(n,t,e){return(i,r)=>$n(e,()=>t(i,o=>n(o,r)))}var tb=new P(""),Lk=new P(""),Nk=new P("",{providedIn:"root",factory:()=>!0});var Hu=(()=>{class n extends cl{backend;injector;chain=null;pendingTasks=f(cu);contributeToStability=f(Nk);constructor(e,i){super(),this.backend=e,this.injector=i}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(tb),...this.injector.get(Lk,[])]));this.chain=i.reduceRight((r,o)=>HF(r,o,this.injector),zF)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Qo(()=>this.pendingTasks.remove(i)))}else return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(ke(qc),ke(Yi))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})();var jF=/^\)\]\}',?\n/,UF=RegExp(`^${Rk}:`,"m");function $F(n){return"responseURL"in n&&n.responseURL?n.responseURL:UF.test(n.getAllResponseHeaders())?n.getResponseHeader(Rk):null}var eb=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new We(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ri(i.\u0275loadImpl()):pe(null)).pipe(Yt(()=>new Un(o=>{let a=i.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((g,_)=>a.setRequestHeader(g,_.join(","))),e.headers.has(Pk)||a.setRequestHeader(Pk,LF),!e.headers.has(Ik)){let g=e.detectContentTypeHeader();g!==null&&a.setRequestHeader(Ik,g)}if(e.responseType){let g=e.responseType.toLowerCase();a.responseType=g!=="json"?g:"text"}let s=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let g=a.statusText||"OK",_=new na(a.getAllResponseHeaders()),v=$F(a)||e.url;return l=new zu({headers:_,status:a.status,statusText:g,url:v}),l},d=()=>{let{headers:g,status:_,statusText:v,url:x}=c(),C=null;_!==VF&&(C=typeof a.response>"u"?a.responseText:a.response),_===0&&(_=C?NF:0);let D=_>=200&&_<300;if(e.responseType==="json"&&typeof C=="string"){let A=C;C=C.replace(jF,"");try{C=C!==""?JSON.parse(C):null}catch($){C=A,D&&(D=!1,C={error:$,text:C})}}D?(o.next(new Yc({body:C,headers:g,status:_,statusText:v,url:x||void 0})),o.complete()):o.error(new Kc({error:C,headers:g,status:_,statusText:v,url:x||void 0}))},h=g=>{let{url:_}=c(),v=new Kc({error:g,status:a.status||0,statusText:a.statusText||"Unknown Error",url:_||void 0});o.error(v)},u=!1,p=g=>{u||(o.next(c()),u=!0);let _={type:Ya.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(_.total=g.total),e.responseType==="text"&&a.responseText&&(_.partialText=a.responseText),o.next(_)},m=g=>{let _={type:Ya.UploadProgress,loaded:g.loaded};g.lengthComputable&&(_.total=g.total),o.next(_)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),e.reportProgress&&(a.addEventListener("progress",p),s!==null&&a.upload&&a.upload.addEventListener("progress",m)),a.send(s),o.next({type:Ya.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),e.reportProgress&&(a.removeEventListener("progress",p),s!==null&&a.upload&&a.upload.removeEventListener("progress",m)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(i){return new(i||n)(ke(qa))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),Vk=new P(""),WF="XSRF-TOKEN",GF=new P("",{providedIn:"root",factory:()=>WF}),qF="X-XSRF-TOKEN",YF=new P("",{providedIn:"root",factory:()=>qF}),Xc=class{},KF=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,i){this.doc=e,this.cookieName=i}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Hc(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||n)(ke(ve),ke(GF))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})();function XF(n,t){let e=n.url.toLowerCase();if(!f(Vk)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let i=f(Xc).getToken(),r=f(YF);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var ib=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(ib||{});function QF(n,t){return{\u0275kind:n,\u0275providers:t}}function ZF(...n){let t=[ju,eb,Hu,{provide:cl,useExisting:Hu},{provide:qc,useFactory:()=>f(BF,{optional:!0})??f(eb)},{provide:tb,useValue:XF,multi:!0},{provide:Vk,useValue:!0},{provide:Xc,useClass:KF}];for(let e of n)t.push(...e.\u0275providers);return lu(t)}function JF(n){return QF(ib.Interceptors,n.map(t=>({provide:tb,useValue:t,multi:!0})))}var Bk=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||n)(ke(ve))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var mo=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=ke(iL),r},providedIn:"root"})}return n})(),iL=(()=>{class n extends mo{_doc;constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case yn.NONE:return i;case yn.HTML:return ol(i,"HTML")?$a(i):T1(this._doc,String(i)).toString();case yn.STYLE:return ol(i,"Style")?$a(i):i;case yn.SCRIPT:if(ol(i,"Script"))return $a(i);throw new We(5200,!1);case yn.URL:return ol(i,"URL")?$a(i):A1(String(i));case yn.RESOURCE_URL:if(ol(i,"ResourceURL"))return $a(i);throw new We(5201,!1);default:throw new We(5202,!1)}}bypassSecurityTrustHtml(e){return k1(e)}bypassSecurityTrustStyle(e){return D1(e)}bypassSecurityTrustScript(e){return M1(e)}bypassSecurityTrustUrl(e){return S1(e)}bypassSecurityTrustResourceUrl(e){return E1(e)}static \u0275fac=function(i){return new(i||n)(ke(ve))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nL(n,t,e){return(t=oL(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function zk(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function ae(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(e),!0).forEach(function(i){nL(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):zk(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function rL(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function oL(n){var t=rL(n,"string");return typeof t=="symbol"?t:t+""}var Hk=()=>{},Db={},pD={},mD=null,fD={mark:Hk,measure:Hk};try{typeof window<"u"&&(Db=window),typeof document<"u"&&(pD=document),typeof MutationObserver<"u"&&(mD=MutationObserver),typeof performance<"u"&&(fD=performance)}catch{}var{userAgent:jk=""}=Db.navigator||{},oa=Db,Et=pD,Uk=mD,Uu=fD,SJ=!!oa.document,_o=!!Et.documentElement&&!!Et.head&&typeof Et.addEventListener=="function"&&typeof Et.createElement=="function",gD=~jk.indexOf("MSIE")||~jk.indexOf("Trident/"),aL=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,sL=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,_D={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},lL={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},bD=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Ni="classic",Ku="duotone",cL="sharp",dL="sharp-duotone",vD=[Ni,Ku,cL,dL],hL={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},uL={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},pL=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),mL={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},fL=["fak","fa-kit","fakd","fa-kit-duotone"],$k={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},gL=["kit"],_L={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},bL=["fak","fakd"],vL={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},Wk={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},$u={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},yL=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],wL=["fak","fa-kit","fakd","fa-kit-duotone"],xL={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},CL={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},kL={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},lb={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},DL=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],cb=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...yL,...DL],ML=["solid","regular","light","thin","duotone","brands"],yD=[1,2,3,4,5,6,7,8,9,10],SL=yD.concat([11,12,13,14,15,16,17,18,19,20]),EL=[...Object.keys(kL),...ML,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",$u.GROUP,$u.SWAP_OPACITY,$u.PRIMARY,$u.SECONDARY].concat(yD.map(n=>"".concat(n,"x"))).concat(SL.map(n=>"w-".concat(n))),AL={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},fo="___FONT_AWESOME___",db=16,wD="fa",xD="svg-inline--fa",Xa="data-fa-i2svg",hb="data-fa-pseudo-element",TL="data-fa-pseudo-element-pending",Mb="data-prefix",Sb="data-icon",Gk="fontawesome-i2svg",IL="async",PL=["HTML","HEAD","STYLE","SCRIPT"],CD=(()=>{try{return!0}catch{return!1}})();function nd(n){return new Proxy(n,{get(t,e){return e in t?t[e]:t[Ni]}})}var kD=ae({},_D);kD[Ni]=ae(ae(ae(ae({},{"fa-duotone":"duotone"}),_D[Ni]),$k.kit),$k["kit-duotone"]);var RL=nd(kD),ub=ae({},mL);ub[Ni]=ae(ae(ae(ae({},{duotone:"fad"}),ub[Ni]),Wk.kit),Wk["kit-duotone"]);var qk=nd(ub),pb=ae({},lb);pb[Ni]=ae(ae({},pb[Ni]),vL.kit);var Eb=nd(pb),mb=ae({},CL);mb[Ni]=ae(ae({},mb[Ni]),_L.kit);var EJ=nd(mb),OL=aL,DD="fa-layers-text",FL=sL,LL=ae({},hL),AJ=nd(LL),NL=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],nb=lL,VL=[...gL,...EL],Jc=oa.FontAwesomeConfig||{};function BL(n){var t=Et.querySelector("script["+n+"]");if(t)return t.getAttribute(n)}function zL(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}Et&&typeof Et.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[e,i]=t,r=zL(BL(e));r!=null&&(Jc[i]=r)});var MD={styleDefault:"solid",familyDefault:Ni,cssPrefix:wD,replacementClass:xD,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Jc.familyPrefix&&(Jc.cssPrefix=Jc.familyPrefix);var pl=ae(ae({},MD),Jc);pl.autoReplaceSvg||(pl.observeMutations=!1);var Me={};Object.keys(MD).forEach(n=>{Object.defineProperty(Me,n,{enumerable:!0,set:function(t){pl[n]=t,ed.forEach(e=>e(Me))},get:function(){return pl[n]}})});Object.defineProperty(Me,"familyPrefix",{enumerable:!0,set:function(n){pl.cssPrefix=n,ed.forEach(t=>t(Me))},get:function(){return pl.cssPrefix}});oa.FontAwesomeConfig=Me;var ed=[];function HL(n){return ed.push(n),()=>{ed.splice(ed.indexOf(n),1)}}var ra=db,Ir={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function jL(n){if(!n||!_o)return;let t=Et.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n;let e=Et.head.childNodes,i=null;for(let r=e.length-1;r>-1;r--){let o=e[r],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(i=o)}return Et.head.insertBefore(t,i),n}var UL="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function td(){let n=12,t="";for(;n-- >0;)t+=UL[Math.random()*62|0];return t}function ml(n){let t=[];for(let e=(n||[]).length>>>0;e--;)t[e]=n[e];return t}function Ab(n){return n.classList?ml(n.classList):(n.getAttribute("class")||"").split(" ").filter(t=>t)}function SD(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function $L(n){return Object.keys(n||{}).reduce((t,e)=>t+"".concat(e,'="').concat(SD(n[e]),'" '),"").trim()}function Xu(n){return Object.keys(n||{}).reduce((t,e)=>t+"".concat(e,": ").concat(n[e].trim(),";"),"")}function Tb(n){return n.size!==Ir.size||n.x!==Ir.x||n.y!==Ir.y||n.rotate!==Ir.rotate||n.flipX||n.flipY}function WL(n){let{transform:t,containerWidth:e,iconWidth:i}=n,r={transform:"translate(".concat(e/2," 256)")},o="translate(".concat(t.x*32,", ").concat(t.y*32,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)"),l={transform:"".concat(o," ").concat(a," ").concat(s)},c={transform:"translate(".concat(i/2*-1," -256)")};return{outer:r,inner:l,path:c}}function GL(n){let{transform:t,width:e=db,height:i=db,startCentered:r=!1}=n,o="";return r&&gD?o+="translate(".concat(t.x/ra-e/2,"em, ").concat(t.y/ra-i/2,"em) "):r?o+="translate(calc(-50% + ".concat(t.x/ra,"em), calc(-50% + ").concat(t.y/ra,"em)) "):o+="translate(".concat(t.x/ra,"em, ").concat(t.y/ra,"em) "),o+="scale(".concat(t.size/ra*(t.flipX?-1:1),", ").concat(t.size/ra*(t.flipY?-1:1),") "),o+="rotate(".concat(t.rotate,"deg) "),o}var qL=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function ED(){let n=wD,t=xD,e=Me.cssPrefix,i=Me.replacementClass,r=qL;if(e!==n||i!==t){let o=new RegExp("\\.".concat(n,"\\-"),"g"),a=new RegExp("\\--".concat(n,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");r=r.replace(o,".".concat(e,"-")).replace(a,"--".concat(e,"-")).replace(s,".".concat(i))}return r}var Yk=!1;function rb(){Me.autoAddCss&&!Yk&&(jL(ED()),Yk=!0)}var YL={mixout(){return{dom:{css:ED,insertCss:rb}}},hooks(){return{beforeDOMElementCreation(){rb()},beforeI2svg(){rb()}}}},go=oa||{};go[fo]||(go[fo]={});go[fo].styles||(go[fo].styles={});go[fo].hooks||(go[fo].hooks={});go[fo].shims||(go[fo].shims=[]);var Pr=go[fo],AD=[],TD=function(){Et.removeEventListener("DOMContentLoaded",TD),qu=1,AD.map(n=>n())},qu=!1;_o&&(qu=(Et.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Et.readyState),qu||Et.addEventListener("DOMContentLoaded",TD));function KL(n){_o&&(qu?setTimeout(n,0):AD.push(n))}function rd(n){let{tag:t,attributes:e={},children:i=[]}=n;return typeof n=="string"?SD(n):"<".concat(t," ").concat($L(e),">").concat(i.map(rd).join(""),"</").concat(t,">")}function Kk(n,t,e){if(n&&n[t]&&n[t][e])return{prefix:t,iconName:e,icon:n[t][e]}}var XL=function(t,e){return function(i,r,o,a){return t.call(e,i,r,o,a)}},ob=function(t,e,i,r){var o=Object.keys(t),a=o.length,s=r!==void 0?XL(e,r):e,l,c,d;for(i===void 0?(l=1,d=t[o[0]]):(l=0,d=i);l<a;l++)c=o[l],d=s(d,t[c],c,t);return d};function QL(n){let t=[],e=0,i=n.length;for(;e<i;){let r=n.charCodeAt(e++);if(r>=55296&&r<=56319&&e<i){let o=n.charCodeAt(e++);(o&64512)==56320?t.push(((r&1023)<<10)+(o&1023)+65536):(t.push(r),e--)}else t.push(r)}return t}function fb(n){let t=QL(n);return t.length===1?t[0].toString(16):null}function ZL(n,t){let e=n.length,i=n.charCodeAt(t),r;return i>=55296&&i<=56319&&e>t+1&&(r=n.charCodeAt(t+1),r>=56320&&r<=57343)?(i-55296)*1024+r-56320+65536:i}function Xk(n){return Object.keys(n).reduce((t,e)=>{let i=n[e];return!!i.icon?t[i.iconName]=i.icon:t[e]=i,t},{})}function gb(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{skipHooks:i=!1}=e,r=Xk(t);typeof Pr.hooks.addPack=="function"&&!i?Pr.hooks.addPack(n,Xk(t)):Pr.styles[n]=ae(ae({},Pr.styles[n]||{}),r),n==="fas"&&gb("fa",t)}var{styles:id,shims:JL}=Pr,ID=Object.keys(Eb),eN=ID.reduce((n,t)=>(n[t]=Object.keys(Eb[t]),n),{}),Ib=null,PD={},RD={},OD={},FD={},LD={};function tN(n){return~VL.indexOf(n)}function iN(n,t){let e=t.split("-"),i=e[0],r=e.slice(1).join("-");return i===n&&r!==""&&!tN(r)?r:null}var ND=()=>{let n=i=>ob(id,(r,o,a)=>(r[a]=ob(o,i,{}),r),{});PD=n((i,r,o)=>(r[3]&&(i[r[3]]=o),r[2]&&r[2].filter(s=>typeof s=="number").forEach(s=>{i[s.toString(16)]=o}),i)),RD=n((i,r,o)=>(i[o]=o,r[2]&&r[2].filter(s=>typeof s=="string").forEach(s=>{i[s]=o}),i)),LD=n((i,r,o)=>{let a=r[2];return i[o]=o,a.forEach(s=>{i[s]=o}),i});let t="far"in id||Me.autoFetchSvg,e=ob(JL,(i,r)=>{let o=r[0],a=r[1],s=r[2];return a==="far"&&!t&&(a="fas"),typeof o=="string"&&(i.names[o]={prefix:a,iconName:s}),typeof o=="number"&&(i.unicodes[o.toString(16)]={prefix:a,iconName:s}),i},{names:{},unicodes:{}});OD=e.names,FD=e.unicodes,Ib=Qu(Me.styleDefault,{family:Me.familyDefault})};HL(n=>{Ib=Qu(n.styleDefault,{family:Me.familyDefault})});ND();function Pb(n,t){return(PD[n]||{})[t]}function nN(n,t){return(RD[n]||{})[t]}function Ka(n,t){return(LD[n]||{})[t]}function VD(n){return OD[n]||{prefix:null,iconName:null}}function rN(n){let t=FD[n],e=Pb("fas",n);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}function aa(){return Ib}var BD=()=>({prefix:null,iconName:null,rest:[]});function oN(n){let t=Ni,e=ID.reduce((i,r)=>(i[r]="".concat(Me.cssPrefix,"-").concat(r),i),{});return vD.forEach(i=>{(n.includes(e[i])||n.some(r=>eN[i].includes(r)))&&(t=i)}),t}function Qu(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{family:e=Ni}=t,i=RL[e][n];if(e===Ku&&!n)return"fad";let r=qk[e][n]||qk[e][i],o=n in Pr.styles?n:null;return r||o||null}function aN(n){let t=[],e=null;return n.forEach(i=>{let r=iN(Me.cssPrefix,i);r?e=r:i&&t.push(i)}),{iconName:e,rest:t}}function Qk(n){return n.sort().filter((t,e,i)=>i.indexOf(t)===e)}function Zu(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{skipLookups:e=!1}=t,i=null,r=cb.concat(wL),o=Qk(n.filter(h=>r.includes(h))),a=Qk(n.filter(h=>!cb.includes(h))),s=o.filter(h=>(i=h,!bD.includes(h))),[l=null]=s,c=oN(o),d=ae(ae({},aN(a)),{},{prefix:Qu(l,{family:c})});return ae(ae(ae({},d),dN({values:n,family:c,styles:id,config:Me,canonical:d,givenPrefix:i})),sN(e,i,d))}function sN(n,t,e){let{prefix:i,iconName:r}=e;if(n||!i||!r)return{prefix:i,iconName:r};let o=t==="fa"?VD(r):{},a=Ka(i,r);return r=o.iconName||a||r,i=o.prefix||i,i==="far"&&!id.far&&id.fas&&!Me.autoFetchSvg&&(i="fas"),{prefix:i,iconName:r}}var lN=vD.filter(n=>n!==Ni||n!==Ku),cN=Object.keys(lb).filter(n=>n!==Ni).map(n=>Object.keys(lb[n])).flat();function dN(n){let{values:t,family:e,canonical:i,givenPrefix:r="",styles:o={},config:a={}}=n,s=e===Ku,l=t.includes("fa-duotone")||t.includes("fad"),c=a.familyDefault==="duotone",d=i.prefix==="fad"||i.prefix==="fa-duotone";if(!s&&(l||c||d)&&(i.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(i.prefix="fab"),!i.prefix&&lN.includes(e)&&(Object.keys(o).find(u=>cN.includes(u))||a.autoFetchSvg)){let u=pL.get(e).defaultShortPrefixId;i.prefix=u,i.iconName=Ka(i.prefix,i.iconName)||i.iconName}return(i.prefix==="fa"||r==="fa")&&(i.prefix=aa()||"fas"),i}var _b=class{constructor(){this.definitions={}}add(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let r=e.reduce(this._pullDefinitions,{});Object.keys(r).forEach(o=>{this.definitions[o]=ae(ae({},this.definitions[o]||{}),r[o]),gb(o,r[o]);let a=Eb[Ni][o];a&&gb(a,r[o]),ND()})}reset(){this.definitions={}}_pullDefinitions(t,e){let i=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(i).map(r=>{let{prefix:o,iconName:a,icon:s}=i[r],l=s[2];t[o]||(t[o]={}),l.length>0&&l.forEach(c=>{typeof c=="string"&&(t[o][c]=s)}),t[o][a]=s}),t}},Zk=[],hl={},ul={},hN=Object.keys(ul);function uN(n,t){let{mixoutsTo:e}=t;return Zk=n,hl={},Object.keys(ul).forEach(i=>{hN.indexOf(i)===-1&&delete ul[i]}),Zk.forEach(i=>{let r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(o=>{typeof r[o]=="function"&&(e[o]=r[o]),typeof r[o]=="object"&&Object.keys(r[o]).forEach(a=>{e[o]||(e[o]={}),e[o][a]=r[o][a]})}),i.hooks){let o=i.hooks();Object.keys(o).forEach(a=>{hl[a]||(hl[a]=[]),hl[a].push(o[a])})}i.provides&&i.provides(ul)}),e}function bb(n,t){for(var e=arguments.length,i=new Array(e>2?e-2:0),r=2;r<e;r++)i[r-2]=arguments[r];return(hl[n]||[]).forEach(a=>{t=a.apply(null,[t,...i])}),t}function Qa(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];(hl[n]||[]).forEach(o=>{o.apply(null,e)})}function sa(){let n=arguments[0],t=Array.prototype.slice.call(arguments,1);return ul[n]?ul[n].apply(null,t):void 0}function vb(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:t}=n,e=n.prefix||aa();if(t)return t=Ka(e,t)||t,Kk(zD.definitions,e,t)||Kk(Pr.styles,e,t)}var zD=new _b,pN=()=>{Me.autoReplaceSvg=!1,Me.observeMutations=!1,Qa("noAuto")},mN={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return _o?(Qa("beforeI2svg",n),sa("pseudoElements2svg",n),sa("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:t}=n;Me.autoReplaceSvg===!1&&(Me.autoReplaceSvg=!0),Me.observeMutations=!0,KL(()=>{gN({autoReplaceSvgRoot:t}),Qa("watch",n)})}},fN={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:Ka(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){let t=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],e=Qu(n[0]);return{prefix:e,iconName:Ka(e,t)||t}}if(typeof n=="string"&&(n.indexOf("".concat(Me.cssPrefix,"-"))>-1||n.match(OL))){let t=Zu(n.split(" "),{skipLookups:!0});return{prefix:t.prefix||aa(),iconName:Ka(t.prefix,t.iconName)||t.iconName}}if(typeof n=="string"){let t=aa();return{prefix:t,iconName:Ka(t,n)||n}}}},Dn={noAuto:pN,config:Me,dom:mN,parse:fN,library:zD,findIconDefinition:vb,toHtml:rd},gN=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:t=Et}=n;(Object.keys(Pr.styles).length>0||Me.autoFetchSvg)&&_o&&Me.autoReplaceSvg&&Dn.dom.i2svg({node:t})};function Ju(n,t){return Object.defineProperty(n,"abstract",{get:t}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(e=>rd(e))}}),Object.defineProperty(n,"node",{get:function(){if(!_o)return;let e=Et.createElement("div");return e.innerHTML=n.html,e.children}}),n}function _N(n){let{children:t,main:e,mask:i,attributes:r,styles:o,transform:a}=n;if(Tb(a)&&e.found&&!i.found){let{width:s,height:l}=e,c={x:s/l/2,y:.5};r.style=Xu(ae(ae({},o),{},{"transform-origin":"".concat(c.x+a.x/16,"em ").concat(c.y+a.y/16,"em")}))}return[{tag:"svg",attributes:r,children:t}]}function bN(n){let{prefix:t,iconName:e,children:i,attributes:r,symbol:o}=n,a=o===!0?"".concat(t,"-").concat(Me.cssPrefix,"-").concat(e):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ae(ae({},r),{},{id:a}),children:i}]}]}function Rb(n){let{icons:{main:t,mask:e},prefix:i,iconName:r,transform:o,symbol:a,title:s,maskId:l,titleId:c,extra:d,watchable:h=!1}=n,{width:u,height:p}=e.found?e:t,m=bL.includes(i),g=[Me.replacementClass,r?"".concat(Me.cssPrefix,"-").concat(r):""].filter(A=>d.classes.indexOf(A)===-1).filter(A=>A!==""||!!A).concat(d.classes).join(" "),_={children:[],attributes:ae(ae({},d.attributes),{},{"data-prefix":i,"data-icon":r,class:g,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(u," ").concat(p)})},v=m&&!~d.classes.indexOf("fa-fw")?{width:"".concat(u/p*16*.0625,"em")}:{};h&&(_.attributes[Xa]=""),s&&(_.children.push({tag:"title",attributes:{id:_.attributes["aria-labelledby"]||"title-".concat(c||td())},children:[s]}),delete _.attributes.title);let x=ae(ae({},_),{},{prefix:i,iconName:r,main:t,mask:e,maskId:l,transform:o,symbol:a,styles:ae(ae({},v),d.styles)}),{children:C,attributes:D}=e.found&&t.found?sa("generateAbstractMask",x)||{children:[],attributes:{}}:sa("generateAbstractIcon",x)||{children:[],attributes:{}};return x.children=C,x.attributes=D,a?bN(x):_N(x)}function Jk(n){let{content:t,width:e,height:i,transform:r,title:o,extra:a,watchable:s=!1}=n,l=ae(ae(ae({},a.attributes),o?{title:o}:{}),{},{class:a.classes.join(" ")});s&&(l[Xa]="");let c=ae({},a.styles);Tb(r)&&(c.transform=GL({transform:r,startCentered:!0,width:e,height:i}),c["-webkit-transform"]=c.transform);let d=Xu(c);d.length>0&&(l.style=d);let h=[];return h.push({tag:"span",attributes:l,children:[t]}),o&&h.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),h}function vN(n){let{content:t,title:e,extra:i}=n,r=ae(ae(ae({},i.attributes),e?{title:e}:{}),{},{class:i.classes.join(" ")}),o=Xu(i.styles);o.length>0&&(r.style=o);let a=[];return a.push({tag:"span",attributes:r,children:[t]}),e&&a.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),a}var{styles:ab}=Pr;function yb(n){let t=n[0],e=n[1],[i]=n.slice(4),r=null;return Array.isArray(i)?r={tag:"g",attributes:{class:"".concat(Me.cssPrefix,"-").concat(nb.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Me.cssPrefix,"-").concat(nb.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(Me.cssPrefix,"-").concat(nb.PRIMARY),fill:"currentColor",d:i[1]}}]}:r={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:t,height:e,icon:r}}var yN={found:!1,width:512,height:512};function wN(n,t){!CD&&!Me.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(t,'" is missing.'))}function wb(n,t){let e=t;return t==="fa"&&Me.styleDefault!==null&&(t=aa()),new Promise((i,r)=>{if(e==="fa"){let o=VD(n)||{};n=o.iconName||n,t=o.prefix||t}if(n&&t&&ab[t]&&ab[t][n]){let o=ab[t][n];return i(yb(o))}wN(n,t),i(ae(ae({},yN),{},{icon:Me.showMissingIcons&&n?sa("missingIconAbstract")||{}:{}}))})}var eD=()=>{},xb=Me.measurePerformance&&Uu&&Uu.mark&&Uu.measure?Uu:{mark:eD,measure:eD},Zc='FA "6.7.2"',xN=n=>(xb.mark("".concat(Zc," ").concat(n," begins")),()=>HD(n)),HD=n=>{xb.mark("".concat(Zc," ").concat(n," ends")),xb.measure("".concat(Zc," ").concat(n),"".concat(Zc," ").concat(n," begins"),"".concat(Zc," ").concat(n," ends"))},Ob={begin:xN,end:HD},Wu=()=>{};function tD(n){return typeof(n.getAttribute?n.getAttribute(Xa):null)=="string"}function CN(n){let t=n.getAttribute?n.getAttribute(Mb):null,e=n.getAttribute?n.getAttribute(Sb):null;return t&&e}function kN(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(Me.replacementClass)}function DN(){return Me.autoReplaceSvg===!0?Gu.replace:Gu[Me.autoReplaceSvg]||Gu.replace}function MN(n){return Et.createElementNS("http://www.w3.org/2000/svg",n)}function SN(n){return Et.createElement(n)}function jD(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{ceFn:e=n.tag==="svg"?MN:SN}=t;if(typeof n=="string")return Et.createTextNode(n);let i=e(n.tag);return Object.keys(n.attributes||[]).forEach(function(o){i.setAttribute(o,n.attributes[o])}),(n.children||[]).forEach(function(o){i.appendChild(jD(o,{ceFn:e}))}),i}function EN(n){let t=" ".concat(n.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var Gu={replace:function(n){let t=n[0];if(t.parentNode)if(n[1].forEach(e=>{t.parentNode.insertBefore(jD(e),t)}),t.getAttribute(Xa)===null&&Me.keepOriginalSource){let e=Et.createComment(EN(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(n){let t=n[0],e=n[1];if(~Ab(t).indexOf(Me.replacementClass))return Gu.replace(n);let i=new RegExp("".concat(Me.cssPrefix,"-.*"));if(delete e[0].attributes.id,e[0].attributes.class){let o=e[0].attributes.class.split(" ").reduce((a,s)=>(s===Me.replacementClass||s.match(i)?a.toSvg.push(s):a.toNode.push(s),a),{toNode:[],toSvg:[]});e[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",o.toNode.join(" "))}let r=e.map(o=>rd(o)).join(`
`);t.setAttribute(Xa,""),t.innerHTML=r}};function iD(n){n()}function UD(n,t){let e=typeof t=="function"?t:Wu;if(n.length===0)e();else{let i=iD;Me.mutateApproach===IL&&(i=oa.requestAnimationFrame||iD),i(()=>{let r=DN(),o=Ob.begin("mutate");n.map(r),o(),e()})}}var Fb=!1;function $D(){Fb=!0}function Cb(){Fb=!1}var Yu=null;function nD(n){if(!Uk||!Me.observeMutations)return;let{treeCallback:t=Wu,nodeCallback:e=Wu,pseudoElementsCallback:i=Wu,observeMutationsRoot:r=Et}=n;Yu=new Uk(o=>{if(Fb)return;let a=aa();ml(o).forEach(s=>{if(s.type==="childList"&&s.addedNodes.length>0&&!tD(s.addedNodes[0])&&(Me.searchPseudoElements&&i(s.target),t(s.target)),s.type==="attributes"&&s.target.parentNode&&Me.searchPseudoElements&&i(s.target.parentNode),s.type==="attributes"&&tD(s.target)&&~NL.indexOf(s.attributeName))if(s.attributeName==="class"&&CN(s.target)){let{prefix:l,iconName:c}=Zu(Ab(s.target));s.target.setAttribute(Mb,l||a),c&&s.target.setAttribute(Sb,c)}else kN(s.target)&&e(s.target)})}),_o&&Yu.observe(r,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function AN(){Yu&&Yu.disconnect()}function TN(n){let t=n.getAttribute("style"),e=[];return t&&(e=t.split(";").reduce((i,r)=>{let o=r.split(":"),a=o[0],s=o.slice(1);return a&&s.length>0&&(i[a]=s.join(":").trim()),i},{})),e}function IN(n){let t=n.getAttribute("data-prefix"),e=n.getAttribute("data-icon"),i=n.innerText!==void 0?n.innerText.trim():"",r=Zu(Ab(n));return r.prefix||(r.prefix=aa()),t&&e&&(r.prefix=t,r.iconName=e),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=nN(r.prefix,n.innerText)||Pb(r.prefix,fb(n.innerText))),!r.iconName&&Me.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=n.firstChild.data)),r}function PN(n){let t=ml(n.attributes).reduce((r,o)=>(r.name!=="class"&&r.name!=="style"&&(r[o.name]=o.value),r),{}),e=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return Me.autoA11y&&(e?t["aria-labelledby"]="".concat(Me.replacementClass,"-title-").concat(i||td()):(t["aria-hidden"]="true",t.focusable="false")),t}function RN(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ir,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function rD(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},{iconName:e,prefix:i,rest:r}=IN(n),o=PN(n),a=bb("parseNodeAttributes",{},n),s=t.styleParser?TN(n):[];return ae({iconName:e,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:Ir,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:r,styles:s,attributes:o}},a)}var{styles:ON}=Pr;function WD(n){let t=Me.autoReplaceSvg==="nest"?rD(n,{styleParser:!1}):rD(n);return~t.extra.classes.indexOf(DD)?sa("generateLayersText",n,t):sa("generateSvgReplacementMutation",n,t)}function FN(){return[...fL,...cb]}function oD(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!_o)return Promise.resolve();let e=Et.documentElement.classList,i=d=>e.add("".concat(Gk,"-").concat(d)),r=d=>e.remove("".concat(Gk,"-").concat(d)),o=Me.autoFetchSvg?FN():bD.concat(Object.keys(ON));o.includes("fa")||o.push("fa");let a=[".".concat(DD,":not([").concat(Xa,"])")].concat(o.map(d=>".".concat(d,":not([").concat(Xa,"])"))).join(", ");if(a.length===0)return Promise.resolve();let s=[];try{s=ml(n.querySelectorAll(a))}catch{}if(s.length>0)i("pending"),r("complete");else return Promise.resolve();let l=Ob.begin("onTree"),c=s.reduce((d,h)=>{try{let u=WD(h);u&&d.push(u)}catch(u){CD||u.name==="MissingIcon"&&console.error(u)}return d},[]);return new Promise((d,h)=>{Promise.all(c).then(u=>{UD(u,()=>{i("active"),i("complete"),r("pending"),typeof t=="function"&&t(),l(),d()})}).catch(u=>{l(),h(u)})})}function LN(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;WD(n).then(e=>{e&&UD([e],t)})}function NN(n){return function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(t||{}).icon?t:vb(t||{}),{mask:r}=e;return r&&(r=(r||{}).icon?r:vb(r||{})),n(i,ae(ae({},e),{},{mask:r}))}}var VN=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:e=Ir,symbol:i=!1,mask:r=null,maskId:o=null,title:a=null,titleId:s=null,classes:l=[],attributes:c={},styles:d={}}=t;if(!n)return;let{prefix:h,iconName:u,icon:p}=n;return Ju(ae({type:"icon"},n),()=>(Qa("beforeDOMElementCreation",{iconDefinition:n,params:t}),Me.autoA11y&&(a?c["aria-labelledby"]="".concat(Me.replacementClass,"-title-").concat(s||td()):(c["aria-hidden"]="true",c.focusable="false")),Rb({icons:{main:yb(p),mask:r?yb(r.icon):{found:!1,width:null,height:null,icon:{}}},prefix:h,iconName:u,transform:ae(ae({},Ir),e),symbol:i,title:a,maskId:o,titleId:s,extra:{attributes:c,styles:d,classes:l}})))},BN={mixout(){return{icon:NN(VN)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=oD,n.nodeCallback=LN,n}}},provides(n){n.i2svg=function(t){let{node:e=Et,callback:i=()=>{}}=t;return oD(e,i)},n.generateSvgReplacementMutation=function(t,e){let{iconName:i,title:r,titleId:o,prefix:a,transform:s,symbol:l,mask:c,maskId:d,extra:h}=e;return new Promise((u,p)=>{Promise.all([wb(i,a),c.iconName?wb(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(m=>{let[g,_]=m;u([t,Rb({icons:{main:g,mask:_},prefix:a,iconName:i,transform:s,symbol:l,maskId:d,title:r,titleId:o,extra:h,watchable:!0})])}).catch(p)})},n.generateAbstractIcon=function(t){let{children:e,attributes:i,main:r,transform:o,styles:a}=t,s=Xu(a);s.length>0&&(i.style=s);let l;return Tb(o)&&(l=sa("generateAbstractTransformGrouping",{main:r,transform:o,containerWidth:r.width,iconWidth:r.width})),e.push(l||r.icon),{children:e,attributes:i}}}},zN={mixout(){return{layer(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{classes:e=[]}=t;return Ju({type:"layer"},()=>{Qa("beforeDOMElementCreation",{assembler:n,params:t});let i=[];return n(r=>{Array.isArray(r)?r.map(o=>{i=i.concat(o.abstract)}):i=i.concat(r.abstract)}),[{tag:"span",attributes:{class:["".concat(Me.cssPrefix,"-layers"),...e].join(" ")},children:i}]})}}}},HN={mixout(){return{counter(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{title:e=null,classes:i=[],attributes:r={},styles:o={}}=t;return Ju({type:"counter",content:n},()=>(Qa("beforeDOMElementCreation",{content:n,params:t}),vN({content:n.toString(),title:e,extra:{attributes:r,styles:o,classes:["".concat(Me.cssPrefix,"-layers-counter"),...i]}})))}}}},jN={mixout(){return{text(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:e=Ir,title:i=null,classes:r=[],attributes:o={},styles:a={}}=t;return Ju({type:"text",content:n},()=>(Qa("beforeDOMElementCreation",{content:n,params:t}),Jk({content:n,transform:ae(ae({},Ir),e),title:i,extra:{attributes:o,styles:a,classes:["".concat(Me.cssPrefix,"-layers-text"),...r]}})))}}},provides(n){n.generateLayersText=function(t,e){let{title:i,transform:r,extra:o}=e,a=null,s=null;if(gD){let l=parseInt(getComputedStyle(t).fontSize,10),c=t.getBoundingClientRect();a=c.width/l,s=c.height/l}return Me.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([t,Jk({content:t.innerHTML,width:a,height:s,transform:r,title:i,extra:o,watchable:!0})])}}},UN=new RegExp('"',"ug"),aD=[1105920,1112319],sD=ae(ae(ae(ae({},{FontAwesome:{normal:"fas",400:"fas"}}),uL),AL),xL),kb=Object.keys(sD).reduce((n,t)=>(n[t.toLowerCase()]=sD[t],n),{}),$N=Object.keys(kb).reduce((n,t)=>{let e=kb[t];return n[t]=e[900]||[...Object.entries(e)][0][1],n},{});function WN(n){let t=n.replace(UN,""),e=ZL(t,0),i=e>=aD[0]&&e<=aD[1],r=t.length===2?t[0]===t[1]:!1;return{value:fb(r?t[0]:t),isSecondary:i||r}}function GN(n,t){let e=n.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(t),r=isNaN(i)?"normal":i;return(kb[e]||{})[r]||$N[e]}function lD(n,t){let e="".concat(TL).concat(t.replace(":","-"));return new Promise((i,r)=>{if(n.getAttribute(e)!==null)return i();let a=ml(n.children).filter(u=>u.getAttribute(hb)===t)[0],s=oa.getComputedStyle(n,t),l=s.getPropertyValue("font-family"),c=l.match(FL),d=s.getPropertyValue("font-weight"),h=s.getPropertyValue("content");if(a&&!c)return n.removeChild(a),i();if(c&&h!=="none"&&h!==""){let u=s.getPropertyValue("content"),p=GN(l,d),{value:m,isSecondary:g}=WN(u),_=c[0].startsWith("FontAwesome"),v=Pb(p,m),x=v;if(_){let C=rN(m);C.iconName&&C.prefix&&(v=C.iconName,p=C.prefix)}if(v&&!g&&(!a||a.getAttribute(Mb)!==p||a.getAttribute(Sb)!==x)){n.setAttribute(e,x),a&&n.removeChild(a);let C=RN(),{extra:D}=C;D.attributes[hb]=t,wb(v,p).then(A=>{let $=Rb(ae(ae({},C),{},{icons:{main:A,mask:BD()},prefix:p,iconName:x,extra:D,watchable:!0})),X=Et.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?n.insertBefore(X,n.firstChild):n.appendChild(X),X.outerHTML=$.map(F=>rd(F)).join(`
`),n.removeAttribute(e),i()}).catch(r)}else i()}else i()})}function qN(n){return Promise.all([lD(n,"::before"),lD(n,"::after")])}function YN(n){return n.parentNode!==document.head&&!~PL.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(hb)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function cD(n){if(_o)return new Promise((t,e)=>{let i=ml(n.querySelectorAll("*")).filter(YN).map(qN),r=Ob.begin("searchPseudoElements");$D(),Promise.all(i).then(()=>{r(),Cb(),t()}).catch(()=>{r(),Cb(),e()})})}var KN={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=cD,n}}},provides(n){n.pseudoElements2svg=function(t){let{node:e=Et}=t;Me.searchPseudoElements&&cD(e)}}},dD=!1,XN={mixout(){return{dom:{unwatch(){$D(),dD=!0}}}},hooks(){return{bootstrap(){nD(bb("mutationObserverCallbacks",{}))},noAuto(){AN()},watch(n){let{observeMutationsRoot:t}=n;dD?Cb():nD(bb("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},hD=n=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((e,i)=>{let r=i.toLowerCase().split("-"),o=r[0],a=r.slice(1).join("-");if(o&&a==="h")return e.flipX=!0,e;if(o&&a==="v")return e.flipY=!0,e;if(a=parseFloat(a),isNaN(a))return e;switch(o){case"grow":e.size=e.size+a;break;case"shrink":e.size=e.size-a;break;case"left":e.x=e.x-a;break;case"right":e.x=e.x+a;break;case"up":e.y=e.y-a;break;case"down":e.y=e.y+a;break;case"rotate":e.rotate=e.rotate+a;break}return e},t)},QN={mixout(){return{parse:{transform:n=>hD(n)}}},hooks(){return{parseNodeAttributes(n,t){let e=t.getAttribute("data-fa-transform");return e&&(n.transform=hD(e)),n}}},provides(n){n.generateAbstractTransformGrouping=function(t){let{main:e,transform:i,containerWidth:r,iconWidth:o}=t,a={transform:"translate(".concat(r/2," 256)")},s="translate(".concat(i.x*32,", ").concat(i.y*32,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),c="rotate(".concat(i.rotate," 0 0)"),d={transform:"".concat(s," ").concat(l," ").concat(c)},h={transform:"translate(".concat(o/2*-1," -256)")},u={outer:a,inner:d,path:h};return{tag:"g",attributes:ae({},u.outer),children:[{tag:"g",attributes:ae({},u.inner),children:[{tag:e.icon.tag,children:e.icon.children,attributes:ae(ae({},e.icon.attributes),u.path)}]}]}}}},sb={x:0,y:0,width:"100%",height:"100%"};function uD(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||t)&&(n.attributes.fill="black"),n}function ZN(n){return n.tag==="g"?n.children:[n]}var JN={hooks(){return{parseNodeAttributes(n,t){let e=t.getAttribute("data-fa-mask"),i=e?Zu(e.split(" ").map(r=>r.trim())):BD();return i.prefix||(i.prefix=aa()),n.mask=i,n.maskId=t.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(t){let{children:e,attributes:i,main:r,mask:o,maskId:a,transform:s}=t,{width:l,icon:c}=r,{width:d,icon:h}=o,u=WL({transform:s,containerWidth:d,iconWidth:l}),p={tag:"rect",attributes:ae(ae({},sb),{},{fill:"white"})},m=c.children?{children:c.children.map(uD)}:{},g={tag:"g",attributes:ae({},u.inner),children:[uD(ae({tag:c.tag,attributes:ae(ae({},c.attributes),u.path)},m))]},_={tag:"g",attributes:ae({},u.outer),children:[g]},v="mask-".concat(a||td()),x="clip-".concat(a||td()),C={tag:"mask",attributes:ae(ae({},sb),{},{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,_]},D={tag:"defs",children:[{tag:"clipPath",attributes:{id:x},children:ZN(h)},C]};return e.push(D,{tag:"rect",attributes:ae({fill:"currentColor","clip-path":"url(#".concat(x,")"),mask:"url(#".concat(v,")")},sb)}),{children:e,attributes:i}}}},e3={provides(n){let t=!1;oa.matchMedia&&(t=oa.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){let e=[],i={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:ae(ae({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let o=ae(ae({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:ae(ae({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:ae(ae({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ae(ae({},o),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:ae(ae({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:ae(ae({},o),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:ae(ae({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ae(ae({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},t3={hooks(){return{parseNodeAttributes(n,t){let e=t.getAttribute("data-fa-symbol"),i=e===null?!1:e===""?!0:e;return n.symbol=i,n}}}},i3=[YL,BN,zN,HN,jN,KN,XN,QN,JN,e3,t3];uN(i3,{mixoutsTo:Dn});var TJ=Dn.noAuto,GD=Dn.config,IJ=Dn.library,qD=Dn.dom,YD=Dn.parse,PJ=Dn.findIconDefinition,RJ=Dn.toHtml,KD=Dn.icon,OJ=Dn.layer,n3=Dn.text,r3=Dn.counter;var o3=["*"],a3=n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)},s3=()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")},QD=n=>n!=null&&(n===90||n===180||n===270||n==="90"||n==="180"||n==="270"),l3=n=>{let t=QD(n.rotate),e={[`fa-${n.animation}`]:n.animation!=null&&!n.animation.startsWith("spin"),"fa-spin":n.animation==="spin"||n.animation==="spin-reverse","fa-spin-pulse":n.animation==="spin-pulse"||n.animation==="spin-pulse-reverse","fa-spin-reverse":n.animation==="spin-reverse"||n.animation==="spin-pulse-reverse","fa-pulse":n.animation==="spin-pulse"||n.animation==="spin-pulse-reverse","fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":n.flip==="horizontal"||n.flip==="both","fa-flip-vertical":n.flip==="vertical"||n.flip==="both",[`fa-${n.size}`]:n.size!==null,[`fa-rotate-${n.rotate}`]:t,"fa-rotate-by":n.rotate!=null&&!t,[`fa-pull-${n.pull}`]:n.pull!==null,[`fa-stack-${n.stackItemSize}`]:n.stackItemSize!=null};return Object.keys(e).map(i=>e[i]?i:null).filter(i=>i)},Lb=new WeakSet,XD="fa-auto-css";function c3(n,t){if(!t.autoAddCss||Lb.has(n))return;if(n.getElementById(XD)!=null){t.autoAddCss=!1,Lb.add(n);return}let e=n.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("id",XD),e.innerHTML=qD.css();let i=n.head.childNodes,r=null;for(let o=i.length-1;o>-1;o--){let a=i[o],s=a.nodeName.toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=a)}n.head.insertBefore(e,r),t.autoAddCss=!1,Lb.add(n)}var d3=n=>n.prefix!==void 0&&n.iconName!==void 0,h3=(n,t)=>d3(n)?n:Array.isArray(n)&&n.length===2?{prefix:n[0],iconName:n[1]}:{prefix:t,iconName:n},u3=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this._autoAddCss=!0}set autoAddCss(e){GD.autoAddCss=e,this._autoAddCss=e}get autoAddCss(){return this._autoAddCss}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),p3=(()=>{class n{constructor(){this.definitions={}}addIcons(...e){for(let i of e){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(let r of i.icon[2])typeof r=="string"&&(this.definitions[i.prefix][r]=i)}}addIconPacks(...e){for(let i of e){let r=Object.keys(i).map(o=>i[o]);this.addIcons(...r)}}getIconDefinition(e,i){return e in this.definitions&&i in this.definitions[e]?this.definitions[e][i]:null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),m3=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=V({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[we]})}}return n})(),f3=(()=>{class n{constructor(e,i){this.renderer=e,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(e){"size"in e&&(e.size.currentValue!=null&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${e.size.currentValue}`),e.size.previousValue!=null&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${e.size.previousValue}`))}static{this.\u0275fac=function(i){return new(i||n)(ne(Le),ne(Q))}}static{this.\u0275cmp=I({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[we],ngContentSelectors:o3,decls:1,vars:0,template:function(i,r){i&1&&(me(),re(0))},encapsulation:2})}}return n})(),GJ=(()=>{class n{constructor(e,i,r,o,a){this.sanitizer=e,this.config=i,this.iconLibrary=r,this.stackItem=o,this.document=f(ve),a!=null&&o==null&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(e){if(this.icon==null&&this.config.fallbackIcon==null){s3();return}if(e){let i=this.findIconDefinition(this.icon??this.config.fallbackIcon);if(i!=null){let r=this.buildParams();c3(this.document,this.config);let o=KD(i,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(o.html.join(`
`))}}}render(){this.ngOnChanges({})}findIconDefinition(e){let i=h3(e,this.config.defaultPrefix);if("icon"in i)return i;let r=this.iconLibrary.getIconDefinition(i.prefix,i.iconName);return r??(a3(i),null)}buildParams(){let e={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:typeof this.fixedWidth=="boolean"?this.fixedWidth:this.config.fixedWidth,stackItemSize:this.stackItem!=null?this.stackItem.stackItemSize:null},i=typeof this.transform=="string"?YD.transform(this.transform):this.transform,r={};return e.rotate!=null&&!QD(e.rotate)&&(r["--fa-rotate-angle"]=`${e.rotate}`),{title:this.title,transform:i,classes:l3(e),mask:this.mask!=null?this.findIconDefinition(this.mask):null,symbol:this.symbol,attributes:{role:this.a11yRole},styles:r}}static{this.\u0275fac=function(i){return new(i||n)(ne(mo),ne(u3),ne(p3),ne(m3,8),ne(f3,8))}}static{this.\u0275cmp=I({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(i,r){i&2&&(yt("innerHTML",r.renderedIconHTML,oo),te("title",r.title))},inputs:{icon:"icon",title:"title",animation:"animation",mask:"mask",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[we],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return n})();var Nb=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=j({type:n})}static{this.\u0275inj=H({})}}return n})();var ep;function g3(){if(ep===void 0&&(ep=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(ep=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return ep}function od(n){return g3()?.createHTML(n)||n}function ZD(n){return Error(`Unable to find icon with the name "${n}"`)}function _3(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function JD(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function eM(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var bo=class{url;svgText;options;svgElement;constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}},iM=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new bo(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){let a=this._sanitizer.sanitize(yn.HTML,r);if(!a)throw eM(r);let s=od(a);return this._addSvgIconConfig(e,i,new bo("",s,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new bo(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){let o=this._sanitizer.sanitize(yn.HTML,i);if(!o)throw eM(i);let a=od(o);return this._addSvgIconSetConfig(e,new bo("",a,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let i=this._sanitizer.sanitize(yn.RESOURCE_URL,e);if(!i)throw JD(e);let r=this._cachedIconsByUrl.get(i);return r?pe(tp(r)):this._loadSvgIconFromConfig(new bo(e,null)).pipe(Pt(o=>this._cachedIconsByUrl.set(i,o)),Se(o=>tp(o)))}getNamedSvgIcon(e,i=""){let r=tM(i,e),o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);let a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):Ha(ZD(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?pe(tp(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Se(i=>tp(i)))}_getSvgFromIconSetConfigs(e,i){let r=this._extractIconWithNameFromAnySet(e,i);if(r)return pe(r);let o=i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(io(s=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(yn.RESOURCE_URL,a.url)} failed: ${s.message}`;return this._errorHandler.handleError(new Error(c)),pe(null)})));return ou(o).pipe(Se(()=>{let a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw ZD(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){let o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){let a=this._svgElementFromConfig(o),s=this._extractSvgIconFromSet(a,e,o.options);if(s)return s}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Pt(i=>e.svgText=i),Se(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?pe(null):this._fetchIcon(e).pipe(Pt(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){let o=e.querySelector(`[id="${i}"]`);if(!o)return null;let a=o.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,r);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),r);let s=this._svgElementFromString(od("<svg></svg>"));return s.appendChild(a),this._setSvgAttributes(s,r)}_svgElementFromString(e){let i=this._document.createElement("DIV");i.innerHTML=e;let r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){let i=this._svgElementFromString(od("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){let{name:a,value:s}=r[o];a!=="id"&&i.setAttribute(a,s)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){let{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw _3();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let a=this._sanitizer.sanitize(yn.RESOURCE_URL,i);if(!a)throw JD(i);let s=this._inProgressUrlFetches.get(a);if(s)return s;let l=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(Se(c=>od(c)),Qo(()=>this._inProgressUrlFetches.delete(a)),g1());return this._inProgressUrlFetches.set(a,l),l}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(tM(e,i),r),this}_addSvgIconSetConfig(e,i){let r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){let i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){let o=this._resolvers[r](i,e);if(o)return b3(o)?new bo(o.url,null,o.options):new bo(o,null)}}static \u0275fac=function(i){return new(i||n)(ke(ju,8),ke(mo),ke(ve,8),ke(Jo))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tp(n){return n.cloneNode(!0)}function tM(n,t){return n+":"+t}function b3(n){return!!(n.url&&n.options)}function Za(n){return n.buttons===0||n.detail===0}function Ja(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var Vb;function nM(){if(Vb==null){let n=typeof document<"u"?document.head:null;Vb=!!(n&&(n.createShadowRoot||n.attachShadow))}return Vb}function es(n){if(nM()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Vi(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Bt(n){return n.composedPath?n.composedPath()[0]:n.target}function pt(n,t,e,i,r){let o=parseInt(A_.major),a=parseInt(A_.minor);return o>19||o===19&&a>0||o===0&&a===0?n.listen(t,e,i,r):(t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i,r)})}var Bb;try{Bb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Bb=!1}var Ve=(()=>{class n{_platformId=f(Sr);isBrowser=this._platformId?jc(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Bb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ad;function rM(){if(ad==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ad=!0}))}finally{ad=ad||!1}return ad}function la(n){return rM()?n:!!n.capture}function wi(n,t=0){return oM(n)?Number(n):arguments.length===2?t:0}function oM(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function zt(n){return n instanceof Q?n.nativeElement:n}var aM=new P("cdk-input-modality-detector-options"),sM={ignoreKeys:[18,17,224,91,16]},lM=650,zb={passive:!0,capture:!0},cM=(()=>{class n{_platform=f(Ve);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new vi(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(i=>i===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Bt(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<lM||(this._modality.next(Za(e)?"keyboard":"mouse"),this._mostRecentTarget=Bt(e))};_onTouchstart=e=>{if(Ja(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Bt(e)};constructor(){let e=f(de),i=f(ve),r=f(aM,{optional:!0});if(this._options=E(E({},sM),r),this.modalityDetected=this._modality.pipe(su(1)),this.modalityChanged=this.modalityDetected.pipe(g_()),this._platform.isBrowser){let o=f(ui).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[pt(o,i,"keydown",this._onKeydown,zb),pt(o,i,"mousedown",this._onMousedown,zb),pt(o,i,"touchstart",this._onTouchstart,zb)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sd=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(sd||{}),dM=new P("cdk-focus-monitor-default-options"),ip=la({passive:!0,capture:!0}),Qt=(()=>{class n{_ngZone=f(de);_platform=f(Ve);_inputModalityDetector=f(cM);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=f(ve,{optional:!0});_stopInputModalityDetector=new L;constructor(){let e=f(dM,{optional:!0});this._detectionMode=e?.detectionMode||sd.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let i=Bt(e);for(let r=i;r;r=r.parentElement)e.type==="focus"?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,i=!1){let r=zt(e);if(!this._platform.isBrowser||r.nodeType!==1)return pe();let o=es(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;let s={checkChildren:i,subject:new L,rootNode:o};return this._elementInfo.set(r,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){let i=zt(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){let o=zt(e),a=this._getDocument().activeElement;o===a?this._getClosestElementsInfo(o).forEach(([s,l])=>this._originChanged(s,i,l)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===sd.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused",i==="touch"),e.classList.toggle("cdk-keyboard-focused",i==="keyboard"),e.classList.toggle("cdk-mouse-focused",i==="mouse"),e.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&i,this._detectionMode===sd.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?lM:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,i){let r=this._elementInfo.get(i),o=Bt(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ip),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ip)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ee(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ip),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ip),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){let i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),np=(()=>{class n{_elementRef=f(Q);_focusMonitor=f(Qt);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new Z;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return n})();var rp=new WeakMap,Je=(()=>{class n{_appRef;_injector=f(Ie);_environmentInjector=f(Yi);load(e){let i=this._appRef=this._appRef||this._injector.get(Er),r=rp.get(i);r||(r={loaders:new Set,refs:[]},rp.set(i,r),i.onDestroy(()=>{rp.get(i)?.refs.forEach(o=>o.destroy()),rp.delete(i)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(sl(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qn=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();function fl(n){return Array.isArray(n)?n:[n]}var hM=new Set,ts,pM=(()=>{class n{_platform=f(Ve);_nonce=f(Ic,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):y3}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&v3(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function v3(n,t){if(!hM.has(n))try{ts||(ts=document.createElement("style"),t&&ts.setAttribute("nonce",t),ts.setAttribute("type","text/css"),document.head.appendChild(ts)),ts.sheet&&(ts.sheet.insertRule(`@media ${n} {body{ }}`,0),hM.add(n))}catch(e){console.error(e)}}function y3(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var is=(()=>{class n{_mediaMatcher=f(pM);_zone=f(de);_queries=new Map;_destroySubject=new L;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return uM(fl(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=uM(fl(e)).map(a=>this._registerQuery(a).observable),o=nl(r);return o=ru(o.pipe(lt(1)),o.pipe(su(1),Xo(0))),o.pipe(Se(a=>{let s={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:c})=>{s.matches=s.matches||l,s.breakpoints[c]=l}),s}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),o={observable:new Un(a=>{let s=l=>this._zone.run(()=>a.next(l));return i.addListener(s),()=>{i.removeListener(s)}}).pipe(ct(i),Se(({matches:a})=>({query:e,matches:a})),Ee(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uM(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function w3(n){if(n.type==="characterData"&&n.target instanceof Comment)return!0;if(n.type==="childList"){for(let t=0;t<n.addedNodes.length;t++)if(!(n.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<n.removedNodes.length;t++)if(!(n.removedNodes[t]instanceof Comment))return!1;return!0}return!1}var mM=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fM=(()=>{class n{_mutationObserverFactory=f(mM);_observedElements=new Map;_ngZone=f(de);constructor(){}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){let i=zt(e);return new Un(r=>{let a=this._observeElement(i).pipe(Se(s=>s.filter(l=>!w3(l))),Pe(s=>!!s.length)).subscribe(s=>{this._ngZone.run(()=>{r.next(s)})});return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let i=new L,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hb=(()=>{class n{_contentObserver=f(fM);_elementRef=f(Q);event=new Z;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(e){this._debounce=wi(e),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(Xo(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",ie],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return n})(),gl=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({providers:[mM]})}return n})();var ns=(()=>{class n{_platform=f(Ve);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return C3(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let i=x3(I3(e));if(i&&(gM(i)===-1||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=gM(e);return e.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!A3(e)?!1:r==="audio"?e.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,i){return T3(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function x3(n){try{return n.frameElement}catch{return null}}function C3(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function k3(n){let t=n.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function D3(n){return S3(n)&&n.type=="hidden"}function M3(n){return E3(n)&&n.hasAttribute("href")}function S3(n){return n.nodeName.toLowerCase()=="input"}function E3(n){return n.nodeName.toLowerCase()=="a"}function vM(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let t=n.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function gM(n){if(!vM(n))return null;let t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function A3(n){let t=n.nodeName.toLowerCase(),e=t==="input"&&n.type;return e==="text"||e==="password"||t==="select"||t==="textarea"}function T3(n){return D3(n)?!1:k3(n)||M3(n)||n.hasAttribute("contenteditable")||vM(n)}function I3(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var op=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,e,i,r,o=!1,a){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._injector=a,o||this.attachAnchors()}destroy(){let t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){let e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?Ct(t,{injector:this._injector}):setTimeout(t)}},_l=(()=>{class n{_checker=f(ns);_ngZone=f(de);_document=f(ve);_injector=f(Ie);constructor(){f(Je).load(qn)}create(e,i=!1){return new op(e,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ub=(()=>{class n{_elementRef=f(Q);_focusTrapFactory=f(_l);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(e){this.focusTrap&&(this.focusTrap.enabled=e)}autoCapture;constructor(){f(Ve).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(e){let i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Vi(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",ie],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",ie]},exportAs:["cdkTrapFocus"],features:[we]})}return n})(),yM=new P("liveAnnouncerElement",{providedIn:"root",factory:wM});function wM(){return null}var xM=new P("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),P3=0,ld=(()=>{class n{_ngZone=f(de);_defaultOptions=f(xM,{optional:!0});_liveElement;_document=f(ve);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=f(yM,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...i){let r=this._defaultOptions,o,a;return i.length===1&&typeof i[0]=="number"?a=i[0]:[o,a]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),a==null&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(s=>this._currentResolve=s)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${P3++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let o=i[r],a=o.getAttribute("aria-owns");a?a.indexOf(e)===-1&&o.setAttribute("aria-owns",a+" "+e):o.setAttribute("aria-owns",e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ca=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(ca||{}),_M="cdk-high-contrast-black-on-white",bM="cdk-high-contrast-white-on-black",jb="cdk-high-contrast-active",ap=(()=>{class n{_platform=f(Ve);_hasCheckedHighContrastMode;_document=f(ve);_breakpointSubscription;constructor(){this._breakpointSubscription=f(is).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return ca.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return ca.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return ca.BLACK_ON_WHITE}return ca.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(jb,_M,bM),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===ca.BLACK_ON_WHITE?e.add(jb,_M):i===ca.WHITE_ON_BLACK&&e.add(jb,bM)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ur=(()=>{class n{constructor(){f(ap)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[gl]})}return n})();var $b={},Ne=(()=>{class n{_appId=f(Ua);getId(e){return this._appId!=="ng"&&(e+=this._appId),$b.hasOwnProperty(e)||($b[e]=0),`${e}${$b[e]++}`}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var R3=200,sp=class{_letterKeyStream=new L;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new L;selectedItem=this._selectedItem;constructor(t,e){let i=typeof e?.debounceInterval=="number"?e.debounceInterval:R3;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(t),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let e=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(Pt(e=>this._pressedLetters.push(e)),Xo(t),Pe(()=>this._pressedLetters.length>0),Se(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function tt(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var bl=class{_items;_activeItemIndex=-1;_activeItem=rt(null);_wrap=!1;_typeaheadSubscription=Ue.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=t=>t.disabled;constructor(t,e){this._items=t,t instanceof cn?this._itemChangesSubscription=t.changes.subscribe(i=>this._itemsChanged(i.toArray())):ja(t)&&(this._effectRef=so(()=>this._itemsChanged(t()),{injector:e}))}tabOut=new L;change=new L;skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new sp(e,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){let e=this._activeItem();this.updateActiveItem(t),this._activeItem()!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){let e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(o<a?o:a-1,-1);break}else return;default:(r||tt(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let e=this._getItemsArray(),i=typeof t=="number"?t:e.indexOf(t),r=e[i];this._activeItem.set(r??null),this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let e=this._getItemsArray();for(let i=1;i<=e.length;i++){let r=(this._activeItemIndex+t*i+e.length)%e.length,o=e[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){let i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(t+=e,!i[t])return;this.setActiveItem(t)}}_getItemsArray(){return ja(this._items)?this._items():this._items instanceof cn?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);let e=this._activeItem();if(e){let i=t.indexOf(e);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i))}}};var rs=class extends bl{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}};var wo=class extends bl{_origin="program";setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}};var DM=" ";function qb(n,t,e){let i=up(n,t);e=e.trim(),!i.some(r=>r.trim()===e)&&(i.push(e),n.setAttribute(t,i.join(DM)))}function pp(n,t,e){let i=up(n,t);e=e.trim();let r=i.filter(o=>o!==e);r.length?n.setAttribute(t,r.join(DM)):n.removeAttribute(t)}function up(n,t){return n.getAttribute(t)?.match(/\S+/g)??[]}var MM="cdk-describedby-message",hp="cdk-describedby-host",Gb=0,Yb=(()=>{class n{_platform=f(Ve);_document=f(ve);_messageRegistry=new Map;_messagesContainer=null;_id=`${Gb++}`;constructor(){f(Je).load(qn),this._id=f(Ua)+"-"+Gb++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;let o=Wb(i,r);typeof i!="string"?(kM(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;let o=Wb(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),typeof i=="string"){let a=this._messageRegistry.get(o);a&&a.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${hp}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(hp);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){let r=this._document.createElement("div");kM(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Wb(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){let i=up(e,"aria-describedby").filter(r=>r.indexOf(MM)!=0);e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){let r=this._messageRegistry.get(i);qb(e,"aria-describedby",r.messageElement.id),e.setAttribute(hp,this._id),r.referenceCount++}_removeMessageReference(e,i){let r=this._messageRegistry.get(i);r.referenceCount--,pp(e,"aria-describedby",r.messageElement.id),e.removeAttribute(hp)}_isElementDescribedByMessage(e,i){let r=up(e,"aria-describedby"),o=this._messageRegistry.get(i),a=o&&o.messageElement.id;return!!a&&r.indexOf(a)!=-1}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&typeof i=="object")return!0;let r=i==null?"":`${i}`.trim(),o=e.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wb(n,t){return typeof n=="string"?`${t||""}/${n}`:n}function kM(n,t){n.id||(n.id=`${MM}-${t}-${Gb++}`)}var O3=new P("cdk-dir-doc",{providedIn:"root",factory:F3});function F3(){return f(ve)}var L3=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function SM(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?L3.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var wt=(()=>{class n{value="ltr";change=new Z;constructor(){let e=f(O3,{optional:!0});if(e){let i=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=SM(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Rr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({})}return n})();var oe=(()=>{class n{constructor(){f(ap)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[Rr,Rr]})}return n})();var N3=["*"],V3=new P("MAT_ICON_DEFAULT_OPTIONS"),B3=new P("mat-icon-location",{providedIn:"root",factory:z3});function z3(){let n=f(ve),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var EM=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],H3=EM.map(n=>`[${n}]`).join(", "),j3=/^url\(['"]?#(.*?)['"]?\)$/,Or=(()=>{class n{_elementRef=f(Q);_iconRegistry=f(iM);_location=f(B3);_errorHandler=f(Jo);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Ue.EMPTY;constructor(){let e=f(new hi("aria-hidden"),{optional:!0}),i=f(V3,{optional:!0});i&&(i.color&&(this.color=this._defaultColor=i.color),i.fontSet&&(this.fontSet=i.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let r=e.childNodes[i];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(a=>{o.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){let i=e.querySelectorAll(H3),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)EM.forEach(a=>{let s=i[o],l=s.getAttribute(a),c=l?l.match(j3):null;if(c){let d=r.get(s);d||(d=[],r.set(s,d)),d.push({name:a,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(lt(1)).subscribe(o=>this._setSvgElement(o),o=>{let a=`Error retrieving icon ${i}:${r}! ${o.message}`;this._errorHandler.handleError(new Error(a))})}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){i&2&&(te("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),et(r.color?"mat-"+r.color:""),N("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",ie],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:N3,decls:1,vars:0,template:function(i,r){i&1&&(me(),re(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return n})(),mp=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[oe,oe]})}return n})();function Kb(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function $t(n){return n==null?"":typeof n=="string"?n:`${n}px`}var fr=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(fr||{}),gp,as;function _p(){if(as==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return as=!1,as;if("scrollBehavior"in document.documentElement.style)as=!0;else{let n=Element.prototype.scrollTo;n?as=!/\{\s*\[native code\]\s*\}/.test(n.toString()):as=!1}}return as}function vl(){if(typeof document!="object"||!document)return fr.NORMAL;if(gp==null){let n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";let e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),gp=fr.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,gp=n.scrollLeft===0?fr.NEGATED:fr.INVERTED),n.remove()}return gp}var U3=20,xo=(()=>{class n{_ngZone=f(de);_platform=f(Ve);_renderer=f(ui).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new L;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=U3){return this._platform.isBrowser?new Un(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=e>0?this._scrolled.pipe(p_(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):pe()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Pe(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_scrollableContainsElement(e,i){let r=zt(i),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Co=(()=>{class n{elementRef=f(Q);scrollDispatcher=f(xo);ngZone=f(de);dir=f(wt,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new L;_renderer=f(Le);_cleanupScroll;_elementScrolled=new L;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let i=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=r?e.end:e.start),e.right==null&&(e.right=r?e.start:e.end),e.bottom!=null&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&vl()!=fr.NORMAL?(e.left!=null&&(e.right=i.scrollWidth-i.clientWidth-e.left),vl()==fr.INVERTED?e.left=e.right:vl()==fr.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let i=this.elementRef.nativeElement;_p()?i.scrollTo(e):(e.top!=null&&(i.scrollTop=e.top),e.left!=null&&(i.scrollLeft=e.left))}measureScrollOffset(e){let i="left",r="right",o=this.elementRef.nativeElement;if(e=="top")return o.scrollTop;if(e=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let a=this.dir&&this.dir.value=="rtl";return e=="start"?e=a?r:i:e=="end"&&(e=a?i:r),a&&vl()==fr.INVERTED?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&vl()==fr.NEGATED?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return n})(),$3=20,Yn=(()=>{class n{_platform=f(Ve);_listeners;_viewportSize;_change=new L;_document=f(ve,{optional:!0});constructor(){let e=f(de),i=f(ui).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[i.listen("window","resize",r),i.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),a=-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,s=-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:a,left:s}}change(e=$3){return e>0?this._change.pipe(p_(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Zt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({})}return n})(),ss=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[Rr,Zt,Rr,Zt]})}return n})();var yl=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Zi=class extends yl{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.projectableNodes=o}},xi=class extends yl{templateRef;viewContainerRef;context;injector;constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},bp=class extends yl{element;constructor(t){super(),this.element=t instanceof Q?t.nativeElement:t}},ko=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Zi)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof xi)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof bp)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var hd=class extends ko{outletElement;_appRef;_defaultInjector;_document;constructor(t,e,i,r,o){super(),this.outletElement=t,this._appRef=i,this._defaultInjector=r,this._document=o}attachComponentPortal(t){let e;if(t.viewContainerRef){let i=t.injector||t.viewContainerRef.injector,r=i.get(hu,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let i=this._appRef,r=t.injector||this._defaultInjector||Ie.NULL,o=r.get(Yi,i.injector);e=sl(t.component,{elementInjector:r,environmentInjector:o,projectableNodes:t.projectableNodes||void 0}),i.attachView(e.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);r!==-1&&e.remove(r)}),this._attachedPortal=t,i}attachDomPortal=t=>{let e=t.element;e.parentNode;let i=this._document.createComment("dom-portal");e.parentNode.insertBefore(i,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(e,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var gi=(()=>{class n extends ko{_moduleRef=f(hu,{optional:!0});_document=f(ve);_viewContainerRef=f(kt);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new Z;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let i=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=i.createComponent(e.component,{index:i.length,injector:e.injector||i.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=e=>{let i=e.element;i.parentNode;let r=this._document.createComment("dom-portal");e.setAttachedHost(this),i.parentNode.insertBefore(r,i),this._getRootNode().appendChild(i),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(i,r)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ge]})}return n})();var Jt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({})}return n})();var AM=_p(),vp=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,e){this._viewportRuler=t,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=$t(-this._previousScrollPosition.left),t.style.top=$t(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,i=t.style,r=e.style,o=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),AM&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),AM&&(i.scrollBehavior=o,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};var yp=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Pe(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},ud=class{enable(){}disable(){}attach(){}};function Xb(n,t){return t.some(e=>{let i=n.bottom<e.top,r=n.top>e.bottom,o=n.right<e.left,a=n.left>e.right;return i||r||o||a})}function TM(n,t){return t.some(e=>{let i=n.top<e.top,r=n.bottom>e.bottom,o=n.left<e.left,a=n.right>e.right;return i||r||o||a})}var wp=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Xb(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},LM=(()=>{class n{_scrollDispatcher=f(xo);_viewportRuler=f(Yn);_ngZone=f(de);_document=f(ve);constructor(){}noop=()=>new ud;close=e=>new yp(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new vp(this._viewportRuler,this._document);reposition=e=>new wp(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mn=class{positionStrategy;scrollStrategy=new ud;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let e=Object.keys(t);for(let i of e)t[i]!==void 0&&(this[i]=t[i])}}};var xp=class{connectionPair;scrollableViewProperties;constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var NM=(()=>{class n{_attachedOverlays=[];_document=f(ve);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VM=(()=>{class n extends NM{_ngZone=f(de);_renderer=f(ui).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let i=this._attachedOverlays;for(let r=i.length-1;r>-1;r--)if(i[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[r]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BM=(()=>{class n extends NM{_platform=f(Ve);_ngZone=f(de);_renderer=f(ui).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let i=this._document.body,r={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[pt(this._renderer,i,"pointerdown",this._pointerDownListener,r),pt(this._renderer,i,"click",this._clickListener,r),pt(this._renderer,i,"auxclick",this._clickListener,r),pt(this._renderer,i,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=Bt(e)};_clickListener=e=>{let i=Bt(e),r=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let a=o.length-1;a>-1;a--){let s=o[a];if(s._outsidePointerEvents.observers.length<1||!s.hasAttached())continue;if(IM(s.overlayElement,i)||IM(s.overlayElement,r))break;let l=s._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(e)):l.next(e)}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function IM(n,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,i=t;for(;i;){if(i===n)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var zM=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return n})(),kp=(()=>{class n{_platform=f(Ve);_containerElement;_document=f(ve);_styleLoader=f(Je);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||Kb()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(e),Kb()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(zM)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qb=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,e,i,r){this._renderer=e,this._ngZone=i,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},cs=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new L;_attachments=new L;_detachments=new L;_positionStrategy;_scrollStrategy;_locationChanges=Ue.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new L;_outsidePointerEvents=new L;_renders=new L;_afterRenderRef;_afterNextRenderRef;constructor(t,e,i,r,o,a,s,l,c,d=!1,h,u){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=h,this._renderer=u,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=fi(()=>rl(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Ct(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=E(E({},this._config),t),this._updateElementSize()}setDirection(t){this._config=ye(E({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=$t(this._config.width),t.height=$t(this._config.height),t.minWidth=$t(this._config.minWidth),t.minHeight=$t(this._config.minHeight),t.maxWidth=$t(this._config.maxWidth),t.maxHeight=$t(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new Qb(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,e,i){let r=fl(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(Ee(xt(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},PM="cdk-overlay-connected-position-bounding-box",G3=/([A-Za-z%]+)$/,wl=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new L;_resizeSubscription=Ue.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(PM),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],a;for(let s of this._preferredPositions){let l=this._getOriginPoint(t,r,s),c=this._getOverlayPoint(l,e,s),d=this._getOverlayFit(c,e,i,s);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,l);return}if(this._canFitWithFlexibleDimensions(d,c,i)){o.push({position:s,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,s)});continue}(!a||a.overlayFit.visibleArea<d.visibleArea)&&(a={overlayFit:d,overlayPoint:c,originPoint:l,position:s,overlayRect:e})}if(o.length){let s=null,l=-1;for(let c of o){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,s=c)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ls(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(PM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r;if(i.originX=="center")r=t.left+t.width/2;else{let a=this._isRtl()?t.right:t.left,s=this._isRtl()?t.left:t.right;r=i.originX=="start"?a:s}e.left<0&&(r-=e.left);let o;return i.originY=="center"?o=t.top+t.height/2:o=i.originY=="top"?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r;i.overlayX=="center"?r=-e.width/2:i.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let o;return i.overlayY=="center"?o=-e.height/2:o=i.overlayY=="top"?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){let o=OM(e),{x:a,y:s}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(a+=l),c&&(s+=c);let d=0-a,h=a+o.width-i.width,u=0-s,p=s+o.height-i.height,m=this._subtractOverflows(o.width,d,h),g=this._subtractOverflows(o.height,u,p),_=m*g;return{visibleArea:_,isCompletelyWithinViewport:o.width*o.height===_,fitsInViewportVertically:g===o.height,fitsInViewportHorizontally:m==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){let r=i.bottom-e.y,o=i.right-e.x,a=RM(this._overlayRef.getConfig().minHeight),s=RM(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||a!=null&&a<=r,c=t.fitsInViewportHorizontally||s!=null&&s<=o;return l&&c}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=OM(e),o=this._viewportRect,a=Math.max(t.x+r.width-o.width,0),s=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0),d=0,h=0;return r.width<=o.width?d=c||-a:d=t.x<this._viewportMargin?o.left-i.left-t.x:0,r.height<=o.height?h=l||-s:h=t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:d,y:h},{x:t.x+d,y:t.y+h}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!q3(this._lastScrollVisibility,i)){let r=new xp(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){let i=this._viewportRect,r=this._isRtl(),o,a,s;if(e.overlayY==="top")a=t.y,o=i.height-a+this._viewportMargin;else if(e.overlayY==="bottom")s=i.height-t.y+this._viewportMargin*2,o=i.height-s+this._viewportMargin;else{let p=Math.min(i.bottom-t.y+i.top,t.y),m=this._lastBoundingBoxSize.height;o=p*2,a=t.y-p,o>m&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-m/2)}let l=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,c=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,d,h,u;if(c)u=i.width-t.x+this._viewportMargin*2,d=t.x-this._viewportMargin;else if(l)h=t.x,d=i.right-t.x;else{let p=Math.min(i.right-t.x+i.left,t.x),m=this._lastBoundingBoxSize.width;d=p*2,h=t.x-p,d>m&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.x-m/2)}return{top:a,left:h,bottom:s,right:u,width:d,height:o}}_setBoundingBoxStyles(t,e){let i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=$t(i.height),r.top=$t(i.top),r.bottom=$t(i.bottom),r.width=$t(i.width),r.left=$t(i.left),r.right=$t(i.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=$t(o)),a&&(r.maxWidth=$t(a))}this._lastBoundingBoxSize=i,ls(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ls(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ls(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();ls(i,this._getExactOverlayY(e,t,d)),ls(i,this._getExactOverlayX(e,t,d))}else i.position="static";let s="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(s+=`translateX(${l}px) `),c&&(s+=`translateY(${c}px)`),i.transform=s.trim(),a.maxHeight&&(r?i.maxHeight=$t(a.maxHeight):o&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=$t(a.maxWidth):o&&(i.maxWidth="")),ls(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),t.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;r.bottom=`${a-(o.y+this._overlayRect.height)}px`}else r.top=$t(o.y);return r}_getExactOverlayX(t,e,i){let r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let a;if(this._isRtl()?a=t.overlayX==="end"?"left":"right":a=t.overlayX==="end"?"right":"left",a==="right"){let s=this._document.documentElement.clientWidth;r.right=`${s-(o.x+this._overlayRect.width)}px`}else r.left=$t(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:TM(t,i),isOriginOutsideView:Xb(t,i),isOverlayClipped:TM(e,i),isOverlayOutsideView:Xb(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&fl(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof Q)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}};function ls(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function RM(n){if(typeof n!="number"&&n!=null){let[t,e]=n.split(G3);return!e||e==="px"?parseFloat(t):null}return n||null}function OM(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function q3(n,t){return n===t?!0:n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}var FM="cdk-global-overlay-wrapper",Cp=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(FM),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:a,maxHeight:s}=i,l=(r==="100%"||r==="100vw")&&(!a||a==="100%"||a==="100vw"),c=(o==="100%"||o==="100vh")&&(!s||s==="100%"||s==="100vh"),d=this._xPosition,h=this._xOffset,u=this._overlayRef.getConfig().direction==="rtl",p="",m="",g="";l?g="flex-start":d==="center"?(g="center",u?m=h:p=h):u?d==="left"||d==="end"?(g="flex-end",p=h):(d==="right"||d==="start")&&(g="flex-start",m=h):d==="left"||d==="start"?(g="flex-start",p=h):(d==="right"||d==="end")&&(g="flex-end",m=h),t.position=this._cssPosition,t.marginLeft=l?"0":p,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":m,e.justifyContent=g,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(FM),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},HM=(()=>{class n{_viewportRuler=f(Yn);_document=f(ve);_platform=f(Ve);_overlayContainer=f(kp);constructor(){}global(){return new Cp}flexibleConnectedTo(e){return new wl(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),it=(()=>{class n{scrollStrategies=f(LM);_overlayContainer=f(kp);_positionBuilder=f(HM);_keyboardDispatcher=f(VM);_injector=f(Ie);_ngZone=f(de);_document=f(ve);_directionality=f(wt);_location=f(Ar);_outsideClickDispatcher=f(BM);_animationsModuleType=f(Oe,{optional:!0});_idGenerator=f(Ne);_renderer=f(ui).createRenderer(null,null);_appRef;_styleLoader=f(Je);constructor(){}create(e){this._styleLoader.load(zM);let i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),a=new Mn(e);return a.direction=a.direction||this._directionality.value,new cs(o,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Yi),this._renderer)}position(){return this._positionBuilder}_createPaneElement(e){let i=this._document.createElement("div");return i.id=this._idGenerator.getId("cdk-overlay-"),i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Er)),new hd(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Y3=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],jM=new P("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=f(it);return()=>n.scrollStrategies.reposition()}}),xl=(()=>{class n{elementRef=f(Q);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return n})(),Dp=(()=>{class n{_overlay=f(it);_dir=f(wt,{optional:!0});_overlayRef;_templatePortal;_backdropSubscription=Ue.EMPTY;_attachSubscription=Ue.EMPTY;_detachSubscription=Ue.EMPTY;_positionSubscription=Ue.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=f(jM);_disposeOnNavigation=!1;_ngZone=f(de);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}backdropClick=new Z;positionChange=new Z;attach=new Z;detach=new Z;overlayKeydown=new Z;overlayOutsideClick=new Z;constructor(){let e=f(Rt),i=f(kt);this._templatePortal=new xi(e,i),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Y3);let e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),i.keyCode===27&&!this.disableClose&&!tt(i)&&(i.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{let r=this._getOriginElement(),o=Bt(i);(!r||r!==o&&!r.contains(o))&&this.overlayOutsideClick.next(i)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Mn({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(i.width=this.width),(this.height||this.height===0)&&(i.height=this.height),(this.minWidth||this.minWidth===0)&&(i.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){let i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof xl?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof xl?this.origin.elementRef.nativeElement:this.origin instanceof Q?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(_1(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",ie],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",ie],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",ie],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",ie],push:[2,"cdkConnectedOverlayPush","push",ie],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",ie]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[we]})}return n})();function K3(n){return()=>n.scrollStrategies.reposition()}var X3={provide:jM,deps:[it],useFactory:K3},ki=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({providers:[it,X3],imports:[Rr,Jt,ss,ss]})}return n})();function ft(n){return n!=null&&`${n}`!="false"}function UM(n,t=/\s+/){let e=[];if(n!=null){let i=Array.isArray(n)?n:`${n}`.split(t);for(let r of i){let o=`${r}`.trim();o&&e.push(o)}}return e}var Cl,$M=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Zb(){if(Cl)return Cl;if(typeof document!="object"||!document)return Cl=new Set($M),Cl;let n=document.createElement("input");return Cl=new Set($M.filter(t=>(n.setAttribute("type",t),n.type===t))),Cl}var Q3=["tooltip"],Jb=20;var ev=new P("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=f(it);return()=>n.scrollStrategies.reposition({scrollThrottle:Jb})}});function qM(n){return()=>n.scrollStrategies.reposition({scrollThrottle:Jb})}var YM={provide:ev,deps:[it],useFactory:qM};function KM(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var XM=new P("mat-tooltip-default-options",{providedIn:"root",factory:KM});var WM="tooltip-panel",GM=la({passive:!0}),Z3=8,J3=8,e5=24,t5=200,gr=(()=>{class n{_elementRef=f(Q);_ngZone=f(de);_platform=f(Ve);_ariaDescriber=f(Yb);_focusMonitor=f(Qt);_dir=f(wt);_injector=f(Ie);_viewContainerRef=f(kt);_defaultOptions=f(XM,{optional:!0});_overlayRef;_tooltipInstance;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=QM;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=ft(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let i=ft(e);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=wi(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=wi(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let i=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new L;_isDestroyed=!1;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._viewportMargin=Z3}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ee(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,GM)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(i);this._detach(),this._portal=this._portal||new Zi(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Ee(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){let i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let a=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&a._origin instanceof Q)return this._overlayRef;this._detach()}let i=this._injector.get(xo).getAncestorScrollContainers(this._elementRef),r=this._injector.get(it),o=r.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return o.positionChanges.pipe(Ee(this._destroyed)).subscribe(a=>{this._updateCurrentPositionClass(a.connectionPair),this._tooltipInstance&&a.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=r.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${WM}`,scrollStrategy:this._injector.get(ev)()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ee(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ee(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ee(this._destroyed)).subscribe(a=>{this._isTooltipVisible()&&a.keyCode===27&&!tt(a)&&(a.preventDefault(),a.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(Ee(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset(E(E({},r.main),o.main)),this._addOffset(E(E({},r.fallback),o.fallback))])}_addOffset(e){let i=J3,r=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-i:e.originY==="bottom"?e.offsetY=i:e.originX==="start"?e.offsetX=r?-i:i:e.originX==="end"&&(e.offsetX=r?i:-i),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"||i=="below"?r={originX:"center",originY:i=="above"?"top":"bottom"}:i=="before"||i=="left"&&e||i=="right"&&!e?r={originX:"start",originY:"center"}:(i=="after"||i=="right"&&e||i=="left"&&!e)&&(r={originX:"end",originY:"center"});let{x:o,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:a}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"?r={overlayX:"center",overlayY:"bottom"}:i=="below"?r={overlayX:"center",overlayY:"top"}:i=="before"||i=="left"&&e||i=="right"&&!e?r={overlayX:"end",overlayY:"center"}:(i=="after"||i=="right"&&e||i=="left"&&!e)&&(r={overlayX:"start",overlayY:"center"});let{x:o,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),Ct(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return this.position==="above"||this.position==="below"?i==="top"?i="bottom":i==="bottom"&&(i="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){let{overlayY:i,originX:r,originY:o}=e,a;if(i==="center"?this._dir&&this._dir.value==="rtl"?a=r==="end"?"left":"right":a=r==="start"?"left":"right":a=i==="bottom"&&o==="top"?"above":"below",a!==this._currentPosition){let s=this._overlayRef;if(s){let l=`${this._cssClassPrefix}-${WM}-`;s.removePanelClass(l+this._currentPosition),s.addPanelClass(l+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let i;e.x!==void 0&&e.y!==void 0&&(i=e),this.show(void 0,i)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions?.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{let r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,GM)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let i=this._injector.get(ve).elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let i=this._elementRef.nativeElement,r=i.style;(e==="on"||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(e==="on"||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||Ct({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){i&2&&N("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return n})(),QM=(()=>{class n{_changeDetectorRef=f(_e);_elementRef=f(Q);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled;_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new L;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){let e=f(Oe,{optional:!0});this._animationsDisabled=e==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>e5&&e.width>=t5}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let a=getComputedStyle(i);(a.getPropertyValue("animation-duration")==="0s"||a.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(i&1&&se(Q3,7),i&2){let o;q(o=Y())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,r){i&1&&T("mouseleave",function(a){return r._handleMouseLeave(a)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,r){if(i&1){let o=be();b(0,"div",1,0),T("animationend",function(s){return W(o),G(r._handleAnimationEnd(s))}),b(2,"div",2),K(3),w()()}i&2&&(N("mdc-tooltip--multiline",r._isMultiline),M("ngClass",r.tooltipClass),y(3),De(r.message))},dependencies:[Qi],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return n})(),pd=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({providers:[YM],imports:[ur,ki,oe,oe,Zt]})}return n})();var iv=class n{elRef=f(Q);tooltip=f(gr);cdr=f(_e);resizeObserver;$tooltipText=xe.required({alias:"ellipsisCheck"});ngAfterViewInit(){setTimeout(()=>this.checkEllipsis()),this.resizeObserver=new ResizeObserver(()=>{this.checkEllipsis()}),this.resizeObserver.observe(this.elRef.nativeElement)}ngOnChanges(t){t.$tooltipText&&setTimeout(()=>this.checkEllipsis())}checkEllipsis(){let t=this.elRef.nativeElement;t.offsetWidth<t.scrollWidth?(this.tooltip.message=this.$tooltipText(),this.tooltip.disabled=!1):(this.tooltip.message="",this.tooltip.disabled=!0),this.cdr.markForCheck()}ngOnDestroy(){this.resizeObserver.disconnect()}static \u0275fac=function(e){return new(e||n)};static \u0275dir=V({type:n,selectors:[["","ellipsisCheck",""]],inputs:{$tooltipText:[1,"ellipsisCheck","$tooltipText"]},features:[pu([gr]),we]})};var i5=["*"],md=class n{$title=xe.required({alias:"titleText"});$comment=xe("",{alias:"commentText"});constructor(){}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=I({type:n,selectors:[["error-ui"]],inputs:{$title:[1,"titleText","$title"],$comment:[1,"commentText","$comment"]},standalone:!1,ngContentSelectors:i5,decls:7,vars:2,consts:[[1,"d-flex","align-items-center","justify-content-center","w-p-full","h-p-full"],[1,"text-center"],[1,"d-block","text-primary-charcoal","text-normal","mt-1"],[1,"d-block","text-primary-ash","text-small"]],template:function(e,i){e&1&&(me(),b(0,"div",0)(1,"div",1),re(2),b(3,"span",2),K(4),w(),b(5,"span",3),K(6),w()()()),e&2&&(y(4),Ze(" ",i.$title()," "),y(2),Ze(" ",i.$comment()," "))},encapsulation:2})};var nv=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=I({type:n,selectors:[["loader"]],standalone:!1,decls:1,vars:0,consts:[[1,"loader"]],template:function(e,i){e&1&&B(0,"div",0)},styles:['.loader[_ngcontent-%COMP%]{width:50px;aspect-ratio:1;display:grid;border:4px solid rgba(0,0,0,0);border-radius:50%;border-right-color:#369cd9;animation:_ngcontent-%COMP%_l15 1s infinite linear}.loader[_ngcontent-%COMP%]:before, .loader[_ngcontent-%COMP%]:after{content:"";grid-area:1/1;margin:2px;border:inherit;border-radius:50%;animation:_ngcontent-%COMP%_l15 2s infinite}.loader[_ngcontent-%COMP%]:after{margin:8px;animation-duration:3s}@keyframes _ngcontent-%COMP%_l15{to{transform:rotate(1turn)}}']})};var da=class n{constructor(){}secondsToTime(t,e="auto"){let i=Math.floor(t/3600).toString().padStart(2,"0"),r=Math.floor(t%3600/60).toString().padStart(2,"0"),o=Math.floor(t%3600%60).toString().padStart(2,"0"),a=t.toFixed(3).split(".")[1],s=`${i}:${r}:${o}.${a}`;return e==="hrs_ms"?s:i!=="00"?`${i}:${r}:${o}`:`${r}:${o}`}timeToSeconds(t){let e=t.split(":"),i=t.length>5?+e[0]*60*60:null,r=i?+e[1]*60:+e[0]*60,o=i?+e[2]:+e[1];return i?i+r+o:r+o}timeToWords(t){let e=t.split(":").map(Number),i=0,r=0,o=0;e.length===3?[i,r,o]=e:e.length===2?[r,o]=e:e.length===1&&([o]=e);let a=[];if(i&&a.push(`${i.toString().padStart(2,"0")} Hr${i>1?"s":""}`),r&&a.push(`${r.toString().padStart(2,"0")} Min${r>1?"s":""}`),(o||!i&&!r)&&a.push(`${o.toString().padStart(2,"0")} Sec${o>1?"s":""}`),a.length>1){let s=a.pop();return a.join(" ")+" "+s}return a[0]||""}bytesToMega(t){let e=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(t)/Math.log(1024));return`${parseFloat((t/Math.pow(1024,i)).toFixed(2))}${e[i]}`}static \u0275fac=function(e){return new(e||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})};var Fr=class n{source_init={videoSource:"assets/videos/firefighters.mp4",videoThumbnail:"assets/videos/firefighters_poster.png",audioSource:"",imageSource:""};player_init={isPlaying:!1,progress:0,loaded:0,current_time:"00:00:00",total_time:"00:00:00",duration:0,volume:.6,speed:1,isFullscreen:!1};refs_init={};tracks_init={fixed_width:0,track_divisions:[],track_frames:[],trackpad_ruler_width:0,trackpad_content_width:0,trackpad_left_ph_width:0,trackpad_right_ph_width:0,trackpad_cursor_position:0,trackpad_stick_left_position:0,trackpad_stick_right_position:0,trackpad_audio_handle_width:0,trackpad_audio_handle_left_position:0,trackpad_audio_handle_right_position:0};edit_init={trimStart:0,trimEnd:0};$file_source=rt(this.source_init);file_source=this.$file_source.asReadonly();$player_state=rt(this.player_init);player_state=this.$player_state.asReadonly();$media_refs=rt(this.refs_init);media_refs=this.$media_refs.asReadonly();$tracks_state=rt(this.tracks_init);tracks_state=this.$tracks_state.asReadonly();$edit_state=rt(this.edit_init);edit_state=this.$edit_state.asReadonly();$errorState=rt({_canShowFile:!1,_isFileError:!1});errorState=this.$errorState.asReadonly();_editObservable=new vi("");editObservableCast=this._editObservable.asObservable();constructor(){}set editObservable(t){this._editObservable.next(t)}updateFileSource(t){this.$file_source.update(e=>E(E({},e),t))}updatePlayerState(t){this.$player_state.update(e=>E(E({},e),t))}updateMediaRefs(t){this.$media_refs.update(e=>E(E({},e),t))}updateTracksState(t){this.$tracks_state.update(e=>E(E({},e),t))}updateEditState(t){this.$edit_state.update(e=>E(E({},e),t))}updateErrorState(t){this.$errorState.update(e=>E(E({},e),t))}resetState(t){t.forEach(e=>{switch(e){case"source":this.$file_source.set(this.source_init);break;case"player":this.$player_state.set(this.player_init);break;case"refs":this.$media_refs.set(this.refs_init);break;case"tracks":this.$tracks_state.set(this.tracks_init);break;case"edit":this.$edit_state.set(this.edit_init);break}})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})};var kl=class n{calculationHelpers=f(da);mediaState=f(Fr);$fileSource=this.mediaState.file_source;$playerState=this.mediaState.player_state;$trackState=this.mediaState.tracks_state;$mediaRefs=this.mediaState.media_refs;animationFrame;constructor(){}set mediaRefs(t){this.mediaState.updateMediaRefs(t)}set playerState(t){this.mediaState.updatePlayerState(t)}set tracksState(t){this.mediaState.updateTracksState(t)}onloadMetadata(t){let e=this.$mediaRefs().mediaRef?.nativeElement.duration;if(!t)this.playerState={progress:0,duration:e,current_time:e>3600?"00:00:00":"00:00",total_time:this.calculationHelpers.secondsToTime(e)};else{let i=this.$playerState().progress/100*this.$playerState().duration;this.$mediaRefs().mediaRef.nativeElement.currentTime=i,this.$mediaRefs().mediaRef.nativeElement.volume=this.$playerState().volume,this.$mediaRefs().mediaRef.nativeElement.speed=this.$playerState().speed,this.$playerState().isPlaying&&this.togglePlayPause()}}fetchLoadedProgress(){let t=this.$mediaRefs().mediaRef.nativeElement.buffered,e=this.$mediaRefs().mediaRef.nativeElement.duration;if(t.length>0){let r=t.end(t.length-1)/e*100;this.playerState={loaded:r}}}updatePlaybackProgress(){if(this.$playerState().isPlaying){let t=this.$mediaRefs().mediaRef?.nativeElement.currentTime,e=t/this.$playerState().duration*100,i=e/100*this.$trackState().trackpad_content_width;this.playerState={progress:e,current_time:this.calculationHelpers.secondsToTime(t)},this.tracksState={trackpad_cursor_position:i},this.animationFrame=requestAnimationFrame(this.updatePlaybackProgress.bind(this))}else this.$playerState().isPlaying||cancelAnimationFrame(this.animationFrame)}togglePlayPause(){this.$playerState().isPlaying?(this.playerState={isPlaying:!1},this.$mediaRefs().mediaRef?.nativeElement.pause()):(this.playerState={isPlaying:!0},this.$mediaRefs().mediaRef?.nativeElement.play(),this.updatePlaybackProgress())}onPause(){this.playerState={isPlaying:!1}}progressSeek(t){let e=5/this.$playerState().duration*100,i,r;t.function==="trigger_seek_forward"?(i=(this.$playerState().progress+e)/100,r=this.$playerState().progress>=100?100:this.$playerState().progress+e):t.function==="trigger_seek_backward"?(i=(this.$playerState().progress+e)/100,r=this.$playerState().progress<=0?0:this.$playerState().progress-e):(i=t.progress/100*this.$trackState().trackpad_content_width,r=t.progress),this.playerState={progress:r},this.tracksState={trackpad_cursor_position:i};let o=this.$playerState().progress/100*this.$playerState().duration;this.playerState={current_time:this.calculationHelpers.secondsToTime(o)},this.$mediaRefs().mediaRef.nativeElement.currentTime=o}onVideoEnd(){this.playerState={isPlaying:!1},this.$mediaRefs().mediaRef?.nativeElement.pause()}toggleMute(){this.$playerState().volume===0?this.playerState={volume:.6}:this.playerState={volume:0}}volumeSeek(t){this.playerState={volume:t}}changePlaybackSpeed(t){let e=parseFloat(t.split("x")[0]);this.playerState={speed:e}}chkScreenMode(){document.fullscreenElement?this.playerState={isFullscreen:!0}:this.playerState={isFullscreen:!1}}toggleFullscreen(){let t=this.$mediaRefs().playerWrapperRef.nativeElement;this.$playerState().isFullscreen?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}static \u0275fac=function(e){return new(e||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})};var r5=["barBgRef"],o5=["barLoadedRef"],a5=["barProgressRef"],s5=["volumeBarRef"],l5=["volumeBarInputRef"];function c5(n,t){if(n&1){let e=be();b(0,"div",29),T("click",function(){W(e);let r=k();return G(r.handlePip())}),je(),b(1,"svg",30),B(2,"path",31),w()()}}function d5(n,t){n&1&&(je(),b(0,"svg",10),B(1,"path",32),w())}function h5(n,t){n&1&&(je(),b(0,"svg",11),B(1,"path",33),w())}function u5(n,t){n&1&&(je(),b(0,"svg",11),B(1,"path",34)(2,"path",35),w())}function p5(n,t){n&1&&(je(),b(0,"svg",11),B(1,"path",36)(2,"path",37),w())}function m5(n,t){n&1&&(je(),b(0,"svg",11),B(1,"path",38)(2,"path",39),w())}function f5(n,t){if(n&1){let e=be();b(0,"button",45),T("click",function(){let r=W(e).$implicit,o=k(2);return G(o.controlPlayer("speed",void 0,r))}),b(1,"span",43),K(2),w()()}if(n&2){let e=t.$implicit,i=k(2);M("ariaChecked",i.selectedSpeed===e),y(2),De(e==="1x"?"Normal":e)}}function g5(n,t){if(n&1&&(b(0,"div",40),je(),b(1,"svg",10),B(2,"path",41),w(),Ai(),b(3,"div",42)(4,"h6",43),K(5,"Speed"),w(),pi(6,f5,3,2,"button",44,Rc),w()()),n&2){let e=k();y(6),mi(e.speedValues)}}function _5(n,t){if(n&1){let e=be();b(0,"div",46),T("click",function(){W(e);let r=k();return G(r.controlPlayer("trigger_fullscreen"))}),je(),b(1,"svg",10),B(2,"path",47),w()()}}var ds=class n{barBgRef;barLoadedRef;barProgressRef;volumeBarRef;volumeBarInputRef;mediaPlayerService=f(kl);calculationHelpers=f(da);mediaState=f(Fr);$fileSource=this.mediaState.file_source;$playerState=this.mediaState.player_state;$mediaRefs=this.mediaState.media_refs;$mediaType=xe.required({alias:"mediaType"});$miniPlayer=xe(!1,{alias:"miniPlayer"});$pipEvent=Ki({alias:"pipEvent"});$timeEvent=Ki({alias:"timeEvent"});speedValues=["0.5x","0.75x","1x","1.25x","1.5x","2x"];selectedSpeed="1x";isDraggingProgress=!1;isDraggingVolume=!1;progressBarWidth=0;volumeBarHeight=0;constructor(){}controlPlayer(t,e,i){switch(t){case"playback":this.mediaPlayerService.togglePlayPause();break;case"trigger_seek":this.progressSeek(e);break;case"trigger_seek_backward":this.mediaPlayerService.progressSeek({function:"trigger_seek_backward"});break;case"trigger_seek_forward":this.mediaPlayerService.progressSeek({function:"trigger_seek_forward"});break;case"mute":this.mediaPlayerService.toggleMute();let r=this.$playerState().volume;this.volumeBarInputRef.nativeElement.style.setProperty("--volume-bar-progress",`${r*100}%`);break;case"volume_seek":this.volumeSeek(e);break;case"trigger_fullscreen":this.mediaPlayerService.toggleFullscreen();break;case"speed":this.selectedSpeed=i,this.mediaPlayerService.changePlaybackSpeed(i);break;default:console.log("Default case")}}onMouseDownProgress(t){this.isDraggingProgress=!0,this.progressSeek(t),document.addEventListener("mousemove",this.onMouseMoveProgress.bind(this),!1),document.addEventListener("mouseup",this.onMouseUpProgress.bind(this),!1)}onMouseMoveProgress(t){this.isDraggingProgress&&this.progressSeek(t)}onMouseUpProgress(){this.isDraggingProgress=!1,document.removeEventListener("mousemove",this.onMouseMoveProgress.bind(this),!1),document.removeEventListener("mouseup",this.onMouseUpProgress.bind(this),!1)}progressSeek(t){t.stopPropagation(),this.progressBarWidth=this.barBgRef.nativeElement.offsetWidth;let e=this.barBgRef.nativeElement.getBoundingClientRect(),i=t.clientX-e.left;if(this.isDraggingProgress){i<0&&(i=0),i>this.progressBarWidth&&(i=this.progressBarWidth);let r=i/this.progressBarWidth*100;this.mediaPlayerService.progressSeek({progress:r,function:"trigger_seek"})}}onMouseDownVolume(t){this.isDraggingVolume=!0,this.volumeSeek(t),document.addEventListener("mousemove",this.onMouseMoveVolume.bind(this)),document.addEventListener("mouseup",this.onMouseUpVolume.bind(this))}onMouseMoveVolume(t){this.isDraggingVolume&&(this.volumeBarRef.nativeElement.style.setProperty("--volume-bar-display","flex"),this.volumeSeek(t))}onMouseUpVolume(){this.isDraggingVolume=!1,this.volumeBarRef.nativeElement.style.setProperty("--volume-bar-display","none"),document.removeEventListener("mousemove",this.onMouseMoveVolume.bind(this)),document.removeEventListener("mouseup",this.onMouseUpVolume.bind(this))}volumeSeek(t){t.stopPropagation(),this.volumeBarHeight=this.volumeBarInputRef.nativeElement.offsetHeight;let e=this.volumeBarInputRef.nativeElement.getBoundingClientRect(),i=this.volumeBarHeight-(t.clientY-e.top);if(this.isDraggingVolume){i<0&&(i=0),i>this.volumeBarHeight&&(i=this.volumeBarHeight);let r=parseFloat((i/this.volumeBarHeight).toFixed(2));this.volumeBarInputRef.nativeElement.style.setProperty("--volume-bar-progress",`${r*100}%`),this.mediaPlayerService.volumeSeek(r)}}handleVolume(t){let e=this.$playerState().volume;t==="up"?e=e>=1?1:parseFloat(e.toFixed(1))+.1:t==="down"&&(e=e<=0?0:parseFloat(e.toFixed(1))-.1),this.volumeBarInputRef.nativeElement.style.setProperty("--volume-bar-progress",`${e*100}%`),this.mediaPlayerService.volumeSeek(e)}handleSpeed(t){let e=this.speedValues.indexOf(this.selectedSpeed),i;e===0&&t==="decrement"||e===5&&t==="increment"||(t==="increment"?i=this.speedValues[e+1]:i=this.speedValues[e-1],this.selectedSpeed=i,this.mediaPlayerService.changePlaybackSpeed(i))}handlePip(){this.$pipEvent.emit()}fullscreenModes(t){this.mediaPlayerService.chkScreenMode()}handleSnapshotDisplay(t){this.progressBarWidth=this.barBgRef.nativeElement.offsetWidth;let e=this.barBgRef.nativeElement.getBoundingClientRect(),i=t.clientX-e.left;i<0&&(i=0),i>this.progressBarWidth&&(i=this.progressBarWidth);let r=i/this.progressBarWidth*100,o=this.$playerState().duration*r/100;this.$timeEvent.emit(this.calculationHelpers.secondsToTime(o));let a=i+20-87-4,s=this.progressBarWidth+36-174-4;a<=0?a=0:a>=s&&(a=s),this.$mediaRefs().snapshotRef.nativeElement.style.left=a+"px",this.$mediaRefs().snapshotRef.nativeElement.classList.add("snapshot-visible")}handleSnapshotHide(){this.$mediaRefs().snapshotRef.nativeElement.classList.remove("snapshot-visible")}ngAfterViewInit(){this.progressBarWidth=this.barBgRef.nativeElement.offsetWidth,this.volumeBarHeight=this.volumeBarRef.nativeElement.offsetHeight,this.volumeBarInputRef.nativeElement.style.setProperty("--volume-bar-progress",`${this.$playerState().volume*100}%`),this.mediaState.updateMediaRefs({barProgress:this.barProgressRef,barLoaded:this.barLoadedRef})}ngOnInit(){}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=I({type:n,selectors:[["player-controls"]],viewQuery:function(e,i){if(e&1&&(se(r5,5),se(o5,5),se(a5,5),se(s5,5),se(l5,5)),e&2){let r;q(r=Y())&&(i.barBgRef=r.first),q(r=Y())&&(i.barLoadedRef=r.first),q(r=Y())&&(i.barProgressRef=r.first),q(r=Y())&&(i.volumeBarRef=r.first),q(r=Y())&&(i.volumeBarInputRef=r.first)}},hostBindings:function(e,i){e&1&&T("fullscreenchange",function(o){return i.fullscreenModes(o)},!1,Ut)("webkitfullscreenchange",function(o){return i.fullscreenModes(o)},!1,Ut)("mozfullscreenchange",function(o){return i.fullscreenModes(o)},!1,Ut)("MSFullscreenChange",function(o){return i.fullscreenModes(o)},!1,Ut)},inputs:{$mediaType:[1,"mediaType","$mediaType"],$miniPlayer:[1,"miniPlayer","$miniPlayer"]},outputs:{$pipEvent:"pipEvent",$timeEvent:"timeEvent"},standalone:!1,decls:40,vars:11,consts:[["volumeBarRef",""],["volumeBarInputRef",""],["barBgRef",""],["barLoadedRef",""],["barProgressRef",""],[1,"player-controls-wrapper"],[1,"controls-pip"],[1,"controls-inner","controls-top"],[1,"controls-left","d-flex","align-items-center"],[1,"play-btn","pointer",3,"click"],["viewBox","0 0 25 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],[1,"duration"],[1,"controls-right","d-flex","align-items-center"],[1,"rewind","pointer",3,"click"],["d","M5.46095 1.00079C5.67944 0.992105 5.89475 1.05527 6.07391 1.18061C6.25307 1.30596 6.38622 1.48657 6.45295 1.69479L6.48095 1.80479L6.80795 3.43179C9.02143 2.08215 11.6736 1.64777 14.202 2.22079C19.59 3.43479 22.973 8.78679 21.759 14.1748C20.545 19.5618 15.193 22.9448 9.80495 21.7318C5.16095 20.6848 2.00795 16.5658 2.00195 11.9988C2.00156 11.7336 2.10653 11.4791 2.29379 11.2912C2.48104 11.1034 2.73524 10.9977 3.00045 10.9973C3.26567 10.9969 3.52018 11.1019 3.708 11.2891C3.89582 11.4764 4.00156 11.7306 4.00195 11.9958C4.00686 13.8824 4.6784 15.7067 5.89794 17.1462C7.11749 18.5857 8.80655 19.5479 10.6668 19.8628C12.527 20.1777 14.4386 19.825 16.064 18.867C17.6893 17.909 18.9238 16.4075 19.5494 14.6275C20.1749 12.8476 20.1513 10.9038 19.4826 9.13963C18.814 7.37543 17.5433 5.90433 15.8951 4.98619C14.2469 4.06805 12.3273 3.76196 10.4753 4.122C8.62327 4.48204 6.95812 5.48503 5.77395 6.95379C5.64435 7.11481 5.46803 7.23172 5.26925 7.28841C5.07048 7.34511 4.85901 7.33882 4.66396 7.27041C4.46891 7.20199 4.29985 7.07481 4.18005 6.90637C4.06024 6.73792 3.99558 6.53649 3.99495 6.32979L4.00195 6.20979L4.50795 1.88479C4.53538 1.64822 4.64633 1.4292 4.82085 1.26714C4.99537 1.10509 5.223 1.01064 5.46095 1.00079ZM13.763 7.50079C14.0282 7.50079 14.2825 7.60615 14.4701 7.79368C14.6576 7.98122 14.763 8.23557 14.763 8.50079C14.763 8.76601 14.6576 9.02036 14.4701 9.2079C14.2825 9.39543 14.0282 9.50079 13.763 9.50079H11.263V10.1968C11.498 10.1538 11.752 10.1268 12.013 10.1268C13.909 10.1268 15.201 11.5848 15.201 13.3138C15.201 14.0462 14.9488 14.7564 14.4868 15.3248C14.0248 15.8931 13.3812 16.2851 12.6642 16.4347C11.9472 16.5843 11.2005 16.4825 10.5498 16.1463C9.899 15.8101 9.38386 15.2601 9.09095 14.5888C8.98811 14.3549 8.97869 14.0905 9.06464 13.8499C9.15059 13.6093 9.32539 13.4107 9.55315 13.2949C9.78091 13.1791 10.0444 13.1548 10.2894 13.2272C10.5345 13.2995 10.7426 13.4629 10.871 13.6838L10.924 13.7878C11.033 14.038 11.2249 14.2429 11.4673 14.3683C11.7097 14.4936 11.9879 14.5317 12.2551 14.4761C12.5222 14.4205 12.7621 14.2745 12.9344 14.0629C13.1066 13.8512 13.2008 13.5867 13.201 13.3138C13.201 12.6258 12.742 12.1258 12.013 12.1258C11.634 12.1258 11.243 12.2298 10.889 12.3778L10.715 12.4558C10.5625 12.533 10.3928 12.5699 10.222 12.5629C10.0513 12.5559 9.88514 12.5053 9.73951 12.4158C9.59389 12.3264 9.47362 12.2011 9.39019 12.0519C9.30676 11.9028 9.26296 11.7347 9.26295 11.5638V8.93879C9.26295 8.14479 9.90695 7.50079 10.701 7.50079H13.763Z","fill","white"],[1,"forward","pointer",3,"click"],["d","M18.5418 1C18.7798 1.00985 19.0064 1.1043 19.1809 1.26635C19.3554 1.42841 19.4664 1.64743 19.4938 1.884L20.0008 6.209C20.0261 6.4243 19.9807 6.64197 19.8715 6.82924C19.7623 7.0165 19.5952 7.16321 19.3954 7.24726C19.1956 7.33132 18.9739 7.34817 18.7636 7.29527C18.5534 7.24238 18.3661 7.12261 18.2298 6.954C17.0459 5.48499 15.381 4.48167 13.529 4.12127C11.6771 3.76087 9.75736 4.06659 8.10899 4.98443C6.46062 5.90227 5.18967 7.37315 4.52067 9.13724C3.85168 10.9013 3.82768 12.8451 4.45293 14.6252C5.07817 16.4052 6.31243 17.907 7.93764 18.8653C9.56286 19.8235 11.4744 20.1765 13.3347 19.862C15.195 19.5474 16.8842 18.5855 18.104 17.1461C19.3238 15.7068 19.9956 13.8827 20.0008 11.996C20.001 11.8647 20.0269 11.7347 20.0773 11.6134C20.1277 11.4921 20.2015 11.382 20.2944 11.2892C20.3874 11.1964 20.4977 11.1229 20.6191 11.0727C20.7404 11.0226 20.8705 10.9969 21.0018 10.997C21.1331 10.9971 21.2632 11.0231 21.3844 11.0735C21.5057 11.1239 21.6159 11.1976 21.7086 11.2906C21.8014 11.3836 21.8749 11.4939 21.9251 11.6152C21.9752 11.7366 22.001 11.8667 22.0008 11.998C21.9938 16.565 18.8408 20.684 14.1968 21.731C8.80882 22.945 3.45682 19.561 2.24282 14.174C1.02882 8.787 4.41282 3.434 9.80082 2.22C12.3292 1.64698 14.9813 2.08136 17.1948 3.431L17.5218 1.803C17.5687 1.5697 17.6973 1.36078 17.8845 1.21378C18.0716 1.06677 18.305 0.991331 18.5428 1.001M13.7648 7.501C14.03 7.501 14.2844 7.60636 14.4719 7.79389C14.6595 7.98143 14.7648 8.23578 14.7648 8.501C14.7648 8.76622 14.6595 9.02057 14.4719 9.20811C14.2844 9.39564 14.03 9.501 13.7648 9.501H11.2648V10.197C11.4998 10.154 11.7538 10.127 12.0148 10.127C13.9108 10.127 15.2028 11.585 15.2028 13.314C15.2029 14.0465 14.9507 14.7566 14.4887 15.325C14.0267 15.8933 13.3831 16.2853 12.666 16.4349C11.949 16.5845 11.2024 16.4827 10.5516 16.1465C9.90087 15.8103 9.38572 15.2603 9.09282 14.589C8.98997 14.3551 8.98056 14.0907 9.06651 13.8501C9.15246 13.6095 9.32726 13.4109 9.55502 13.2951C9.78278 13.1793 10.0462 13.1551 10.2913 13.2274C10.5364 13.2997 10.7444 13.4631 10.8728 13.684L10.9258 13.788C11.0349 14.0382 11.2268 14.2431 11.4692 14.3685C11.7116 14.4938 11.9898 14.5319 12.2569 14.4763C12.5241 14.4207 12.764 14.2748 12.9362 14.0631C13.1085 13.8514 13.2026 13.5869 13.2028 13.314C13.2028 12.626 12.7438 12.126 12.0148 12.126C11.7124 12.1369 11.4133 12.1936 11.1278 12.294L10.9198 12.369L10.7168 12.456C10.5644 12.5333 10.3947 12.5701 10.2239 12.5631C10.0531 12.5561 9.887 12.5055 9.74138 12.416C9.59575 12.3266 9.47549 12.2013 9.39206 12.0521C9.30863 11.903 9.26482 11.7349 9.26482 11.564V8.938C9.26482 8.144 9.90882 7.5 10.7028 7.5L13.7648 7.501Z","fill","white"],[1,"volume","pointer"],[3,"click"],[1,"volume-bar"],[1,"volume-input",3,"click","mousedown"],["class","speed pointer",4,"ngIf"],["class","fullscreen pointer",3,"click",4,"ngIf"],[1,"controls-inner","controls-bottom"],[1,"progress-bar-wrapper"],[1,"bar","bar-bg","pointer",3,"click","mousedown","mousemove","mouseout"],[1,"bar","bar-loaded"],[1,"bar","bar-progress"],[1,"controls-pip",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960"],["d","M80-520v-80h144L52-772l56-56 172 172v-144h80v280H80Zm80 360q-33 0-56.5-23.5T80-240v-200h80v200h320v80H160Zm640-280v-280H440v-80h360q33 0 56.5 23.5T880-720v280h-80ZM560-160v-200h320v200H560Z"],["d","M17.4389 13.046L7.89442 18.584C7.08442 19.0535 6.04492 18.485 6.04492 17.5385V6.46252C6.04492 5.51752 7.08292 4.94752 7.89442 5.41852L17.4389 10.9565C17.6232 11.0617 17.7763 11.2138 17.8829 11.3972C17.9894 11.5807 18.0455 11.7891 18.0455 12.0013C18.0455 12.2134 17.9894 12.4218 17.8829 12.6053C17.7763 12.7888 17.6232 12.9408 17.4389 13.046Z","fill","white"],["d","M15 18C14.732 18 14.4983 17.9003 14.299 17.701C14.0997 17.5017 14 17.268 14 17V7C14 6.732 14.0997 6.49833 14.299 6.299C14.4983 6.09967 14.732 6 15 6H16.5C16.768 6 17.0017 6.09967 17.201 6.299C17.4003 6.49833 17.5 6.732 17.5 7V17C17.5 17.268 17.4003 17.5017 17.201 17.701C17.0017 17.9003 16.768 18 16.5 18H15ZM7.5 18C7.232 18 6.99833 17.9003 6.799 17.701C6.59967 17.5017 6.5 17.268 6.5 17V7C6.5 6.732 6.59967 6.49833 6.799 6.299C6.99833 6.09967 7.232 6 7.5 6H9C9.268 6 9.50167 6.09967 9.701 6.299C9.90033 6.49833 10 6.732 10 7V17C10 17.268 9.90033 17.5017 9.701 17.701C9.50167 17.9003 9.268 18 9 18H7.5Z","fill","white"],["d","M2.0029 11.7164C2.0399 9.87335 2.0589 8.95235 2.6709 8.16435C2.7939 8.00731 2.93225 7.86293 3.0839 7.73335C3.8359 7.09735 4.8299 7.09735 6.8169 7.09735C7.5269 7.09735 7.8819 7.09735 8.2199 7.00535C8.2899 6.98535 8.35957 6.96302 8.4289 6.93835C8.7589 6.81735 9.0559 6.60835 9.6489 6.19235C11.9869 4.54735 13.1569 3.72535 14.1379 4.08235C14.3259 4.15135 14.5079 4.25035 14.6709 4.37235C15.5189 5.00735 15.5839 6.48735 15.7129 9.44535C15.7609 10.5414 15.7929 11.4794 15.7929 12.0004C15.7929 12.5214 15.7609 13.4604 15.7129 14.5554C15.5829 17.5134 15.5189 18.9934 14.6709 19.6284C14.5082 19.7503 14.3287 19.848 14.1379 19.9184C13.1559 20.2754 11.9879 19.4534 9.6479 17.8084C9.0559 17.3924 8.7589 17.1834 8.4279 17.0624C8.35941 17.0375 8.29003 17.0152 8.2199 16.9954C7.8819 16.9034 7.5269 16.9034 6.8169 16.9034C4.8299 16.9034 3.8369 16.9034 3.0839 16.2674C2.9323 16.1381 2.79395 15.994 2.6709 15.8374C2.0589 15.0474 2.0409 14.1274 2.0029 12.2854C1.99903 12.0954 1.99903 11.9063 2.0029 11.7164Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M19.4913 5.16992C19.5594 5.10851 19.6395 5.06195 19.7266 5.03323C19.8137 5.0045 19.9058 4.99423 19.9971 5.00308C20.0883 5.01192 20.1767 5.03968 20.2567 5.08459C20.3366 5.1295 20.4063 5.19058 20.4613 5.26392L19.9323 5.73492L20.4623 5.26492L20.4643 5.26692L20.4673 5.27092L20.4743 5.27992L20.5533 5.39192C20.6013 5.46325 20.6633 5.56492 20.7393 5.69692C20.8883 5.96092 21.0783 6.34892 21.2653 6.86792C21.6413 7.90892 22.0013 9.46892 22.0013 11.6179C22.0013 13.7669 21.6413 15.3279 21.2653 16.3679C21.0783 16.8879 20.8883 17.2749 20.7393 17.5399C20.6579 17.6832 20.5695 17.8224 20.4743 17.9569L20.4673 17.9659L20.4643 17.9689L20.4633 17.9709C20.4633 17.9709 20.4623 17.9719 19.9323 17.5009L20.4623 17.9719C20.4073 18.0454 20.3376 18.1066 20.2575 18.1516C20.1775 18.1966 20.089 18.2245 19.9976 18.2333C19.9062 18.2421 19.814 18.2318 19.7268 18.203C19.6396 18.1742 19.5594 18.1275 19.4913 18.0659C19.3498 17.9358 19.2621 17.7574 19.2455 17.5659C19.2288 17.3744 19.2844 17.1835 19.4013 17.0309L19.4313 16.9899C19.458 16.9499 19.4997 16.8809 19.5563 16.7829C19.7238 16.4813 19.865 16.1658 19.9783 15.8399C20.2923 14.9689 20.6223 13.5869 20.6223 11.6179C20.6223 9.64892 20.2923 8.26792 19.9783 7.39592C19.865 7.07038 19.7238 6.75521 19.5563 6.45392C19.5082 6.36704 19.4558 6.2826 19.3993 6.20092M17.7583 8.03392C18.0913 7.83692 18.5113 7.96392 18.6963 8.31992L18.6973 8.32192L18.6993 8.32492L18.7023 8.33192L18.7123 8.34992L18.7363 8.40292C18.755 8.44492 18.7783 8.50158 18.8063 8.57292C18.8593 8.71792 18.9263 8.92292 18.9913 9.19292C19.1213 9.73292 19.2433 10.5299 19.2433 11.6179C19.2433 12.7069 19.1213 13.5039 18.9913 14.0439C18.9263 14.3139 18.8593 14.5189 18.8053 14.6629C18.777 14.7385 18.7456 14.8129 18.7113 14.8859L18.7023 14.9039L18.6993 14.9109L18.6973 14.9139V14.9159C18.6973 14.9159 18.6963 14.9169 18.0933 14.5599L18.6963 14.9169C18.5113 15.2719 18.0913 15.3999 17.7583 15.2029C17.4283 15.0069 17.3083 14.5649 17.4863 14.2119L17.4903 14.2019L17.5253 14.1169C17.5573 14.0309 17.6053 13.8869 17.6553 13.6789C17.7553 13.2629 17.8633 12.5889 17.8633 11.6189C17.8633 10.6479 17.7553 9.97392 17.6553 9.55892C17.6124 9.38068 17.5573 9.2056 17.4903 9.03492L17.4863 9.02492C17.3994 8.85567 17.3791 8.65997 17.4294 8.47648C17.4798 8.29299 17.5972 8.13507 17.7583 8.03392Z","fill","white"],["d","M3.0029 11.7164C3.0399 9.87335 3.0589 8.95235 3.6709 8.16435C3.7939 8.00731 3.93225 7.86293 4.0839 7.73335C4.8359 7.09735 5.8299 7.09735 7.8169 7.09735C8.5269 7.09735 8.8819 7.09735 9.2199 7.00535C9.2899 6.98535 9.35957 6.96302 9.4289 6.93835C9.7589 6.81735 10.0559 6.60835 10.6489 6.19235C12.9869 4.54735 14.1569 3.72535 15.1379 4.08235C15.3259 4.15135 15.5079 4.25035 15.6709 4.37235C16.5189 5.00735 16.5839 6.48735 16.7129 9.44535C16.7609 10.5414 16.7929 11.4794 16.7929 12.0004C16.7929 12.5214 16.7609 13.4604 16.7129 14.5554C16.5829 17.5134 16.5189 18.9934 15.6709 19.6284C15.5082 19.7503 15.3287 19.848 15.1379 19.9184C14.1559 20.2754 12.9879 19.4534 10.6479 17.8084C10.0559 17.3924 9.7589 17.1834 9.4279 17.0624C9.35941 17.0375 9.29003 17.0152 9.2199 16.9954C8.8819 16.9034 8.5269 16.9034 7.8169 16.9034C5.8299 16.9034 4.8369 16.9034 4.0839 16.2674C3.9323 16.1381 3.79395 15.994 3.6709 15.8374C3.0589 15.0474 3.0409 14.1274 3.0029 12.2854C2.99903 12.0954 2.99903 11.9063 3.0029 11.7164Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M18.7583 8.0302C19.0913 7.8332 19.5113 7.9602 19.6963 8.3162L19.6973 8.3182L19.6993 8.3212L19.7023 8.3282L19.7123 8.3462L19.7363 8.3992C19.755 8.4412 19.7783 8.49787 19.8063 8.5692C19.8593 8.7142 19.9263 8.9192 19.9913 9.1892C20.1213 9.7292 20.2433 10.5262 20.2433 11.6142C20.2433 12.7032 20.1213 13.5002 19.9913 14.0402C19.9263 14.3102 19.8593 14.5152 19.8053 14.6592C19.777 14.7348 19.7456 14.8092 19.7113 14.8822L19.7023 14.9002L19.6993 14.9072L19.6973 14.9102V14.9122C19.6973 14.9122 19.6963 14.9132 19.0933 14.5562L19.6963 14.9132C19.5113 15.2682 19.0913 15.3962 18.7583 15.1992C18.4283 15.0032 18.3083 14.5612 18.4863 14.2082L18.4903 14.1982L18.5253 14.1132C18.5573 14.0272 18.6053 13.8832 18.6553 13.6752C18.7553 13.2592 18.8633 12.5852 18.8633 11.6152C18.8633 10.6442 18.7553 9.9702 18.6553 9.5552C18.6124 9.37696 18.5573 9.20188 18.4903 9.0312L18.4863 9.0212C18.3994 8.85195 18.3791 8.65625 18.4294 8.47276C18.4798 8.28927 18.5972 8.13135 18.7583 8.0302Z","fill","white"],["d","M0.00290119 11.7164C0.0399012 9.87335 0.0589012 8.95235 0.670901 8.16435C0.793897 8.00731 0.932248 7.86293 1.0839 7.73335C1.8359 7.09735 2.8299 7.09735 4.8169 7.09735C5.5269 7.09735 5.8819 7.09735 6.2199 7.00535C6.2899 6.98535 6.35957 6.96302 6.4289 6.93835C6.7589 6.81735 7.0559 6.60835 7.6489 6.19235C9.9869 4.54735 11.1569 3.72535 12.1379 4.08235C12.3259 4.15135 12.5079 4.25035 12.6709 4.37235C13.5189 5.00735 13.5839 6.48735 13.7129 9.44535C13.7609 10.5414 13.7929 11.4794 13.7929 12.0004C13.7929 12.5214 13.7609 13.4604 13.7129 14.5554C13.5829 17.5134 13.5189 18.9934 12.6709 19.6284C12.5082 19.7503 12.3287 19.848 12.1379 19.9184C11.1559 20.2754 9.9879 19.4534 7.6479 17.8084C7.0559 17.3924 6.7589 17.1834 6.4279 17.0624C6.35941 17.0375 6.29003 17.0152 6.2199 16.9954C5.8819 16.9034 5.5269 16.9034 4.8169 16.9034C2.8299 16.9034 1.8369 16.9034 1.0839 16.2674C0.932298 16.1381 0.793948 15.994 0.670901 15.8374C0.0589012 15.0474 0.0409012 14.1274 0.00290119 12.2854C-0.000967064 12.0954 -0.000967064 11.9063 0.00290119 11.7164Z","fill","white"],["d","M17 15L23 9M23 15L17 9","stroke","white","stroke-width","2","stroke-linecap","round"],[1,"speed","pointer"],["d","M13.1961 2.05125V4.05125C17.5861 4.59125 20.6961 8.58125 20.1561 12.9713C19.6961 16.6113 16.8361 19.5012 13.1961 19.9312V21.9312C18.6961 21.3813 22.6961 16.5013 22.1461 11.0013C21.6961 6.25125 17.9261 2.50125 13.1961 2.03125V2.05125ZM5.86609 19.7412C7.38106 21.0036 9.23546 21.7899 11.1961 22.0012V20.0012C9.77347 19.8174 8.42645 19.2544 7.29609 18.3713L5.86609 19.7412ZM7.29609 5.74125C8.41609 4.84125 9.76609 4.26125 11.1961 4.06125V2.06125C9.24609 2.25125 7.38609 3.00125 5.86609 4.26125L7.29609 5.74125ZM5.88609 7.10125L4.45609 5.67125C3.20654 7.18907 2.43719 9.04456 2.24609 11.0013H4.24609C4.43609 9.58125 4.99609 8.23125 5.88609 7.10125ZM4.25609 13.0013H2.25609C2.45609 14.9613 3.22609 16.8112 4.46609 18.3312L5.88609 16.9012C5.00294 15.7709 4.43995 14.4239 4.25609 13.0013ZM10.1961 16.5013L16.1961 12.0013L10.1961 7.50125V16.5013Z","fill","white"],[1,"speed-inside-wrapper"],[1,"flex","w-p-full","text-small"],[1,"w-p-full","radio-icon","option",3,"ariaChecked"],[1,"w-p-full","radio-icon","option",3,"click","ariaChecked"],[1,"fullscreen","pointer",3,"click"],["d","M19.6953 19.5V15H21.1953V21H15.1953V19.5H19.6953ZM15.1953 3H21.1953V9H19.6953V4.5H15.1953V3ZM3.19531 9V3H9.19531V4.5H4.69531V9H3.19531ZM4.69531 15V19.5H9.19531V21H3.19531V15H4.69531Z","fill","white"]],template:function(e,i){if(e&1){let r=be();b(0,"div",5),O(1,c5,3,0,"div",6),b(2,"div",7)(3,"div",8)(4,"div",9),T("click",function(){return W(r),G(i.controlPlayer("playback"))}),O(5,d5,2,0,":svg:svg",10)(6,h5,2,0,":svg:svg",11),w(),b(7,"div",12)(8,"span"),K(9),w(),b(10,"span"),K(11," / "),w(),b(12,"span"),K(13),w()()(),b(14,"div",13)(15,"div",14),T("click",function(){return W(r),G(i.controlPlayer("trigger_seek_backward"))}),je(),b(16,"svg",11),B(17,"path",15),w()(),Ai(),b(18,"div",16),T("click",function(){return W(r),G(i.controlPlayer("trigger_seek_forward"))}),je(),b(19,"svg",11),B(20,"path",17),w()(),Ai(),b(21,"div",18)(22,"div",19),T("click",function(){return W(r),G(i.controlPlayer("mute"))}),O(23,u5,3,0,":svg:svg",11)(24,p5,3,0,":svg:svg",11)(25,m5,3,0,":svg:svg",11),w(),b(26,"div",20,0)(28,"div",21,1),T("click",function(a){return W(r),G(i.controlPlayer("volume_seek",a))})("mousedown",function(a){return W(r),G(i.onMouseDownVolume(a))}),w()()(),O(30,g5,8,0,"div",22)(31,_5,3,0,"div",23),w()(),b(32,"div",24)(33,"div",25)(34,"div",26,2),T("click",function(a){return W(r),G(i.controlPlayer("trigger_seek",a))})("mousedown",function(a){return W(r),G(i.onMouseDownProgress(a))})("mousemove",function(a){return W(r),G(i.$mediaType().includes("video")&&i.handleSnapshotDisplay(a))})("mouseout",function(){return W(r),G(i.$mediaType().includes("video")&&i.handleSnapshotHide())}),w(),B(36,"div",27,3)(38,"div",28,4),w()()()}e&2&&(y(),le(i.$mediaType().includes("video")&&!i.$miniPlayer()?1:-1),y(4),le(i.$playerState().isPlaying?6:5),y(4),De(i.$playerState().current_time),y(4),Ze("",i.$playerState().total_time," "),y(10),le(i.$playerState().volume>=.7?23:i.$playerState().volume<.7&&i.$playerState().volume!==0?24:i.$playerState().volume===0?25:-1),y(7),M("ngIf",!i.$miniPlayer()),y(),M("ngIf",i.$mediaType().includes("video")&&!i.$miniPlayer()),y(5),Dt("width",i.$playerState().loaded+"%"),y(2),Dt("width",i.$playerState().progress+"%"))},dependencies:[Vt],styles:['[_nghost-%COMP%]{display:block;width:100%;position:absolute;bottom:0;z-index:10}.player-controls-wrapper[_ngcontent-%COMP%]{padding:16px;background:linear-gradient(#0000,#0e0e0ef5);-webkit-user-select:none;user-select:none}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-pip[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:20px;bottom:130%;background-color:#00000040;display:flex;padding:2px 4px;justify-content:center;align-items:center;border-radius:4px;transition:background-color .15s}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-pip[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:32px;height:32px;fill:#ffffff93;transition:fill .15s}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-pip[_ngcontent-%COMP%]:hover{background-color:#00000070}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-pip[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:#ffffffdc}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner[_ngcontent-%COMP%]   .play-btn[_ngcontent-%COMP%], .player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner[_ngcontent-%COMP%]   .rewind[_ngcontent-%COMP%], .player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner[_ngcontent-%COMP%]   .forward[_ngcontent-%COMP%], .player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%], .player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner[_ngcontent-%COMP%]   .speed[_ngcontent-%COMP%], .player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner[_ngcontent-%COMP%]   .fullscreen[_ngcontent-%COMP%]{padding:2px;border-radius:4px;transition:.2s}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner[_ngcontent-%COMP%]   .play-btn[_ngcontent-%COMP%]:hover, .player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner[_ngcontent-%COMP%]   .rewind[_ngcontent-%COMP%]:hover, .player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner[_ngcontent-%COMP%]   .forward[_ngcontent-%COMP%]:hover, .player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]:hover, .player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner[_ngcontent-%COMP%]   .speed[_ngcontent-%COMP%]:hover, .player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner[_ngcontent-%COMP%]   .fullscreen[_ngcontent-%COMP%]:hover{background-color:#00aeef}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:26px;height:26px}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]   .controls-left[_ngcontent-%COMP%]{column-gap:6px}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]   .controls-left[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:14px;line-height:25px}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]   .controls-right[_ngcontent-%COMP%]{column-gap:16px}@keyframes _ngcontent-%COMP%_setting-reveal{0%{max-height:0}to{max-height:1000px}}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]   .controls-right[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]{position:relative}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]   .controls-right[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]:hover   .volume-bar[_ngcontent-%COMP%]{display:flex}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]   .controls-right[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   .volume-bar[_ngcontent-%COMP%]{--volume-bar-display: none;position:absolute;left:50%;bottom:90%;width:100%;transform:translate(-50%);display:var(--volume-bar-display);justify-content:center;align-items:center;padding-bottom:10px;background-color:transparent;transition:opacity .3s,visibility .3s}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]   .controls-right[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   .volume-bar[_ngcontent-%COMP%]   .volume-input[_ngcontent-%COMP%]{--volume-bar-progress: 0;display:flex;justify-content:center;align-items:center;position:relative;background-color:#ffffff75;height:120px;width:8px;border-radius:20px}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]   .controls-right[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   .volume-bar[_ngcontent-%COMP%]   .volume-input[_ngcontent-%COMP%]:before{content:"";position:absolute;z-index:10;bottom:0;width:inherit;height:var(--volume-bar-progress);background-color:#fff;border-radius:20px}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]   .controls-right[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]   .volume-bar[_ngcontent-%COMP%]   .volume-input[_ngcontent-%COMP%]:after{content:"";width:13px;height:13px;display:flex;justify-content:center;align-items:center;background-color:#fff;-webkit-border-radius:13px!important;-moz-border-radius:13px!important;border-radius:13px!important;position:absolute;z-index:11;bottom:var(--volume-bar-progress);transform:translateY(50%);cursor:pointer}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]   .controls-right[_ngcontent-%COMP%]   .speed[_ngcontent-%COMP%]{position:relative}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]   .controls-right[_ngcontent-%COMP%]   .speed[_ngcontent-%COMP%]:hover   .speed-inside-wrapper[_ngcontent-%COMP%]{display:block}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]   .controls-right[_ngcontent-%COMP%]   .speed[_ngcontent-%COMP%]   .speed-inside-wrapper[_ngcontent-%COMP%]{display:none;background-color:#fff;position:absolute;bottom:105%;right:0;border-radius:6px;animation:_ngcontent-%COMP%_setting-reveal .6s cubic-bezier(.4,0,.2,1) forwards;overflow:hidden}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]   .controls-right[_ngcontent-%COMP%]   .speed[_ngcontent-%COMP%]   .speed-inside-wrapper[_ngcontent-%COMP%]:hover{display:block}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]   .controls-right[_ngcontent-%COMP%]   .speed[_ngcontent-%COMP%]   .speed-inside-wrapper[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{padding:8px 16px;line-height:20px;color:#6d6e71;border-bottom:1px solid #dcddde}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]   .controls-right[_ngcontent-%COMP%]   .speed[_ngcontent-%COMP%]   .speed-inside-wrapper[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{transition:background-color .2s ease;padding:8px 16px;display:flex;align-items:center;justify-content:space-between;text-align:left;color:#6d6e71;border-radius:4px}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]   .controls-right[_ngcontent-%COMP%]   .speed[_ngcontent-%COMP%]   .speed-inside-wrapper[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:hover{background-color:#00aeef;fill:#00aeef}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]   .controls-right[_ngcontent-%COMP%]   .speed[_ngcontent-%COMP%]   .speed-inside-wrapper[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#fff}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]   .controls-right[_ngcontent-%COMP%]   .speed[_ngcontent-%COMP%]   .speed-inside-wrapper[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:20px}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]   .controls-right[_ngcontent-%COMP%]   .speed[_ngcontent-%COMP%]   .speed-inside-wrapper[_ngcontent-%COMP%]   .option.radio-icon[_ngcontent-%COMP%]{padding:8px 10px;margin-right:40px;position:relative;display:flex}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]   .controls-right[_ngcontent-%COMP%]   .speed[_ngcontent-%COMP%]   .speed-inside-wrapper[_ngcontent-%COMP%]   .option.radio-icon[_ngcontent-%COMP%]:before{content:"";display:block;flex-shrink:0;margin-right:10px;transition:all .3s ease;width:16px;height:16px;display:flex;justify-content:center;align-items:center;background-color:#0000001a;-webkit-border-radius:16px!important;-moz-border-radius:16px!important;border-radius:16px!important}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]   .controls-right[_ngcontent-%COMP%]   .speed[_ngcontent-%COMP%]   .speed-inside-wrapper[_ngcontent-%COMP%]   .option.radio-icon[aria-checked=true][_ngcontent-%COMP%]:before{background-color:#00aeef}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]   .controls-right[_ngcontent-%COMP%]   .speed[_ngcontent-%COMP%]   .speed-inside-wrapper[_ngcontent-%COMP%]   .option.radio-icon[_ngcontent-%COMP%]:after{content:"";position:absolute;left:15px;opacity:0;top:50%;transform:translateY(-50%) scale(0);transition:transform .3s ease,opacity .3s ease;width:6px;height:6px;display:flex;justify-content:center;align-items:center;background-color:#fff;-webkit-border-radius:6px!important;-moz-border-radius:6px!important;border-radius:6px!important}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-top[_ngcontent-%COMP%]   .controls-right[_ngcontent-%COMP%]   .speed[_ngcontent-%COMP%]   .speed-inside-wrapper[_ngcontent-%COMP%]   .option.radio-icon[aria-checked=true][_ngcontent-%COMP%]:after{opacity:1;transform:translateY(-50%) scale(1)}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-bottom[_ngcontent-%COMP%]{--bar-progress-width: 0;margin-top:8px}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-bottom[_ngcontent-%COMP%]   .progress-bar-wrapper[_ngcontent-%COMP%]{position:relative;height:6px}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-bottom[_ngcontent-%COMP%]   .progress-bar-wrapper[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;border-radius:20px;width:0;height:6px}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-bottom[_ngcontent-%COMP%]   .progress-bar-wrapper[_ngcontent-%COMP%]   .bar-bg[_ngcontent-%COMP%]{background-color:#ffffff40;width:100%;z-index:5}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-bottom[_ngcontent-%COMP%]   .progress-bar-wrapper[_ngcontent-%COMP%]   .bar-loaded[_ngcontent-%COMP%]{background-color:#ffffff60;z-index:6;pointer-events:none}.player-controls-wrapper[_ngcontent-%COMP%]   .controls-inner.controls-bottom[_ngcontent-%COMP%]   .progress-bar-wrapper[_ngcontent-%COMP%]   .bar-progress[_ngcontent-%COMP%]{background-color:#fff;z-index:7;pointer-events:none}']})};var $e="primary",Sd=Symbol("RouteTitle"),lv=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function ps(n){return new lv(n)}function oS(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let a=i[o],s=n[o];if(a[0]===":")r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function v5(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Lr(n[e],t[e]))return!1;return!0}function Lr(n,t){let e=n?cv(n):void 0,i=t?cv(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!aS(n[r],t[r]))return!1;return!0}function cv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function aS(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}else return n===t}function sS(n){return n.length>0?n[n.length-1]:null}function fa(n){return Ac(n)?n:al(n)?ri(Promise.resolve(n)):pe(n)}var y5={exact:cS,subset:dS},lS={exact:w5,subset:x5,ignored:()=>!0};function ZM(n,t,e){return y5[e.paths](n.root,t.root,e.matrixParams)&&lS[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function w5(n,t){return Lr(n,t)}function cS(n,t,e){if(!hs(n.segments,t.segments)||!Ep(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!cS(n.children[i],t.children[i],e))return!1;return!0}function x5(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>aS(n[e],t[e]))}function dS(n,t,e){return hS(n,t,t.segments,e)}function hS(n,t,e,i){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!hs(r,e)||t.hasChildren()||!Ep(r,e,i))}else if(n.segments.length===e.length){if(!hs(n.segments,e)||!Ep(n.segments,e,i))return!1;for(let r in t.children)if(!n.children[r]||!dS(n.children[r],t.children[r],i))return!1;return!0}else{let r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!hs(n.segments,r)||!Ep(n.segments,r,i)||!n.children[$e]?!1:hS(n.children[$e],t,o,i)}}function Ep(n,t,e){return t.every((i,r)=>lS[e](n[r].parameters,i.parameters))}var Vr=class{root;queryParams;fragment;_queryParamMap;constructor(t=new dt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=ps(this.queryParams),this._queryParamMap}toString(){return D5.serialize(this)}},dt=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ap(this)}},ha=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=ps(this.parameters),this._parameterMap}toString(){return pS(this)}};function C5(n,t){return hs(n,t)&&n.every((e,i)=>Lr(e.parameters,t[i].parameters))}function hs(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function k5(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===$e&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==$e&&(e=e.concat(t(r,i)))}),e}var ms=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:()=>new ua,providedIn:"root"})}return n})(),ua=class{parse(t){let e=new hv(t);return new Vr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${fd(t.root,!0)}`,i=E5(t.queryParams),r=typeof t.fragment=="string"?`#${M5(t.fragment)}`:"";return`${e}${i}${r}`}},D5=new ua;function Ap(n){return n.segments.map(t=>pS(t)).join("/")}function fd(n,t){if(!n.hasChildren())return Ap(n);if(t){let e=n.children[$e]?fd(n.children[$e],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==$e&&i.push(`${r}:${fd(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=k5(n,(i,r)=>r===$e?[fd(n.children[$e],!1)]:[`${r}:${fd(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[$e]!=null?`${Ap(n)}/${e[0]}`:`${Ap(n)}/(${e.join("//")})`}}function uS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mp(n){return uS(n).replace(/%3B/gi,";")}function M5(n){return encodeURI(n)}function dv(n){return uS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tp(n){return decodeURIComponent(n)}function JM(n){return Tp(n.replace(/\+/g,"%20"))}function pS(n){return`${dv(n.path)}${S5(n.parameters)}`}function S5(n){return Object.entries(n).map(([t,e])=>`;${dv(t)}=${dv(e)}`).join("")}function E5(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${Mp(e)}=${Mp(r)}`).join("&"):`${Mp(e)}=${Mp(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var A5=/^[^\/()?;#]+/;function rv(n){let t=n.match(A5);return t?t[0]:""}var T5=/^[^\/()?;=#]+/;function I5(n){let t=n.match(T5);return t?t[0]:""}var P5=/^[^=?&#]+/;function R5(n){let t=n.match(P5);return t?t[0]:""}var O5=/^[^&#]+/;function F5(n){let t=n.match(O5);return t?t[0]:""}var hv=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new dt([],{}):new dt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[$e]=new dt(t,e)),i}parseSegment(){let t=rv(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new We(4009,!1);return this.capture(t),new ha(Tp(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=I5(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=rv(this.remaining);r&&(i=r,this.capture(i))}t[Tp(e)]=Tp(i)}parseQueryParam(t){let e=R5(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let a=F5(this.remaining);a&&(i=a,this.capture(i))}let r=JM(e),o=JM(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=rv(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new We(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=$e);let a=this.parseChildren();e[o]=Object.keys(a).length===1?a[$e]:new dt([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new We(4011,!1)}};function mS(n){return n.segments.length>0?new dt([],{[$e]:n}):n}function fS(n){let t={};for(let[i,r]of Object.entries(n.children)){let o=fS(r);if(i===$e&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))t[a]=s;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let e=new dt(n.segments,t);return L5(e)}function L5(n){if(n.numberOfChildren===1&&n.children[$e]){let t=n.children[$e];return new dt(n.segments.concat(t.segments),t.children)}return n}function pa(n){return n instanceof Vr}function gS(n,t,e=null,i=null){let r=_S(n);return bS(r,t,e,i)}function _S(n){let t;function e(o){let a={};for(let l of o.children){let c=e(l);a[l.outlet]=c}let s=new dt(o.url,a);return o===n&&(t=s),s}let i=e(n.root),r=mS(i);return t??r}function bS(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(t.length===0)return ov(r,r,r,e,i);let o=N5(t);if(o.toRoot())return ov(r,r,new dt([],{}),e,i);let a=V5(o,r,n),s=a.processChildren?_d(a.segmentGroup,a.index,o.commands):yS(a.segmentGroup,a.index,o.commands);return ov(r,a.segmentGroup,s,e,i)}function Pp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function vd(n){return typeof n=="object"&&n!=null&&n.outlets}function ov(n,t,e,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let a;n===t?a=e:a=vS(n,t,e);let s=mS(fS(a));return new Vr(s,o,r)}function vS(n,t,e){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===t?i[r]=e:i[r]=vS(o,t,e)}),new dt(n.segments,i)}var Rp=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Pp(i[0]))throw new We(4003,!1);let r=i.find(vd);if(r&&r!==sS(i))throw new We(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function N5(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Rp(!0,0,n);let t=0,e=!1,i=n.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([l,c])=>{s[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:s}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((s,l)=>{l==0&&s==="."||(l==0&&s===""?e=!0:s===".."?t++:s!=""&&r.push(s))}),r):[...r,o]},[]);return new Rp(e,t,i)}var Sl=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function V5(n,t,e){if(n.isAbsolute)return new Sl(t,!0,0);if(!e)return new Sl(t,!1,NaN);if(e.parent===null)return new Sl(e,!0,0);let i=Pp(n.commands[0])?0:1,r=e.segments.length-1+i;return B5(e,r,n.numberOfDoubleDots)}function B5(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new We(4005,!1);r=i.segments.length}return new Sl(i,!1,r-o)}function z5(n){return vd(n[0])?n[0].outlets:{[$e]:n}}function yS(n,t,e){if(n??=new dt([],{}),n.segments.length===0&&n.hasChildren())return _d(n,t,e);let i=H5(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new dt(n.segments.slice(0,i.pathIndex),{});return o.children[$e]=new dt(n.segments.slice(i.pathIndex),n.children),_d(o,0,r)}else return i.match&&r.length===0?new dt(n.segments,{}):i.match&&!n.hasChildren()?uv(n,t,e):i.match?_d(n,0,r):uv(n,t,e)}function _d(n,t,e){if(e.length===0)return new dt(n.segments,{});{let i=z5(e),r={};if(Object.keys(i).some(o=>o!==$e)&&n.children[$e]&&n.numberOfChildren===1&&n.children[$e].segments.length===0){let o=_d(n.children[$e],t,e);return new dt(n.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=yS(n.children[o],t,a))}),Object.entries(n.children).forEach(([o,a])=>{i[o]===void 0&&(r[o]=a)}),new dt(n.segments,r)}}function H5(n,t,e){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;let a=n.segments[r],s=e[i];if(vd(s))break;let l=`${s}`,c=i<e.length-1?e[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!tS(l,c,a))return o;i+=2}else{if(!tS(l,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function uv(n,t,e){let i=n.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(vd(o)){let l=j5(o.outlets);return new dt(i,l)}if(r===0&&Pp(e[0])){let l=n.segments[t];i.push(new ha(l.path,eS(e[0]))),r++;continue}let a=vd(o)?o.outlets[$e]:`${o}`,s=r<e.length-1?e[r+1]:null;a&&s&&Pp(s)?(i.push(new ha(a,eS(s))),r+=2):(i.push(new ha(a,{})),r++)}return new dt(i,{})}function j5(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=uv(new dt([],{}),0,i))}),t}function eS(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function tS(n,t,e){return n==e.path&&Lr(t,e.parameters)}var Ip="imperative",oi=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(oi||{}),En=class{id;url;constructor(t,e){this.id=t,this.url=e}},ma=class extends En{type=oi.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ji=class extends En{urlAfterRedirects;type=oi.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},hn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(hn||{}),Al=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Al||{}),Nr=class extends En{reason;code;type=oi.NavigationCancel;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Br=class extends En{reason;code;type=oi.NavigationSkipped;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}},Tl=class extends En{error;target;type=oi.NavigationError;constructor(t,e,i,r){super(t,e),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},yd=class extends En{urlAfterRedirects;state;type=oi.RoutesRecognized;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Op=class extends En{urlAfterRedirects;state;type=oi.GuardsCheckStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fp=class extends En{urlAfterRedirects;state;shouldActivate;type=oi.GuardsCheckEnd;constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Lp=class extends En{urlAfterRedirects;state;type=oi.ResolveStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Np=class extends En{urlAfterRedirects;state;type=oi.ResolveEnd;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vp=class{route;type=oi.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Bp=class{route;type=oi.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zp=class{snapshot;type=oi.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hp=class{snapshot;type=oi.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jp=class{snapshot;type=oi.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Up=class{snapshot;type=oi.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Il=class{routerEvent;position;anchor;type=oi.Scroll;constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},wd=class{},Pl=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function U5(n,t){return n.providers&&!n._injector&&(n._injector=uu(n.providers,t,`Route: ${n.path}`)),n._injector??t}function _r(n){return n.outlet||$e}function $5(n,t){let e=n.filter(i=>_r(i)===t);return e.push(...n.filter(i=>_r(i)!==t)),e}function Ed(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var $p=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ed(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new fs(this.rootInjector)}},fs=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new $p(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||n)(ke(Yi))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wp=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=pv(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=pv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=mv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return mv(t,this._root).map(e=>e.value)}};function pv(n,t){if(n===t.value)return t;for(let e of t.children){let i=pv(n,e);if(i)return i}return null}function mv(n,t){if(n===t.value)return[t];for(let e of t.children){let i=mv(n,e);if(i.length)return i.unshift(t),i}return[]}var Sn=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Ml(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var xd=class extends Wp{snapshot;constructor(t,e){super(t),this.snapshot=e,xv(this,t)}toString(){return this.snapshot.toString()}};function wS(n){let t=W5(n),e=new vi([new ha("",{})]),i=new vi({}),r=new vi({}),o=new vi({}),a=new vi(""),s=new Do(e,i,o,a,r,$e,n,t.root);return s.snapshot=t.root,new xd(new Sn(s,[]),t)}function W5(n){let t={},e={},i={},r="",o=new us([],t,i,r,e,$e,n,null,{});return new Cd("",new Sn(o,[]))}var Do=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,r,o,a,s,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Se(c=>c[Sd]))??pe(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Se(t=>ps(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Se(t=>ps(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Gp(n,t,e="emptyOnly"){let i,{routeConfig:r}=n;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:E(E({},t.params),n.params),data:E(E({},t.data),n.data),resolve:E(E(E(E({},n.data),t.data),r?.data),n._resolvedData)}:i={params:E({},n.params),data:E({},n.data),resolve:E(E({},n.data),n._resolvedData??{})},r&&CS(r)&&(i.resolve[Sd]=r.title),i}var us=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Sd]}constructor(t,e,i,r,o,a,s,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ps(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ps(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Cd=class extends Wp{url;constructor(t,e){super(e),this.url=t,xv(this,e)}toString(){return xS(this._root)}};function xv(n,t){t.value._routerState=n,t.children.forEach(e=>xv(n,e))}function xS(n){let t=n.children.length>0?` { ${n.children.map(xS).join(", ")} } `:"";return`${n.value}${t}`}function av(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Lr(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Lr(t.params,e.params)||n.paramsSubject.next(e.params),v5(t.url,e.url)||n.urlSubject.next(e.url),Lr(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function fv(n,t){let e=Lr(n.params,t.params)&&C5(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||fv(n.parent,t.parent))}function CS(n){return typeof n.title=="string"||n.title===null}var kS=new P(""),Cv=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=$e;activateEvents=new Z;deactivateEvents=new Z;attachEvents=new Z;detachEvents=new Z;routerOutletData=xe(void 0);parentContexts=f(fs);location=f(kt);changeDetector=f(_e);inputBinder=f(Ad,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new We(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new We(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new We(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new We(4013,!1);this._activatedRoute=e;let r=this.location,a=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new gv(e,s,r.injector,this.routerOutletData);this.activated=r.createComponent(a,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[we]})}return n})(),gv=class{route;childContexts;parent;outletData;constructor(t,e,i,r){this.route=t,this.childContexts=e,this.parent=i,this.outletData=r}get(t,e){return t===Do?this.route:t===fs?this.childContexts:t===kS?this.outletData:this.parent.get(t,e)}},Ad=new P(""),kv=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,r=nl([i.queryParams,i.params,i.data]).pipe(Yt(([o,a,s],l)=>(s=E(E(E({},o),a),s),l===0?pe(s):Promise.resolve(s)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let a=q1(i.component);if(!a){this.unsubscribeFromRouteData(e);return}for(let{templateName:s}of a.inputs)e.activatedComponentRef.setInput(s,o[s])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),Dv=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&B(0,"router-outlet")},dependencies:[Cv],encapsulation:2})}return n})();function Mv(n){let t=n.children&&n.children.map(Mv),e=t?ye(E({},n),{children:t}):E({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==$e&&(e.component=Dv),e}function G5(n,t,e){let i=kd(n,t._root,e?e._root:void 0);return new xd(i,t)}function kd(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let r=q5(n,t,e);return new Sn(i,r)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(s=>kd(n,s)),a}}let i=Y5(t.value),r=t.children.map(o=>kd(n,o));return new Sn(i,r)}}function q5(n,t,e){return t.children.map(i=>{for(let r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return kd(n,i,r);return kd(n,i)})}function Y5(n){return new Do(new vi(n.url),new vi(n.params),new vi(n.queryParams),new vi(n.fragment),new vi(n.data),n.outlet,n.component,n)}var Rl=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},DS="ngNavigationCancelingError";function qp(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=pa(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=MS(!1,hn.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function MS(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[DS]=!0,e.cancellationCode=t,e}function K5(n){return SS(n)&&pa(n.url)}function SS(n){return!!n&&n[DS]}var X5=(n,t,e,i)=>Se(r=>(new _v(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)),_v=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),av(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let r=Ml(e);t.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Ml(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(i&&i.outlet){let a=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Ml(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let r=Ml(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Up(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Hp(t.value.snapshot))}activateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(av(r),r===o)if(r.component){let a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){let a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),av(s.route.value),this.activateChildRoutes(t,null,a.children)}else a.attachRef=null,a.route=r,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}else this.activateChildRoutes(t,null,i)}},Yp=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},El=class{component;route;constructor(t,e){this.component=t,this.route=e}};function Q5(n,t,e){let i=n._root,r=t?t._root:null;return gd(i,r,e,[i.value])}function Z5(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function Fl(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!v1(n)?n:t.get(n):i}function gd(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ml(t);return n.children.forEach(a=>{J5(a,o[a.value.outlet],e,i.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>bd(s,e.getContext(a),r)),r}function J5(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,a=t?t.value:null,s=e?e.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let l=e4(a,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Yp(i)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?gd(n,t,s?s.children:null,i,r):gd(n,t,e,i,r),l&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new El(s.outlet.component,a))}else a&&bd(t,s,r),r.canActivateChecks.push(new Yp(i)),o.component?gd(n,null,s?s.children:null,i,r):gd(n,null,e,i,r);return r}function e4(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!hs(n.url,t.url);case"pathParamsOrQueryParamsChange":return!hs(n.url,t.url)||!Lr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fv(n,t)||!Lr(n.queryParams,t.queryParams);case"paramsChange":default:return!fv(n,t)}}function bd(n,t,e){let i=Ml(n),r=n.value;Object.entries(i).forEach(([o,a])=>{r.component?t?bd(a,t.children.getContext(o),e):bd(a,null,e):bd(a,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new El(t.outlet.component,r)):e.canDeactivateChecks.push(new El(null,r)):e.canDeactivateChecks.push(new El(null,r))}function Td(n){return typeof n=="function"}function t4(n){return typeof n=="boolean"}function i4(n){return n&&Td(n.canLoad)}function n4(n){return n&&Td(n.canActivate)}function r4(n){return n&&Td(n.canActivateChild)}function o4(n){return n&&Td(n.canDeactivate)}function a4(n){return n&&Td(n.canMatch)}function ES(n){return n instanceof u1||n?.name==="EmptyError"}var Sp=Symbol("INITIAL_VALUE");function Ol(){return Yt(n=>nl(n.map(t=>t.pipe(lt(1),ct(Sp)))).pipe(Se(t=>{for(let e of t)if(e!==!0){if(e===Sp)return Sp;if(e===!1||s4(e))return e}return!0}),Pe(t=>t!==Sp),lt(1)))}function s4(n){return pa(n)||n instanceof Rl}function l4(n,t){return ln(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return a.length===0&&o.length===0?pe(ye(E({},e),{guardsResult:!0})):c4(a,i,r,n).pipe(ln(s=>s&&t4(s)?d4(i,o,n,t):pe(s)),Se(s=>ye(E({},e),{guardsResult:s})))})}function c4(n,t,e,i){return ri(n).pipe(ln(r=>f4(r.component,r.route,e,t,i)),Zo(r=>r!==!0,!0))}function d4(n,t,e,i){return ri(t).pipe(no(r=>ru(u4(r.route.parent,i),h4(r.route,i),m4(n,r.path,e),p4(n,r.route,e))),Zo(r=>r!==!0,!0))}function h4(n,t){return n!==null&&t&&t(new jp(n)),pe(!0)}function u4(n,t){return n!==null&&t&&t(new zp(n)),pe(!0)}function p4(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return pe(!0);let r=i.map(o=>to(()=>{let a=Ed(t)??e,s=Fl(o,a),l=n4(s)?s.canActivate(t,n):$n(a,()=>s(t,n));return fa(l).pipe(Zo())}));return pe(r).pipe(Ol())}function m4(n,t,e){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>Z5(a)).filter(a=>a!==null).map(a=>to(()=>{let s=a.guards.map(l=>{let c=Ed(a.node)??e,d=Fl(l,c),h=r4(d)?d.canActivateChild(i,n):$n(c,()=>d(i,n));return fa(h).pipe(Zo())});return pe(s).pipe(Ol())}));return pe(o).pipe(Ol())}function f4(n,t,e,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return pe(!0);let a=o.map(s=>{let l=Ed(t)??r,c=Fl(s,l),d=o4(c)?c.canDeactivate(n,t,e,i):$n(l,()=>c(n,t,e,i));return fa(d).pipe(Zo())});return pe(a).pipe(Ol())}function g4(n,t,e,i){let r=t.canLoad;if(r===void 0||r.length===0)return pe(!0);let o=r.map(a=>{let s=Fl(a,n),l=i4(s)?s.canLoad(t,e):$n(n,()=>s(t,e));return fa(l)});return pe(o).pipe(Ol(),AS(i))}function AS(n){return d1(Pt(t=>{if(typeof t!="boolean")throw qp(n,t)}),Se(t=>t===!0))}function _4(n,t,e,i){let r=t.canMatch;if(!r||r.length===0)return pe(!0);let o=r.map(a=>{let s=Fl(a,n),l=a4(s)?s.canMatch(t,e):$n(n,()=>s(t,e));return fa(l)});return pe(o).pipe(Ol(),AS(i))}var Dd=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Md=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Dl(n){return Ha(new Dd(n))}function b4(n){return Ha(new We(4e3,!1))}function v4(n){return Ha(MS(!1,hn.GuardRejected))}var bv=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return pe(i);if(r.numberOfChildren>1||!r.children[$e])return b4(`${t.redirectTo}`);r=r.children[$e]}}applyRedirectCommands(t,e,i,r,o){if(typeof e!="string"){let s=e,{queryParams:l,fragment:c,routeConfig:d,url:h,outlet:u,params:p,data:m,title:g}=r,_=$n(o,()=>s({params:p,data:m,queryParams:l,fragment:c,routeConfig:d,url:h,outlet:u,title:g}));if(_ instanceof Vr)throw new Md(_);e=_}let a=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if(e[0]==="/")throw new Md(a);return a}applyRedirectCreateUrlTree(t,e,i,r){let o=this.createSegmentGroup(t,e.root,i,r);return new Vr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);i[r]=e[s]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){let o=this.createSegments(t,e.segments,i,r),a={};return Object.entries(e.children).forEach(([s,l])=>{a[s]=this.createSegmentGroup(t,l,i,r)}),new dt(o,a)}createSegments(t,e,i,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){let r=i[e.path.substring(1)];if(!r)throw new We(4001,!1);return r}findOrReturn(t,e){let i=0;for(let r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}},vv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function y4(n,t,e,i,r){let o=TS(n,t,e);return o.matched?(i=U5(t,i),_4(i,t,e,r).pipe(Se(a=>a===!0?o:E({},vv)))):pe(o)}function TS(n,t,e){if(t.path==="**")return w4(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?E({},vv):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||oS)(e,n,t);if(!r)return E({},vv);let o={};Object.entries(r.posParams??{}).forEach(([s,l])=>{o[s]=l.path});let a=r.consumed.length>0?E(E({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function w4(n){return{matched:!0,parameters:n.length>0?sS(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function iS(n,t,e,i){return e.length>0&&k4(n,e,i)?{segmentGroup:new dt(t,C4(i,new dt(e,n.children))),slicedSegments:[]}:e.length===0&&D4(n,e,i)?{segmentGroup:new dt(n.segments,x4(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new dt(n.segments,n.children),slicedSegments:e}}function x4(n,t,e,i){let r={};for(let o of e)if(Xp(n,t,o)&&!i[_r(o)]){let a=new dt([],{});r[_r(o)]=a}return E(E({},i),r)}function C4(n,t){let e={};e[$e]=t;for(let i of n)if(i.path===""&&_r(i)!==$e){let r=new dt([],{});e[_r(i)]=r}return e}function k4(n,t,e){return e.some(i=>Xp(n,t,i)&&_r(i)!==$e)}function D4(n,t,e){return e.some(i=>Xp(n,t,i))}function Xp(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function M4(n,t,e){return t.length===0&&!n.children[e]}var yv=class{};function S4(n,t,e,i,r,o,a="emptyOnly"){return new wv(n,t,e,i,r,a,o).recognize()}var E4=31,wv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,r,o,a,s){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new bv(this.urlSerializer,this.urlTree)}noMatchError(t){return new We(4002,`'${t.segmentGroup}'`)}recognize(){let t=iS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Se(({children:e,rootSnapshot:i})=>{let r=new Sn(i,e),o=new Cd("",r),a=gS(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(t){let e=new us([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),$e,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,$e,e).pipe(Se(i=>({children:i,rootSnapshot:e})),io(i=>{if(i instanceof Md)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Dd?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,o):this.processSegment(t,e,i,i.segments,r,!0,o).pipe(Se(a=>a instanceof Sn?[a]:[]))}processChildren(t,e,i,r){let o=[];for(let a of Object.keys(i.children))a==="primary"?o.unshift(a):o.push(a);return ri(o).pipe(no(a=>{let s=i.children[a],l=$5(e,a);return this.processSegmentGroup(t,l,s,a,r)}),f1((a,s)=>(a.push(...s),a)),m_(null),m1(),ln(a=>{if(a===null)return Dl(i);let s=IS(a);return A4(s),pe(s)}))}processSegment(t,e,i,r,o,a,s){return ri(e).pipe(no(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,i,r,o,a,s).pipe(io(c=>{if(c instanceof Dd)return pe(null);throw c}))),Zo(l=>!!l),io(l=>{if(ES(l))return M4(i,r,o)?pe(new yv):Dl(i);throw l}))}processSegmentAgainstRoute(t,e,i,r,o,a,s,l){return _r(i)!==a&&(a===$e||!Xp(r,o,i))?Dl(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,a,l):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,a,l):Dl(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a,s){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:h,remainingSegments:u}=TS(e,r,o);if(!l)return Dl(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>E4&&(this.allowRedirects=!1));let p=new us(o,c,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,nS(r),_r(r),r.component??r._loadedComponent??null,r,rS(r)),m=Gp(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let g=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,h,p,t);return this.applyRedirects.lineralizeSegments(r,g).pipe(ln(_=>this.processSegment(t,i,e,_.concat(u),a,!1,s)))}matchSegmentAgainstRoute(t,e,i,r,o,a){let s=y4(e,i,r,t,this.urlSerializer);return i.path==="**"&&(e.children={}),s.pipe(Yt(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(Yt(({routes:c})=>{let d=i._loadedInjector??t,{parameters:h,consumedSegments:u,remainingSegments:p}=l,m=new us(u,h,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,nS(i),_r(i),i.component??i._loadedComponent??null,i,rS(i)),g=Gp(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(g.params),m.data=Object.freeze(g.data);let{segmentGroup:_,slicedSegments:v}=iS(e,u,p,c);if(v.length===0&&_.hasChildren())return this.processChildren(d,c,_,m).pipe(Se(C=>new Sn(m,C)));if(c.length===0&&v.length===0)return pe(new Sn(m,[]));let x=_r(i)===o;return this.processSegment(d,c,_,v,x?$e:o,!0,m).pipe(Se(C=>new Sn(m,C instanceof Sn?[C]:[])))}))):Dl(e)))}getChildConfig(t,e,i){return e.children?pe({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?pe({routes:e._loadedRoutes,injector:e._loadedInjector}):g4(t,e,i,this.urlSerializer).pipe(ln(r=>r?this.configLoader.loadChildren(t,e).pipe(Pt(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):v4(e))):pe({routes:[],injector:t})}};function A4(n){n.sort((t,e)=>t.value.outlet===$e?-1:e.value.outlet===$e?1:t.value.outlet.localeCompare(e.value.outlet))}function T4(n){let t=n.value.routeConfig;return t&&t.path===""}function IS(n){let t=[],e=new Set;for(let i of n){if(!T4(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):t.push(i)}for(let i of e){let r=IS(i.children);t.push(new Sn(i.value,r))}return t.filter(i=>!e.has(i))}function nS(n){return n.data||{}}function rS(n){return n.resolve||{}}function I4(n,t,e,i,r,o){return ln(a=>S4(n,t,e,i,a.extractedUrl,r,o).pipe(Se(({state:s,tree:l})=>ye(E({},a),{targetSnapshot:s,urlAfterRedirects:l}))))}function P4(n,t){return ln(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return pe(e);let o=new Set(r.map(l=>l.route)),a=new Set;for(let l of o)if(!a.has(l))for(let c of PS(l))a.add(c);let s=0;return ri(a).pipe(no(l=>o.has(l)?R4(l,i,n,t):(l.data=Gp(l,l.parent,n).resolve,pe(void 0))),Pt(()=>s++),__(1),ln(l=>s===a.size?pe(e):bn))})}function PS(n){let t=n.children.map(e=>PS(e)).flat();return[n,...t]}function R4(n,t,e,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!CS(r)&&(o[Sd]=r.title),O4(o,n,t,i).pipe(Se(a=>(n._resolvedData=a,n.data=Gp(n,n.parent,e).resolve,null)))}function O4(n,t,e,i){let r=cv(n);if(r.length===0)return pe({});let o={};return ri(r).pipe(ln(a=>F4(n[a],t,e,i).pipe(Zo(),Pt(s=>{if(s instanceof Rl)throw qp(new ua,s);o[a]=s}))),__(1),Se(()=>o),io(a=>ES(a)?bn:Ha(a)))}function F4(n,t,e,i){let r=Ed(t)??i,o=Fl(n,r),a=o.resolve?o.resolve(t,e):$n(r,()=>o(t,e));return fa(a)}function sv(n){return Yt(t=>{let e=n(t);return e?ri(e).pipe(Se(()=>t)):pe(t)})}var Sv=(()=>{class n{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===$e);return i}getResolvedTitleForRoute(e){return e.data[Sd]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:()=>f(RS),providedIn:"root"})}return n})(),RS=(()=>{class n extends Sv{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(ke(Bk))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gs=new P("",{providedIn:"root",factory:()=>({})}),Ll=new P(""),Qp=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=f(U1);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return pe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=fa(e.loadComponent()).pipe(Se(FS),Pt(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Qo(()=>{this.componentLoaders.delete(e)})),r=new d_(i,()=>new L).pipe(c_());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return pe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=OS(i,this.compiler,e,this.onLoadEndListener).pipe(Qo(()=>{this.childrenLoaders.delete(i)})),a=new d_(o,()=>new L).pipe(c_());return this.childrenLoaders.set(i,a),a}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function OS(n,t,e,i){return fa(n.loadChildren()).pipe(Se(FS),ln(r=>r instanceof L1||Array.isArray(r)?pe(r):ri(t.compileModuleAsync(r))),Se(r=>{i&&i(n);let o,a,s=!1;return Array.isArray(r)?(a=r,s=!0):(o=r.create(e).injector,a=o.get(Ll,[],{optional:!0,self:!0}).flat()),{routes:a.map(Mv),injector:o}}))}function L4(n){return n&&typeof n=="object"&&"default"in n}function FS(n){return L4(n)?n.default:n}var Zp=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:()=>f(N4),providedIn:"root"})}return n})(),N4=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ev=new P(""),Av=new P("");function LS(n,t,e){let i=n.get(Av),r=n.get(ve);return n.get(de).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,a=new Promise(c=>{o=c}),s=r.startViewTransition(()=>(o(),V4(n))),{onViewTransitionCreated:l}=i;return l&&$n(n,()=>l({transition:s,from:t,to:e})),a})}function V4(n){return new Promise(t=>{Ct({read:()=>setTimeout(t)},{injector:n})})}var Tv=new P(""),Jp=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new L;transitionAbortSubject=new L;configLoader=f(Qp);environmentInjector=f(Yi);destroyRef=f(x_);urlSerializer=f(ms);rootContexts=f(fs);location=f(Ar);inputBindingEnabled=f(Ad,{optional:!0})!==null;titleStrategy=f(Sv);options=f(gs,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=f(Zp);createViewTransition=f(Ev,{optional:!0});navigationErrorHandler=f(Tv,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>pe(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new Vp(r)),i=r=>this.events.next(new Bp(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(ye(E({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(e){return this.transitions=new vi(null),this.transitions.pipe(Pe(i=>i!==null),Yt(i=>{let r=!1,o=!1;return pe(i).pipe(Yt(a=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",hn.SupersededByNewNavigation),bn;this.currentTransition=i,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?ye(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let s=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=a.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!s&&l!=="reload"){let c="";return this.events.next(new Br(a.id,this.urlSerializer.serialize(a.rawUrl),c,Al.IgnoredSameUrlNavigation)),a.resolve(!1),bn}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return pe(a).pipe(Yt(c=>(this.events.next(new ma(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?bn:Promise.resolve(c))),I4(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Pt(c=>{i.targetSnapshot=c.targetSnapshot,i.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=ye(E({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let d=new yd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:c,extractedUrl:d,source:h,restoredState:u,extras:p}=a,m=new ma(c,this.urlSerializer.serialize(d),h,u);this.events.next(m);let g=wS(this.rootComponentType).snapshot;return this.currentTransition=i=ye(E({},a),{targetSnapshot:g,urlAfterRedirects:d,extras:ye(E({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,pe(i)}else{let c="";return this.events.next(new Br(a.id,this.urlSerializer.serialize(a.extractedUrl),c,Al.IgnoredByUrlHandlingStrategy)),a.resolve(!1),bn}}),Pt(a=>{let s=new Op(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),Se(a=>(this.currentTransition=i=ye(E({},a),{guards:Q5(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),i)),l4(this.environmentInjector,a=>this.events.next(a)),Pt(a=>{if(i.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw qp(this.urlSerializer,a.guardsResult);let s=new Fp(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(s)}),Pe(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",hn.GuardRejected),!1)),sv(a=>{if(a.guards.canActivateChecks.length!==0)return pe(a).pipe(Pt(s=>{let l=new Lp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),Yt(s=>{let l=!1;return pe(s).pipe(P4(this.paramsInheritanceStrategy,this.environmentInjector),Pt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(s,"",hn.NoDataFromResolver)}}))}),Pt(s=>{let l=new Np(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}))}),sv(a=>{let s=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Pt(d=>{l.component=d}),Se(()=>{})));for(let d of l.children)c.push(...s(d));return c};return nl(s(a.targetSnapshot.root)).pipe(m_(null),lt(1))}),sv(()=>this.afterPreactivation()),Yt(()=>{let{currentSnapshot:a,targetSnapshot:s}=i,l=this.createViewTransition?.(this.environmentInjector,a.root,s.root);return l?ri(l).pipe(Se(()=>i)):pe(i)}),Se(a=>{let s=G5(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=i=ye(E({},a),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,i}),Pt(()=>{this.events.next(new wd)}),X5(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),lt(1),Pt({next:a=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ji(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),Ee(this.transitionAbortSubject.pipe(Pt(a=>{throw a}))),Qo(()=>{!r&&!o&&this.cancelNavigationTransition(i,"",hn.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),io(a=>{if(this.destroyed)return i.resolve(!1),bn;if(o=!0,SS(a))this.events.next(new Nr(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode)),K5(a)?this.events.next(new Pl(a.url,a.navigationBehaviorOptions)):i.resolve(!1);else{let s=new Tl(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);try{let l=$n(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(l instanceof Rl){let{message:c,cancellationCode:d}=qp(this.urlSerializer,l);this.events.next(new Nr(i.id,this.urlSerializer.serialize(i.extractedUrl),c,d)),this.events.next(new Pl(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(s),a}catch(l){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(l)}}return bn}))}))}cancelNavigationTransition(e,i,r){let o=new Nr(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function B4(n){return n!==Ip}var NS=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:()=>f(z4),providedIn:"root"})}return n})(),Kp=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},z4=(()=>{class n extends Kp{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VS=(()=>{class n{urlSerializer=f(ms);options=f(gs,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=f(Ar);urlHandlingStrategy=f(Zp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Vr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:r}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,i):i,a=r??o;return a instanceof Vr?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:r}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=e):this.rawUrlTree=r}routerState=wS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:()=>f(H4),providedIn:"root"})}return n})(),H4=(()=>{class n extends VS{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof ma?this.updateStateMemento():e instanceof Br?this.commitTransition(i):e instanceof yd?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof wd?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof Nr&&(e.code===hn.GuardRejected||e.code===hn.NoDataFromResolver)?this.restoreHistory(i):e instanceof Tl?this.restoreHistory(i,!0):e instanceof Ji&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:r}){let{replaceUrl:o,state:a}=i;if(this.location.isCurrentPathEqualTo(e)||o){let s=this.browserPageId,l=E(E({},a),this.generateNgRouterState(r,s));this.location.replaceState(e,"",l)}else{let s=E(E({},a),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",s)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function em(n,t){n.events.pipe(Pe(e=>e instanceof Ji||e instanceof Nr||e instanceof Tl||e instanceof Br),Se(e=>e instanceof Ji||e instanceof Br?0:(e instanceof Nr?e.code===hn.Redirect||e.code===hn.SupersededByNewNavigation:!1)?2:1),Pe(e=>e!==2),lt(1)).subscribe(()=>{t()})}var j4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},U4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},un=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=f(k_);stateManager=f(VS);options=f(gs,{optional:!0})||{};pendingTasks=f(cu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=f(Jp);urlSerializer=f(ms);location=f(Ar);urlHandlingStrategy=f(Zp);_events=new L;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=f(NS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=f(Ll,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!f(Ad,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ue;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Nr&&i.code!==hn.Redirect&&i.code!==hn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ji)this.navigated=!0;else if(i instanceof Pl){let a=i.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=E({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||B4(r.source)},a);this.scheduleNavigation(s,Ip,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}W4(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ip,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,r)=>{this.navigateToSyncWithBrowser(e,r,i)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},a=r?.navigationId?r:null;if(r){let l=E({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let s=this.parseUrl(e);this.scheduleNavigation(s,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Mv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:a,d=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":d=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let u=r?r.snapshot:this.routerState.snapshot.root;h=_S(u)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),h=this.currentUrlTree.root}return bS(h,e,d,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=pa(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Ip,null,i)}navigate(e,i={skipLocationChange:!1}){return $4(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=E({},j4):i===!1?r=E({},U4):r=i,pa(e))return ZM(this.currentUrlTree,e,r);let o=this.parseUrl(e);return ZM(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,a){if(this.disposed)return Promise.resolve(!1);let s,l,c;a?(s=a.resolve,l=a.reject,c=a.promise):c=new Promise((h,u)=>{s=h,l=u});let d=this.pendingTasks.add();return em(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:s,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $4(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new We(4008,!1)}function W4(n){return!(n instanceof wd)&&!(n instanceof Pl)}var tm=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new L;constructor(e,i,r,o,a,s){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.locationStrategy=s;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Ji&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(pa(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,o,a){let s=this.urlTree;if(s===null||this.isAnchorElement&&(e!==0||i||r||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let i=this.href===null?null:I1(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:pa(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(ne(un),ne(Do),w_("tabindex"),ne(Le),ne(Q),ne(dr))};static \u0275dir=V({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&T("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&te("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ie],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ie],replaceUrl:[2,"replaceUrl","replaceUrl",ie],routerLink:"routerLink"},features:[we]})}return n})(),G4=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Z;constructor(e,i,r,o,a){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=a,this.routerEventsSubscription=e.events.subscribe(s=>{s instanceof Ji&&this.update()})}ngAfterContentInit(){pe(this.links.changes,pe(null)).pipe(Tc()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ri(e).pipe(Tc()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){let i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let i=q4(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?e.isActive(o,i):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(i){return new(i||n)(ne(un),ne(Q),ne(Le),ne(_e),ne(tm,8))};static \u0275dir=V({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&Te(o,tm,5),i&2){let a;q(a=Y())&&(r.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[we]})}return n})();function q4(n){return!!n.paths}var Id=class{};var BS=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,i,r,o){this.router=e,this.injector=i,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Pe(e=>e instanceof Ji),no(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=uu(o.providers,e,`Route: ${o.path}`));let a=o._injector??e,s=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(s,o.children??o._loadedRoutes))}return ri(r).pipe(Tc())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(e,i):r=pe(null);let o=r.pipe(ln(a=>a===null?pe(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ri([o,a]).pipe(Tc())}else return o})}static \u0275fac=function(i){return new(i||n)(ke(un),ke(Yi),ke(Id),ke(Qp))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zS=new P(""),Y4=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,i,r,o,a={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=a,a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ma?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ji?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Br&&e.code===Al.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Il&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Il(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){du()};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})();function K4(n){return n.routerState.root}function Pd(n,t){return{\u0275kind:n,\u0275providers:t}}function X4(){let n=f(Ie);return t=>{let e=n.get(Er);if(t!==e.components[0])return;let i=n.get(un),r=n.get(HS);n.get(Pv)===1&&i.initialNavigation(),n.get($S,null,y_.Optional)?.setUpPreloading(),n.get(zS,null,y_.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var HS=new P("",{factory:()=>new L}),Pv=new P("",{providedIn:"root",factory:()=>1});function jS(){let n=[{provide:Pv,useValue:0},M_(()=>{let t=f(Ie);return t.get(R_,Promise.resolve()).then(()=>new Promise(i=>{let r=t.get(un),o=t.get(HS);em(r,()=>{i(!0)}),t.get(Jp).afterPreactivation=()=>(i(!0),o.closed?pe(void 0):o),r.initialNavigation()}))})];return Pd(2,n)}function US(){let n=[M_(()=>{f(un).setUpLocationChangeListener()}),{provide:Pv,useValue:2}];return Pd(3,n)}var $S=new P("");function WS(n){return Pd(0,[{provide:$S,useExisting:BS},{provide:Id,useExisting:n}])}function GS(){return Pd(8,[kv,{provide:Ad,useExisting:kv}])}function qS(n){C_("NgRouterViewTransitions");let t=[{provide:Ev,useValue:LS},{provide:Av,useValue:E({skipNextTransition:!!n?.skipInitialTransition},n)}];return Pd(9,t)}var YS=[Ar,{provide:ms,useClass:ua},un,fs,{provide:Do,useFactory:K4,deps:[un]},Qp,[]],Q4=(()=>{class n{constructor(){}static forRoot(e,i){return{ngModule:n,providers:[YS,[],{provide:Ll,multi:!0,useValue:e},[],i?.errorHandler?{provide:Tv,useValue:i.errorHandler}:[],{provide:gs,useValue:i||{}},i?.useHash?J4():eV(),Z4(),i?.preloadingStrategy?WS(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?tV(i):[],i?.bindToComponentInputs?GS().\u0275providers:[],i?.enableViewTransitions?qS().\u0275providers:[],iV()]}}static forChild(e){return{ngModule:n,providers:[{provide:Ll,multi:!0,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({})}return n})();function Z4(){return{provide:zS,useFactory:()=>{let n=f(bk),t=f(de),e=f(gs),i=f(Jp),r=f(ms);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Y4(r,i,n,t,e)}}}function J4(){return{provide:dr,useClass:z_}}function eV(){return{provide:dr,useClass:wu}}function tV(n){return[n.initialNavigation==="disabled"?US().\u0275providers:[],n.initialNavigation==="enabledBlocking"?jS().\u0275providers:[]]}var Iv=new P("");function iV(){return[{provide:Iv,useFactory:X4},{provide:B1,multi:!0,useExisting:Iv}]}var im=class n{_totalSessionCount=0;_sessionsList=[];_sessionExpandedList=[];_isFirstSearch=!0;constructor(){}get totalSessionCount(){return this._totalSessionCount}get sessionsList(){return this._sessionsList}get sessionExpandedList(){return this._sessionExpandedList}get isFirstSearch(){return this._isFirstSearch}set isFirstSearch(t){this._isFirstSearch=t}set totalSessionCount(t){this._totalSessionCount=t}set sessionsList(t){this._sessionsList=t}set sessionListEditedObj(t){this._sessionsList[t.index]._recordings.push(t.value)}set sessionExpandedList(t){this._sessionExpandedList=t}updateSessionList(t,e){let i=this._sessionsList.findIndex(r=>r._session_id===t);this._sessionExpandedList[i]=e}calculatePagination(t,e){let i=(t-1)*e,r=i+e;return this._sessionsList.slice(i,r)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})};var nm=class n{router=f(un);sessionService=f(im);$currentSelection=rt({session_id:"",file_id:"",file_type:""});currentSelection=this.$currentSelection.asReadonly();$cocLogState=rt({_auditLogs:[],_cocLogs:[],_isLogsLoaded:!1});cocLogState=this.$cocLogState.asReadonly();$selectedSessions=rt([]);selectedSessions=this.$selectedSessions.asReadonly();$componentHeights=rt({metadataComponent:0,tabComponent:0,sessionListComponent:0});componentHeights=this.$componentHeights.asReadonly();constructor(){}canActivateDetails(){return this.currentSelection().session_id!==""&&this.currentSelection().file_id!==""&&this.currentSelection().file_type!==""?!0:this.router.createUrlTree(["/AngularSession.aspx/search"])}get session_object(){return this.sessionService.sessionsList.find(i=>i._session_id===this.currentSelection().session_id)}get session_rec_object(){return this.session_object._recordings.find(e=>e.uniqueFileName===this.currentSelection().file_id)}get session_photo_object(){return this.session_object._photos.find(e=>e.uniqueFileName===this.currentSelection().file_id)}set editedObject(t){let i=this.sessionService.sessionsList.indexOf(this.session_object);this.sessionService.sessionListEditedObj={value:t,index:i}}updateCurrentSelection(t){this.$currentSelection.update(e=>E(E({},e),t))}updateCOCLogState(t){this.$cocLogState.update(e=>E(E({},e),t))}updateSelectedSessions(t,e){e==="add"?this.$selectedSessions.update(i=>[...i,t]):this.$selectedSessions.update(i=>i.filter(r=>r!==t))}updateComponentHeights(t){this.$componentHeights.update(e=>E(E({},e),t))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})};var rm=class n{mediaState=f(Fr);detailsService=f(nm);calculationHelpers=f(da);$currentSelection=this.detailsService.currentSelection;$playerState=this.mediaState.player_state;$tracksState=this.mediaState.tracks_state;$mediaRefs=this.mediaState.media_refs;_edited=!1;_isAudioGenerated=!1;constructor(){}get edited(){return this._edited}get isAudioGenerated(){return this._isAudioGenerated}set isAudioGenerated(t){this._isAudioGenerated=t}set edited(t){this._edited=t}onloadMetaData(t){return U(this,null,function*(){if(!t){let e=this.$playerState().duration*20,i=Array.from({length:Math.floor(this.$playerState().duration)+1},(a,s)=>{let l=Math.floor(s/60),c=Math.floor(s%60).toString().padStart(2,"0");return parseInt(c)%5==0?`${l}:${c}`:null}),o=this.$currentSelection().file_type.includes("video")?Array(Math.floor(this.$playerState().duration/5)+1).fill("assets/videos/firefighters_poster.png"):Array(Math.floor(this.$playerState().duration/5)+1).fill("assets/img/audio-bg.jpg");this.mediaState.updateEditState({trimEnd:this.$playerState().duration}),this.mediaState.updateTracksState({fixed_width:e,trackpad_ruler_width:e+20,trackpad_content_width:e+20,track_divisions:i,track_frames:o,trackpad_audio_handle_width:e}),!this.isAudioGenerated&&this.$mediaRefs().mediaRef&&this.$mediaRefs().waveformCanvas&&this.generateWaveform()}})}generateWaveform(){return U(this,null,function*(){let t=this.$mediaRefs().mediaRef.nativeElement,e=this.$mediaRefs().waveformCanvas.nativeElement,i=e.getContext("2d"),o=t.duration*20,a=2,s=2;e.width=o,e.style.width=`${o}px`;let l=new AudioContext,d=yield(yield fetch("assets/videos/firefighters.mp4")).arrayBuffer(),u=(yield l.decodeAudioData(d)).getChannelData(0),p=Math.floor(o/(a+s)),m=Math.floor(u.length/p),g=new Array(p).fill(0);for(let x=0;x<p;x++){let C=1,D=-1;for(let A=0;A<m;A++){let $=u[x*m+A];$<C&&(C=$),$>D&&(D=$)}g[x]={min:C,max:D}}i.clearRect(0,0,e.width,e.height),i.fillStyle="#4d7dbf",i.strokeStyle="#4d7dbf",i.lineWidth=0;let _=e.height/2,v=0;for(let x=0;x<p;x++){let{min:C,max:D}=g[x],A=(D-C)/2,$=_-A*_,X=$,S=$+A*2*_-X;i.beginPath(),i.roundRect(v,X,a,S,5),i.fill(),i.stroke(),v+=a+s}e.style.height="100px",this.isAudioGenerated=!0})}calculateProgressTiming(t,e,i){let r=this.$mediaRefs().trackpadFramesContainerRef.nativeElement.getBoundingClientRect(),o=t.clientX-r.left,a=o<=0?0:o;a>=this.$tracksState().trackpad_content_width-20&&(a=this.$tracksState().trackpad_content_width-20),this.mediaState.updateTracksState({trackpad_cursor_position:a});let s=i==="right"?a/(this.$tracksState().trackpad_content_width-20)*100:a/(this.$tracksState().trackpad_content_width-20)*100,l=this.$playerState().progress/100*this.$playerState().duration;this.mediaState.updatePlayerState({progress:s,current_time:this.calculationHelpers.secondsToTime(l)}),this.$mediaRefs().trackpadLayoutRef.nativeElement.scrollTo({left:a-450,behavior:"smooth"}),this.$mediaRefs().mediaRef.nativeElement.currentTime=l,e&&this.calculateTrackStickPosition(i,a,l)}calculateTrackStickPosition(t,e,i){t==="left"?(this.mediaState.updateTracksState({trackpad_cursor_position:e,trackpad_stick_left_position:e,trackpad_left_ph_width:e}),this.mediaState.updateEditState({trimStart:i})):(this.mediaState.updateTracksState({trackpad_cursor_position:e,trackpad_stick_right_position:this.$tracksState().fixed_width-e,trackpad_right_ph_width:this.$tracksState().fixed_width-e}),this.mediaState.updateEditState({trimEnd:i}))}calculateAudioClipping(t,e){let i=this.$mediaRefs().trackpadFramesContainerRef.nativeElement.getBoundingClientRect(),r=t.clientX-i.left,o=r<=0?0:r;o>=this.$tracksState().trackpad_content_width-20&&(o=this.$tracksState().trackpad_content_width-20);let a=e==="right"?(o+20)/this.$tracksState().trackpad_content_width*100:o/this.$tracksState().trackpad_content_width*100,s=this.$playerState().progress/100*this.$playerState().duration;this.mediaState.updatePlayerState({progress:a,current_time:this.calculationHelpers.secondsToTime(s)}),this.$mediaRefs().trackpadLayoutRef.nativeElement.scrollTo({left:o-450,behavior:"smooth"}),this.$mediaRefs().mediaRef.nativeElement.currentTime=s,this.calculateAudioClippingTime(o,e,s)}calculateAudioClippingTime(t,e,i){let r=this.$tracksState().fixed_width,o=r-this.$tracksState().trackpad_audio_handle_right_position;if(e==="left")this.mediaState.updateTracksState({trackpad_audio_handle_width:o-t,trackpad_audio_handle_left_position:t}),this.mediaState.updateEditState({trimStart:i});else{let a=t-this.$tracksState().trackpad_audio_handle_left_position;this.mediaState.updateTracksState({trackpad_audio_handle_width:a,trackpad_audio_handle_right_position:r-t}),this.mediaState.updateEditState({trimEnd:i})}}static \u0275fac=function(e){return new(e||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})};var nV=["playerTemplate"],rV=["playerHost"],oV=["playerWrapperRef"],aV=["mediaRef"],sV=["snapshotRef"],lV=["miniPlayerRef"];function cV(n,t){n&1&&(b(0,"div",6)(1,"error-ui",7),je(),b(2,"svg",8),B(3,"path",9),w()()())}function dV(n,t){if(n&1){let e=be();b(0,"div",16),T("click",function(){W(e);let r=k(2);return G(r.controlPlayer("toggle_middle_play"))}),je(),b(1,"svg",17),B(2,"path",18),w()()}}function hV(n,t){if(n&1){let e=be();b(0,"player-controls",19),T("pipEvent",function(){W(e);let r=k(2);return G(r.controlPlayer("mini_player"))})("timeEvent",function(r){W(e);let o=k(2);return G(o.timeEvent(r))}),w()}if(n&2){let e=k(2);M("mediaType",e.$mediaType())}}function uV(n,t){n&1&&yi(0,null,2)}function pV(n,t){n&1&&(b(0,"div",13),K(1,"Playing in mini-player"),w())}function mV(n,t){if(n&1){let e=be();b(0,"div",20)(1,"mat-icon",21),K(2,"audio_file"),w(),b(3,"audio",22,3),T("loadedmetadata",function(){W(e);let r=k(2);return G(r.controlPlayer("loadedmetadata"))})("progress",function(){W(e);let r=k(2);return G(r.controlPlayer("fetch_progress"))})("playing",function(){W(e);let r=k(2);return G(r.controlPlayer("playing"))})("pause",function(){W(e);let r=k(2);return G(r.controlPlayer("on_pause"))})("ended",function(){W(e);let r=k(2);return G(r.controlPlayer("on_video_end"))})("error",function(r){W(e);let o=k(2);return G(o.onError(r))}),w()()}if(n&2){let e=k(2);y(3),M("src",e.$fileSource().audioSource,ao)("playbackRate",e.$playerState().speed)("volume",e.$playerState().volume)("controls",!1)}}function fV(n,t){if(n&1){let e=be();b(0,"player-controls",33),T("timeEvent",function(r){W(e);let o=k(3);return G(o.timeEvent(r))}),w()}if(n&2){let e=k(3);M("miniPlayer",e.miniPlayerActivated)("mediaType",e.$mediaType())}}function gV(n,t){if(n&1){let e=be();b(0,"div",23,4),T("mousedown",function(r){W(e);let o=k(2);return G(o.onMiniPlayerGrab(r))}),b(2,"div",24),yi(3,null,2),O(5,fV,1,2,"player-controls",25),b(6,"div",26),T("click",function(){W(e);let r=k(2);return G(r.controlPlayer("mini_player"))}),je(),b(7,"svg",27),B(8,"path",28),w()(),Ai(),b(9,"div",29),T("mousedown",function(r){W(e);let o=k(2);return G(o.onResizeGrab(r,"tl"))}),w(),b(10,"div",30),T("mousedown",function(r){W(e);let o=k(2);return G(o.onResizeGrab(r,"tr"))}),w(),b(11,"div",31),T("mousedown",function(r){W(e);let o=k(2);return G(o.onResizeGrab(r,"bl"))}),w(),b(12,"div",32),T("mousedown",function(r){W(e);let o=k(2);return G(o.onResizeGrab(r,"br"))}),w()()()}if(n&2){let e=k(2);y(5),M("ngIf",e.metaDataLoaded)}}function _V(n,t){if(n&1&&(b(0,"div",10,1),O(2,dV,3,0,"div",11)(3,hV,1,1,"player-controls",12)(4,uV,2,0,"ng-container")(5,pV,2,0,"div",13)(6,mV,5,4,"div",14),w(),O(7,gV,13,1,"div",15)),n&2){let e=k();y(2),M("ngIf",e.$mediaType().includes("video")&&!e.miniPlayerActivated&&!e.$playerState().isPlaying),y(),M("ngIf",e.metaDataLoaded&&!e.miniPlayerActivated),y(),le(e.miniPlayerActivated?5:4),y(2),M("ngIf",e.$mediaType().includes("audio")),y(),M("ngIf",e.miniPlayerActivated)}}function bV(n,t){if(n&1){let e=be();b(0,"video",36),T("error",function(r){W(e);let o=k(2);return G(o.onError(r))})("loadeddata",function(r){W(e);let o=k(2);return G(o.onLoad(r))}),w()}if(n&2){let e=k(2);M("src",e.$fileSource().videoSource,ao)}}function vV(n,t){if(n&1){let e=be();b(0,"audio",36),T("error",function(r){W(e);let o=k(2);return G(o.onError(r))})("loadeddata",function(r){W(e);let o=k(2);return G(o.onLoad(r))}),w()}if(n&2){let e=k(2);M("src",e.$fileSource().audioSource,ao)}}function yV(n,t){if(n&1&&(O(0,bV,1,1,"video",34)(1,vV,1,1,"audio",34),B(2,"div",35)),n&2){let e=k();M("ngIf",e.$mediaType().includes("video")),y(),M("ngIf",e.$mediaType().includes("audio"))}}function wV(n,t){if(n&1){let e=be();b(0,"video",39,3),T("loadedmetadata",function(){W(e);let r=k(2);return G(r.controlPlayer("loadedmetadata"))})("click",function(){W(e);let r=k(2);return G(r.controlPlayer("toggle_middle_play"))})("progress",function(){W(e);let r=k(2);return G(r.controlPlayer("fetch_progress"))})("playing",function(){W(e);let r=k(2);return G(r.controlPlayer("playing"))})("pause",function(){W(e);let r=k(2);return G(r.controlPlayer("on_pause"))})("ended",function(){W(e);let r=k(2);return G(r.controlPlayer("on_video_end"))})("keydown",function(r){W(e);let o=k(2);return G(o.keydown(r))})("error",function(r){W(e);let o=k(2);return G(o.onError(r))}),K(2," Your browser does not support the video element. "),B(3,"source",40),w()}if(n&2){let e=k(2);M("src",e.$fileSource().videoSource,ao)("poster",e.$fileSource().videoThumbnail,ao)("playbackRate",e.$playerState().speed)("volume",e.$playerState().volume)("controls",!1),y(3),M("src",e.$fileSource().videoSource,ao)}}function xV(n,t){if(n&1&&(b(0,"div",41,5),B(2,"img",42),b(3,"div",43),K(4),w()()),n&2){let e=k(2);y(4),Ze(" ",e.popupTime," ")}}function CV(n,t){if(n&1&&O(0,wV,4,6,"video",37)(1,xV,5,1,"div",38),n&2){let e=k();M("ngIf",e.$mediaType().includes("video")),y(),M("ngIf",e.$mediaType().includes("video"))}}var Rv=class n{editService=f(rm);mediaPlayerService=f(kl);mediaState=f(Fr);$errorState=this.mediaState.errorState;$fileSource=this.mediaState.file_source;$playerState=this.mediaState.player_state;$mediaType=xe.required({alias:"mediaType"});playerTemplate;playerHost;playerWrapperRef;mediaRef;snapshotRef;miniPlayerRef;playerControls;loaded=!1;metaDataLoaded=!1;popupTime="00:00";initialRender=!0;miniPlayerActivated=!1;activatedOnScroll=!1;draggingMiniPlayer=!1;dragOffset={x:0,y:0};MIN_WIDTH=412;MAX_WIDTH=820;ASPECT_RATIO=16/9;resizingMiniPlayer=!1;resizeStart={x:0,y:0};initialSize={width:0,height:0};initialPosition={left:0,top:0};resizeDirection=null;constructor(){this.mediaState.updateErrorState({_isFileError:!1}),this.loaded=!1,this.metaDataLoaded=!1}loadVideoTemplate(){return U(this,null,function*(){this.playerHost.clear(),this.playerHost.createEmbeddedView(this.playerTemplate)})}onSelectFile(){this.mediaState.updateErrorState({_isFileError:!1}),this.loaded=!1,this.metaDataLoaded=!1}controlPlayer(t){switch(t){case"loadedmetadata":this.mediaPlayerService.onloadMetadata(this.metaDataLoaded),this.editService.onloadMetaData(this.metaDataLoaded),this.metaDataLoaded=!0,this.mediaState.editObservable="loaded",this.mediaState.editObservable="";break;case"fetch_progress":this.mediaPlayerService.fetchLoadedProgress();break;case"toggle_middle_play":this.miniPlayerActivated||this.mediaPlayerService.togglePlayPause();break;case"playing":this.mediaPlayerService.updatePlaybackProgress();break;case"on_pause":this.mediaPlayerService.onPause();break;case"on_video_end":this.mediaPlayerService.onVideoEnd();break;case"mini_player":this.miniPlayerActivated=!this.miniPlayerActivated,setTimeout(()=>this.loadVideoTemplate());break;default:console.log("Default case")}}keydown(t){switch(t.key.toLowerCase()){case" ":t.preventDefault(),this.playerControls.controlPlayer("playback");break;case"f":t.preventDefault(),this.playerControls.controlPlayer("trigger_fullscreen");break;case"arrowright":t.preventDefault(),this.playerControls.controlPlayer("trigger_seek_forward");break;case"arrowleft":t.preventDefault(),this.playerControls.controlPlayer("trigger_seek_backward");break;case"m":t.preventDefault(),this.playerControls.controlPlayer("mute");break;case"arrowup":t.preventDefault(),this.playerControls.handleVolume("up");break;case"arrowdown":t.preventDefault(),this.playerControls.handleVolume("down");break;case"p":t.preventDefault(),this.controlPlayer("mini_player");break;case"=":case"+":t.preventDefault(),this.playerControls.handleSpeed("increment");break;case"-":t.preventDefault(),this.playerControls.handleSpeed("decrement");break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":break}}timeEvent(t){this.popupTime=t}onLoad(t){t&&(this.mediaState.updateErrorState({_isFileError:!1}),this.loaded=!0,setTimeout(()=>U(this,null,function*(){yield this.loadVideoTemplate(),this.mediaState.editObservable="loaded",this.mediaState.editObservable=""}),100))}onError(t){t&&(this.mediaState.updateErrorState({_isFileError:!0}),this.loaded=!0,this.mediaState.editObservable="loaded",this.mediaState.editObservable="")}onMiniPlayerGrab(t){this.draggingMiniPlayer=!0;let e=this.miniPlayerRef.nativeElement.getBoundingClientRect();this.dragOffset.x=t.clientX-e.left,this.dragOffset.y=t.clientY-e.top}onMiniPlayerRelease(){this.draggingMiniPlayer=!1}onResizeGrab(t,e){t.stopPropagation(),this.resizingMiniPlayer=!0,this.resizeDirection=e;let i=this.miniPlayerRef.nativeElement;this.resizeStart={x:t.clientX,y:t.clientY},this.initialSize={width:i.offsetWidth,height:i.offsetHeight},this.initialPosition={left:i.offsetLeft,top:i.offsetTop}}onResizeRelease(){this.draggingMiniPlayer=!1,this.resizingMiniPlayer=!1,this.resizeDirection=null}onMiniPlayerDragResize(t){if(this.draggingMiniPlayer){let e=this.miniPlayerRef.nativeElement;e.style.left=`${t.clientX-this.dragOffset.x}px`,e.style.top=`${t.clientY-this.dragOffset.y}px`}if(this.resizingMiniPlayer&&this.resizeDirection){let e=this.miniPlayerRef.nativeElement,i=t.clientX-this.resizeStart.x,r=this.initialSize.width,o=this.initialPosition.left;this.resizeDirection==="tr"||this.resizeDirection==="br"?r=this.initialSize.width+i:(this.resizeDirection==="tl"||this.resizeDirection==="bl")&&(r=this.initialSize.width-i,o=this.initialPosition.left+i),r=Math.max(this.MIN_WIDTH,Math.min(this.MAX_WIDTH,r));let a=r/this.ASPECT_RATIO,s=this.resizeDirection.startsWith("t")?this.initialPosition.top+(this.initialSize.height-a):this.initialPosition.top;e.style.width=`${r}px`,e.style.height=`${a}px`,e.style.left=`${o}px`,e.style.top=`${s}px`}}onScroll(){!this.$errorState()._canShowFile||this.$errorState()._isFileError||(window.pageYOffset>150?this.miniPlayerActivated||this.controlPlayer("mini_player"):window.pageYOffset<150&&this.miniPlayerActivated&&this.controlPlayer("mini_player"))}ngAfterViewChecked(){this.mediaState.updateMediaRefs({playerWrapperRef:this.playerWrapperRef,mediaRef:this.mediaRef,snapshotRef:this.snapshotRef})}ngOnInit(){}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=I({type:n,selectors:[["media-player"]],viewQuery:function(e,i){if(e&1&&(se(nV,5),se(rV,5,kt),se(oV,5),se(aV,5),se(sV,5),se(lV,5),se(ds,5)),e&2){let r;q(r=Y())&&(i.playerTemplate=r.first),q(r=Y())&&(i.playerHost=r.first),q(r=Y())&&(i.playerWrapperRef=r.first),q(r=Y())&&(i.mediaRef=r.first),q(r=Y())&&(i.snapshotRef=r.first),q(r=Y())&&(i.miniPlayerRef=r.first),q(r=Y())&&(i.playerControls=r.first)}},hostBindings:function(e,i){e&1&&T("mouseup",function(){return i.onResizeRelease()},!1,Ut)("mousemove",function(o){return i.onMiniPlayerDragResize(o)},!1,Ut)("scroll",function(o){return i.onScroll(o)},!1,P1)},inputs:{$mediaType:[1,"mediaType","$mediaType"]},standalone:!1,decls:5,vars:2,consts:[["playerTemplate",""],["playerWrapperRef",""],["playerHost",""],["mediaRef",""],["miniPlayerRef",""],["snapshotRef",""],[1,"error-state-wrapper","rounded-lg","bg-primary-fog"],["titleText","Unable to load file!","commentText","This media is not available."],["width","81","height","80","viewBox","0 0 81 80","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M60.734 26.7185C60.9791 26.5919 61.25 26.5537 61.5157 26.5276C62.6764 26.4136 63.4798 25.6773 63.6615 24.5307C63.69 24.3508 63.7009 24.1664 63.7011 23.9841C63.7036 21.4711 63.7025 18.9581 63.703 16.4451C63.7031 16.0526 63.6889 15.6611 63.6242 15.2733C63.4528 14.2443 62.4557 13.5115 61.359 13.4765C61.307 13.4749 61.2548 13.4763 61.2028 13.4763C47.4267 13.4763 33.6507 13.4793 19.8746 13.4707C18.7532 13.47 17.5934 14.2768 17.4807 15.5881C17.4214 16.2776 17.4256 16.9921 17.4546 17.695C17.4712 18.0986 17.4752 18.5035 17.4812 18.9062C17.5064 20.5855 17.5207 22.2661 17.4772 23.9447C17.4605 24.5915 17.5768 25.1482 17.9579 25.6658C18.3984 26.2642 19.0393 26.4601 19.718 26.6033C20.1499 26.6945 20.5742 26.8323 21.0106 26.6074C21.0929 26.565 21.2158 26.6013 21.3199 26.6013C25.5387 26.6013 29.7576 26.625 33.9761 26.5927C36.6064 26.5725 39.2368 26.592 41.8668 26.5583C47.8824 26.4812 53.8981 26.5486 59.9137 26.5217C60.1937 26.5205 60.4518 26.5845 60.6949 26.7185M20.4606 28.5935C20.7271 28.7462 21.0145 28.7912 21.3199 28.7911C34.1845 28.7884 47.0491 28.7888 59.9137 28.7888C60.0309 28.7888 60.1698 28.8302 60.2617 28.782C60.7846 28.5072 61.3027 28.7479 61.7843 28.8488C63.1262 29.1299 63.7135 30.1369 63.7281 31.3671C63.7597 34.0228 63.7323 36.6797 63.6965 39.3356C63.6754 40.8983 62.6434 41.7037 61.3238 41.8667C60.8314 41.9275 60.3824 41.8344 59.9137 41.8345C47.0491 41.836 34.1845 41.8357 21.3199 41.8357C21.2288 41.8357 21.1211 41.8036 21.0491 41.8408C20.4431 42.1538 19.865 41.8521 19.2906 41.7473C18.2441 41.5563 17.4608 40.5812 17.4564 39.4919C17.4454 36.7055 17.4256 33.9186 17.4658 31.1328C17.4824 29.9824 18.3255 28.8456 19.7184 28.7904C19.9707 28.7804 20.1927 28.6787 20.4215 28.5935M60.734 43.9451C60.4339 44.0714 60.1221 44.1048 59.7965 44.1046C48.3512 44.1007 36.9059 44.0933 25.4606 44.1118C24.0813 44.1141 22.7008 44.1877 21.3199 44.1795C21.2288 44.179 21.1202 44.2121 21.0493 44.1742C20.5561 43.9109 20.0576 44.101 19.5622 44.1417C18.4521 44.2328 17.5207 45.1255 17.4662 46.2895C17.3358 49.0736 17.4104 51.8619 17.4261 54.6481C17.4333 55.9207 18.0205 56.744 19.2142 57.0969C19.7365 57.2513 20.3009 57.2678 20.8502 57.2159C20.9801 57.2036 21.1124 57.19 21.2418 57.1899C25.2132 57.1867 29.1846 57.1691 33.1558 57.1958C34.8485 57.2072 36.5412 57.2213 38.234 57.2251C38.5007 57.2256 38.7445 57.3942 38.9762 57.3942C39.2079 57.3942 39.4516 57.2234 39.7184 57.2252C40.2783 57.2289 40.8383 57.2324 41.398 57.2239C41.7037 57.2192 41.9909 57.3881 42.2574 57.3881C42.524 57.3881 42.8113 57.2225 43.1168 57.2238C44.4319 57.2297 45.7472 57.241 47.0621 57.2231C49.3667 57.1917 51.6714 57.098 53.9761 57.1538C56.3721 57.2118 58.7684 57.1443 61.1635 57.197C62.3302 57.2227 63.2196 56.5479 63.5821 55.5844C63.6846 55.312 63.6925 55.0163 63.7022 54.7263C63.7796 52.409 63.7297 50.0909 63.7393 47.7732C63.7415 47.2389 63.7455 46.7067 63.6739 46.1703C63.5485 45.2305 62.7734 44.3613 61.8281 44.1777C61.4747 44.1091 61.1036 44.1177 60.7731 43.9451M38.3512 20.0193C38.4944 20.0258 38.6376 20.038 38.7809 20.038C45.734 20.0389 52.6871 20.0388 59.6403 20.0388M59.4449 35.3318C59.3017 35.3253 59.1585 35.3131 59.0153 35.3131C52.1663 35.3121 45.3173 35.3123 38.4684 35.3123M37.9996 50.6638C44.9007 50.6638 51.8017 50.6643 58.7028 50.6622C58.9762 50.6621 59.2496 50.6378 59.5231 50.6248M46.0856 63.7498C45.8054 64.4227 45.9242 65.1311 45.9442 65.8196C45.9633 66.4808 45.786 66.7574 45.1481 66.7575C42.1272 66.7577 39.1064 66.7577 36.0856 66.7575C35.4797 66.7574 35.2285 66.5064 35.2265 65.8982C35.225 65.4555 35.2262 65.0128 35.2262 64.5701C35.2262 64.4789 35.2624 64.3638 35.2204 64.3005C34.9303 63.8635 35.1577 63.4332 35.2327 63.0087C35.3077 62.5844 35.5935 62.3853 36.0465 62.3833C36.7106 62.3804 37.3746 62.3815 38.0387 62.3831C38.2929 62.3838 38.5414 62.3817 38.7846 62.2738C38.8651 62.238 38.9676 62.2142 39.0969 62.254C39.9404 62.5132 40.8224 62.4282 41.6678 62.3449C42.157 62.2967 42.6074 62.3528 43.0781 62.3744C43.7668 62.406 44.458 62.3814 45.1481 62.3829C45.7188 62.3842 45.9425 62.5969 45.9674 63.1639C45.976 63.3601 46.0252 63.5419 46.1246 63.7107M61.4371 63.6912C60.9944 63.6977 60.5517 63.7097 60.109 63.7098C55.4606 63.7112 50.8121 63.7107 46.1637 63.7107M34.9918 63.7498C34.7574 63.7367 34.5231 63.7125 34.2887 63.7124C29.6533 63.7101 25.0179 63.7105 20.3824 63.7115C20.2001 63.7116 20.0179 63.7237 19.8356 63.7302M22.609 37.031C23.3293 37.1654 23.9518 36.9798 24.3597 36.3623C24.9874 35.4121 24.5929 34.1157 23.466 33.7971C22.5564 33.5398 21.521 34.1019 21.401 35.2344C21.3143 36.0531 21.7265 36.6867 22.5699 37.031M28.4293 51.3279C28.6968 52.001 29.1714 52.3976 29.9137 52.4202C30.6401 52.4424 31.1395 52.0762 31.4313 51.4424C31.7055 50.8466 31.639 50.2524 31.2382 49.7291C30.7671 49.114 30.1222 48.9647 29.408 49.1862C28.7562 49.3883 28.408 49.8877 28.3214 50.5479C28.2899 50.7877 28.3642 51.0414 28.3903 51.2888M21.4371 50.3123C21.3275 51.0218 21.4583 51.6431 22.0606 52.1111C22.5766 52.5119 23.2547 52.5403 23.8158 52.219C24.4465 51.8579 24.7448 51.0716 24.6065 50.4283C24.43 49.6077 23.6827 48.9399 22.6862 49.1355C22.0264 49.265 21.6677 49.6902 21.4371 50.2732M29.9528 21.7966C31.032 21.6497 31.4114 21.2535 31.5781 20.3485C31.692 19.7302 31.3959 18.9955 30.6568 18.6308C29.917 18.2658 29.0015 18.5266 28.548 19.2585C28.0805 20.0131 28.3454 21.0181 28.9704 21.4534C29.2535 21.6505 29.5416 21.7651 29.8746 21.7966M24.6403 20.0388C24.5676 18.8043 23.2547 18.0489 22.1423 18.7141C21.5313 19.0795 21.2447 19.917 21.4371 20.6638C21.5651 21.1603 22.3041 21.7557 22.8434 21.7966C23.5822 21.8527 24.2262 21.4497 24.5223 20.7416C24.6107 20.5302 24.6684 20.3111 24.6403 20.0779M38.9762 57.4607C38.9762 59.0362 38.9762 60.6117 38.9762 62.1873M42.2574 57.4607C42.2705 58.6586 42.2855 59.8565 42.2953 61.0545C42.2983 61.419 42.2107 61.7836 42.2965 62.1482M29.5621 33.7498C28.1714 34.1003 27.9851 35.7933 28.8195 36.6018C29.2905 37.0582 29.8537 37.1982 30.4572 36.9825C31.0739 36.7622 31.4707 36.3334 31.5209 35.6252C31.5886 34.6681 31.2089 34.0296 30.3828 33.7876C30.1237 33.7118 29.8613 33.7698 29.6012 33.7498","stroke","#9D9FA2","stroke-linecap","round","stroke-linejoin","round"],[1,"media-player-wrapper","rounded-lg"],["class","pointer middle-play-btn",3,"click",4,"ngIf"],[3,"mediaType","pipEvent","timeEvent",4,"ngIf"],[1,"mini-player-ph"],["class","audio-wrapper d-flex h-p-full justify-content-center align-items-center",4,"ngIf"],["class","mini-player-wrapper",3,"mousedown",4,"ngIf"],[1,"pointer","middle-play-btn",3,"click"],["viewBox","0 0 24 23","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M17.4389 13.046L7.89442 18.584C7.08442 19.0535 6.04492 18.485 6.04492 17.5385V6.46252C6.04492 5.51752 7.08292 4.94752 7.89442 5.41852L17.4389 10.9565C17.6232 11.0617 17.7763 11.2138 17.8829 11.3972C17.9894 11.5807 18.0455 11.7891 18.0455 12.0013C18.0455 12.2134 17.9894 12.4218 17.8829 12.6053C17.7763 12.7888 17.6232 12.9408 17.4389 13.046Z","fill","white"],[3,"pipEvent","timeEvent","mediaType"],[1,"audio-wrapper","d-flex","h-p-full","justify-content-center","align-items-center"],[1,"text-white"],["id","player","tabindex","0","preload","auto","type","audio/m4a",1,"player","rounded-lg","block","shadow-normal",3,"loadedmetadata","progress","playing","pause","ended","error","src","playbackRate","volume","controls"],[1,"mini-player-wrapper",3,"mousedown"],[1,"mp-inside"],[3,"miniPlayer","mediaType","timeEvent",4,"ngIf"],[1,"mp-close","pointer",3,"click"],["id","icon","width","16","height","16","fill","white","viewBox","0 -960 960 960","xmlns","http://www.w3.org/2000/svg"],["d","m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"],[1,"resize-handle","tl",3,"mousedown"],[1,"resize-handle","tr",3,"mousedown"],[1,"resize-handle","bl",3,"mousedown"],[1,"resize-handle","br",3,"mousedown"],[3,"timeEvent","miniPlayer","mediaType"],["class","h-0 w-0 d-none",3,"src","error","loadeddata",4,"ngIf"],[1,"loader-wrapper","rounded-lg","shimmer"],[1,"h-0","w-0","d-none",3,"error","loadeddata","src"],["id","player","class","player rounded-lg block shadow-normal","tabindex","0","preload","auto","type","video/mp4",3,"src","poster","playbackRate","volume","controls","loadedmetadata","click","progress","playing","pause","ended","keydown","error",4,"ngIf"],["class","thumbnail-snapshot-wrapper",4,"ngIf"],["id","player","tabindex","0","preload","auto","type","video/mp4",1,"player","rounded-lg","block","shadow-normal",3,"loadedmetadata","click","progress","playing","pause","ended","keydown","error","src","poster","playbackRate","volume","controls"],["type","video/mp4",3,"src"],[1,"thumbnail-snapshot-wrapper"],["src","assets/videos/firefighters_poster.png","alt","Snapshot",1,"snapshot-image"],[1,"snapshot-time"]],template:function(e,i){e&1&&O(0,cV,4,0,"div",6)(1,_V,8,5)(2,yV,3,2)(3,CV,2,2,"ng-template",null,0,Cn),e&2&&(le(i.loaded&&i.$errorState()._isFileError?0:i.loaded&&!i.$errorState()._isFileError?1:-1),y(2),le(i.loaded?-1:2))},dependencies:[Vt,Or,md,ds],styles:['.media-player-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;padding-top:56.25%;background-color:#000000d7;overflow:hidden;user-select:none;-moz-user-select:none;-webkit-user-select:none}.media-player-wrapper[_ngcontent-%COMP%]   .mini-player-ph[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;min-height:420px;max-height:420px;z-index:60;color:#e4e4e4;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);font-weight:500;font-size:20px;padding:20px}.media-player-wrapper[_ngcontent-%COMP%]   .audio-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;background-color:#092a32;background-size:cover;background-repeat:no-repeat;background-position:center center}.media-player-wrapper[_ngcontent-%COMP%]   .audio-wrapper[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:60px;height:60px;font-size:60px}.media-player-wrapper[_ngcontent-%COMP%]   .middle-play-btn[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);transition:.3s;z-index:50;width:48px;height:48px;background-color:#00aeef;-webkit-border-radius:48px!important;-moz-border-radius:48px!important;border-radius:48px!important;display:flex;justify-content:center;align-items:center;flex-shrink:0}.media-player-wrapper[_ngcontent-%COMP%]   .middle-play-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;font-size:24px}.error-state-wrapper[_ngcontent-%COMP%]{min-height:420px;max-height:420px;display:flex;justify-content:center;align-items:center}.loader-wrapper[_ngcontent-%COMP%]{min-height:420px;max-height:420px;display:flex}#player[_ngcontent-%COMP%]{position:absolute;top:0;left:0;max-width:100%;width:100%;height:100%;object-fit:contain;background-color:#000000d7;outline:none}.mini-player-wrapper[_ngcontent-%COMP%]{position:fixed;display:flex;right:20px;bottom:20px;z-index:600;width:462px;height:260px;border-radius:10px;overflow:hidden;background-color:#000000d7}.mini-player-wrapper[_ngcontent-%COMP%]   .mp-inside[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;background-color:#000000d7}.mini-player-wrapper[_ngcontent-%COMP%]   .mp-inside[_ngcontent-%COMP%]   .mp-close[_ngcontent-%COMP%]{position:absolute;top:-20px;right:20px;opacity:0;transition:top .25s,opacity .25s;width:24px;height:24px;display:flex;justify-content:center;align-items:center;background-color:#000000a1;-webkit-border-radius:24px!important;-moz-border-radius:24px!important;border-radius:24px!important}.mini-player-wrapper[_ngcontent-%COMP%]   .mp-inside[_ngcontent-%COMP%]:hover   .mp-close[_ngcontent-%COMP%]{top:10px;opacity:1}.mini-player-wrapper[_ngcontent-%COMP%]   .mp-inside[_ngcontent-%COMP%]   .resize-handle[_ngcontent-%COMP%]{position:absolute;width:16px;height:16px;background:#fff0;border-radius:3px;z-index:70;cursor:nwse-resize}.mini-player-wrapper[_ngcontent-%COMP%]   .mp-inside[_ngcontent-%COMP%]   .resize-handle.tl[_ngcontent-%COMP%]{top:-6px;left:-6px}.mini-player-wrapper[_ngcontent-%COMP%]   .mp-inside[_ngcontent-%COMP%]   .resize-handle.tr[_ngcontent-%COMP%]{top:-6px;right:-6px;cursor:nesw-resize}.mini-player-wrapper[_ngcontent-%COMP%]   .mp-inside[_ngcontent-%COMP%]   .resize-handle.bl[_ngcontent-%COMP%]{bottom:-6px;left:-6px;cursor:nesw-resize}.mini-player-wrapper[_ngcontent-%COMP%]   .mp-inside[_ngcontent-%COMP%]   .resize-handle.br[_ngcontent-%COMP%]{bottom:-6px;right:-6px;cursor:nwse-resize}.thumbnail-snapshot-wrapper[_ngcontent-%COMP%]{position:absolute;opacity:0;display:block;visibility:visible;z-index:2000;width:174px;height:98px;bottom:36px;border-radius:7px;border:4px solid white;box-shadow:0 1px 2px #00000026;transform:translateY(10px) scale(0);transform-origin:50% 100%;transition:transform .2s ease .1s,opacity .2s ease .1s;background:linear-gradient(#0000,#0e0e0ebf)}.thumbnail-snapshot-wrapper.snapshot-visible[_ngcontent-%COMP%]{opacity:1;transform:translate(0) scale(1)}.thumbnail-snapshot-wrapper[_ngcontent-%COMP%]:before{border-left:4px solid rgba(0,0,0,0);border-right:4px solid rgba(0,0,0,0);border-top:4px solid #fff;bottom:-8px;content:"";height:0;left:50%;position:absolute;transform:translate(-50%);width:0;z-index:2}.thumbnail-snapshot-wrapper[_ngcontent-%COMP%]   .snapshot-image[_ngcontent-%COMP%]{width:100%;height:100%}.thumbnail-snapshot-wrapper[_ngcontent-%COMP%]   .snapshot-time[_ngcontent-%COMP%]{position:absolute;bottom:2px;width:100%;font-size:13px;color:#fff;font-weight:600;text-align:center}']})};var rE=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(ne(Le),ne(Q))};static \u0275dir=V({type:n})}return n})(),Vd=(()=>{class n extends rE{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275dir=V({type:n,features:[ge]})}return n})(),Ot=new P(""),kV={provide:Ot,useExisting:bt(()=>Nv),multi:!0},Nv=(()=>{class n extends Vd{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275dir=V({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&T("change",function(a){return r.onChange(a.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[ue([kV]),ge]})}return n})(),DV={provide:Ot,useExisting:bt(()=>Pn),multi:!0};function MV(){let n=kn()?kn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var SV=new P(""),Pn=(()=>{class n extends rE{_compositionMode;_composing=!1;constructor(e,i,r){super(e,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!MV())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(ne(Le),ne(Q),ne(SV,8))};static \u0275dir=V({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&T("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},standalone:!1,features:[ue([DV]),ge]})}return n})();function Vv(n){return n==null||Bv(n)===0}function Bv(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var en=new P(""),gm=new P(""),EV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ai=class{static min(t){return AV(t)}static max(t){return TV(t)}static required(t){return IV(t)}static requiredTrue(t){return PV(t)}static email(t){return RV(t)}static minLength(t){return OV(t)}static maxLength(t){return oE(t)}static pattern(t){return FV(t)}static nullValidator(t){return am()}static compose(t){return hE(t)}static composeAsync(t){return uE(t)}};function AV(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function TV(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function IV(n){return Vv(n.value)?{required:!0}:null}function PV(n){return n.value===!0?null:{required:!0}}function RV(n){return Vv(n.value)||EV.test(n.value)?null:{email:!0}}function OV(n){return t=>{let e=t.value?.length??Bv(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function oE(n){return t=>{let e=t.value?.length??Bv(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function FV(n){if(!n)return am;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Vv(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function am(n){return null}function aE(n){return n!=null}function sE(n){return al(n)?ri(n):n}function lE(n){let t={};return n.forEach(e=>{t=e!=null?E(E({},t),e):t}),Object.keys(t).length===0?null:t}function cE(n,t){return t.map(e=>e(n))}function LV(n){return!n.validate}function dE(n){return n.map(t=>LV(t)?t:e=>t.validate(e))}function hE(n){if(!n)return null;let t=n.filter(aE);return t.length==0?null:function(e){return lE(cE(e,t))}}function zv(n){return n!=null?hE(dE(n)):null}function uE(n){if(!n)return null;let t=n.filter(aE);return t.length==0?null:function(e){let i=cE(e,t).map(sE);return ou(i).pipe(Se(lE))}}function Hv(n){return n!=null?uE(dE(n)):null}function KS(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function pE(n){return n._rawValidators}function mE(n){return n._rawAsyncValidators}function Ov(n){return n?Array.isArray(n)?n:[n]:[]}function sm(n,t){return Array.isArray(n)?n.includes(t):n===t}function XS(n,t){let e=Ov(t);return Ov(n).forEach(r=>{sm(e,r)||e.push(r)}),e}function QS(n,t){return Ov(t).filter(e=>!sm(n,e))}var lm=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=zv(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Hv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Tn=class extends lm{name;get formDirective(){return null}get path(){return null}},In=class extends lm{_parent=null;name=null;valueAccessor=null},cm=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},NV={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Iae=ye(E({},NV),{"[class.ng-submitted]":"isSubmitted"}),Rn=(()=>{class n extends cm{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(ne(In,2))};static \u0275dir=V({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&N("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[ge]})}return n})(),jv=(()=>{class n extends cm{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(ne(Tn,10))};static \u0275dir=V({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&N("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[ge]})}return n})();var Rd="VALID",om="INVALID",Nl="PENDING",Od="DISABLED",ga=class{},dm=class extends ga{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Ld=class extends ga{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Nd=class extends ga{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Vl=class extends ga{status;source;constructor(t,e){super(),this.status=t,this.source=e}},hm=class extends ga{source;constructor(t){super(),this.source=t}},um=class extends ga{source;constructor(t){super(),this.source=t}};function Uv(n){return(_m(n)?n.validators:n)||null}function VV(n){return Array.isArray(n)?zv(n):n||null}function $v(n,t){return(_m(t)?t.asyncValidators:n)||null}function BV(n){return Array.isArray(n)?Hv(n):n||null}function _m(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function fE(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new We(1e3,"");if(!i[e])throw new We(1001,"")}function gE(n,t,e){n._forEachChild((i,r)=>{if(e[r]===void 0)throw new We(1002,"")})}var Bl=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return fi(this.statusReactive)}set status(t){fi(()=>this.statusReactive.set(t))}_status=Oi(()=>this.statusReactive());statusReactive=rt(void 0);get valid(){return this.status===Rd}get invalid(){return this.status===om}get pending(){return this.status==Nl}get disabled(){return this.status===Od}get enabled(){return this.status!==Od}errors;get pristine(){return fi(this.pristineReactive)}set pristine(t){fi(()=>this.pristineReactive.set(t))}_pristine=Oi(()=>this.pristineReactive());pristineReactive=rt(!0);get dirty(){return!this.pristine}get touched(){return fi(this.touchedReactive)}set touched(t){fi(()=>this.touchedReactive.set(t))}_touched=Oi(()=>this.touchedReactive());touchedReactive=rt(!1);get untouched(){return!this.touched}_events=new L;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(XS(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(XS(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(QS(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(QS(t,this._rawAsyncValidators))}hasValidator(t){return sm(this._rawValidators,t)}hasAsyncValidator(t){return sm(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(ye(E({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Nd(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new Nd(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(ye(E({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Ld(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new Ld(!0,i))}markAsPending(t={}){this.status=Nl;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Vl(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(ye(E({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Od,this.errors=null,this._forEachChild(r=>{r.disable(ye(E({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new dm(this.value,i)),this._events.next(new Vl(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ye(E({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Rd,this._forEachChild(i=>{i.enable(ye(E({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ye(E({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rd||this.status===Nl)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new dm(this.value,e)),this._events.next(new Vl(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(ye(E({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Od:Rd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Nl,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=sE(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Vl(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new Z,this.statusChanges=new Z}_calculateStatus(){return this._allControlsDisabled()?Od:this.errors?om:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nl)?Nl:this._anyControlsHaveStatus(om)?om:Rd}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new Ld(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Nd(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){_m(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=VV(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=BV(this._rawAsyncValidators)}},zr=class extends Bl{constructor(t,e,i){super(Uv(e),$v(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){gE(this,!0,t),Object.keys(t).forEach(i=>{fE(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Pae=zr;var Fv=class extends zr{};var Bd=new P("",{providedIn:"root",factory:()=>bm}),bm="always";function _E(n,t){return[...t.path,n]}function pm(n,t,e=bm){Wv(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),HV(n,t),UV(n,t),jV(n,t),zV(n,t)}function ZS(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),fm(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function mm(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function zV(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function Wv(n,t){let e=pE(n);t.validator!==null?n.setValidators(KS(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=mE(n);t.asyncValidator!==null?n.setAsyncValidators(KS(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();mm(t._rawValidators,r),mm(t._rawAsyncValidators,r)}function fm(n,t){let e=!1;if(n!==null){if(t.validator!==null){let r=pE(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let r=mE(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}let i=()=>{};return mm(t._rawValidators,i),mm(t._rawAsyncValidators,i),e}function HV(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&bE(n,t)})}function jV(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&bE(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function bE(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function UV(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function vE(n,t){n==null,Wv(n,t)}function $V(n,t){return fm(n,t)}function yE(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function WV(n){return Object.getPrototypeOf(n.constructor)===Vd}function wE(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function xE(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(o=>{o.constructor===Pn?e=o:WV(o)?i=o:r=o}),r||i||e||null}function GV(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}var qV={provide:Tn,useExisting:bt(()=>_s)},Fd=Promise.resolve(),_s=(()=>{class n extends Tn{callSetDisabledState;get submitted(){return fi(this.submittedReactive)}_submitted=Oi(()=>this.submittedReactive());submittedReactive=rt(!1);_directives=new Set;form;ngSubmit=new Z;options;constructor(e,i,r){super(),this.callSetDisabledState=r,this.form=new zr({},zv(e),Hv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Fd.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),pm(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Fd.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Fd.then(()=>{let i=this._findContainer(e.path),r=new zr({});vE(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Fd.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Fd.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),wE(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new hm(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new um(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(i){return new(i||n)(ne(en,10),ne(gm,10),ne(Bd,8))};static \u0275dir=V({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&T("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ue([qV]),ge]})}return n})();function JS(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function eE(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var An=class extends Bl{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(Uv(e),$v(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_m(e)&&(e.nonNullable||e.initialValueIsDefault)&&(eE(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){JS(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){JS(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){eE(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Oae=An,YV=n=>n instanceof An;var KV={provide:In,useExisting:bt(()=>br)},tE=Promise.resolve(),br=(()=>{class n extends In{_changeDetectorRef;callSetDisabledState;control=new An;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Z;constructor(e,i,r,o,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=xE(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),yE(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){pm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){tE.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&ie(i);tE.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?_E(e,this._parent):[e]}static \u0275fac=function(i){return new(i||n)(ne(Tn,9),ne(en,10),ne(gm,10),ne(Ot,10),ne(_e,8),ne(Bd,8))};static \u0275dir=V({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ue([KV]),ge,we]})}return n})();var Gv=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),XV={provide:Ot,useExisting:bt(()=>QV),multi:!0},QV=(()=>{class n extends Vd{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275dir=V({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&T("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[ue([XV]),ge]})}return n})();var CE=new P("");var ZV={provide:Tn,useExisting:bt(()=>Hr)},Hr=(()=>{class n extends Tn{callSetDisabledState;get submitted(){return fi(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Oi(()=>this._submittedReactive());_submittedReactive=rt(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Z;constructor(e,i,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return pm(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){ZS(e.control||null,e,!1),GV(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),wE(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new hm(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new um(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(ZS(i||null,e),YV(r)&&(pm(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);vE(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&$V(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Wv(this.form,this),this._oldForm&&fm(this._oldForm,this)}static \u0275fac=function(i){return new(i||n)(ne(en,10),ne(gm,10),ne(Bd,8))};static \u0275dir=V({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&T("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ue([ZV]),ge,we]})}return n})();var JV={provide:In,useExisting:bt(()=>vm)},vm=(()=>{class n extends In{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new Z;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,r,o,a){super(),this._ngModelWarningConfig=a,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=xE(this,o)}ngOnChanges(e){this._added||this._setUpControl(),yE(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return _E(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(ne(Tn,13),ne(en,10),ne(gm,10),ne(Ot,10),ne(CE,8))};static \u0275dir=V({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[ue([JV]),ge,we]})}return n})();var eB={provide:Ot,useExisting:bt(()=>DE),multi:!0};function kE(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function tB(n){return n.split(":")[0]}var DE=(()=>{class n extends Vd{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let i=this._getOptionId(e),r=kE(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=tB(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275dir=V({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&T("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ue([eB]),ge]})}return n})(),Fae=(()=>{class n{_element;_renderer;_select;id;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(kE(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(ne(Q),ne(Le),ne(DE,9))};static \u0275dir=V({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),iB={provide:Ot,useExisting:bt(()=>ME),multi:!0};function iE(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function nB(n){return n.split(":")[0]}var ME=(()=>{class n extends Vd{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(r.indexOf(a.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let s=0;s<a.length;s++){let l=a[s],c=this._getOptionValue(l.value);r.push(c)}}else{let a=i.options;for(let s=0;s<a.length;s++){let l=a[s];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=nB(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275dir=V({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&T("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ue([iB]),ge]})}return n})(),Lae=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(iE(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(iE(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(ne(Q),ne(Le),ne(ME,9))};static \u0275dir=V({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function rB(n){return typeof n=="number"?n:parseInt(n,10)}var oB=(()=>{class n{_validator=am;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):am,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,features:[we]})}return n})();var aB={provide:en,useExisting:bt(()=>qv),multi:!0},qv=(()=>{class n extends oB{maxlength;inputName="maxlength";normalizeInput=e=>rB(e);createValidator=e=>oE(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275dir=V({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&te("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[ue([aB]),ge]})}return n})();var SE=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({})}return n})(),Lv=class extends Bl{constructor(t,e,i){super(Uv(e),$v(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){gE(this,!1,t),t.forEach((i,r)=>{fE(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function nE(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Nae=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,i=null){let r=this._reduceControls(e),o={};return nE(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new zr(r,o)}record(e,i=null){let r=this._reduceControls(e);return new Fv(r,i)}control(e,i,r){let o={};return this.useNonNullable?(nE(i)?o=i:(o.validators=i,o.asyncValidators=r),new An(e,ye(E({},o),{nonNullable:!0}))):new An(e,i,r)}array(e,i,r){let o=e.map(a=>this._createControl(a));return new Lv(o,i,r)}_reduceControls(e){let i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){if(e instanceof An)return e;if(e instanceof Bl)return e;if(Array.isArray(e)){let i=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(i,r,o)}else return this.control(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Yv=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Bd,useValue:e.callSetDisabledState??bm}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[SE]})}return n})(),bs=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:CE,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Bd,useValue:e.callSetDisabledState??bm}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[SE]})}return n})();var EE=n=>typeof n>"u"||n===null,sB=n=>n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`),lB=n=>{let t={};return Object.keys(n).forEach(e=>{n[e]&&typeof n[e]=="string"&&(t[e]=n[e])}),t},ym=n=>{let t=lB(n);return Object.entries(t).map(([e,i])=>`${sB(e)}:${i}`).join(";")},vs=class extends Error{constructor(t){super(t),this.name=this.constructor.name}},Kv=()=>{let n=Date.now().toString(36),t=Math.random().toString(36).substring(2,7);return`${n}${t}`},AE=(n,t,e)=>Math.min(Math.max(n,t),e);function Bi(n){this.content=n}Bi.prototype={constructor:Bi,find:function(n){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===n)return t;return-1},get:function(n){var t=this.find(n);return t==-1?void 0:this.content[t+1]},update:function(n,t,e){var i=e&&e!=n?this.remove(e):this,r=i.find(n),o=i.content.slice();return r==-1?o.push(e||n,t):(o[r+1]=t,e&&(o[r]=e)),new Bi(o)},remove:function(n){var t=this.find(n);if(t==-1)return this;var e=this.content.slice();return e.splice(t,2),new Bi(e)},addToStart:function(n,t){return new Bi([n,t].concat(this.remove(n).content))},addToEnd:function(n,t){var e=this.remove(n).content.slice();return e.push(n,t),new Bi(e)},addBefore:function(n,t,e){var i=this.remove(t),r=i.content.slice(),o=i.find(n);return r.splice(o==-1?r.length:o,0,t,e),new Bi(r)},forEach:function(n){for(var t=0;t<this.content.length;t+=2)n(this.content[t],this.content[t+1])},prepend:function(n){return n=Bi.from(n),n.size?new Bi(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=Bi.from(n),n.size?new Bi(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var t=this;n=Bi.from(n);for(var e=0;e<n.content.length;e+=2)t=t.remove(n.content[e]);return t},toObject:function(){var n={};return this.forEach(function(t,e){n[t]=e}),n},get size(){return this.content.length>>1}};Bi.from=function(n){if(n instanceof Bi)return n;var t=[];if(n)for(var e in n)t.push(e,n[e]);return new Bi(t)};var Xv=Bi;function BE(n,t,e){for(let i=0;;i++){if(i==n.childCount||i==t.childCount)return n.childCount==t.childCount?null:e;let r=n.child(i),o=t.child(i);if(r==o){e+=r.nodeSize;continue}if(!r.sameMarkup(o))return e;if(r.isText&&r.text!=o.text){for(let a=0;r.text[a]==o.text[a];a++)e++;return e}if(r.content.size||o.content.size){let a=BE(r.content,o.content,e+1);if(a!=null)return a}e+=r.nodeSize}}function zE(n,t,e,i){for(let r=n.childCount,o=t.childCount;;){if(r==0||o==0)return r==o?null:{a:e,b:i};let a=n.child(--r),s=t.child(--o),l=a.nodeSize;if(a==s){e-=l,i-=l;continue}if(!a.sameMarkup(s))return{a:e,b:i};if(a.isText&&a.text!=s.text){let c=0,d=Math.min(a.text.length,s.text.length);for(;c<d&&a.text[a.text.length-c-1]==s.text[s.text.length-c-1];)c++,e--,i--;return{a:e,b:i}}if(a.content.size||s.content.size){let c=zE(a.content,s.content,e-1,i-1);if(c)return c}e-=l,i-=l}}var ce=class n{constructor(t,e){if(this.content=t,this.size=e||0,e==null)for(let i=0;i<t.length;i++)this.size+=t[i].nodeSize}nodesBetween(t,e,i,r=0,o){for(let a=0,s=0;s<e;a++){let l=this.content[a],c=s+l.nodeSize;if(c>t&&i(l,r+s,o||null,a)!==!1&&l.content.size){let d=s+1;l.nodesBetween(Math.max(0,t-d),Math.min(l.content.size,e-d),i,r+d)}s=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,i,r){let o="",a=!0;return this.nodesBetween(t,e,(s,l)=>{let c=s.isText?s.text.slice(Math.max(t,l)-l,e-l):s.isLeaf?r?typeof r=="function"?r(s):r:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&c||s.isTextblock)&&i&&(a?a=!1:o+=i),o+=c},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,i=t.firstChild,r=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(i)&&(r[r.length-1]=e.withText(e.text+i.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new n(r,this.size+t.size)}cut(t,e=this.size){if(t==0&&e==this.size)return this;let i=[],r=0;if(e>t)for(let o=0,a=0;a<e;o++){let s=this.content[o],l=a+s.nodeSize;l>t&&((a<t||l>e)&&(s.isText?s=s.cut(Math.max(0,t-a),Math.min(s.text.length,e-a)):s=s.cut(Math.max(0,t-a-1),Math.min(s.content.size,e-a-1))),i.push(s),r+=s.nodeSize),a=l}return new n(i,r)}cutByIndex(t,e){return t==e?n.empty:t==0&&e==this.content.length?this:new n(this.content.slice(t,e))}replaceChild(t,e){let i=this.content[t];if(i==e)return this;let r=this.content.slice(),o=this.size+e.nodeSize-i.nodeSize;return r[t]=e,new n(r,o)}addToStart(t){return new n([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new n(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,i=0;e<this.content.length;e++){let r=this.content[e];t(r,i,e),i+=r.nodeSize}}findDiffStart(t,e=0){return BE(this,t,e)}findDiffEnd(t,e=this.size,i=t.size){return zE(this,t,e,i)}findIndex(t,e=-1){if(t==0)return wm(0,t);if(t==this.size)return wm(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let i=0,r=0;;i++){let o=this.child(i),a=r+o.nodeSize;if(a>=t)return a==t||e>0?wm(i+1,a):wm(i,r);r=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,e){if(!e)return n.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new n(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return n.empty;let e,i=0;for(let r=0;r<t.length;r++){let o=t[r];i+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(e||(e=t.slice(0,r)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new n(e||t,i)}static from(t){if(!t)return n.empty;if(t instanceof n)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new n([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};ce.empty=new ce([],0);var Qv={index:0,offset:0};function wm(n,t){return Qv.index=n,Qv.offset=t,Qv}function Cm(n,t){if(n===t)return!0;if(!(n&&typeof n=="object")||!(t&&typeof t=="object"))return!1;let e=Array.isArray(n);if(Array.isArray(t)!=e)return!1;if(e){if(n.length!=t.length)return!1;for(let i=0;i<n.length;i++)if(!Cm(n[i],t[i]))return!1}else{for(let i in n)if(!(i in t)||!Cm(n[i],t[i]))return!1;for(let i in t)if(!(i in n))return!1}return!0}var gt=(()=>{class n{constructor(e,i){this.type=e,this.attrs=i}addToSet(e){let i,r=!1;for(let o=0;o<e.length;o++){let a=e[o];if(this.eq(a))return e;if(this.type.excludes(a.type))i||(i=e.slice(0,o));else{if(a.type.excludes(this.type))return e;!r&&a.type.rank>this.type.rank&&(i||(i=e.slice(0,o)),i.push(this),r=!0),i&&i.push(a)}}return i||(i=e.slice()),r||i.push(this),i}removeFromSet(e){for(let i=0;i<e.length;i++)if(this.eq(e[i]))return e.slice(0,i).concat(e.slice(i+1));return e}isInSet(e){for(let i=0;i<e.length;i++)if(this.eq(e[i]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Cm(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let i in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,i){if(!i)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[i.type];if(!r)throw new RangeError(`There is no mark type ${i.type} in this schema`);let o=r.create(i.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,i){if(e==i)return!0;if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(i[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return n.none;if(e instanceof n)return[e];let i=e.slice();return i.sort((r,o)=>r.type.rank-o.type.rank),i}}return n.none=[],n})(),xs=class extends Error{},fe=class n{constructor(t,e,i){this.content=t,this.openStart=e,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let i=jE(this.content,t+this.openStart,e);return i&&new n(i,this.openStart,this.openEnd)}removeBetween(t,e){return new n(HE(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return n.empty;let i=e.openStart||0,r=e.openEnd||0;if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new n(ce.fromJSON(t,e.content),i,r)}static maxOpen(t,e=!0){let i=0,r=0;for(let o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)i++;for(let o=t.lastChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.lastChild)r++;return new n(t,i,r)}};fe.empty=new fe(ce.empty,0,0);function HE(n,t,e){let{index:i,offset:r}=n.findIndex(t),o=n.maybeChild(i),{index:a,offset:s}=n.findIndex(e);if(r==t||o.isText){if(s!=e&&!n.child(a).isText)throw new RangeError("Removing non-flat range");return n.cut(0,t).append(n.cut(e))}if(i!=a)throw new RangeError("Removing non-flat range");return n.replaceChild(i,o.copy(HE(o.content,t-r-1,e-r-1)))}function jE(n,t,e,i){let{index:r,offset:o}=n.findIndex(t),a=n.maybeChild(r);if(o==t||a.isText)return i&&!i.canReplace(r,r,e)?null:n.cut(0,t).append(e).append(n.cut(t));let s=jE(a.content,t-o-1,e);return s&&n.replaceChild(r,a.copy(s))}function cB(n,t,e){if(e.openStart>n.depth)throw new xs("Inserted content deeper than insertion position");if(n.depth-e.openStart!=t.depth-e.openEnd)throw new xs("Inconsistent open depths");return UE(n,t,e,0)}function UE(n,t,e,i){let r=n.index(i),o=n.node(i);if(r==t.index(i)&&i<n.depth-e.openStart){let a=UE(n,t,e,i+1);return o.copy(o.content.replaceChild(r,a))}else if(e.content.size)if(!e.openStart&&!e.openEnd&&n.depth==i&&t.depth==i){let a=n.parent,s=a.content;return ws(a,s.cut(0,n.parentOffset).append(e.content).append(s.cut(t.parentOffset)))}else{let{start:a,end:s}=dB(e,n);return ws(o,WE(n,a,s,t,i))}else return ws(o,km(n,t,i))}function $E(n,t){if(!t.type.compatibleContent(n.type))throw new xs("Cannot join "+t.type.name+" onto "+n.type.name)}function Jv(n,t,e){let i=n.node(e);return $E(i,t.node(e)),i}function ys(n,t){let e=t.length-1;e>=0&&n.isText&&n.sameMarkup(t[e])?t[e]=n.withText(t[e].text+n.text):t.push(n)}function zd(n,t,e,i){let r=(t||n).node(e),o=0,a=t?t.index(e):r.childCount;n&&(o=n.index(e),n.depth>e?o++:n.textOffset&&(ys(n.nodeAfter,i),o++));for(let s=o;s<a;s++)ys(r.child(s),i);t&&t.depth==e&&t.textOffset&&ys(t.nodeBefore,i)}function ws(n,t){return n.type.checkContent(t),n.copy(t)}function WE(n,t,e,i,r){let o=n.depth>r&&Jv(n,t,r+1),a=i.depth>r&&Jv(e,i,r+1),s=[];return zd(null,n,r,s),o&&a&&t.index(r)==e.index(r)?($E(o,a),ys(ws(o,WE(n,t,e,i,r+1)),s)):(o&&ys(ws(o,km(n,t,r+1)),s),zd(t,e,r,s),a&&ys(ws(a,km(e,i,r+1)),s)),zd(i,null,r,s),new ce(s)}function km(n,t,e){let i=[];if(zd(null,n,e,i),n.depth>e){let r=Jv(n,t,e+1);ys(ws(r,km(n,t,e+1)),i)}return zd(t,null,e,i),new ce(i)}function dB(n,t){let e=t.depth-n.openStart,r=t.node(e).copy(n.content);for(let o=e-1;o>=0;o--)r=t.node(o).copy(ce.from(r));return{start:r.resolveNoCache(n.openStart+e),end:r.resolveNoCache(r.content.size-n.openEnd-e)}}var Dm=class n{constructor(t,e,i){this.pos=t,this.path=e,this.parentOffset=i,this.depth=e.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let i=this.pos-this.path[this.path.length-1],r=t.child(e);return i?t.child(e).cut(i):r}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):t==0?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let i=this.path[e*3],r=e==0?0:this.path[e*3-1]+1;for(let o=0;o<t;o++)r+=i.child(o).nodeSize;return r}marks(){let t=this.parent,e=this.index();if(t.content.size==0)return gt.none;if(this.textOffset)return t.child(e).marks;let i=t.maybeChild(e-1),r=t.maybeChild(e);if(!i){let s=i;i=r,r=s}let o=i.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!r||!o[a].isInSet(r.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let i=e.marks,r=t.parent.maybeChild(t.index());for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!r||!i[o].isInSet(r.marks))&&(i=i[o--].removeFromSet(i));return i}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);i>=0;i--)if(t.pos<=this.end(i)&&(!e||e(this.node(i))))return new Cs(this,t,i);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let i=[],r=0,o=e;for(let a=t;;){let{index:s,offset:l}=a.content.findIndex(o),c=o-l;if(i.push(a,s,r+l),!c||(a=a.child(s),a.isText))break;o=c-1,r+=l+1}return new n(e,i,o)}static resolveCached(t,e){let i=TE.get(t);if(i)for(let o=0;o<i.elts.length;o++){let a=i.elts[o];if(a.pos==e)return a}else TE.set(t,i=new e0);let r=i.elts[i.i]=n.resolve(t,e);return i.i=(i.i+1)%hB,r}},e0=class{constructor(){this.elts=[],this.i=0}},hB=12,TE=new WeakMap,Cs=class{constructor(t,e,i){this.$from=t,this.$to=e,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}},uB=Object.create(null),jr=class n{constructor(t,e,i,r=gt.none){this.type=t,this.attrs=e,this.marks=r,this.content=i||ce.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,i,r=0){this.content.nodesBetween(t,e,i,r,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,i,r){return this.content.textBetween(t,e,i,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,i){return this.type==t&&Cm(this.attrs,e||t.defaultAttrs||uB)&&gt.sameSet(this.marks,i||gt.none)}copy(t=null){return t==this.content?this:new n(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new n(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return t==0&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,i=!1){if(t==e)return fe.empty;let r=this.resolve(t),o=this.resolve(e),a=i?0:r.sharedDepth(e),s=r.start(a),c=r.node(a).content.cut(r.pos-s,o.pos-s);return new fe(c,r.depth-a,o.depth-a)}replace(t,e,i){return cB(this.resolve(t),this.resolve(e),i)}nodeAt(t){for(let e=this;;){let{index:i,offset:r}=e.content.findIndex(t);if(e=e.maybeChild(i),!e)return null;if(r==t||e.isText)return e;t-=r+1}}childAfter(t){let{index:e,offset:i}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:i}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:e,offset:i}=this.content.findIndex(t);if(i<t)return{node:this.content.child(e),index:e,offset:i};let r=this.content.child(e-1);return{node:r,index:e-1,offset:i-r.nodeSize}}resolve(t){return Dm.resolveCached(this,t)}resolveNoCache(t){return Dm.resolve(this,t)}rangeHasMark(t,e,i){let r=!1;return e>t&&this.nodesBetween(t,e,o=>(i.isInSet(o.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),GE(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,i=ce.empty,r=0,o=i.childCount){let a=this.contentMatchAt(t).matchFragment(i,r,o),s=a&&a.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(let l=r;l<o;l++)if(!this.type.allowsMarks(i.child(l).marks))return!1;return!0}canReplaceWith(t,e,i,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(t).matchType(i),a=o&&o.matchFragment(this.content,e);return a?a.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=gt.none;for(let e=0;e<this.marks.length;e++){let i=this.marks[e];i.type.checkAttrs(i.attrs),t=i.addToSet(t)}if(!gt.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(e=>e.toJSON())),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let i;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=e.marks.map(t.markFromJSON)}if(e.type=="text"){if(typeof e.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(e.text,i)}let r=ce.fromJSON(t,e.content),o=t.nodeType(e.type).create(e.attrs,r,i);return o.type.checkAttrs(o.attrs),o}};jr.prototype.text=void 0;var t0=class n extends jr{constructor(t,e,i,r){if(super(t,e,null,r),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):GE(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new n(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new n(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return t==0&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}};function GE(n,t){for(let e=n.length-1;e>=0;e--)t=n[e].type.name+"("+t+")";return t}var ks=class n{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let i=new i0(t,e);if(i.next==null)return n.empty;let r=qE(i);i.next&&i.err("Unexpected trailing text");let o=vB(bB(r));return yB(o,i),o}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,i=t.childCount){let r=this;for(let o=e;r&&o<i;o++)r=r.matchType(t.child(o).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!(e.isText||e.hasRequiredAttrs()))return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let i=0;i<t.next.length;i++)if(this.next[e].type==t.next[i].type)return!0;return!1}fillBefore(t,e=!1,i=0){let r=[this];function o(a,s){let l=a.matchFragment(t,i);if(l&&(!e||l.validEnd))return ce.from(s.map(c=>c.createAndFill()));for(let c=0;c<a.next.length;c++){let{type:d,next:h}=a.next[c];if(!(d.isText||d.hasRequiredAttrs())&&r.indexOf(h)==-1){r.push(h);let u=o(h,s.concat(d));if(u)return u}}return null}return o(this,[])}findWrapping(t){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==t)return this.wrapCache[i+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let r=i.shift(),o=r.match;if(o.matchType(t)){let a=[];for(let s=r;s.type;s=s.via)a.push(s.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:s,next:l}=o.next[a];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in e)&&(!r.type||l.validEnd)&&(i.push({match:s.contentMatch,type:s,via:r}),e[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function e(i){t.push(i);for(let r=0;r<i.next.length;r++)t.indexOf(i.next[r].next)==-1&&e(i.next[r].next)}return e(this),t.map((i,r)=>{let o=r+(i.validEnd?"*":" ")+" ";for(let a=0;a<i.next.length;a++)o+=(a?", ":"")+i.next[a].type.name+"->"+t.indexOf(i.next[a].next);return o}).join(`
`)}};ks.empty=new ks(!0);var i0=class{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}};function qE(n){let t=[];do t.push(pB(n));while(n.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function pB(n){let t=[];do t.push(mB(n));while(n.next&&n.next!=")"&&n.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function mB(n){let t=_B(n);for(;;)if(n.eat("+"))t={type:"plus",expr:t};else if(n.eat("*"))t={type:"star",expr:t};else if(n.eat("?"))t={type:"opt",expr:t};else if(n.eat("{"))t=fB(n,t);else break;return t}function IE(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let t=Number(n.next);return n.pos++,t}function fB(n,t){let e=IE(n),i=e;return n.eat(",")&&(n.next!="}"?i=IE(n):i=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:e,max:i,expr:t}}function gB(n,t){let e=n.nodeTypes,i=e[t];if(i)return[i];let r=[];for(let o in e){let a=e[o];a.isInGroup(t)&&r.push(a)}return r.length==0&&n.err("No node type or group '"+t+"' found"),r}function _B(n){if(n.eat("(")){let t=qE(n);return n.eat(")")||n.err("Missing closing paren"),t}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let t=gB(n,n.next).map(e=>(n.inline==null?n.inline=e.isInline:n.inline!=e.isInline&&n.err("Mixing inline and block content"),{type:"name",value:e}));return n.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function bB(n){let t=[[]];return r(o(n,0),e()),t;function e(){return t.push([])-1}function i(a,s,l){let c={term:l,to:s};return t[a].push(c),c}function r(a,s){a.forEach(l=>l.to=s)}function o(a,s){if(a.type=="choice")return a.exprs.reduce((l,c)=>l.concat(o(c,s)),[]);if(a.type=="seq")for(let l=0;;l++){let c=o(a.exprs[l],s);if(l==a.exprs.length-1)return c;r(c,s=e())}else if(a.type=="star"){let l=e();return i(s,l),r(o(a.expr,l),l),[i(l)]}else if(a.type=="plus"){let l=e();return r(o(a.expr,s),l),r(o(a.expr,l),l),[i(l)]}else{if(a.type=="opt")return[i(s)].concat(o(a.expr,s));if(a.type=="range"){let l=s;for(let c=0;c<a.min;c++){let d=e();r(o(a.expr,l),d),l=d}if(a.max==-1)r(o(a.expr,l),l);else for(let c=a.min;c<a.max;c++){let d=e();i(l,d),r(o(a.expr,l),d),l=d}return[i(l)]}else{if(a.type=="name")return[i(s,void 0,a.value)];throw new Error("Unknown expr type")}}}}function YE(n,t){return t-n}function PE(n,t){let e=[];return i(t),e.sort(YE);function i(r){let o=n[r];if(o.length==1&&!o[0].term)return i(o[0].to);e.push(r);for(let a=0;a<o.length;a++){let{term:s,to:l}=o[a];!s&&e.indexOf(l)==-1&&i(l)}}}function vB(n){let t=Object.create(null);return e(PE(n,0));function e(i){let r=[];i.forEach(a=>{n[a].forEach(({term:s,to:l})=>{if(!s)return;let c;for(let d=0;d<r.length;d++)r[d][0]==s&&(c=r[d][1]);PE(n,l).forEach(d=>{c||r.push([s,c=[]]),c.indexOf(d)==-1&&c.push(d)})})});let o=t[i.join(",")]=new ks(i.indexOf(n.length-1)>-1);for(let a=0;a<r.length;a++){let s=r[a][1].sort(YE);o.next.push({type:r[a][0],next:t[s.join(",")]||e(s)})}return o}}function yB(n,t){for(let e=0,i=[n];e<i.length;e++){let r=i[e],o=!r.validEnd,a=[];for(let s=0;s<r.next.length;s++){let{type:l,next:c}=r.next[s];a.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),i.indexOf(c)==-1&&i.push(c)}o&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function KE(n){let t=Object.create(null);for(let e in n){let i=n[e];if(!i.hasDefault)return null;t[e]=i.default}return t}function XE(n,t){let e=Object.create(null);for(let i in n){let r=t&&t[i];if(r===void 0){let o=n[i];if(o.hasDefault)r=o.default;else throw new RangeError("No value supplied for attribute "+i)}e[i]=r}return e}function QE(n,t,e,i){for(let r in t)if(!(r in n))throw new RangeError(`Unsupported attribute ${r} for ${e} of type ${r}`);for(let r in n){let o=n[r];o.validate&&o.validate(t[r])}}function ZE(n,t){let e=Object.create(null);if(t)for(let i in t)e[i]=new n0(n,i,t[i]);return e}var Mm=class n{constructor(t,e,i){this.name=t,this.schema=e,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=ZE(t,i.attrs),this.defaultAttrs=KE(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ks.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:XE(this.attrs,t)}create(t=null,e,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new jr(this,this.computeAttrs(t),ce.from(e),gt.setFrom(i))}createChecked(t=null,e,i){return e=ce.from(e),this.checkContent(e),new jr(this,this.computeAttrs(t),e,gt.setFrom(i))}createAndFill(t=null,e,i){if(t=this.computeAttrs(t),e=ce.from(e),e.size){let a=this.contentMatch.fillBefore(e);if(!a)return null;e=a.append(e)}let r=this.contentMatch.matchFragment(e),o=r&&r.fillBefore(ce.empty,!0);return o?new jr(this,t,e.append(o),gt.setFrom(i)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let i=0;i<t.childCount;i++)if(!this.allowsMarks(t.child(i).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){QE(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let e;for(let i=0;i<t.length;i++)this.allowsMarkType(t[i].type)?e&&e.push(t[i]):e||(e=t.slice(0,i));return e?e.length?e:gt.none:t}static compile(t,e){let i=Object.create(null);t.forEach((o,a)=>i[o]=new n(o,e,a));let r=e.spec.topNode||"doc";if(!i[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let o in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function wB(n,t,e){let i=e.split("|");return r=>{let o=r===null?"null":typeof r;if(i.indexOf(o)<0)throw new RangeError(`Expected value of type ${i} for attribute ${t} on type ${n}, got ${o}`)}}var n0=class{constructor(t,e,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?wB(t,e,i.validate):i.validate}get isRequired(){return!this.hasDefault}},jd=class n{constructor(t,e,i,r){this.name=t,this.rank=e,this.schema=i,this.spec=r,this.attrs=ZE(t,r.attrs),this.excluded=null;let o=KE(this.attrs);this.instance=o?new gt(this,o):null}create(t=null){return!t&&this.instance?this.instance:new gt(this,XE(this.attrs,t))}static compile(t,e){let i=Object.create(null),r=0;return t.forEach((o,a)=>i[o]=new n(o,r++,e,a)),i}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}checkAttrs(t){QE(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}},Sm=class{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let e=this.spec={};for(let r in t)e[r]=t[r];e.nodes=Xv.from(t.nodes),e.marks=Xv.from(t.marks||{}),this.nodes=Mm.compile(this.spec.nodes,this),this.marks=jd.compile(this.spec.marks,this);let i=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let o=this.nodes[r],a=o.spec.content||"",s=o.spec.marks;if(o.contentMatch=i[a]||(i[a]=ks.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=s=="_"?null:s?RE(this,s.split(" ")):s==""||!o.inlineContent?[]:null}for(let r in this.marks){let o=this.marks[r],a=o.spec.excludes;o.excluded=a==null?[o]:a==""?[]:RE(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,i,r){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof Mm){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(e,i,r)}text(t,e){let i=this.nodes.text;return new t0(i,i.defaultAttrs,t,gt.setFrom(e))}mark(t,e){return typeof t=="string"&&(t=this.marks[t]),t.create(e)}nodeFromJSON(t){return jr.fromJSON(this,t)}markFromJSON(t){return gt.fromJSON(this,t)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}};function RE(n,t){let e=[];for(let i=0;i<t.length;i++){let r=t[i],o=n.marks[r],a=o;if(o)e.push(o);else for(let s in n.marks){let l=n.marks[s];(r=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(r)>-1)&&e.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[i]+"'")}return e}function xB(n){return n.tag!=null}function CB(n){return n.style!=null}var _a=class n{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[];let i=this.matchedStyles=[];e.forEach(r=>{if(xB(r))this.tags.push(r);else if(CB(r)){let o=/[^=]*/.exec(r.style)[0];i.indexOf(o)<0&&i.push(o),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let o=t.nodes[r.node];return o.contentMatch.matchType(o)})}parse(t,e={}){let i=new Em(this,e,!1);return i.addAll(t,gt.none,e.from,e.to),i.finish()}parseSlice(t,e={}){let i=new Em(this,e,!0);return i.addAll(t,gt.none,e.from,e.to),fe.maxOpen(i.finish())}matchTag(t,e,i){for(let r=i?this.tags.indexOf(i)+1:0;r<this.tags.length;r++){let o=this.tags[r];if(MB(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||e.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(t);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(t,e,i,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let a=this.styles[o],s=a.style;if(!(s.indexOf(t)!=0||a.context&&!i.matchesContext(a.context)||s.length>t.length&&(s.charCodeAt(t.length)!=61||s.slice(t.length+1)!=e))){if(a.getAttrs){let l=a.getAttrs(e);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(t){let e=[];function i(r){let o=r.priority==null?50:r.priority,a=0;for(;a<e.length;a++){let s=e[a];if((s.priority==null?50:s.priority)<o)break}e.splice(a,0,r)}for(let r in t.marks){let o=t.marks[r].spec.parseDOM;o&&o.forEach(a=>{i(a=FE(a)),a.mark||a.ignore||a.clearMark||(a.mark=r)})}for(let r in t.nodes){let o=t.nodes[r].spec.parseDOM;o&&o.forEach(a=>{i(a=FE(a)),a.node||a.ignore||a.mark||(a.node=r)})}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new n(t,n.schemaRules(t)))}},JE={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},kB={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},eA={ol:!0,ul:!0},Ud=1,r0=2,Hd=4;function OE(n,t,e){return t!=null?(t?Ud:0)|(t==="full"?r0:0):n&&n.whitespace=="pre"?Ud|r0:e&~Hd}var Hl=class{constructor(t,e,i,r,o,a){this.type=t,this.attrs=e,this.marks=i,this.solid=r,this.options=a,this.content=[],this.activeMarks=gt.none,this.match=o||(a&Hd?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(ce.from(t));if(e)this.match=this.type.contentMatch.matchFragment(e);else{let i=this.type.contentMatch,r;return(r=i.findWrapping(t.type))?(this.match=i,r):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Ud)){let i=this.content[this.content.length-1],r;if(i&&i.isText&&(r=/[ \t\r\n\u000c]+$/.exec(i.text))){let o=i;i.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-r[0].length))}}let e=ce.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(ce.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!JE.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}},Em=class{constructor(t,e,i){this.parser=t,this.options=e,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let r=e.topNode,o,a=OE(null,e.preserveWhitespace,0)|(i?Hd:0);r?o=new Hl(r.type,r.attrs,gt.none,!0,e.topMatch||r.type.contentMatch,a):i?o=new Hl(null,null,gt.none,!0,null,a):o=new Hl(t.schema.topNodeType,null,gt.none,!0,null,a),this.nodes=[o],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,e){t.nodeType==3?this.addTextNode(t,e):t.nodeType==1&&this.addElement(t,e)}addTextNode(t,e){let i=t.nodeValue,r=this.top,o=r.options&r0?"full":this.localPreserveWS||(r.options&Ud)>0;if(o==="full"||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(i)){if(o)o!=="full"?i=i.replace(/\r?\n|\r/g," "):i=i.replace(/\r\n?/g,`
`);else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let a=r.content[r.content.length-1],s=t.previousSibling;(!a||s&&s.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(i=i.slice(1))}i&&this.insertNode(this.parser.schema.text(i),e,!/\S/.test(i)),this.findInText(t)}else this.findInside(t)}addElement(t,e,i){let r=this.localPreserveWS,o=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let a=t.nodeName.toLowerCase(),s;eA.hasOwnProperty(a)&&this.parser.normalizeLists&&DB(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(s=this.parser.matchTag(t,this,i));e:if(l?l.ignore:kB.hasOwnProperty(a))this.findInside(t),this.ignoreFallback(t,e);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let c,d=this.needsBlock;if(JE.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),c=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,e);break e}let h=l&&l.skip?e:this.readStyles(t,e);h&&this.addAll(t,h),c&&this.sync(o),this.needsBlock=d}else{let c=this.readStyles(t,e);c&&this.addElementByRule(t,l,c,l.consuming===!1?s:void 0)}this.localPreserveWS=r}leafFallback(t,e){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),e)}ignoreFallback(t,e){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),e,!0)}readStyles(t,e){let i=t.style;if(i&&i.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let o=this.parser.matchedStyles[r],a=i.getPropertyValue(o);if(a)for(let s=void 0;;){let l=this.parser.matchStyle(o,a,this,s);if(!l)break;if(l.ignore)return null;if(l.clearMark?e=e.filter(c=>!l.clearMark(c)):e=e.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)s=l;else break}}return e}addElementByRule(t,e,i,r){let o,a;if(e.node)if(a=this.parser.schema.nodes[e.node],a.isLeaf)this.insertNode(a.create(e.attrs),i,t.nodeName=="BR")||this.leafFallback(t,i);else{let l=this.enter(a,e.attrs||null,i,e.preserveWhitespace);l&&(o=!0,i=l)}else{let l=this.parser.schema.marks[e.mark];i=i.concat(l.create(e.attrs))}let s=this.top;if(a&&a.isLeaf)this.findInside(t);else if(r)this.addElement(t,i,r);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,i,!1));else{let l=t;typeof e.contentElement=="string"?l=t.querySelector(e.contentElement):typeof e.contentElement=="function"?l=e.contentElement(t):e.contentElement&&(l=e.contentElement),this.findAround(t,l,!0),this.addAll(l,i),this.findAround(t,l,!1)}o&&this.sync(s)&&this.open--}addAll(t,e,i,r){let o=i||0;for(let a=i?t.childNodes[i]:t.firstChild,s=r==null?null:t.childNodes[r];a!=s;a=a.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(a,e);this.findAtPoint(t,o)}findPlace(t,e,i){let r,o;for(let a=this.open,s=0;a>=0;a--){let l=this.nodes[a],c=l.findWrapping(t);if(c&&(!r||r.length>c.length+s)&&(r=c,o=l,!c.length))break;if(l.solid){if(i)break;s+=2}}if(!r)return null;this.sync(o);for(let a=0;a<r.length;a++)e=this.enterInner(r[a],null,e,!1);return e}insertNode(t,e,i){if(t.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(e=this.enterInner(o,null,e))}let r=this.findPlace(t,e,i);if(r){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(t.type));let a=gt.none;for(let s of r.concat(t.marks))(o.type?o.type.allowsMarkType(s.type):LE(s.type,t.type))&&(a=s.addToSet(a));return o.content.push(t.mark(a)),!0}return!1}enter(t,e,i,r){let o=this.findPlace(t.create(e),i,!1);return o&&(o=this.enterInner(t,e,i,!0,r)),o}enterInner(t,e,i,r=!1,o){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(t);let s=OE(t,o,a.options);a.options&Hd&&a.content.length==0&&(s|=Hd);let l=gt.none;return i=i.filter(c=>(a.type?a.type.allowsMarkType(c.type):LE(c.type,t))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Hl(t,e,l,r,null,s)),this.open++,i}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let e=this.open;e>=0;e--){if(this.nodes[e]==t)return this.open=e,!0;this.localPreserveWS&&(this.nodes[e].options|=Ud)}return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let i=this.nodes[e].content;for(let r=i.length-1;r>=0;r--)t+=i[r].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==t&&this.find[i].offset==e&&(this.find[i].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].pos==null&&t.nodeType==1&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,i){if(t!=e&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&t.nodeType==1&&t.contains(this.find[r].node)&&e.compareDocumentPosition(this.find[r].node)&(i?2:4)&&(this.find[r].pos=this.currentPos)}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),i=this.options.context,r=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),o=-(i?i.depth+1:0)+(r?0:1),a=(s,l)=>{for(;s>=0;s--){let c=e[s];if(c==""){if(s==e.length-1||s==0)continue;for(;l>=o;l--)if(a(s-1,l))return!0;return!1}else{let d=l>0||l==0&&r?this.nodes[l].type:i&&l>=o?i.node(l-o).type:null;if(!d||d.name!=c&&!d.isInGroup(c))return!1;l--}}return!0};return a(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let i=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let e in this.parser.schema.nodes){let i=this.parser.schema.nodes[e];if(i.isTextblock&&i.defaultAttrs)return i}}};function DB(n){for(let t=n.firstChild,e=null;t;t=t.nextSibling){let i=t.nodeType==1?t.nodeName.toLowerCase():null;i&&eA.hasOwnProperty(i)&&e?(e.appendChild(t),t=e):i=="li"?e=t:i&&(e=null)}}function MB(n,t){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,t)}function FE(n){let t={};for(let e in n)t[e]=n[e];return t}function LE(n,t){let e=t.schema.nodes;for(let i in e){let r=e[i];if(!r.allowsMarkType(n))continue;let o=[],a=s=>{o.push(s);for(let l=0;l<s.edgeCount;l++){let{type:c,next:d}=s.edge(l);if(c==t||o.indexOf(d)<0&&a(d))return!0}};if(a(r.contentMatch))return!0}}var Mo=class n{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},i){i||(i=Zv(e).createDocumentFragment());let r=i,o=[];return t.forEach(a=>{if(o.length||a.marks.length){let s=0,l=0;for(;s<o.length&&l<a.marks.length;){let c=a.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[s][0])||c.type.spec.spanning===!1)break;s++,l++}for(;s<o.length;)r=o.pop()[1];for(;l<a.marks.length;){let c=a.marks[l++],d=this.serializeMark(c,a.isInline,e);d&&(o.push([c,r]),r.appendChild(d.dom),r=d.contentDOM||d.dom)}}r.appendChild(this.serializeNodeInner(a,e))}),i}serializeNodeInner(t,e){let{dom:i,contentDOM:r}=xm(Zv(e),this.nodes[t.type.name](t),null,t.attrs);if(r){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,r)}return i}serializeNode(t,e={}){let i=this.serializeNodeInner(t,e);for(let r=t.marks.length-1;r>=0;r--){let o=this.serializeMark(t.marks[r],t.isInline,e);o&&((o.contentDOM||o.dom).appendChild(i),i=o.dom)}return i}serializeMark(t,e,i={}){let r=this.marks[t.type.name];return r&&xm(Zv(i),r(t,e),null,t.attrs)}static renderSpec(t,e,i=null,r){return xm(t,e,i,r)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new n(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=NE(t.nodes);return e.text||(e.text=i=>i.text),e}static marksFromSchema(t){return NE(t.marks)}};function NE(n){let t={};for(let e in n){let i=n[e].spec.toDOM;i&&(t[e]=i)}return t}function Zv(n){return n.document||window.document}var VE=new WeakMap;function SB(n){let t=VE.get(n);return t===void 0&&VE.set(n,t=EB(n)),t}function EB(n){let t=null;function e(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")t||(t=[]),t.push(i);else for(let r=0;r<i.length;r++)e(i[r]);else for(let r in i)e(i[r])}return e(n),t}function xm(n,t,e,i){if(typeof t=="string")return{dom:n.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let r=t[0],o;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(o=SB(i))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=r.indexOf(" ");a>0&&(e=r.slice(0,a),r=r.slice(a+1));let s,l=e?n.createElementNS(e,r):n.createElement(r),c=t[1],d=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){d=2;for(let h in c)if(c[h]!=null){let u=h.indexOf(" ");u>0?l.setAttributeNS(h.slice(0,u),h.slice(u+1),c[h]):l.setAttribute(h,c[h])}}for(let h=d;h<t.length;h++){let u=t[h];if(u===0){if(h<t.length-1||h>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:m}=xm(n,u,e,i);if(l.appendChild(p),m){if(s)throw new RangeError("Multiple content holes");s=m}}}return{dom:l,contentDOM:s}}var nA=65535,rA=Math.pow(2,16);function AB(n,t){return n+t*rA}function tA(n){return n&nA}function TB(n){return(n-(n&nA))/rA}var oA=1,aA=2,Am=4,sA=8,Gd=class{constructor(t,e,i){this.pos=t,this.delInfo=e,this.recover=i}get deleted(){return(this.delInfo&sA)>0}get deletedBefore(){return(this.delInfo&(oA|Am))>0}get deletedAfter(){return(this.delInfo&(aA|Am))>0}get deletedAcross(){return(this.delInfo&Am)>0}},So=class n{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&n.empty)return n.empty}recover(t){let e=0,i=tA(t);if(!this.inverted)for(let r=0;r<i;r++)e+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[i*3]+e+TB(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,i){let r=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[s+o],d=this.ranges[s+a],h=l+c;if(t<=h){let u=c?t==l?-1:t==h?1:e:e,p=l+r+(u<0?0:d);if(i)return p;let m=t==(e<0?l:h)?null:AB(s/3,t-l),g=t==l?aA:t==h?oA:Am;return(e<0?t!=l:t!=h)&&(g|=sA),new Gd(p,g,m)}r+=d-c}return i?t+r:new Gd(t+r,0,null)}touches(t,e){let i=0,r=tA(e),o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>t)break;let c=this.ranges[s+o],d=l+c;if(t<=d&&s==r*3)return!0;i+=this.ranges[s+a]-c}return!1}forEach(t){let e=this.inverted?2:1,i=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let a=this.ranges[r],s=a-(this.inverted?o:0),l=a+(this.inverted?0:o),c=this.ranges[r+e],d=this.ranges[r+i];t(s,s+c,l,l+d),o+=d-c}}invert(){return new n(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?n.empty:new n(t<0?[0,-t,0]:[0,0,t])}};So.empty=new So([]);var qd=class n{constructor(t,e,i=0,r=t?t.length:0){this.mirror=e,this.from=i,this.to=r,this._maps=t||[],this.ownData=!(t||e)}get maps(){return this._maps}slice(t=0,e=this.maps.length){return new n(this._maps,this.mirror,t,e)}appendMap(t,e){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),e!=null&&this.setMirror(this._maps.length-1,e)}appendMapping(t){for(let e=0,i=this._maps.length;e<t._maps.length;e++){let r=t.getMirror(e);this.appendMap(t._maps[e],r!=null&&r<e?i+r:void 0)}}getMirror(t){if(this.mirror){for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,i=this._maps.length+t._maps.length;e>=0;e--){let r=t.getMirror(e);this.appendMap(t._maps[e].invert(),r!=null&&r>e?i-r-1:void 0)}}invert(){let t=new n;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let i=this.from;i<this.to;i++)t=this._maps[i].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,i){let r=0;for(let o=this.from;o<this.to;o++){let a=this._maps[o],s=a.mapResult(t,e);if(s.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this._maps[l].recover(s.recover);continue}}r|=s.delInfo,t=s.pos}return i?t:new Gd(t,r,null)}},o0=Object.create(null),_i=class{getMap(){return So.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=o0[e.stepType];if(!i)throw new RangeError(`No step type ${e.stepType} defined`);return i.fromJSON(t,e)}static jsonID(t,e){if(t in o0)throw new RangeError("Duplicate use of step JSON ID "+t);return o0[t]=e,e.prototype.jsonID=t,e}},Di=class n{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new n(t,null)}static fail(t){return new n(null,t)}static fromReplace(t,e,i,r){try{return n.ok(t.replace(e,i,r))}catch(o){if(o instanceof xs)return n.fail(o.message);throw o}}};function d0(n,t,e){let i=[];for(let r=0;r<n.childCount;r++){let o=n.child(r);o.content.size&&(o=o.copy(d0(o.content,t,o))),o.isInline&&(o=t(o,e,r)),i.push(o)}return ce.fromArray(i)}var Yd=class n extends _i{constructor(t,e,i){super(),this.from=t,this.to=e,this.mark=i}apply(t){let e=t.slice(this.from,this.to),i=t.resolve(this.from),r=i.node(i.sharedDepth(this.to)),o=new fe(d0(e.content,(a,s)=>!a.isAtom||!s.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),r),e.openStart,e.openEnd);return Di.fromReplace(t,this.from,this.to,o)}invert(){return new Ds(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return e.deleted&&i.deleted||e.pos>=i.pos?null:new n(e.pos,i.pos,this.mark)}merge(t){return t instanceof n&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new n(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new n(e.from,e.to,t.markFromJSON(e.mark))}};_i.jsonID("addMark",Yd);var Ds=class n extends _i{constructor(t,e,i){super(),this.from=t,this.to=e,this.mark=i}apply(t){let e=t.slice(this.from,this.to),i=new fe(d0(e.content,r=>r.mark(this.mark.removeFromSet(r.marks)),t),e.openStart,e.openEnd);return Di.fromReplace(t,this.from,this.to,i)}invert(){return new Yd(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return e.deleted&&i.deleted||e.pos>=i.pos?null:new n(e.pos,i.pos,this.mark)}merge(t){return t instanceof n&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new n(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new n(e.from,e.to,t.markFromJSON(e.mark))}};_i.jsonID("removeMark",Ds);var Kd=class n extends _i{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Di.fail("No node at mark step's position");let i=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return Di.fromReplace(t,this.pos,this.pos+1,new fe(ce.from(i),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let i=this.mark.addToSet(e.marks);if(i.length==e.marks.length){for(let r=0;r<e.marks.length;r++)if(!e.marks[r].isInSet(i))return new n(this.pos,e.marks[r]);return new n(this.pos,this.mark)}}return new jl(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new n(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new n(e.pos,t.markFromJSON(e.mark))}};_i.jsonID("addNodeMark",Kd);var jl=class n extends _i{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Di.fail("No node at mark step's position");let i=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return Di.fromReplace(t,this.pos,this.pos+1,new fe(ce.from(i),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return!e||!this.mark.isInSet(e.marks)?this:new Kd(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new n(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new n(e.pos,t.markFromJSON(e.mark))}};_i.jsonID("removeNodeMark",jl);var On=class n extends _i{constructor(t,e,i,r=!1){super(),this.from=t,this.to=e,this.slice=i,this.structure=r}apply(t){return this.structure&&l0(t,this.from,this.to)?Di.fail("Structure replace would overwrite content"):Di.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new So([this.from,this.to-this.from,this.slice.size])}invert(t){return new n(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return e.deletedAcross&&i.deletedAcross?null:new n(e.pos,Math.max(e.pos,i.pos),this.slice,this.structure)}merge(t){if(!(t instanceof n)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let e=this.slice.size+t.slice.size==0?fe.empty:new fe(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new n(this.from,this.to+(t.to-t.from),e,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let e=this.slice.size+t.slice.size==0?fe.empty:new fe(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new n(t.from,this.to,e,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new n(e.from,e.to,fe.fromJSON(t,e.slice),!!e.structure)}};_i.jsonID("replace",On);var bi=class n extends _i{constructor(t,e,i,r,o,a,s=!1){super(),this.from=t,this.to=e,this.gapFrom=i,this.gapTo=r,this.slice=o,this.insert=a,this.structure=s}apply(t){if(this.structure&&(l0(t,this.from,this.gapFrom)||l0(t,this.gapTo,this.to)))return Di.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return Di.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,e.content);return i?Di.fromReplace(t,this.from,this.to,i):Di.fail("Content does not fit in gap")}getMap(){return new So([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new n(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),i=t.mapResult(this.to,-1),r=this.from==this.gapFrom?e.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?i.pos:t.map(this.gapTo,1);return e.deletedAcross&&i.deletedAcross||r<e.pos||o>i.pos?null:new n(e.pos,i.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number"||typeof e.gapFrom!="number"||typeof e.gapTo!="number"||typeof e.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new n(e.from,e.to,e.gapFrom,e.gapTo,fe.fromJSON(t,e.slice),e.insert,!!e.structure)}};_i.jsonID("replaceAround",bi);function l0(n,t,e){let i=n.resolve(t),r=e-t,o=i.depth;for(;r>0&&o>0&&i.indexAfter(o)==i.node(o).childCount;)o--,r--;if(r>0){let a=i.node(o).maybeChild(i.indexAfter(o));for(;r>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,r--}}return!1}function IB(n,t,e,i){let r=[],o=[],a,s;n.doc.nodesBetween(t,e,(l,c,d)=>{if(!l.isInline)return;let h=l.marks;if(!i.isInSet(h)&&d.type.allowsMarkType(i.type)){let u=Math.max(c,t),p=Math.min(c+l.nodeSize,e),m=i.addToSet(h);for(let g=0;g<h.length;g++)h[g].isInSet(m)||(a&&a.to==u&&a.mark.eq(h[g])?a.to=p:r.push(a=new Ds(u,p,h[g])));s&&s.to==u?s.to=p:o.push(s=new Yd(u,p,i))}}),r.forEach(l=>n.step(l)),o.forEach(l=>n.step(l))}function PB(n,t,e,i){let r=[],o=0;n.doc.nodesBetween(t,e,(a,s)=>{if(!a.isInline)return;o++;let l=null;if(i instanceof jd){let c=a.marks,d;for(;d=i.isInSet(c);)(l||(l=[])).push(d),c=d.removeFromSet(c)}else i?i.isInSet(a.marks)&&(l=[i]):l=a.marks;if(l&&l.length){let c=Math.min(s+a.nodeSize,e);for(let d=0;d<l.length;d++){let h=l[d],u;for(let p=0;p<r.length;p++){let m=r[p];m.step==o-1&&h.eq(r[p].style)&&(u=m)}u?(u.to=c,u.step=o):r.push({style:h,from:Math.max(s,t),to:c,step:o})}}}),r.forEach(a=>n.step(new Ds(a.from,a.to,a.style)))}function h0(n,t,e,i=e.contentMatch,r=!0){let o=n.doc.nodeAt(t),a=[],s=t+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),d=s+c.nodeSize,h=i.matchType(c.type);if(!h)a.push(new On(s,d,fe.empty));else{i=h;for(let u=0;u<c.marks.length;u++)e.allowsMarkType(c.marks[u].type)||n.step(new Ds(s,d,c.marks[u]));if(r&&c.isText&&e.whitespace!="pre"){let u,p=/\r?\n|\r/g,m;for(;u=p.exec(c.text);)m||(m=new fe(ce.from(e.schema.text(" ",e.allowedMarks(c.marks))),0,0)),a.push(new On(s+u.index,s+u.index+u[0].length,m))}}s=d}if(!i.validEnd){let l=i.fillBefore(ce.empty,!0);n.replace(s,s,new fe(l,0,0))}for(let l=a.length-1;l>=0;l--)n.step(a[l])}function RB(n,t,e){return(t==0||n.canReplace(t,n.childCount))&&(e==n.childCount||n.canReplace(0,e))}function Ms(n){let e=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let i=n.depth;;--i){let r=n.$from.node(i),o=n.$from.index(i),a=n.$to.indexAfter(i);if(i<n.depth&&r.canReplace(o,a,e))return i;if(i==0||r.type.spec.isolating||!RB(r,o,a))break}return null}function OB(n,t,e){let{$from:i,$to:r,depth:o}=t,a=i.before(o+1),s=r.after(o+1),l=a,c=s,d=ce.empty,h=0;for(let m=o,g=!1;m>e;m--)g||i.index(m)>0?(g=!0,d=ce.from(i.node(m).copy(d)),h++):l--;let u=ce.empty,p=0;for(let m=o,g=!1;m>e;m--)g||r.after(m+1)<r.end(m)?(g=!0,u=ce.from(r.node(m).copy(u)),p++):c++;n.step(new bi(l,c,a,s,new fe(d.append(u),h,p),d.size-h,!0))}function $l(n,t,e=null,i=n){let r=FB(n,t),o=r&&LB(i,t);return o?r.map(iA).concat({type:t,attrs:e}).concat(o.map(iA)):null}function iA(n){return{type:n,attrs:null}}function FB(n,t){let{parent:e,startIndex:i,endIndex:r}=n,o=e.contentMatchAt(i).findWrapping(t);if(!o)return null;let a=o.length?o[0]:t;return e.canReplaceWith(i,r,a)?o:null}function LB(n,t){let{parent:e,startIndex:i,endIndex:r}=n,o=e.child(i),a=t.contentMatch.findWrapping(o.type);if(!a)return null;let l=(a.length?a[a.length-1]:t).contentMatch;for(let c=i;l&&c<r;c++)l=l.matchType(e.child(c).type);return!l||!l.validEnd?null:a}function NB(n,t,e){let i=ce.empty;for(let a=e.length-1;a>=0;a--){if(i.size){let s=e[a].type.contentMatch.matchFragment(i);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=ce.from(e[a].type.create(e[a].attrs,i))}let r=t.start,o=t.end;n.step(new bi(r,o,r,o,new fe(i,0,0),e.length,!0))}function VB(n,t,e,i,r){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(t,e,(a,s)=>{let l=typeof r=="function"?r(a):r;if(a.isTextblock&&!a.hasMarkup(i,l)&&BB(n.doc,n.mapping.slice(o).map(s),i)){let c=null;if(i.schema.linebreakReplacement){let p=i.whitespace=="pre",m=!!i.contentMatch.matchType(i.schema.linebreakReplacement);p&&!m?c=!1:!p&&m&&(c=!0)}c===!1&&cA(n,a,s,o),h0(n,n.mapping.slice(o).map(s,1),i,void 0,c===null);let d=n.mapping.slice(o),h=d.map(s,1),u=d.map(s+a.nodeSize,1);return n.step(new bi(h,u,h+1,u-1,new fe(ce.from(i.create(l,null,a.marks)),0,0),1,!0)),c===!0&&lA(n,a,s,o),!1}})}function lA(n,t,e,i){t.forEach((r,o)=>{if(r.isText){let a,s=/\r?\n|\r/g;for(;a=s.exec(r.text);){let l=n.mapping.slice(i).map(e+1+o+a.index);n.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function cA(n,t,e,i){t.forEach((r,o)=>{if(r.type==r.type.schema.linebreakReplacement){let a=n.mapping.slice(i).map(e+1+o);n.replaceWith(a,a+1,t.type.schema.text(`
`))}})}function BB(n,t,e){let i=n.resolve(t),r=i.index();return i.parent.canReplaceWith(r,r+1,e)}function zB(n,t,e,i,r){let o=n.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);let a=e.create(i,null,r||o.marks);if(o.isLeaf)return n.replaceWith(t,t+o.nodeSize,a);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);n.step(new bi(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new fe(ce.from(a),0,0),1,!0))}function ba(n,t,e=1,i){let r=n.resolve(t),o=r.depth-e,a=i&&i[i.length-1]||r.parent;if(o<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!a.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let c=r.depth-1,d=e-2;c>o;c--,d--){let h=r.node(c),u=r.index(c);if(h.type.spec.isolating)return!1;let p=h.content.cutByIndex(u,h.childCount),m=i&&i[d+1];m&&(p=p.replaceChild(0,m.type.create(m.attrs)));let g=i&&i[d]||h;if(!h.canReplace(u+1,h.childCount)||!g.type.validContent(p))return!1}let s=r.indexAfter(o),l=i&&i[0];return r.node(o).canReplaceWith(s,s,l?l.type:r.node(o+1).type)}function HB(n,t,e=1,i){let r=n.doc.resolve(t),o=ce.empty,a=ce.empty;for(let s=r.depth,l=r.depth-e,c=e-1;s>l;s--,c--){o=ce.from(r.node(s).copy(o));let d=i&&i[c];a=ce.from(d?d.type.create(d.attrs,a):r.node(s).copy(a))}n.step(new On(t,t,new fe(o.append(a),e,e),!0))}function Ss(n,t){let e=n.resolve(t),i=e.index();return UB(e.nodeBefore,e.nodeAfter)&&e.parent.canReplace(i,i+1)}function jB(n,t){t.content.size||n.type.compatibleContent(t.type);let e=n.contentMatchAt(n.childCount),{linebreakReplacement:i}=n.type.schema;for(let r=0;r<t.childCount;r++){let o=t.child(r),a=o.type==i?n.type.schema.nodes.text:o.type;if(e=e.matchType(a),!e||!n.type.allowsMarks(o.marks))return!1}return e.validEnd}function UB(n,t){return!!(n&&t&&!n.isLeaf&&jB(n,t))}function $B(n,t,e){let i=null,{linebreakReplacement:r}=n.doc.type.schema,o=n.doc.resolve(t-e),a=o.node().type;if(r&&a.inlineContent){let d=a.whitespace=="pre",h=!!a.contentMatch.matchType(r);d&&!h?i=!1:!d&&h&&(i=!0)}let s=n.steps.length;if(i===!1){let d=n.doc.resolve(t+e);cA(n,d.node(),d.before(),s)}a.inlineContent&&h0(n,t+e-1,a,o.node().contentMatchAt(o.index()),i==null);let l=n.mapping.slice(s),c=l.map(t-e);if(n.step(new On(c,l.map(t+e,-1),fe.empty,!0)),i===!0){let d=n.doc.resolve(c);lA(n,d.node(),d.before(),n.steps.length)}return n}function WB(n,t,e){let i=n.resolve(t);if(i.parent.canReplaceWith(i.index(),i.index(),e))return t;if(i.parentOffset==0)for(let r=i.depth-1;r>=0;r--){let o=i.index(r);if(i.node(r).canReplaceWith(o,o,e))return i.before(r+1);if(o>0)return null}if(i.parentOffset==i.parent.content.size)for(let r=i.depth-1;r>=0;r--){let o=i.indexAfter(r);if(i.node(r).canReplaceWith(o,o,e))return i.after(r+1);if(o<i.node(r).childCount)return null}return null}function dA(n,t,e){let i=n.resolve(t);if(!e.content.size)return t;let r=e.content;for(let o=0;o<e.openStart;o++)r=r.firstChild.content;for(let o=1;o<=(e.openStart==0&&e.size?2:1);o++)for(let a=i.depth;a>=0;a--){let s=a==i.depth?0:i.pos<=(i.start(a+1)+i.end(a+1))/2?-1:1,l=i.index(a)+(s>0?1:0),c=i.node(a),d=!1;if(o==1)d=c.canReplace(l,l,r);else{let h=c.contentMatchAt(l).findWrapping(r.firstChild.type);d=h&&c.canReplaceWith(l,l,h[0])}if(d)return s==0?i.pos:s<0?i.before(a+1):i.after(a+1)}return null}function Rm(n,t,e=t,i=fe.empty){if(t==e&&!i.size)return null;let r=n.resolve(t),o=n.resolve(e);return hA(r,o,i)?new On(t,e,i):new c0(r,o,i).fit()}function hA(n,t,e){return!e.openStart&&!e.openEnd&&n.start()==t.start()&&n.parent.canReplace(n.index(),t.index(),e.content)}var c0=class{constructor(t,e,i){this.$from=t,this.$to=e,this.unplaced=i,this.frontier=[],this.placed=ce.empty;for(let r=0;r<=t.depth;r++){let o=t.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(r))})}for(let r=t.depth;r>0;r--)this.placed=ce.from(t.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,i=this.$from,r=this.close(t<0?this.$to:i.doc.resolve(t));if(!r)return null;let o=this.placed,a=i.depth,s=r.depth;for(;a&&s&&o.childCount==1;)o=o.firstChild.content,a--,s--;let l=new fe(o,a,s);return t>-1?new bi(i.pos,t,this.$to.pos,this.$to.end(),l,e):l.size||i.pos!=this.$to.pos?new On(i.pos,r.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,i=0,r=this.unplaced.openEnd;i<t;i++){let o=e.firstChild;if(e.childCount>1&&(r=0),o.type.spec.isolating&&r<=i){t=i;break}e=o.content}for(let e=1;e<=2;e++)for(let i=e==1?t:this.unplaced.openStart;i>=0;i--){let r,o=null;i?(o=a0(this.unplaced.content,i-1).firstChild,r=o.content):r=this.unplaced.content;let a=r.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:c}=this.frontier[s],d,h=null;if(e==1&&(a?c.matchType(a.type)||(h=c.fillBefore(ce.from(a),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:i,frontierDepth:s,parent:o,inject:h};if(e==2&&a&&(d=c.findWrapping(a.type)))return{sliceDepth:i,frontierDepth:s,parent:o,wrap:d};if(o&&c.matchType(o.type))break}}}openMore(){let{content:t,openStart:e,openEnd:i}=this.unplaced,r=a0(t,e);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new fe(t,e+1,Math.max(i,r.size+e>=t.size-i?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:i}=this.unplaced,r=a0(t,e);if(r.childCount<=1&&e>0){let o=t.size-e<=e+r.size;this.unplaced=new fe($d(t,e-1,1),e-1,o?e-1:i)}else this.unplaced=new fe($d(t,e,1),e,i)}placeNodes({sliceDepth:t,frontierDepth:e,parent:i,inject:r,wrap:o}){for(;this.depth>e;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let a=this.unplaced,s=i?i.content:a.content,l=a.openStart-t,c=0,d=[],{match:h,type:u}=this.frontier[e];if(r){for(let g=0;g<r.childCount;g++)d.push(r.child(g));h=h.matchFragment(r)}let p=s.size+t-(a.content.size-a.openEnd);for(;c<s.childCount;){let g=s.child(c),_=h.matchType(g.type);if(!_)break;c++,(c>1||l==0||g.content.size)&&(h=_,d.push(uA(g.mark(u.allowedMarks(g.marks)),c==1?l:0,c==s.childCount?p:-1)))}let m=c==s.childCount;m||(p=-1),this.placed=Wd(this.placed,e,ce.from(d)),this.frontier[e].match=h,m&&p<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,_=s;g<p;g++){let v=_.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),_=v.content}this.unplaced=m?t==0?fe.empty:new fe($d(a.content,t-1,1),t-1,p<0?a.openEnd:t-1):new fe($d(a.content,t,c),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],e;if(!t.type.isTextblock||!s0(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:i}=this.$to,r=this.$to.after(i);for(;i>1&&r==this.$to.end(--i);)++r;return r}findCloseLevel(t){e:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:i,type:r}=this.frontier[e],o=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),a=s0(t,e,r,i,o);if(a){for(let s=e-1;s>=0;s--){let{match:l,type:c}=this.frontier[s],d=s0(t,s,c,l,!0);if(!d||d.childCount)continue e}return{depth:e,fit:a,move:o?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=Wd(this.placed,e.depth,e.fit)),t=e.move;for(let i=e.depth+1;i<=t.depth;i++){let r=t.node(i),o=r.type.contentMatch.fillBefore(r.content,!0,t.index(i));this.openFrontierNode(r.type,r.attrs,o)}return t}openFrontierNode(t,e=null,i){let r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=Wd(this.placed,this.depth,ce.from(t.create(e,i))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(ce.empty,!0);e.childCount&&(this.placed=Wd(this.placed,this.frontier.length,e))}};function $d(n,t,e){return t==0?n.cutByIndex(e,n.childCount):n.replaceChild(0,n.firstChild.copy($d(n.firstChild.content,t-1,e)))}function Wd(n,t,e){return t==0?n.append(e):n.replaceChild(n.childCount-1,n.lastChild.copy(Wd(n.lastChild.content,t-1,e)))}function a0(n,t){for(let e=0;e<t;e++)n=n.firstChild.content;return n}function uA(n,t,e){if(t<=0)return n;let i=n.content;return t>1&&(i=i.replaceChild(0,uA(i.firstChild,t-1,i.childCount==1?e-1:0))),t>0&&(i=n.type.contentMatch.fillBefore(i).append(i),e<=0&&(i=i.append(n.type.contentMatch.matchFragment(i).fillBefore(ce.empty,!0)))),n.copy(i)}function s0(n,t,e,i,r){let o=n.node(t),a=r?n.indexAfter(t):n.index(t);if(a==o.childCount&&!e.compatibleContent(o.type))return null;let s=i.fillBefore(o.content,!0,a);return s&&!GB(e,o.content,a)?s:null}function GB(n,t,e){for(let i=e;i<t.childCount;i++)if(!n.allowsMarks(t.child(i).marks))return!0;return!1}function qB(n){return n.spec.defining||n.spec.definingForContent}function YB(n,t,e,i){if(!i.size)return n.deleteRange(t,e);let r=n.doc.resolve(t),o=n.doc.resolve(e);if(hA(r,o,i))return n.step(new On(t,e,i));let a=mA(r,n.doc.resolve(e));a[a.length-1]==0&&a.pop();let s=-(r.depth+1);a.unshift(s);for(let u=r.depth,p=r.pos-1;u>0;u--,p--){let m=r.node(u).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;a.indexOf(u)>-1?s=u:r.before(u)==p&&a.splice(1,0,-u)}let l=a.indexOf(s),c=[],d=i.openStart;for(let u=i.content,p=0;;p++){let m=u.firstChild;if(c.push(m),p==i.openStart)break;u=m.content}for(let u=d-1;u>=0;u--){let p=c[u],m=qB(p.type);if(m&&!p.sameMarkup(r.node(Math.abs(s)-1)))d=u;else if(m||!p.type.isTextblock)break}for(let u=i.openStart;u>=0;u--){let p=(u+d+1)%(i.openStart+1),m=c[p];if(m)for(let g=0;g<a.length;g++){let _=a[(g+l)%a.length],v=!0;_<0&&(v=!1,_=-_);let x=r.node(_-1),C=r.index(_-1);if(x.canReplaceWith(C,C,m.type,m.marks))return n.replace(r.before(_),v?o.after(_):e,new fe(pA(i.content,0,i.openStart,p),p,i.openEnd))}}let h=n.steps.length;for(let u=a.length-1;u>=0&&(n.replace(t,e,i),!(n.steps.length>h));u--){let p=a[u];p<0||(t=r.before(p),e=o.after(p))}}function pA(n,t,e,i,r){if(t<e){let o=n.firstChild;n=n.replaceChild(0,o.copy(pA(o.content,t+1,e,i,o)))}if(t>i){let o=r.contentMatchAt(0),a=o.fillBefore(n).append(n);n=a.append(o.matchFragment(a).fillBefore(ce.empty,!0))}return n}function KB(n,t,e,i){if(!i.isInline&&t==e&&n.doc.resolve(t).parent.content.size){let r=WB(n.doc,t,i.type);r!=null&&(t=e=r)}n.replaceRange(t,e,new fe(ce.from(i),0,0))}function XB(n,t,e){let i=n.doc.resolve(t),r=n.doc.resolve(e),o=mA(i,r);for(let a=0;a<o.length;a++){let s=o[a],l=a==o.length-1;if(l&&s==0||i.node(s).type.contentMatch.validEnd)return n.delete(i.start(s),r.end(s));if(s>0&&(l||i.node(s-1).canReplace(i.index(s-1),r.indexAfter(s-1))))return n.delete(i.before(s),r.after(s))}for(let a=1;a<=i.depth&&a<=r.depth;a++)if(t-i.start(a)==i.depth-a&&e>i.end(a)&&r.end(a)-e!=r.depth-a&&i.start(a-1)==r.start(a-1)&&i.node(a-1).canReplace(i.index(a-1),r.index(a-1)))return n.delete(i.before(a),e);n.delete(t,e)}function mA(n,t){let e=[],i=Math.min(n.depth,t.depth);for(let r=i;r>=0;r--){let o=n.start(r);if(o<n.pos-(n.depth-r)||t.end(r)>t.pos+(t.depth-r)||n.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(o==t.start(r)||r==n.depth&&r==t.depth&&n.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==o-1)&&e.push(r)}return e}var Tm=class n extends _i{constructor(t,e,i){super(),this.pos=t,this.attr=e,this.value=i}apply(t){let e=t.nodeAt(this.pos);if(!e)return Di.fail("No node at attribute step's position");let i=Object.create(null);for(let o in e.attrs)i[o]=e.attrs[o];i[this.attr]=this.value;let r=e.type.create(i,null,e.marks);return Di.fromReplace(t,this.pos,this.pos+1,new fe(ce.from(r),0,e.isLeaf?0:1))}getMap(){return So.empty}invert(t){return new n(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new n(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if(typeof e.pos!="number"||typeof e.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new n(e.pos,e.attr,e.value)}};_i.jsonID("attr",Tm);var Im=class n extends _i{constructor(t,e){super(),this.attr=t,this.value=e}apply(t){let e=Object.create(null);for(let r in t.attrs)e[r]=t.attrs[r];e[this.attr]=this.value;let i=t.type.create(e,t.content,t.marks);return Di.ok(i)}getMap(){return So.empty}invert(t){return new n(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,e){if(typeof e.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new n(e.attr,e.value)}};_i.jsonID("docAttr",Im);var Ul=class extends Error{};Ul=function n(t){let e=Error.call(this,t);return e.__proto__=n.prototype,e};Ul.prototype=Object.create(Error.prototype);Ul.prototype.constructor=Ul;Ul.prototype.name="TransformError";var Pm=class{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new qd}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new Ul(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,i=fe.empty){let r=Rm(this.doc,t,e,i);return r&&this.step(r),this}replaceWith(t,e,i){return this.replace(t,e,new fe(ce.from(i),0,0))}delete(t,e){return this.replace(t,e,fe.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,i){return YB(this,t,e,i),this}replaceRangeWith(t,e,i){return KB(this,t,e,i),this}deleteRange(t,e){return XB(this,t,e),this}lift(t,e){return OB(this,t,e),this}join(t,e=1){return $B(this,t,e),this}wrap(t,e){return NB(this,t,e),this}setBlockType(t,e=t,i,r=null){return VB(this,t,e,i,r),this}setNodeMarkup(t,e,i=null,r){return zB(this,t,e,i,r),this}setNodeAttribute(t,e,i){return this.step(new Tm(t,e,i)),this}setDocAttribute(t,e){return this.step(new Im(t,e)),this}addNodeMark(t,e){return this.step(new Kd(t,e)),this}removeNodeMark(t,e){let i=this.doc.nodeAt(t);if(!i)throw new RangeError("No node at position "+t);if(e instanceof gt)e.isInSet(i.marks)&&this.step(new jl(t,e));else{let r=i.marks,o,a=[];for(;o=e.isInSet(r);)a.push(new jl(t,o)),r=o.removeFromSet(r);for(let s=a.length-1;s>=0;s--)this.step(a[s])}return this}split(t,e=1,i){return HB(this,t,e,i),this}addMark(t,e,i){return IB(this,t,e,i),this}removeMark(t,e,i){return PB(this,t,e,i),this}clearIncompatible(t,e,i){return h0(this,t,e,i),this}};var u0=Object.create(null),Ke=class{constructor(t,e,i){this.$anchor=t,this.$head=e,this.ranges=i||[new Gl(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=fe.empty){let i=e.content.lastChild,r=null;for(let s=0;s<e.openEnd;s++)r=i,i=i.lastChild;let o=t.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:l,$to:c}=a[s],d=t.mapping.slice(o);t.replaceRange(d.map(l.pos),d.map(c.pos),s?fe.empty:e),s==0&&_A(t,o,(i?i.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(t,e){let i=t.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:a,$to:s}=r[o],l=t.mapping.slice(i),c=l.map(a.pos),d=l.map(s.pos);o?t.deleteRange(c,d):(t.replaceRangeWith(c,d,e),_A(t,i,e.isInline?-1:1))}}static findFrom(t,e,i=!1){let r=t.parent.inlineContent?new mt(t):Wl(t.node(0),t.parent,t.pos,t.index(),e,i);if(r)return r;for(let o=t.depth-1;o>=0;o--){let a=e<0?Wl(t.node(0),t.node(o),t.before(o+1),t.index(o),e,i):Wl(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,e,i);if(a)return a}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new Fn(t.node(0))}static atStart(t){return Wl(t,t,0,0,1)||new Fn(t)}static atEnd(t){return Wl(t,t,t.content.size,t.childCount,-1)||new Fn(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=u0[e.type];if(!i)throw new RangeError(`No selection type ${e.type} defined`);return i.fromJSON(t,e)}static jsonID(t,e){if(t in u0)throw new RangeError("Duplicate use of selection JSON ID "+t);return u0[t]=e,e.prototype.jsonID=t,e}getBookmark(){return mt.between(this.$anchor,this.$head).getBookmark()}};Ke.prototype.visible=!0;var Gl=class{constructor(t,e){this.$from=t,this.$to=e}},fA=!1;function gA(n){!fA&&!n.parent.inlineContent&&(fA=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}var mt=class n extends Ke{constructor(t,e=t){gA(t),gA(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let i=t.resolve(e.map(this.head));if(!i.parent.inlineContent)return Ke.near(i);let r=t.resolve(e.map(this.anchor));return new n(r.parent.inlineContent?r:i,i)}replace(t,e=fe.empty){if(super.replace(t,e),e==fe.empty){let i=this.$from.marksAcross(this.$to);i&&t.ensureMarks(i)}}eq(t){return t instanceof n&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Fm(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if(typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new n(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,i=e){let r=t.resolve(e);return new this(r,i==e?r:t.resolve(i))}static between(t,e,i){let r=t.pos-e.pos;if((!i||r)&&(i=r>=0?1:-1),!e.parent.inlineContent){let o=Ke.findFrom(e,i,!0)||Ke.findFrom(e,-i,!0);if(o)e=o.$head;else return Ke.near(e,i)}return t.parent.inlineContent||(r==0?t=e:(t=(Ke.findFrom(t,-i,!0)||Ke.findFrom(t,i,!0)).$anchor,t.pos<e.pos!=r<0&&(t=e))),new n(t,e)}};Ke.jsonID("text",mt);var Fm=class n{constructor(t,e){this.anchor=t,this.head=e}map(t){return new n(t.map(this.anchor),t.map(this.head))}resolve(t){return mt.between(t.resolve(this.anchor),t.resolve(this.head))}},Re=class n extends Ke{constructor(t){let e=t.nodeAfter,i=t.node(0).resolve(t.pos+e.nodeSize);super(t,i),this.node=e}map(t,e){let{deleted:i,pos:r}=e.mapResult(this.anchor),o=t.resolve(r);return i?Ke.near(o):new n(o)}content(){return new fe(ce.from(this.node),0,0)}eq(t){return t instanceof n&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new m0(this.anchor)}static fromJSON(t,e){if(typeof e.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new n(t.resolve(e.anchor))}static create(t,e){return new n(t.resolve(e))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}};Re.prototype.visible=!1;Ke.jsonID("node",Re);var m0=class n{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:i}=t.mapResult(this.anchor);return e?new Fm(i,i):new n(i)}resolve(t){let e=t.resolve(this.anchor),i=e.nodeAfter;return i&&Re.isSelectable(i)?new Re(e):Ke.near(e)}},Fn=class n extends Ke{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=fe.empty){if(e==fe.empty){t.delete(0,t.doc.content.size);let i=Ke.atStart(t.doc);i.eq(t.selection)||t.setSelection(i)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new n(t)}map(t){return new n(t)}eq(t){return t instanceof n}getBookmark(){return QB}};Ke.jsonID("all",Fn);var QB={map(){return this},resolve(n){return new Fn(n)}};function Wl(n,t,e,i,r,o=!1){if(t.inlineContent)return mt.create(n,e);for(let a=i-(r>0?0:1);r>0?a<t.childCount:a>=0;a+=r){let s=t.child(a);if(s.isAtom){if(!o&&Re.isSelectable(s))return Re.create(n,e-(r<0?s.nodeSize:0))}else{let l=Wl(n,s,e+r,r<0?s.childCount:0,r,o);if(l)return l}e+=s.nodeSize*r}return null}function _A(n,t,e){let i=n.steps.length-1;if(i<t)return;let r=n.steps[i];if(!(r instanceof On||r instanceof bi))return;let o=n.mapping.maps[i],a;o.forEach((s,l,c,d)=>{a==null&&(a=d)}),n.setSelection(Ke.near(n.doc.resolve(a),e))}var bA=1,Om=2,vA=4,f0=class extends Pm{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|bA)&~Om,this.storedMarks=null,this}get selectionSet(){return(this.updated&bA)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=Om,this}ensureMarks(t){return gt.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Om)>0}addStep(t,e){super.addStep(t,e),this.updated=this.updated&~Om,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let i=this.selection;return e&&(t=t.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||gt.none))),i.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,i){let r=this.doc.type.schema;if(e==null)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();{if(i==null&&(i=e),i=i??e,!t)return this.deleteRange(e,i);let o=this.storedMarks;if(!o){let a=this.doc.resolve(e);o=i==e?a.marks():a.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(e,i,r.text(t,o)),this.selection.empty||this.setSelection(Ke.near(this.selection.$to)),this}}setMeta(t,e){return this.meta[typeof t=="string"?t:t.key]=e,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=vA,this}get scrolledIntoView(){return(this.updated&vA)>0}};function yA(n,t){return!t||!n?n:n.bind(t)}var Es=class{constructor(t,e,i){this.name=t,this.init=yA(e.init,i),this.apply=yA(e.apply,i)}},ZB=[new Es("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Es("selection",{init(n,t){return n.selection||Ke.atStart(t.doc)},apply(n){return n.selection}}),new Es("storedMarks",{init(n){return n.storedMarks||null},apply(n,t,e,i){return i.selection.$cursor?n.storedMarks:null}}),new Es("scrollToSelection",{init(){return 0},apply(n,t){return n.scrolledIntoView?t+1:t}})],Xd=class{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=ZB.slice(),e&&e.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new Es(i.key,i.spec.state,i))})}},Lm=class n{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,e=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=e){let r=this.config.plugins[i];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],i=this.applyInner(t),r=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let s=this.config.plugins[a];if(s.spec.appendTransaction){let l=r?r[a].n:0,c=r?r[a].state:this,d=l<e.length&&s.spec.appendTransaction.call(s,l?e.slice(l):e,c,i);if(d&&i.filterTransaction(d,a)){if(d.setMeta("appendedTransaction",t),!r){r=[];for(let h=0;h<this.config.plugins.length;h++)r.push(h<a?{state:i,n:e.length}:{state:this,n:0})}e.push(d),i=i.applyInner(d),o=!0}r&&(r[a]={state:i,n:e.length})}}if(!o)return{state:i,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let e=new n(this.config),i=this.config.fields;for(let r=0;r<i.length;r++){let o=i[r];e[o.name]=o.apply(t,this[o.name],this,e)}return e}get tr(){return new f0(this)}static create(t){let e=new Xd(t.doc?t.doc.type.schema:t.schema,t.plugins),i=new n(e);for(let r=0;r<e.fields.length;r++)i[e.fields[r].name]=e.fields[r].init(t,i);return i}reconfigure(t){let e=new Xd(this.schema,t.plugins),i=e.fields,r=new n(e);for(let o=0;o<i.length;o++){let a=i[o].name;r[a]=this.hasOwnProperty(a)?this[a]:i[o].init(t,r)}return r}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(i=>i.toJSON())),t&&typeof t=="object")for(let i in t){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=t[i],o=r.spec.state;o&&o.toJSON&&(e[i]=o.toJSON.call(r,this[r.key]))}return e}static fromJSON(t,e,i){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let r=new Xd(t.schema,t.plugins),o=new n(r);return r.fields.forEach(a=>{if(a.name=="doc")o.doc=jr.fromJSON(t.schema,e.doc);else if(a.name=="selection")o.selection=Ke.fromJSON(o.doc,e.selection);else if(a.name=="storedMarks")e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(i)for(let s in i){let l=i[s],c=l.spec.state;if(l.key==a.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(e,s)){o[a.name]=c.fromJSON.call(l,t,e[s],o);return}}o[a.name]=a.init(t,o)}}),o}};function wA(n,t,e){for(let i in n){let r=n[i];r instanceof Function?r=r.bind(t):i=="handleDOMEvents"&&(r=wA(r,t,{})),e[i]=r}return e}var zi=class{constructor(t){this.spec=t,this.props={},t.props&&wA(t.props,this,this.props),this.key=t.key?t.key.key:xA("plugin")}getState(t){return t[this.key]}},p0=Object.create(null);function xA(n){return n in p0?n+"$"+ ++p0[n]:(p0[n]=0,n+"$")}var Ln=class{constructor(t="key"){this.key=xA(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}};var JB=["ol",0],ez=["ul",0],tz=["li",0],CA={attrs:{order:{default:1,validate:"number"}},parseDOM:[{tag:"ol",getAttrs(n){return{order:n.hasAttribute("start")?+n.getAttribute("start"):1}}}],toDOM(n){return n.attrs.order==1?JB:["ol",{start:n.attrs.order},0]}},kA={parseDOM:[{tag:"ul"}],toDOM(){return ez}},DA={parseDOM:[{tag:"li"}],toDOM(){return tz},defining:!0};function MA(n,t=null){return function(e,i){let{$from:r,$to:o}=e.selection,a=r.blockRange(o);if(!a)return!1;let s=i?e.tr:null;return iz(s,a,n,t)?(i&&i(s.scrollIntoView()),!0):!1}}function iz(n,t,e,i=null){let r=!1,o=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(e)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=a.resolve(t.start-2);o=new Cs(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new Cs(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),r=!0}let s=$l(o,e,i,t);return s?(n&&nz(n,t,s,r,e),!0):!1}function nz(n,t,e,i,r){let o=ce.empty;for(let d=e.length-1;d>=0;d--)o=ce.from(e[d].type.create(e[d].attrs,o));n.step(new bi(t.start-(i?2:0),t.end,t.start,t.end,new fe(o,0,0),e.length,!0));let a=0;for(let d=0;d<e.length;d++)e[d].type==r&&(a=d+1);let s=e.length-a,l=t.start+e.length-(i?2:0),c=t.parent;for(let d=t.startIndex,h=t.endIndex,u=!0;d<h;d++,u=!1)!u&&ba(n.doc,l,s)&&(n.split(l,s),l+=2*s),l+=c.child(d).nodeSize;return n}function SA(n,t){return function(e,i){let{$from:r,$to:o,node:a}=e.selection;if(a&&a.isBlock||r.depth<2||!r.sameParent(o))return!1;let s=r.node(-1);if(s.type!=n)return!1;if(r.parent.content.size==0&&r.node(-1).childCount==r.indexAfter(-1)){if(r.depth==3||r.node(-3).type!=n||r.index(-2)!=r.node(-2).childCount-1)return!1;if(i){let h=ce.empty,u=r.index(-1)?1:r.index(-2)?2:3;for(let v=r.depth-u;v>=r.depth-3;v--)h=ce.from(r.node(v).copy(h));let p=r.indexAfter(-1)<r.node(-2).childCount?1:r.indexAfter(-2)<r.node(-3).childCount?2:3;h=h.append(ce.from(n.createAndFill()));let m=r.before(r.depth-(u-1)),g=e.tr.replace(m,r.after(-p),new fe(h,4-u,0)),_=-1;g.doc.nodesBetween(m,g.doc.content.size,(v,x)=>{if(_>-1)return!1;v.isTextblock&&v.content.size==0&&(_=x+1)}),_>-1&&g.setSelection(Ke.near(g.doc.resolve(_))),i(g.scrollIntoView())}return!0}let l=o.pos==r.end()?s.contentMatchAt(0).defaultType:null,c=e.tr.delete(r.pos,o.pos),d=l?[t?{type:n,attrs:t}:null,{type:l}]:void 0;return ba(c.doc,r.pos,2,d)?(i&&i(c.split(r.pos,2,d).scrollIntoView()),!0):!1}}function g0(n){return function(t,e){let{$from:i,$to:r}=t.selection,o=i.blockRange(r,a=>a.childCount>0&&a.firstChild.type==n);return o?e?i.node(o.depth-1).type==n?rz(t,e,n,o):oz(t,e,o):!0:!1}}function rz(n,t,e,i){let r=n.tr,o=i.end,a=i.$to.end(i.depth);o<a&&(r.step(new bi(o-1,a,o,a,new fe(ce.from(e.create(null,i.parent.copy())),1,0),1,!0)),i=new Cs(r.doc.resolve(i.$from.pos),r.doc.resolve(a),i.depth));let s=Ms(i);if(s==null)return!1;r.lift(i,s);let l=r.doc.resolve(r.mapping.map(o,-1)-1);return Ss(r.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&r.join(l.pos),t(r.scrollIntoView()),!0}function oz(n,t,e){let i=n.tr,r=e.parent;for(let p=e.end,m=e.endIndex-1,g=e.startIndex;m>g;m--)p-=r.child(m).nodeSize,i.delete(p-1,p+1);let o=i.doc.resolve(e.start),a=o.nodeAfter;if(i.mapping.map(e.end)!=e.start+o.nodeAfter.nodeSize)return!1;let s=e.startIndex==0,l=e.endIndex==r.childCount,c=o.node(-1),d=o.index(-1);if(!c.canReplace(d+(s?0:1),d+1,a.content.append(l?ce.empty:ce.from(r))))return!1;let h=o.pos,u=h+a.nodeSize;return i.step(new bi(h-(s?1:0),u+(l?1:0),h+1,u-1,new fe((s?ce.empty:ce.from(r.copy(ce.empty))).append(l?ce.empty:ce.from(r.copy(ce.empty))),s?0:1,l?0:1),s?0:1)),t(i.scrollIntoView()),!0}function _0(n){return function(t,e){let{$from:i,$to:r}=t.selection,o=i.blockRange(r,c=>c.childCount>0&&c.firstChild.type==n);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let s=o.parent,l=s.child(a-1);if(l.type!=n)return!1;if(e){let c=l.lastChild&&l.lastChild.type==s.type,d=ce.from(c?n.create():null),h=new fe(ce.from(n.create(null,ce.from(s.type.create(null,d)))),c?3:1,0),u=o.start,p=o.end;e(t.tr.step(new bi(u-(c?3:1),p,u,p,h,1,!0)).scrollIntoView())}return!0}}var sz={attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(n){return{href:n.getAttribute("href"),title:n.getAttribute("title"),target:n.getAttribute("target")}}}],toDOM(n){let{href:t,title:e,target:i}=n.attrs;return["a",{href:t,title:e,target:i},0]}},lz={parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM(){return["em",0]}},cz={parseDOM:[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:n=>/^(?:bold(?:er)?|[5-9]\d{2,})$/.test(n)&&null}],toDOM(){return["strong",0]}},dz={parseDOM:[{tag:"code"}],toDOM(){return["code",0]}},hz={parseDOM:[{tag:"u"},{style:"text-decoration=underline",consuming:!1}],toDOM(){return["u",0]}},uz={parseDOM:[{tag:"s"},{tag:"strike"},{style:"text-decoration=line-through"}],toDOM(){return["s",0]}},pz={attrs:{color:{default:null}},parseDOM:[{style:"color",getAttrs:n=>({color:n})}],toDOM(n){let{color:t}=n.attrs;return["span",{style:`color:${t};`},0]}},mz={attrs:{backgroundColor:{default:null}},parseDOM:[{style:"background-color",getAttrs:n=>({backgroundColor:n})}],toDOM(n){let{backgroundColor:t}=n.attrs;return["span",{style:`background-color:${t};`},0]}},fz={attrs:{},parseDOM:[{tag:"sup"},{style:"vertical-align=super"}],toDOM(){return["sup",0]}},gz={attrs:{},parseDOM:[{tag:"sub"},{style:"vertical-align=sub"}],toDOM(){return["sub",0]}},_z={link:sz,em:lz,strong:cz,code:dz,u:hz,s:uz,text_color:pz,text_background_color:mz,sup:fz,sub:gz},bz={content:"block+"},vz={group:"inline"},yz={content:"inline*",group:"block",attrs:{align:{default:null},indent:{default:null}},parseDOM:[{tag:"p",getAttrs(n){let{textAlign:t}=n.style,e=n.getAttribute("align")||t||null,i=n.getAttribute("data-indent")||null;return{align:e,indent:parseInt(i,10)||null}}}],toDOM(n){let{align:t,indent:e}=n.attrs,i={textAlign:t!=="left"?t:null,marginLeft:e!==null?`${e*40}px`:null};return["p",{style:ym(i)||null,"data-indent":e??null},0]}},wz={content:"block+",group:"block",defining:!0,attrs:{indent:{default:null}},parseDOM:[{tag:"blockquote",getAttrs(n){let t=n.getAttribute("data-indent")||null;return{indent:parseInt(t,10)||null}}}],toDOM(n){let{indent:t}=n.attrs,e={marginLeft:t!==null?`${t*40}px`:null};return["blockquote",{style:ym(e)||null,"data-indent":t??null},0]}},xz={group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["hr"]}},Cz={attrs:{level:{default:1},align:{default:null},indent:{default:null}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs(n){let{textAlign:t}=n.style,e=n.getAttribute("align")||t||null,i=n.getAttribute("data-indent")||null;return{level:1,align:e,indent:parseInt(i,10)||null}}},{tag:"h2",getAttrs(n){let{textAlign:t}=n.style,e=n.getAttribute("align")||t||null,i=n.getAttribute("data-indent")||null;return{level:2,align:e,indent:parseInt(i,10)||null}}},{tag:"h3",getAttrs(n){let{textAlign:t}=n.style,e=n.getAttribute("align")||t||null,i=n.getAttribute("data-indent")||null;return{level:3,align:e,indent:parseInt(i,10)||null}}},{tag:"h4",getAttrs(n){let{textAlign:t}=n.style,e=n.getAttribute("align")||t||null,i=n.getAttribute("data-indent")||null;return{level:4,align:e,indent:parseInt(i,10)||null}}},{tag:"h5",getAttrs(n){let{textAlign:t}=n.style,e=n.getAttribute("align")||t||null,i=n.getAttribute("data-indent")||null;return{level:5,align:e,indent:parseInt(i,10)||null}}},{tag:"h6",getAttrs(n){let{textAlign:t}=n.style,e=n.getAttribute("align")||t||null,i=n.getAttribute("data-indent")||null;return{level:6,align:e,indent:parseInt(i,10)||null}}}],toDOM(n){let{level:t,align:e,indent:i}=n.attrs,r={textAlign:e!=="left"?e:null,marginLeft:i!==null?`${i*40}px`:null},a={style:ym(r)||null,"data-indent":i??null};return[`h${t}`,a,0]}},kz={content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM(){return["pre",["code",0]]}},Dz={inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}},Mz={inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(n){return{src:n.getAttribute("src"),title:n.getAttribute("title"),alt:n.getAttribute("alt"),width:n.getAttribute("width")}}}],toDOM(n){let{src:t,alt:e,title:i,width:r}=n.attrs;return["img",{src:t,alt:e,title:i,width:r}]}},Sz=ye(E({},DA),{content:"paragraph block*"}),Ez=ye(E({},CA),{content:"list_item+",group:"block"}),Az=ye(E({},kA),{content:"list_item+",group:"block"}),Tz={doc:bz,text:vz,paragraph:yz,blockquote:wz,horizontal_rule:xz,heading:Cz,hard_break:Dz,code_block:kz,image:Mz,list_item:Sz,ordered_list:Ez,bullet_list:Az},Qd=new Sm({marks:_z,nodes:Tz});var Mi=function(n){for(var t=0;;t++)if(n=n.previousSibling,!n)return t},Ql=function(n){let t=n.assignedSlot||n.parentNode;return t&&t.nodeType==11?t.host:t},C0=null,Ao=function(n,t,e){let i=C0||(C0=document.createRange());return i.setEnd(n,e??n.nodeValue.length),i.setStart(n,t||0),i},Iz=function(){C0=null},Fs=function(n,t,e,i){return e&&(EA(n,t,e,i,-1)||EA(n,t,e,i,1))},Pz=/^(img|br|input|textarea|hr)$/i;function EA(n,t,e,i,r){for(var o;;){if(n==e&&t==i)return!0;if(t==(r<0?0:Qn(n))){let a=n.parentNode;if(!a||a.nodeType!=1||oh(n)||Pz.test(n.nodeName)||n.contentEditable=="false")return!1;t=Mi(n)+(r<0?0:1),n=a}else if(n.nodeType==1){let a=n.childNodes[t+(r<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((o=a.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)t+=r;else return!1;else n=a,t=r<0?Qn(n):0}else return!1}}function Qn(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Rz(n,t){for(;;){if(n.nodeType==3&&t)return n;if(n.nodeType==1&&t>0){if(n.contentEditable=="false")return null;n=n.childNodes[t-1],t=Qn(n)}else if(n.parentNode&&!oh(n))t=Mi(n),n=n.parentNode;else return null}}function Oz(n,t){for(;;){if(n.nodeType==3&&t<n.nodeValue.length)return n;if(n.nodeType==1&&t<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[t],t=0}else if(n.parentNode&&!oh(n))t=Mi(n)+1,n=n.parentNode;else return null}}function Fz(n,t,e){for(let i=t==0,r=t==Qn(n);i||r;){if(n==e)return!0;let o=Mi(n);if(n=n.parentNode,!n)return!1;i=i&&o==0,r=r&&o==Qn(n)}}function oh(n){let t;for(let e=n;e&&!(t=e.pmViewDesc);e=e.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==n||t.contentDOM==n)}var qm=function(n){return n.focusNode&&Fs(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function As(n,t){let e=document.createEvent("Event");return e.initEvent("keydown",!0,!0),e.keyCode=n,e.key=e.code=t,e}function Lz(n){let t=n.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function Nz(n,t,e){if(n.caretPositionFromPoint)try{let i=n.caretPositionFromPoint(t,e);if(i)return{node:i.offsetNode,offset:Math.min(Qn(i.offsetNode),i.offset)}}catch{}if(n.caretRangeFromPoint){let i=n.caretRangeFromPoint(t,e);if(i)return{node:i.startContainer,offset:Math.min(Qn(i.startContainer),i.startOffset)}}}var Ur=typeof navigator<"u"?navigator:null,AA=typeof document<"u"?document:null,ka=Ur&&Ur.userAgent||"",k0=/Edge\/(\d+)/.exec(ka),sT=/MSIE \d/.exec(ka),D0=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ka),pn=!!(sT||D0||k0),xa=sT?document.documentMode:D0?+D0[1]:k0?+k0[1]:0,vr=!pn&&/gecko\/(\d+)/i.test(ka);vr&&+(/Firefox\/(\d+)/.exec(ka)||[0,0])[1];var M0=!pn&&/Chrome\/(\d+)/.exec(ka),ji=!!M0,lT=M0?+M0[1]:0,nn=!pn&&!!Ur&&/Apple Computer/.test(Ur.vendor),Zl=nn&&(/Mobile\/\w+/.test(ka)||!!Ur&&Ur.maxTouchPoints>2),Xn=Zl||(Ur?/Mac/.test(Ur.platform):!1),Vz=Ur?/Win/.test(Ur.platform):!1,To=/Android \d/.test(ka),ah=!!AA&&"webkitFontSmoothing"in AA.documentElement.style,Bz=ah?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function zz(n){let t=n.defaultView&&n.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Eo(n,t){return typeof n=="number"?n:n[t]}function Hz(n){let t=n.getBoundingClientRect(),e=t.width/n.offsetWidth||1,i=t.height/n.offsetHeight||1;return{left:t.left,right:t.left+n.clientWidth*e,top:t.top,bottom:t.top+n.clientHeight*i}}function TA(n,t,e){let i=n.someProp("scrollThreshold")||0,r=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let a=e||n.dom;a;){if(a.nodeType!=1){a=Ql(a);continue}let s=a,l=s==o.body,c=l?zz(o):Hz(s),d=0,h=0;if(t.top<c.top+Eo(i,"top")?h=-(c.top-t.top+Eo(r,"top")):t.bottom>c.bottom-Eo(i,"bottom")&&(h=t.bottom-t.top>c.bottom-c.top?t.top+Eo(r,"top")-c.top:t.bottom-c.bottom+Eo(r,"bottom")),t.left<c.left+Eo(i,"left")?d=-(c.left-t.left+Eo(r,"left")):t.right>c.right-Eo(i,"right")&&(d=t.right-c.right+Eo(r,"right")),d||h)if(l)o.defaultView.scrollBy(d,h);else{let p=s.scrollLeft,m=s.scrollTop;h&&(s.scrollTop+=h),d&&(s.scrollLeft+=d);let g=s.scrollLeft-p,_=s.scrollTop-m;t={left:t.left-g,top:t.top-_,right:t.right-g,bottom:t.bottom-_}}let u=l?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(u))break;a=u=="absolute"?a.offsetParent:Ql(a)}}function jz(n){let t=n.dom.getBoundingClientRect(),e=Math.max(0,t.top),i,r;for(let o=(t.left+t.right)/2,a=e+1;a<Math.min(innerHeight,t.bottom);a+=5){let s=n.root.elementFromPoint(o,a);if(!s||s==n.dom||!n.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=e-20){i=s,r=l.top;break}}return{refDOM:i,refTop:r,stack:cT(n.dom)}}function cT(n){let t=[],e=n.ownerDocument;for(let i=n;i&&(t.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),n!=e);i=Ql(i));return t}function Uz({refDOM:n,refTop:t,stack:e}){let i=n?n.getBoundingClientRect().top:0;dT(e,i==0?0:i-t)}function dT(n,t){for(let e=0;e<n.length;e++){let{dom:i,top:r,left:o}=n[e];i.scrollTop!=r+t&&(i.scrollTop=r+t),i.scrollLeft!=o&&(i.scrollLeft=o)}}var ql=null;function $z(n){if(n.setActive)return n.setActive();if(ql)return n.focus(ql);let t=cT(n);n.focus(ql==null?{get preventScroll(){return ql={preventScroll:!0},!0}}:void 0),ql||(ql=!1,dT(t,0))}function hT(n,t){let e,i=2e8,r,o=0,a=t.top,s=t.top,l,c;for(let d=n.firstChild,h=0;d;d=d.nextSibling,h++){let u;if(d.nodeType==1)u=d.getClientRects();else if(d.nodeType==3)u=Ao(d).getClientRects();else continue;for(let p=0;p<u.length;p++){let m=u[p];if(m.top<=a&&m.bottom>=s){a=Math.max(m.bottom,a),s=Math.min(m.top,s);let g=m.left>t.left?m.left-t.left:m.right<t.left?t.left-m.right:0;if(g<i){e=d,i=g,r=g&&e.nodeType==3?{left:m.right<t.left?m.right:m.left,top:t.top}:t,d.nodeType==1&&g&&(o=h+(t.left>=(m.left+m.right)/2?1:0));continue}}else m.top>t.top&&!l&&m.left<=t.left&&m.right>=t.left&&(l=d,c={left:Math.max(m.left,Math.min(m.right,t.left)),top:m.top});!e&&(t.left>=m.right&&t.top>=m.top||t.left>=m.left&&t.top>=m.bottom)&&(o=h+1)}}return!e&&l&&(e=l,r=c,i=0),e&&e.nodeType==3?Wz(e,r):!e||i&&e.nodeType==1?{node:n,offset:o}:hT(e,r)}function Wz(n,t){let e=n.nodeValue.length,i=document.createRange();for(let r=0;r<e;r++){i.setEnd(n,r+1),i.setStart(n,r);let o=va(i,1);if(o.top!=o.bottom&&H0(t,o))return{node:n,offset:r+(t.left>=(o.left+o.right)/2?1:0)}}return{node:n,offset:0}}function H0(n,t){return n.left>=t.left-1&&n.left<=t.right+1&&n.top>=t.top-1&&n.top<=t.bottom+1}function Gz(n,t){let e=n.parentNode;return e&&/^li$/i.test(e.nodeName)&&t.left<n.getBoundingClientRect().left?e:n}function qz(n,t,e){let{node:i,offset:r}=hT(t,e),o=-1;if(i.nodeType==1&&!i.firstChild){let a=i.getBoundingClientRect();o=a.left!=a.right&&e.left>(a.left+a.right)/2?1:-1}return n.docView.posFromDOM(i,r,o)}function Yz(n,t,e,i){let r=-1;for(let o=t,a=!1;o!=n.dom;){let s=n.docView.nearestDesc(o,!0),l;if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent||!s.contentDOM)&&((l=s.dom.getBoundingClientRect()).width||l.height)&&(s.node.isBlock&&s.parent&&(!a&&l.left>i.left||l.top>i.top?r=s.posBefore:(!a&&l.right<i.left||l.bottom<i.top)&&(r=s.posAfter),a=!0),!s.contentDOM&&r<0&&!s.node.isText))return(s.node.isBlock?i.top<(l.top+l.bottom)/2:i.left<(l.left+l.right)/2)?s.posBefore:s.posAfter;o=s.dom.parentNode}return r>-1?r:n.docView.posFromDOM(t,e,-1)}function uT(n,t,e){let i=n.childNodes.length;if(i&&e.top<e.bottom)for(let r=Math.max(0,Math.min(i-1,Math.floor(i*(t.top-e.top)/(e.bottom-e.top))-2)),o=r;;){let a=n.childNodes[o];if(a.nodeType==1){let s=a.getClientRects();for(let l=0;l<s.length;l++){let c=s[l];if(H0(t,c))return uT(a,t,c)}}if((o=(o+1)%i)==r)break}return n}function Kz(n,t){let e=n.dom.ownerDocument,i,r=0,o=Nz(e,t.left,t.top);o&&({node:i,offset:r}=o);let a=(n.root.elementFromPoint?n.root:e).elementFromPoint(t.left,t.top),s;if(!a||!n.dom.contains(a.nodeType!=1?a.parentNode:a)){let c=n.dom.getBoundingClientRect();if(!H0(t,c)||(a=uT(n.dom,t,c),!a))return null}if(nn)for(let c=a;i&&c;c=Ql(c))c.draggable&&(i=void 0);if(a=Gz(a,t),i){if(vr&&i.nodeType==1&&(r=Math.min(r,i.childNodes.length),r<i.childNodes.length)){let d=i.childNodes[r],h;d.nodeName=="IMG"&&(h=d.getBoundingClientRect()).right<=t.left&&h.bottom>t.top&&r++}let c;ah&&r&&i.nodeType==1&&(c=i.childNodes[r-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&r--,i==n.dom&&r==i.childNodes.length-1&&i.lastChild.nodeType==1&&t.top>i.lastChild.getBoundingClientRect().bottom?s=n.state.doc.content.size:(r==0||i.nodeType!=1||i.childNodes[r-1].nodeName!="BR")&&(s=Yz(n,i,r,t))}s==null&&(s=qz(n,a,t));let l=n.docView.nearestDesc(a,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function IA(n){return n.top<n.bottom||n.left<n.right}function va(n,t){let e=n.getClientRects();if(e.length){let i=e[t<0?0:e.length-1];if(IA(i))return i}return Array.prototype.find.call(e,IA)||n.getBoundingClientRect()}var Xz=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function pT(n,t,e){let{node:i,offset:r,atom:o}=n.docView.domFromPos(t,e<0?-1:1),a=ah||vr;if(i.nodeType==3)if(a&&(Xz.test(i.nodeValue)||(e<0?!r:r==i.nodeValue.length))){let l=va(Ao(i,r,r),e);if(vr&&r&&/\s/.test(i.nodeValue[r-1])&&r<i.nodeValue.length){let c=va(Ao(i,r-1,r-1),-1);if(c.top==l.top){let d=va(Ao(i,r,r+1),-1);if(d.top!=l.top)return Zd(d,d.left<c.left)}}return l}else{let l=r,c=r,d=e<0?1:-1;return e<0&&!r?(c++,d=-1):e>=0&&r==i.nodeValue.length?(l--,d=1):e<0?l--:c++,Zd(va(Ao(i,l,c),d),d<0)}if(!n.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&r&&(e<0||r==Qn(i))){let l=i.childNodes[r-1];if(l.nodeType==1)return b0(l.getBoundingClientRect(),!1)}if(o==null&&r<Qn(i)){let l=i.childNodes[r];if(l.nodeType==1)return b0(l.getBoundingClientRect(),!0)}return b0(i.getBoundingClientRect(),e>=0)}if(o==null&&r&&(e<0||r==Qn(i))){let l=i.childNodes[r-1],c=l.nodeType==3?Ao(l,Qn(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Zd(va(c,1),!1)}if(o==null&&r<Qn(i)){let l=i.childNodes[r];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Ao(l,0,a?0:1):l.nodeType==1?l:null:null;if(c)return Zd(va(c,-1),!0)}return Zd(va(i.nodeType==3?Ao(i):i,-e),e>=0)}function Zd(n,t){if(n.width==0)return n;let e=t?n.left:n.right;return{top:n.top,bottom:n.bottom,left:e,right:e}}function b0(n,t){if(n.height==0)return n;let e=t?n.top:n.bottom;return{top:e,bottom:e,left:n.left,right:n.right}}function mT(n,t,e){let i=n.state,r=n.root.activeElement;i!=t&&n.updateState(t),r!=n.dom&&n.focus();try{return e()}finally{i!=t&&n.updateState(i),r!=n.dom&&r&&r.focus()}}function Qz(n,t,e){let i=t.selection,r=e=="up"?i.$from:i.$to;return mT(n,t,()=>{let{node:o}=n.docView.domFromPos(r.pos,e=="up"?-1:1);for(;;){let s=n.docView.nearestDesc(o,!0);if(!s)break;if(s.node.isBlock){o=s.contentDOM||s.dom;break}o=s.dom.parentNode}let a=pT(n,r.pos,1);for(let s=o.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=Ao(s,0,s.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let d=l[c];if(d.bottom>d.top+1&&(e=="up"?a.top-d.top>(d.bottom-a.top)*2:d.bottom-a.bottom>(a.bottom-d.top)*2))return!1}}return!0})}var Zz=/[\u0590-\u08ac]/;function Jz(n,t,e){let{$head:i}=t.selection;if(!i.parent.isTextblock)return!1;let r=i.parentOffset,o=!r,a=r==i.parent.content.size,s=n.domSelection();return s?!Zz.test(i.parent.textContent)||!s.modify?e=="left"||e=="backward"?o:a:mT(n,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:d,anchorOffset:h}=n.domSelectionRange(),u=s.caretBidiLevel;s.modify("move",e,"character");let p=i.depth?n.docView.domAfterPos(i.before()):n.dom,{focusNode:m,focusOffset:g}=n.domSelectionRange(),_=m&&!p.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==g;try{s.collapse(d,h),l&&(l!=d||c!=h)&&s.extend&&s.extend(l,c)}catch{}return u!=null&&(s.caretBidiLevel=u),_}):i.pos==i.start()||i.pos==i.end()}var PA=null,RA=null,OA=!1;function e6(n,t,e){return PA==t&&RA==e?OA:(PA=t,RA=e,OA=e=="up"||e=="down"?Qz(n,t,e):Jz(n,t,e))}var Zn=0,FA=1,Ts=2,$r=3,Ls=class{constructor(t,e,i,r){this.parent=t,this.children=e,this.dom=i,this.contentDOM=r,this.dirty=Zn,i.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,i){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,i=this.posAtStart;;e++){let r=this.children[e];if(r==t)return i;i+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,i){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(i<0){let o,a;if(t==this.contentDOM)o=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(t==this.contentDOM)o=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let r;if(t==this.dom&&this.contentDOM)r=e>Mi(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(e==0)for(let o=t;;o=o.parentNode){if(o==this.dom){r=!1;break}if(o.previousSibling)break}if(r==null&&e==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){r=!0;break}if(o.nextSibling)break}}return r??i>0?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let i=!0,r=t;r;r=r.parentNode){let o=this.getDesc(r),a;if(o&&(!e||o.node))if(i&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(t.nodeType==1?t:t.parentNode):a==t))i=!1;else return o}}getDesc(t){let e=t.pmViewDesc;for(let i=e;i;i=i.parent)if(i==this)return e}posFromDOM(t,e,i){for(let r=t;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(t,e,i)}return-1}descAt(t){for(let e=0,i=0;e<this.children.length;e++){let r=this.children[e],o=i+r.size;if(i==t&&o!=i){for(;!r.border&&r.children.length;)for(let a=0;a<r.children.length;a++){let s=r.children[a];if(s.size){r=s;break}}return r}if(t<o)return r.descAt(t-i-r.border);i=o}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let i=0,r=0;for(let o=0;i<this.children.length;i++){let a=this.children[i],s=o+a.size;if(s>t||a instanceof Bm){r=t-o;break}o=s}if(r)return this.children[i].domFromPos(r-this.children[i].border,e);for(let o;i&&!(o=this.children[i-1]).size&&o instanceof Nm&&o.side>=0;i--);if(e<=0){let o,a=!0;for(;o=i?this.children[i-1]:null,!(!o||o.dom.parentNode==this.contentDOM);i--,a=!1);return o&&e&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,e):{node:this.contentDOM,offset:o?Mi(o.dom)+1:0}}else{let o,a=!0;for(;o=i<this.children.length?this.children[i]:null,!(!o||o.dom.parentNode==this.contentDOM);i++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,e):{node:this.contentDOM,offset:o?Mi(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,i=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let a=i,s=0;;s++){let l=this.children[s],c=a+l.size;if(r==-1&&t<=c){let d=a+l.border;if(t>=d&&e<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,e,d);t=a;for(let h=s;h>0;h--){let u=this.children[h-1];if(u.size&&u.dom.parentNode==this.contentDOM&&!u.emptyChildAt(1)){r=Mi(u.dom)+1;break}t-=u.size}r==-1&&(r=0)}if(r>-1&&(c>e||s==this.children.length-1)){e=c;for(let d=s+1;d<this.children.length;d++){let h=this.children[d];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){o=Mi(h.dom);break}e+=h.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=c}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return e.size==0||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:i}=this.domFromPos(t,0);if(e.nodeType!=1||i==e.childNodes.length)throw new RangeError("No node after pos "+t);return e.childNodes[i]}setSelection(t,e,i,r=!1){let o=Math.min(t,e),a=Math.max(t,e);for(let p=0,m=0;p<this.children.length;p++){let g=this.children[p],_=m+g.size;if(o>m&&a<_)return g.setSelection(t-m-g.border,e-m-g.border,i,r);m=_}let s=this.domFromPos(t,t?-1:1),l=e==t?s:this.domFromPos(e,e?-1:1),c=i.root.getSelection(),d=i.domSelectionRange(),h=!1;if((vr||nn)&&t==e){let{node:p,offset:m}=s;if(p.nodeType==3){if(h=!!(m&&p.nodeValue[m-1]==`
`),h&&m==p.nodeValue.length)for(let g=p,_;g;g=g.parentNode){if(_=g.nextSibling){_.nodeName=="BR"&&(s=l={node:_.parentNode,offset:Mi(_)+1});break}let v=g.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let g=p.childNodes[m-1];h=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(vr&&d.focusNode&&d.focusNode!=l.node&&d.focusNode.nodeType==1){let p=d.focusNode.childNodes[d.focusOffset];p&&p.contentEditable=="false"&&(r=!0)}if(!(r||h&&nn)&&Fs(s.node,s.offset,d.anchorNode,d.anchorOffset)&&Fs(l.node,l.offset,d.focusNode,d.focusOffset))return;let u=!1;if((c.extend||t==e)&&!h){c.collapse(s.node,s.offset);try{t!=e&&c.extend(l.node,l.offset),u=!0}catch{}}if(!u){if(t>e){let m=s;s=l,l=m}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(s.node,s.offset),c.removeAllRanges(),c.addRange(p)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let i=0,r=0;r<this.children.length;r++){let o=this.children[r],a=i+o.size;if(i==a?t<=a&&e>=i:t<a&&e>i){let s=i+o.border,l=a-o.border;if(t>=s&&e<=l){this.dirty=t==i||e==a?Ts:FA,t==s&&e==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=$r:o.markDirty(t-s,e-s);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Ts:$r}i=a}this.dirty=Ts}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let i=t==1?Ts:FA;e.dirty<i&&(e.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}},Nm=class extends Ls{constructor(t,e,i,r){let o,a=e.type.toDOM;if(typeof a=="function"&&(a=a(i,()=>{if(!o)return r;if(o.parent)return o.parent.posBeforeChild(o)})),!e.type.spec.raw){if(a.nodeType!=1){let s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(t,[],a,null),this.widget=e,this.widget=e,o=this}matchesWidget(t){return this.dirty==Zn&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return e?e(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}},S0=class extends Ls{constructor(t,e,i,r){super(t,[],e,null),this.textDOM=i,this.text=r}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}},Jl=class n extends Ls{constructor(t,e,i,r,o){super(t,[],i,r),this.mark=e,this.spec=o}static create(t,e,i,r){let o=r.nodeViews[e.type.name],a=o&&o(e,r,i);return(!a||!a.dom)&&(a=Mo.renderSpec(document,e.type.spec.toDOM(e,i),null,e.attrs)),new n(t,e,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&$r||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=$r&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),this.dirty!=Zn){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=Zn}}slice(t,e,i){let r=n.create(this.parent,this.mark,!0,i),o=this.children,a=this.size;e<a&&(o=I0(o,e,a,i)),t>0&&(o=I0(o,0,t,i));for(let s=0;s<o.length;s++)o[s].parent=r;return r.children=o,r}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}},Ca=class n extends Ls{constructor(t,e,i,r,o,a,s,l,c){super(t,[],o,a),this.node=e,this.outerDeco=i,this.innerDeco=r,this.nodeDOM=s}static create(t,e,i,r,o,a){let s=o.nodeViews[e.type.name],l,c=s&&s(e,o,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},i,r),d=c&&c.dom,h=c&&c.contentDOM;if(e.isText){if(!d)d=document.createTextNode(e.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:h}=Mo.renderSpec(document,e.type.spec.toDOM(e),null,e.attrs));!h&&!e.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),e.type.spec.draggable&&(d.draggable=!0));let u=d;return d=_T(d,i,e),c?l=new E0(t,e,i,r,d,h||null,u,c,o,a+1):e.isText?new Vm(t,e,i,r,d,u,o):new n(t,e,i,r,d,h||null,u,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let e=this.children.length-1;e>=0;e--){let i=this.children[e];if(this.dom.contains(i.dom.parentNode)){t.contentElement=i.dom.parentNode;break}}t.contentElement||(t.getContent=()=>ce.empty)}return t}matchesNode(t,e,i){return this.dirty==Zn&&t.eq(this.node)&&zm(e,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,e){let i=this.node.inlineContent,r=e,o=t.composing?this.localCompositionInfo(t,e):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new T0(this,a&&a.node,t);r6(this.node,this.innerDeco,(c,d,h)=>{c.spec.marks?l.syncToMarks(c.spec.marks,i,t):c.type.side>=0&&!h&&l.syncToMarks(d==this.node.childCount?gt.none:this.node.child(d).marks,i,t),l.placeWidget(c,t,r)},(c,d,h,u)=>{l.syncToMarks(c.marks,i,t);let p;l.findNodeMatch(c,d,h,u)||s&&t.state.selection.from>r&&t.state.selection.to<r+c.nodeSize&&(p=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,d,h,p,t)||l.updateNextNode(c,d,h,t,u,r)||l.addNode(c,d,h,t,r),r+=c.nodeSize}),l.syncToMarks([],i,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Ts)&&(a&&this.protectLocalComposition(t,a),fT(this.contentDOM,this.children,t),Zl&&o6(this.dom))}localCompositionInfo(t,e){let{from:i,to:r}=t.state.selection;if(!(t.state.selection instanceof mt)||i<e||r>e+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,s=a6(this.node.content,a,i-e,r-e);return s<0?null:{node:o,pos:s,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:e,pos:i,text:r}){if(this.getDesc(e))return;let o=e;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new S0(this,o,e,r);t.input.compositionNodes.push(a),this.children=I0(this.children,i,i+r.length,t,a)}update(t,e,i,r){return this.dirty==$r||!t.sameMarkup(this.node)?!1:(this.updateInner(t,e,i,r),!0)}updateInner(t,e,i,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=i,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=Zn}updateOuterDeco(t){if(zm(t,this.outerDeco))return;let e=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=gT(this.dom,this.nodeDOM,A0(this.outerDeco,this.node,e),A0(t,this.node,e)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}};function LA(n,t,e,i,r){_T(i,t,n);let o=new Ca(void 0,n,t,e,i,i,i,r,0);return o.contentDOM&&o.updateChildren(r,0),o}var Vm=class n extends Ca{constructor(t,e,i,r,o,a,s){super(t,e,i,r,o,null,a,s,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,e,i,r){return this.dirty==$r||this.dirty!=Zn&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(e),(this.dirty!=Zn||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=Zn,!0)}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,i){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,i)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,e,i){let r=this.node.cut(t,e),o=document.createTextNode(r.text);return new n(this.parent,r,this.outerDeco,this.innerDeco,o,o,i)}markDirty(t,e){super.markDirty(t,e),this.dom!=this.nodeDOM&&(t==0||e==this.nodeDOM.nodeValue.length)&&(this.dirty=$r)}get domAtom(){return!1}isText(t){return this.node.text==t}},Bm=class extends Ls{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Zn&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}},E0=class extends Ca{constructor(t,e,i,r,o,a,s,l,c,d){super(t,e,i,r,o,a,s,c,d),this.spec=l}update(t,e,i,r){if(this.dirty==$r)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let o=this.spec.update(t,e,i);return o&&this.updateInner(t,e,i,r),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,e,i,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,i,r){this.spec.setSelection?this.spec.setSelection(t,e,i.root):super.setSelection(t,e,i,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}};function fT(n,t,e){let i=n.firstChild,r=!1;for(let o=0;o<t.length;o++){let a=t[o],s=a.dom;if(s.parentNode==n){for(;s!=i;)i=NA(i),r=!0;i=i.nextSibling}else r=!0,n.insertBefore(s,i);if(a instanceof Jl){let l=i?i.previousSibling:n.lastChild;fT(a.contentDOM,a.children,e),i=l?l.nextSibling:n.firstChild}}for(;i;)i=NA(i),r=!0;r&&e.trackWrites==n&&(e.trackWrites=null)}var Jd=function(n){n&&(this.nodeName=n)};Jd.prototype=Object.create(null);var Is=[new Jd];function A0(n,t,e){if(n.length==0)return Is;let i=e?Is[0]:new Jd,r=[i];for(let o=0;o<n.length;o++){let a=n[o].type.attrs;if(a){a.nodeName&&r.push(i=new Jd(a.nodeName));for(let s in a){let l=a[s];l!=null&&(e&&r.length==1&&r.push(i=new Jd(t.isInline?"span":"div")),s=="class"?i.class=(i.class?i.class+" ":"")+l:s=="style"?i.style=(i.style?i.style+";":"")+l:s!="nodeName"&&(i[s]=l))}}}return r}function gT(n,t,e,i){if(e==Is&&i==Is)return t;let r=t;for(let o=0;o<i.length;o++){let a=i[o],s=e[o];if(o){let l;s&&s.nodeName==a.nodeName&&r!=n&&(l=r.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(r),s=Is[0]),r=l}t6(r,s||Is[0],a)}return r}function t6(n,t,e){for(let i in t)i!="class"&&i!="style"&&i!="nodeName"&&!(i in e)&&n.removeAttribute(i);for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&e[i]!=t[i]&&n.setAttribute(i,e[i]);if(t.class!=e.class){let i=t.class?t.class.split(" ").filter(Boolean):[],r=e.class?e.class.split(" ").filter(Boolean):[];for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&n.classList.remove(i[o]);for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&n.classList.add(r[o]);n.classList.length==0&&n.removeAttribute("class")}if(t.style!=e.style){if(t.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=i.exec(t.style);)n.style.removeProperty(r[1])}e.style&&(n.style.cssText+=e.style)}}function _T(n,t,e){return gT(n,n,Is,A0(t,e,n.nodeType!=1))}function zm(n,t){if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++)if(!n[e].type.eq(t[e].type))return!1;return!0}function NA(n){let t=n.nextSibling;return n.parentNode.removeChild(n),t}var T0=class{constructor(t,e,i){this.lock=e,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=i6(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let i=t;i<e;i++)this.top.children[i].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,i){let r=0,o=this.stack.length>>1,a=Math.min(o,t.length);for(;r<a&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&t[r].type.spec.spanning!==!1;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=Zn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[o])&&!this.isLocked(c.dom)){s=l;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let l=Jl.create(this.top,t[o],e,i);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(t,e,i,r){let o=-1,a;if(r>=this.preMatch.index&&(a=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&a.matchesNode(t,e,i))o=this.top.children.indexOf(a,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let c=this.top.children[s];if(c.matchesNode(t,e,i)&&!this.preMatch.matched.has(c)){o=s;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,e,i,r,o){let a=this.top.children[r];return a.dirty==$r&&a.dom==a.contentDOM&&(a.dirty=Ts),a.update(t,e,i,o)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let i=t.pmViewDesc;if(i){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==i)return r}return-1}t=e}}updateNextNode(t,e,i,r,o,a){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof Ca){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let d=l.dom,h,u=this.isLocked(d)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=$r&&zm(e,l.outerDeco));if(!u&&l.update(t,e,i,r))return this.destroyBetween(this.index,s),l.dom!=d&&(this.changed=!0),this.index++,!0;if(!u&&(h=this.recreateWrapper(l,t,e,i,r,a)))return this.destroyBetween(this.index,s),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=Ts,h.updateChildren(r,a+1),h.dirty=Zn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,e,i,r,o,a){if(t.dirty||e.isAtom||!t.children.length||!t.node.content.eq(e.content)||!zm(i,t.outerDeco)||!r.eq(t.innerDeco))return null;let s=Ca.create(this.top,e,i,r,o,a);if(s.contentDOM){s.children=t.children,t.children=[];for(let l of s.children)l.parent=s}return t.destroy(),s}addNode(t,e,i,r,o){let a=Ca.create(this.top,t,e,i,r,o);a.contentDOM&&a.updateChildren(r,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(t,e,i){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(t)&&(t==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let o=new Nm(this.top,t,e,i);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;for(;t instanceof Jl;)e=t,t=e.children[e.children.length-1];(!t||!(t instanceof Vm)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((nn||ji)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let i=document.createElement(t);t=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),t=="BR"&&(i.className="ProseMirror-trailingBreak");let r=new Bm(this.top,[],i,null);e!=this.top?e.children.push(r):e.children.splice(this.index++,0,r),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}};function i6(n,t){let e=t,i=e.children.length,r=n.childCount,o=new Map,a=[];e:for(;r>0;){let s;for(;;)if(i){let c=e.children[i-1];if(c instanceof Jl)e=c,i=c.children.length;else{s=c,i--;break}}else{if(e==t)break e;i=e.parent.children.indexOf(e),e=e.parent}let l=s.node;if(l){if(l!=n.child(r-1))break;--r,o.set(s,r),a.push(s)}}return{index:r,matched:o,matches:a.reverse()}}function n6(n,t){return n.type.side-t.type.side}function r6(n,t,e,i){let r=t.locals(n),o=0;if(r.length==0){for(let c=0;c<n.childCount;c++){let d=n.child(c);i(d,r,t.forChild(o,d),c),o+=d.nodeSize}return}let a=0,s=[],l=null;for(let c=0;;){let d,h;for(;a<r.length&&r[a].to==o;){let _=r[a++];_.widget&&(d?(h||(h=[d])).push(_):d=_)}if(d)if(h){h.sort(n6);for(let _=0;_<h.length;_++)e(h[_],c,!!l)}else e(d,c,!!l);let u,p;if(l)p=-1,u=l,l=null;else if(c<n.childCount)p=c,u=n.child(c++);else break;for(let _=0;_<s.length;_++)s[_].to<=o&&s.splice(_--,1);for(;a<r.length&&r[a].from<=o&&r[a].to>o;)s.push(r[a++]);let m=o+u.nodeSize;if(u.isText){let _=m;a<r.length&&r[a].from<_&&(_=r[a].from);for(let v=0;v<s.length;v++)s[v].to<_&&(_=s[v].to);_<m&&(l=u.cut(_-o),u=u.cut(0,_-o),m=_,p=-1)}else for(;a<r.length&&r[a].to<m;)a++;let g=u.isInline&&!u.isLeaf?s.filter(_=>!_.inline):s.slice();i(u,g,t.forChild(o,u),p),o=m}}function o6(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let t=n.style.cssText;n.style.cssText=t+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=t}}function a6(n,t,e,i){for(let r=0,o=0;r<n.childCount&&o<=i;){let a=n.child(r++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;for(;r<n.childCount;){let c=n.child(r++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=e){if(o>=i&&l.slice(i-t.length-s,i-s)==t)return i-t.length;let c=s<i?l.lastIndexOf(t,i-s-1):-1;if(c>=0&&c+t.length+s>=e)return s+c;if(e==i&&l.length>=i+t.length-s&&l.slice(i-s,i-s+t.length)==t)return i}}return-1}function I0(n,t,e,i,r){let o=[];for(let a=0,s=0;a<n.length;a++){let l=n[a],c=s,d=s+=l.size;c>=e||d<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,i)),r&&(o.push(r),r=void 0),d>e&&o.push(l.slice(e-c,l.size,i)))}return o}function j0(n,t=null){let e=n.domSelectionRange(),i=n.state.doc;if(!e.focusNode)return null;let r=n.docView.nearestDesc(e.focusNode),o=r&&r.size==0,a=n.docView.posFromDOM(e.focusNode,e.focusOffset,1);if(a<0)return null;let s=i.resolve(a),l,c;if(qm(e)){for(l=a;r&&!r.node;)r=r.parent;let h=r.node;if(r&&h.isAtom&&Re.isSelectable(h)&&r.parent&&!(h.isInline&&Fz(e.focusNode,e.focusOffset,r.dom))){let u=r.posBefore;c=new Re(a==u?s:i.resolve(u))}}else{if(e instanceof n.dom.ownerDocument.defaultView.Selection&&e.rangeCount>1){let h=a,u=a;for(let p=0;p<e.rangeCount;p++){let m=e.getRangeAt(p);h=Math.min(h,n.docView.posFromDOM(m.startContainer,m.startOffset,1)),u=Math.max(u,n.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(h<0)return null;[l,a]=u==n.state.selection.anchor?[u,h]:[h,u],s=i.resolve(a)}else l=n.docView.posFromDOM(e.anchorNode,e.anchorOffset,1);if(l<0)return null}let d=i.resolve(l);if(!c){let h=t=="pointer"||n.state.selection.head<s.pos&&!o?1:-1;c=U0(n,d,s,h)}return c}function bT(n){return n.editable?n.hasFocus():yT(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Io(n,t=!1){let e=n.state.selection;if(vT(n,e),!!bT(n)){if(!t&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&ji){let i=n.domSelectionRange(),r=n.domObserver.currentSelection;if(i.anchorNode&&r.anchorNode&&Fs(i.anchorNode,i.anchorOffset,r.anchorNode,r.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)l6(n);else{let{anchor:i,head:r}=e,o,a;VA&&!(e instanceof mt)&&(e.$from.parent.inlineContent||(o=BA(n,e.from)),!e.empty&&!e.$from.parent.inlineContent&&(a=BA(n,e.to))),n.docView.setSelection(i,r,n,t),VA&&(o&&zA(o),a&&zA(a)),e.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&s6(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}var VA=nn||ji&&lT<63;function BA(n,t){let{node:e,offset:i}=n.docView.domFromPos(t,0),r=i<e.childNodes.length?e.childNodes[i]:null,o=i?e.childNodes[i-1]:null;if(nn&&r&&r.contentEditable=="false")return v0(r);if((!r||r.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(r)return v0(r);if(o)return v0(o)}}function v0(n){return n.contentEditable="true",nn&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function zA(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function s6(n){let t=n.dom.ownerDocument;t.removeEventListener("selectionchange",n.input.hideSelectionGuard);let e=n.domSelectionRange(),i=e.anchorNode,r=e.anchorOffset;t.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(e.anchorNode!=i||e.anchorOffset!=r)&&(t.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!bT(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function l6(n){let t=n.domSelection(),e=document.createRange();if(!t)return;let i=n.cursorWrapper.dom,r=i.nodeName=="IMG";r?e.setStart(i.parentNode,Mi(i)+1):e.setStart(i,0),e.collapse(!0),t.removeAllRanges(),t.addRange(e),!r&&!n.state.selection.visible&&pn&&xa<=11&&(i.disabled=!0,i.disabled=!1)}function vT(n,t){if(t instanceof Re){let e=n.docView.descAt(t.from);e!=n.lastSelectedViewDesc&&(HA(n),e&&e.selectNode(),n.lastSelectedViewDesc=e)}else HA(n)}function HA(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function U0(n,t,e,i){return n.someProp("createSelectionBetween",r=>r(n,t,e))||mt.between(t,e,i)}function jA(n){return n.editable&&!n.hasFocus()?!1:yT(n)}function yT(n){let t=n.domSelectionRange();if(!t.anchorNode)return!1;try{return n.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(n.editable||n.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function c6(n){let t=n.docView.domFromPos(n.state.selection.anchor,0),e=n.domSelectionRange();return Fs(t.node,t.offset,e.anchorNode,e.anchorOffset)}function P0(n,t){let{$anchor:e,$head:i}=n.selection,r=t>0?e.max(i):e.min(i),o=r.parent.inlineContent?r.depth?n.doc.resolve(t>0?r.after():r.before()):null:r;return o&&Ke.findFrom(o,t)}function ya(n,t){return n.dispatch(n.state.tr.setSelection(t).scrollIntoView()),!0}function UA(n,t,e){let i=n.state.selection;if(i instanceof mt)if(e.indexOf("s")>-1){let{$head:r}=i,o=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=n.state.doc.resolve(r.pos+o.nodeSize*(t<0?-1:1));return ya(n,new mt(i.$anchor,a))}else if(i.empty){if(n.endOfTextblock(t>0?"forward":"backward")){let r=P0(n.state,t);return r&&r instanceof Re?ya(n,r):!1}else if(!(Xn&&e.indexOf("m")>-1)){let r=i.$head,o=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter,a;if(!o||o.isText)return!1;let s=t<0?r.pos-o.nodeSize:r.pos;return o.isAtom||(a=n.docView.descAt(s))&&!a.contentDOM?Re.isSelectable(o)?ya(n,new Re(t<0?n.state.doc.resolve(r.pos-o.nodeSize):r)):ah?ya(n,new mt(n.state.doc.resolve(t<0?s:s+o.nodeSize))):!1:!1}}else return!1;else{if(i instanceof Re&&i.node.isInline)return ya(n,new mt(t>0?i.$to:i.$from));{let r=P0(n.state,t);return r?ya(n,r):!1}}}function Hm(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function eh(n,t){let e=n.pmViewDesc;return e&&e.size==0&&(t<0||n.nextSibling||n.nodeName!="BR")}function Yl(n,t){return t<0?d6(n):h6(n)}function d6(n){let t=n.domSelectionRange(),e=t.focusNode,i=t.focusOffset;if(!e)return;let r,o,a=!1;for(vr&&e.nodeType==1&&i<Hm(e)&&eh(e.childNodes[i],-1)&&(a=!0);;)if(i>0){if(e.nodeType!=1)break;{let s=e.childNodes[i-1];if(eh(s,-1))r=e,o=--i;else if(s.nodeType==3)e=s,i=e.nodeValue.length;else break}}else{if(wT(e))break;{let s=e.previousSibling;for(;s&&eh(s,-1);)r=e.parentNode,o=Mi(s),s=s.previousSibling;if(s)e=s,i=Hm(e);else{if(e=e.parentNode,e==n.dom)break;i=0}}}a?R0(n,e,i):r&&R0(n,r,o)}function h6(n){let t=n.domSelectionRange(),e=t.focusNode,i=t.focusOffset;if(!e)return;let r=Hm(e),o,a;for(;;)if(i<r){if(e.nodeType!=1)break;let s=e.childNodes[i];if(eh(s,1))o=e,a=++i;else break}else{if(wT(e))break;{let s=e.nextSibling;for(;s&&eh(s,1);)o=s.parentNode,a=Mi(s)+1,s=s.nextSibling;if(s)e=s,i=0,r=Hm(e);else{if(e=e.parentNode,e==n.dom)break;i=r=0}}}o&&R0(n,o,a)}function wT(n){let t=n.pmViewDesc;return t&&t.node&&t.node.isBlock}function u6(n,t){for(;n&&t==n.childNodes.length&&!oh(n);)t=Mi(n)+1,n=n.parentNode;for(;n&&t<n.childNodes.length;){let e=n.childNodes[t];if(e.nodeType==3)return e;if(e.nodeType==1&&e.contentEditable=="false")break;n=e,t=0}}function p6(n,t){for(;n&&!t&&!oh(n);)t=Mi(n),n=n.parentNode;for(;n&&t;){let e=n.childNodes[t-1];if(e.nodeType==3)return e;if(e.nodeType==1&&e.contentEditable=="false")break;n=e,t=n.childNodes.length}}function R0(n,t,e){if(t.nodeType!=3){let o,a;(a=u6(t,e))?(t=a,e=0):(o=p6(t,e))&&(t=o,e=o.nodeValue.length)}let i=n.domSelection();if(!i)return;if(qm(i)){let o=document.createRange();o.setEnd(t,e),o.setStart(t,e),i.removeAllRanges(),i.addRange(o)}else i.extend&&i.extend(t,e);n.domObserver.setCurSelection();let{state:r}=n;setTimeout(()=>{n.state==r&&Io(n)},50)}function $A(n,t){let e=n.state.doc.resolve(t);if(!(ji||Vz)&&e.parent.inlineContent){let r=n.coordsAtPos(t);if(t>e.start()){let o=n.coordsAtPos(t-1),a=(o.top+o.bottom)/2;if(a>r.top&&a<r.bottom&&Math.abs(o.left-r.left)>1)return o.left<r.left?"ltr":"rtl"}if(t<e.end()){let o=n.coordsAtPos(t+1),a=(o.top+o.bottom)/2;if(a>r.top&&a<r.bottom&&Math.abs(o.left-r.left)>1)return o.left>r.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function WA(n,t,e){let i=n.state.selection;if(i instanceof mt&&!i.empty||e.indexOf("s")>-1||Xn&&e.indexOf("m")>-1)return!1;let{$from:r,$to:o}=i;if(!r.parent.inlineContent||n.endOfTextblock(t<0?"up":"down")){let a=P0(n.state,t);if(a&&a instanceof Re)return ya(n,a)}if(!r.parent.inlineContent){let a=t<0?r:o,s=i instanceof Fn?Ke.near(a,t):Ke.findFrom(a,t);return s?ya(n,s):!1}return!1}function GA(n,t){if(!(n.state.selection instanceof mt))return!0;let{$head:e,$anchor:i,empty:r}=n.state.selection;if(!e.sameParent(i))return!0;if(!r)return!1;if(n.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!e.textOffset&&(t<0?e.nodeBefore:e.nodeAfter);if(o&&!o.isText){let a=n.state.tr;return t<0?a.delete(e.pos-o.nodeSize,e.pos):a.delete(e.pos,e.pos+o.nodeSize),n.dispatch(a),!0}return!1}function qA(n,t,e){n.domObserver.stop(),t.contentEditable=e,n.domObserver.start()}function m6(n){if(!nn||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:e}=n.domSelectionRange();if(t&&t.nodeType==1&&e==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let i=t.firstChild;qA(n,i,"true"),setTimeout(()=>qA(n,i,"false"),20)}return!1}function f6(n){let t="";return n.ctrlKey&&(t+="c"),n.metaKey&&(t+="m"),n.altKey&&(t+="a"),n.shiftKey&&(t+="s"),t}function g6(n,t){let e=t.keyCode,i=f6(t);if(e==8||Xn&&e==72&&i=="c")return GA(n,-1)||Yl(n,-1);if(e==46&&!t.shiftKey||Xn&&e==68&&i=="c")return GA(n,1)||Yl(n,1);if(e==13||e==27)return!0;if(e==37||Xn&&e==66&&i=="c"){let r=e==37?$A(n,n.state.selection.from)=="ltr"?-1:1:-1;return UA(n,r,i)||Yl(n,r)}else if(e==39||Xn&&e==70&&i=="c"){let r=e==39?$A(n,n.state.selection.from)=="ltr"?1:-1:1;return UA(n,r,i)||Yl(n,r)}else{if(e==38||Xn&&e==80&&i=="c")return WA(n,-1,i)||Yl(n,-1);if(e==40||Xn&&e==78&&i=="c")return m6(n)||WA(n,1,i)||Yl(n,1);if(i==(Xn?"m":"c")&&(e==66||e==73||e==89||e==90))return!0}return!1}function $0(n,t){n.someProp("transformCopied",p=>{t=p(t,n)});let e=[],{content:i,openStart:r,openEnd:o}=t;for(;r>1&&o>1&&i.childCount==1&&i.firstChild.childCount==1;){r--,o--;let p=i.firstChild;e.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),i=p.content}let a=n.someProp("clipboardSerializer")||Mo.fromSchema(n.state.schema),s=ST(),l=s.createElement("div");l.appendChild(a.serializeFragment(i,{document:s}));let c=l.firstChild,d,h=0;for(;c&&c.nodeType==1&&(d=MT[c.nodeName.toLowerCase()]);){for(let p=d.length-1;p>=0;p--){let m=s.createElement(d[p]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),h++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${r} ${o}${h?` -${h}`:""} ${JSON.stringify(e)}`);let u=n.someProp("clipboardTextSerializer",p=>p(t,n))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:u,slice:t}}function xT(n,t,e,i,r){let o=r.parent.type.spec.code,a,s;if(!e&&!t)return null;let l=t&&(i||o||!e);if(l){if(n.someProp("transformPastedText",u=>{t=u(t,o||i,n)}),o)return t?new fe(ce.from(n.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):fe.empty;let h=n.someProp("clipboardTextParser",u=>u(t,r,i,n));if(h)s=h;else{let u=r.marks(),{schema:p}=n.state,m=Mo.fromSchema(p);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(g=>{let _=a.appendChild(document.createElement("p"));g&&_.appendChild(m.serializeNode(p.text(g,u)))})}}else n.someProp("transformPastedHTML",h=>{e=h(e,n)}),a=y6(e),ah&&w6(a);let c=a&&a.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let h=+d[3];h>0;h--){let u=a.firstChild;for(;u&&u.nodeType!=1;)u=u.nextSibling;if(!u)break;a=u}if(s||(s=(n.someProp("clipboardParser")||n.someProp("domParser")||_a.fromSchema(n.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||d),context:r,ruleFromNode(u){return u.nodeName=="BR"&&!u.nextSibling&&u.parentNode&&!_6.test(u.parentNode.nodeName)?{ignore:!0}:null}})),d)s=x6(YA(s,+d[1],+d[2]),d[4]);else if(s=fe.maxOpen(b6(s.content,r),!0),s.openStart||s.openEnd){let h=0,u=0;for(let p=s.content.firstChild;h<s.openStart&&!p.type.spec.isolating;h++,p=p.firstChild);for(let p=s.content.lastChild;u<s.openEnd&&!p.type.spec.isolating;u++,p=p.lastChild);s=YA(s,h,u)}return n.someProp("transformPasted",h=>{s=h(s,n)}),s}var _6=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function b6(n,t){if(n.childCount<2)return n;for(let e=t.depth;e>=0;e--){let r=t.node(e).contentMatchAt(t.index(e)),o,a=[];if(n.forEach(s=>{if(!a)return;let l=r.findWrapping(s.type),c;if(!l)return a=null;if(c=a.length&&o.length&&kT(l,o,s,a[a.length-1],0))a[a.length-1]=c;else{a.length&&(a[a.length-1]=DT(a[a.length-1],o.length));let d=CT(s,l);a.push(d),r=r.matchType(d.type),o=l}}),a)return ce.from(a)}return n}function CT(n,t,e=0){for(let i=t.length-1;i>=e;i--)n=t[i].create(null,ce.from(n));return n}function kT(n,t,e,i,r){if(r<n.length&&r<t.length&&n[r]==t[r]){let o=kT(n,t,e,i.lastChild,r+1);if(o)return i.copy(i.content.replaceChild(i.childCount-1,o));if(i.contentMatchAt(i.childCount).matchType(r==n.length-1?e.type:n[r+1]))return i.copy(i.content.append(ce.from(CT(e,n,r+1))))}}function DT(n,t){if(t==0)return n;let e=n.content.replaceChild(n.childCount-1,DT(n.lastChild,t-1)),i=n.contentMatchAt(n.childCount).fillBefore(ce.empty,!0);return n.copy(e.append(i))}function O0(n,t,e,i,r,o){let a=t<0?n.firstChild:n.lastChild,s=a.content;return n.childCount>1&&(o=0),r<i-1&&(s=O0(s,t,e,i,r+1,o)),r>=e&&(s=t<0?a.contentMatchAt(0).fillBefore(s,o<=r).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(ce.empty,!0))),n.replaceChild(t<0?0:n.childCount-1,a.copy(s))}function YA(n,t,e){return t<n.openStart&&(n=new fe(O0(n.content,-1,t,n.openStart,0,n.openEnd),t,n.openEnd)),e<n.openEnd&&(n=new fe(O0(n.content,1,e,n.openEnd,0,0),n.openStart,e)),n}var MT={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},KA=null;function ST(){return KA||(KA=document.implementation.createHTMLDocument("title"))}var y0=null;function v6(n){let t=window.trustedTypes;return t?(y0||(y0=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:e=>e})),y0.createHTML(n)):n}function y6(n){let t=/^(\s*<meta [^>]*>)*/.exec(n);t&&(n=n.slice(t[0].length));let e=ST().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(n),r;if((r=i&&MT[i[1].toLowerCase()])&&(n=r.map(o=>"<"+o+">").join("")+n+r.map(o=>"</"+o+">").reverse().join("")),e.innerHTML=v6(n),r)for(let o=0;o<r.length;o++)e=e.querySelector(r[o])||e;return e}function w6(n){let t=n.querySelectorAll(ji?"span:not([class]):not([style])":"span.Apple-converted-space");for(let e=0;e<t.length;e++){let i=t[e];i.childNodes.length==1&&i.textContent=="\xA0"&&i.parentNode&&i.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),i)}}function x6(n,t){if(!n.size)return n;let e=n.content.firstChild.type.schema,i;try{i=JSON.parse(t)}catch{return n}let{content:r,openStart:o,openEnd:a}=n;for(let s=i.length-2;s>=0;s-=2){let l=e.nodes[i[s]];if(!l||l.hasRequiredAttrs())break;r=ce.from(l.create(i[s+1],r)),o++,a++}return new fe(r,o,a)}var rn={},on={},C6={touchstart:!0,touchmove:!0},F0=class{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}};function k6(n){for(let t in rn){let e=rn[t];n.dom.addEventListener(t,n.input.eventHandlers[t]=i=>{M6(n,i)&&!W0(n,i)&&(n.editable||!(i.type in on))&&e(n,i)},C6[t]?{passive:!0}:void 0)}nn&&n.dom.addEventListener("input",()=>null),L0(n)}function wa(n,t){n.input.lastSelectionOrigin=t,n.input.lastSelectionTime=Date.now()}function D6(n){n.domObserver.stop();for(let t in n.input.eventHandlers)n.dom.removeEventListener(t,n.input.eventHandlers[t]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function L0(n){n.someProp("handleDOMEvents",t=>{for(let e in t)n.input.eventHandlers[e]||n.dom.addEventListener(e,n.input.eventHandlers[e]=i=>W0(n,i))})}function W0(n,t){return n.someProp("handleDOMEvents",e=>{let i=e[t.type];return i?i(n,t)||t.defaultPrevented:!1})}function M6(n,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target;e!=n.dom;e=e.parentNode)if(!e||e.nodeType==11||e.pmViewDesc&&e.pmViewDesc.stopEvent(t))return!1;return!0}function S6(n,t){!W0(n,t)&&rn[t.type]&&(n.editable||!(t.type in on))&&rn[t.type](n,t)}on.keydown=(n,t)=>{let e=t;if(n.input.shiftKey=e.keyCode==16||e.shiftKey,!AT(n,e)&&(n.input.lastKeyCode=e.keyCode,n.input.lastKeyCodeTime=Date.now(),!(To&&ji&&e.keyCode==13)))if(e.keyCode!=229&&n.domObserver.forceFlush(),Zl&&e.keyCode==13&&!e.ctrlKey&&!e.altKey&&!e.metaKey){let i=Date.now();n.input.lastIOSEnter=i,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==i&&(n.someProp("handleKeyDown",r=>r(n,As(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",i=>i(n,e))||g6(n,e)?e.preventDefault():wa(n,"key")};on.keyup=(n,t)=>{t.keyCode==16&&(n.input.shiftKey=!1)};on.keypress=(n,t)=>{let e=t;if(AT(n,e)||!e.charCode||e.ctrlKey&&!e.altKey||Xn&&e.metaKey)return;if(n.someProp("handleKeyPress",r=>r(n,e))){e.preventDefault();return}let i=n.state.selection;if(!(i instanceof mt)||!i.$from.sameParent(i.$to)){let r=String.fromCharCode(e.charCode),o=()=>n.state.tr.insertText(r).scrollIntoView();!/[\r\n]/.test(r)&&!n.someProp("handleTextInput",a=>a(n,i.$from.pos,i.$to.pos,r,o))&&n.dispatch(o()),e.preventDefault()}};function Ym(n){return{left:n.clientX,top:n.clientY}}function E6(n,t){let e=t.x-n.clientX,i=t.y-n.clientY;return e*e+i*i<100}function G0(n,t,e,i,r){if(i==-1)return!1;let o=n.state.doc.resolve(i);for(let a=o.depth+1;a>0;a--)if(n.someProp(t,s=>a>o.depth?s(n,e,o.nodeAfter,o.before(a),r,!0):s(n,e,o.node(a),o.before(a),r,!1)))return!0;return!1}function Xl(n,t,e){if(n.focused||n.focus(),n.state.selection.eq(t))return;let i=n.state.tr.setSelection(t);e=="pointer"&&i.setMeta("pointer",!0),n.dispatch(i)}function A6(n,t){if(t==-1)return!1;let e=n.state.doc.resolve(t),i=e.nodeAfter;return i&&i.isAtom&&Re.isSelectable(i)?(Xl(n,new Re(e),"pointer"),!0):!1}function T6(n,t){if(t==-1)return!1;let e=n.state.selection,i,r;e instanceof Re&&(i=e.node);let o=n.state.doc.resolve(t);for(let a=o.depth+1;a>0;a--){let s=a>o.depth?o.nodeAfter:o.node(a);if(Re.isSelectable(s)){i&&e.$from.depth>0&&a>=e.$from.depth&&o.before(e.$from.depth+1)==e.$from.pos?r=o.before(e.$from.depth):r=o.before(a);break}}return r!=null?(Xl(n,Re.create(n.state.doc,r),"pointer"),!0):!1}function I6(n,t,e,i,r){return G0(n,"handleClickOn",t,e,i)||n.someProp("handleClick",o=>o(n,t,i))||(r?T6(n,e):A6(n,e))}function P6(n,t,e,i){return G0(n,"handleDoubleClickOn",t,e,i)||n.someProp("handleDoubleClick",r=>r(n,t,i))}function R6(n,t,e,i){return G0(n,"handleTripleClickOn",t,e,i)||n.someProp("handleTripleClick",r=>r(n,t,i))||O6(n,e,i)}function O6(n,t,e){if(e.button!=0)return!1;let i=n.state.doc;if(t==-1)return i.inlineContent?(Xl(n,mt.create(i,0,i.content.size),"pointer"),!0):!1;let r=i.resolve(t);for(let o=r.depth+1;o>0;o--){let a=o>r.depth?r.nodeAfter:r.node(o),s=r.before(o);if(a.inlineContent)Xl(n,mt.create(i,s+1,s+1+a.content.size),"pointer");else if(Re.isSelectable(a))Xl(n,Re.create(i,s),"pointer");else continue;return!0}}function q0(n){return jm(n)}var ET=Xn?"metaKey":"ctrlKey";rn.mousedown=(n,t)=>{let e=t;n.input.shiftKey=e.shiftKey;let i=q0(n),r=Date.now(),o="singleClick";r-n.input.lastClick.time<500&&E6(e,n.input.lastClick)&&!e[ET]&&n.input.lastClick.button==e.button&&(n.input.lastClick.type=="singleClick"?o="doubleClick":n.input.lastClick.type=="doubleClick"&&(o="tripleClick")),n.input.lastClick={time:r,x:e.clientX,y:e.clientY,type:o,button:e.button};let a=n.posAtCoords(Ym(e));a&&(o=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new N0(n,a,e,!!i)):(o=="doubleClick"?P6:R6)(n,a.pos,a.inside,e)?e.preventDefault():wa(n,"pointer"))};var N0=class{constructor(t,e,i,r){this.view=t,this.pos=e,this.event=i,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!i[ET],this.allowDefault=i.shiftKey;let o,a;if(e.inside>-1)o=t.state.doc.nodeAt(e.inside),a=e.inside;else{let d=t.state.doc.resolve(e.pos);o=d.parent,a=d.depth?d.before():0}let s=r?null:i.target,l=s?t.docView.nearestDesc(s,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=t.state;(i.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof Re&&c.from<=a&&c.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&vr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),wa(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Io(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(Ym(t))),this.updateAllowDefault(t),this.allowDefault||!e?wa(this.view,"pointer"):I6(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||nn&&this.mightDrag&&!this.mightDrag.node.isAtom||ji&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(Xl(this.view,Ke.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):wa(this.view,"pointer")}move(t){this.updateAllowDefault(t),wa(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}};rn.touchstart=n=>{n.input.lastTouch=Date.now(),q0(n),wa(n,"pointer")};rn.touchmove=n=>{n.input.lastTouch=Date.now(),wa(n,"pointer")};rn.contextmenu=n=>q0(n);function AT(n,t){return n.composing?!0:nn&&Math.abs(t.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}var F6=To?5e3:-1;on.compositionstart=on.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:t}=n,e=t.selection.$to;if(t.selection instanceof mt&&(t.storedMarks||!e.textOffset&&e.parentOffset&&e.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||e.marks(),jm(n,!0),n.markCursor=null;else if(jm(n,!t.selection.empty),vr&&t.selection.empty&&e.parentOffset&&!e.textOffset&&e.nodeBefore.marks.length){let i=n.domSelectionRange();for(let r=i.focusNode,o=i.focusOffset;r&&r.nodeType==1&&o!=0;){let a=o<0?r.lastChild:r.childNodes[o-1];if(!a)break;if(a.nodeType==3){let s=n.domSelection();s&&s.collapse(a,a.nodeValue.length);break}else r=a,o=-1}}n.input.composing=!0}TT(n,F6)};on.compositionend=(n,t)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=t.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,TT(n,20))};function TT(n,t){clearTimeout(n.input.composingTimeout),t>-1&&(n.input.composingTimeout=setTimeout(()=>jm(n),t))}function IT(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=N6());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function L6(n){let t=n.domSelectionRange();if(!t.focusNode)return null;let e=Rz(t.focusNode,t.focusOffset),i=Oz(t.focusNode,t.focusOffset);if(e&&i&&e!=i){let r=i.pmViewDesc,o=n.domObserver.lastChangedTextNode;if(e==o||i==o)return o;if(!r||!r.isText(i.nodeValue))return i;if(n.input.compositionNode==i){let a=e.pmViewDesc;if(!(!a||!a.isText(e.nodeValue)))return i}}return e||i}function N6(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function jm(n,t=!1){if(!(To&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),IT(n),t||n.docView&&n.docView.dirty){let e=j0(n),i=n.state.selection;return e&&!e.eq(i)?n.dispatch(n.state.tr.setSelection(e)):(n.markCursor||t)&&!i.$from.node(i.$from.sharedDepth(i.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function V6(n,t){if(!n.dom.parentNode)return;let e=n.dom.parentNode.appendChild(document.createElement("div"));e.appendChild(t),e.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),r=document.createRange();r.selectNodeContents(t),n.dom.blur(),i.removeAllRanges(),i.addRange(r),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e),n.focus()},50)}var th=pn&&xa<15||Zl&&Bz<604;rn.copy=on.cut=(n,t)=>{let e=t,i=n.state.selection,r=e.type=="cut";if(i.empty)return;let o=th?null:e.clipboardData,a=i.content(),{dom:s,text:l}=$0(n,a);o?(e.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):V6(n,s),r&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function B6(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function z6(n,t){if(!n.dom.parentNode)return;let e=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,i=n.dom.parentNode.appendChild(document.createElement(e?"textarea":"div"));e||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let r=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),i.parentNode&&i.parentNode.removeChild(i),e?ih(n,i.value,null,r,t):ih(n,i.textContent,i.innerHTML,r,t)},50)}function ih(n,t,e,i,r){let o=xT(n,t,e,i,n.state.selection.$from);if(n.someProp("handlePaste",l=>l(n,r,o||fe.empty)))return!0;if(!o)return!1;let a=B6(o),s=a?n.state.tr.replaceSelectionWith(a,i):n.state.tr.replaceSelection(o);return n.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function PT(n){let t=n.getData("text/plain")||n.getData("Text");if(t)return t;let e=n.getData("text/uri-list");return e?e.replace(/\r?\n/g," "):""}on.paste=(n,t)=>{let e=t;if(n.composing&&!To)return;let i=th?null:e.clipboardData,r=n.input.shiftKey&&n.input.lastKeyCode!=45;i&&ih(n,PT(i),i.getData("text/html"),r,e)?e.preventDefault():z6(n,e)};var Um=class{constructor(t,e,i){this.slice=t,this.move=e,this.node=i}},H6=Xn?"altKey":"ctrlKey";function RT(n,t){let e=n.someProp("dragCopies",i=>!i(t));return e??!t[H6]}rn.dragstart=(n,t)=>{let e=t,i=n.input.mouseDown;if(i&&i.done(),!e.dataTransfer)return;let r=n.state.selection,o=r.empty?null:n.posAtCoords(Ym(e)),a;if(!(o&&o.pos>=r.from&&o.pos<=(r instanceof Re?r.to-1:r.to))){if(i&&i.mightDrag)a=Re.create(n.state.doc,i.mightDrag.pos);else if(e.target&&e.target.nodeType==1){let h=n.docView.nearestDesc(e.target,!0);h&&h.node.type.spec.draggable&&h!=n.docView&&(a=Re.create(n.state.doc,h.posBefore))}}let s=(a||n.state.selection).content(),{dom:l,text:c,slice:d}=$0(n,s);(!e.dataTransfer.files.length||!ji||lT>120)&&e.dataTransfer.clearData(),e.dataTransfer.setData(th?"Text":"text/html",l.innerHTML),e.dataTransfer.effectAllowed="copyMove",th||e.dataTransfer.setData("text/plain",c),n.dragging=new Um(d,RT(n,e),a)};rn.dragend=n=>{let t=n.dragging;window.setTimeout(()=>{n.dragging==t&&(n.dragging=null)},50)};on.dragover=on.dragenter=(n,t)=>t.preventDefault();on.drop=(n,t)=>{let e=t,i=n.dragging;if(n.dragging=null,!e.dataTransfer)return;let r=n.posAtCoords(Ym(e));if(!r)return;let o=n.state.doc.resolve(r.pos),a=i&&i.slice;a?n.someProp("transformPasted",m=>{a=m(a,n)}):a=xT(n,PT(e.dataTransfer),th?null:e.dataTransfer.getData("text/html"),!1,o);let s=!!(i&&RT(n,e));if(n.someProp("handleDrop",m=>m(n,e,a||fe.empty,s))){e.preventDefault();return}if(!a)return;e.preventDefault();let l=a?dA(n.state.doc,o.pos,a):o.pos;l==null&&(l=o.pos);let c=n.state.tr;if(s){let{node:m}=i;m?m.replace(c):c.deleteSelection()}let d=c.mapping.map(l),h=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,u=c.doc;if(h?c.replaceRangeWith(d,d,a.content.firstChild):c.replaceRange(d,d,a),c.doc.eq(u))return;let p=c.doc.resolve(d);if(h&&Re.isSelectable(a.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new Re(p));else{let m=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,_,v,x)=>m=x),c.setSelection(U0(n,p,c.doc.resolve(m)))}n.focus(),n.dispatch(c.setMeta("uiEvent","drop"))};rn.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Io(n)},20))};rn.blur=(n,t)=>{let e=t;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),e.relatedTarget&&n.dom.contains(e.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};rn.beforeinput=(n,t)=>{if(ji&&To&&t.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:i}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=i||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,As(8,"Backspace")))))return;let{$cursor:r}=n.state.selection;r&&r.pos>0&&n.dispatch(n.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let n in on)rn[n]=on[n];function nh(n,t){if(n==t)return!0;for(let e in n)if(n[e]!==t[e])return!1;for(let e in t)if(!(e in n))return!1;return!0}var $m=class n{constructor(t,e){this.toDOM=t,this.spec=e||Rs,this.side=this.spec.side||0}map(t,e,i,r){let{pos:o,deleted:a}=t.mapResult(e.from+r,this.side<0?-1:1);return a?null:new Wr(o-i,o-i,this)}valid(){return!0}eq(t){return this==t||t instanceof n&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&nh(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}},Ps=class n{constructor(t,e){this.attrs=t,this.spec=e||Rs}map(t,e,i,r){let o=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-i,a=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-i;return o>=a?null:new Wr(o,a,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof n&&nh(this.attrs,t.attrs)&&nh(this.spec,t.spec)}static is(t){return t.type instanceof n}destroy(){}},V0=class n{constructor(t,e){this.attrs=t,this.spec=e||Rs}map(t,e,i,r){let o=t.mapResult(e.from+r,1);if(o.deleted)return null;let a=t.mapResult(e.to+r,-1);return a.deleted||a.pos<=o.pos?null:new Wr(o.pos-i,a.pos-i,this)}valid(t,e){let{index:i,offset:r}=t.content.findIndex(e.from),o;return r==e.from&&!(o=t.child(i)).isText&&r+o.nodeSize==e.to}eq(t){return this==t||t instanceof n&&nh(this.attrs,t.attrs)&&nh(this.spec,t.spec)}destroy(){}},Wr=class n{constructor(t,e,i){this.from=t,this.to=e,this.type=i}copy(t,e){return new n(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,i){return this.type.map(t,this,e,i)}static widget(t,e,i){return new n(t,t,new $m(e,i))}static inline(t,e,i,r){return new n(t,e,new Ps(i,r))}static node(t,e,i,r){return new n(t,e,new V0(i,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ps}get widget(){return this.type instanceof $m}},Kl=[],Rs={},tn=class n{constructor(t,e){this.local=t.length?t:Kl,this.children=e.length?e:Kl}static create(t,e){return e.length?Gm(e,t,0,Rs):Hi}find(t,e,i){let r=[];return this.findInner(t??0,e??1e9,r,0,i),r}findInner(t,e,i,r,o){for(let a=0;a<this.local.length;a++){let s=this.local[a];s.from<=e&&s.to>=t&&(!o||o(s.spec))&&i.push(s.copy(s.from+r,s.to+r))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<e&&this.children[a+1]>t){let s=this.children[a]+1;this.children[a+2].findInner(t-s,e-s,i,r+s,o)}}map(t,e,i){return this==Hi||t.maps.length==0?this:this.mapInner(t,e,0,0,i||Rs)}mapInner(t,e,i,r,o){let a;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(t,i,r);l&&l.type.valid(e,l)?(a||(a=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?j6(this.children,a||[],t,e,i,r,o):a?new n(a.sort(Os),Kl):Hi}add(t,e){return e.length?this==Hi?n.create(t,e):this.addInner(t,e,0):this}addInner(t,e,i){let r,o=0;t.forEach((s,l)=>{let c=l+i,d;if(d=FT(e,s,c)){for(r||(r=this.children.slice());o<r.length&&r[o]<l;)o+=3;r[o]==l?r[o+2]=r[o+2].addInner(s,d,c+1):r.splice(o,0,l,l+s.nodeSize,Gm(d,s,c+1,Rs)),o+=3}});let a=OT(o?LT(e):e,-i);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||a.splice(s--,1);return new n(a.length?this.local.concat(a).sort(Os):this.local,r||this.children)}remove(t){return t.length==0||this==Hi?this:this.removeInner(t,0)}removeInner(t,e){let i=this.children,r=this.local;for(let o=0;o<i.length;o+=3){let a,s=i[o]+e,l=i[o+1]+e;for(let d=0,h;d<t.length;d++)(h=t[d])&&h.from>s&&h.to<l&&(t[d]=null,(a||(a=[])).push(h));if(!a)continue;i==this.children&&(i=this.children.slice());let c=i[o+2].removeInner(a,s+1);c!=Hi?i[o+2]=c:(i.splice(o,3),o-=3)}if(r.length){for(let o=0,a;o<t.length;o++)if(a=t[o])for(let s=0;s<r.length;s++)r[s].eq(a,e)&&(r==this.local&&(r=this.local.slice()),r.splice(s--,1))}return i==this.children&&r==this.local?this:r.length||i.length?new n(r,i):Hi}forChild(t,e){if(this==Hi)return this;if(e.isLeaf)return n.empty;let i,r;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=t){this.children[s]==t&&(i=this.children[s+2]);break}let o=t+1,a=o+e.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<a&&l.to>o&&l.type instanceof Ps){let c=Math.max(o,l.from)-o,d=Math.min(a,l.to)-o;c<d&&(r||(r=[])).push(l.copy(c,d))}}if(r){let s=new n(r.sort(Os),Kl);return i?new Wm([s,i]):s}return i||Hi}eq(t){if(this==t)return!0;if(!(t instanceof n)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return Y0(this.localsInner(t))}localsInner(t){if(this==Hi)return Kl;if(t.inlineContent||!this.local.some(Ps.is))return this.local;let e=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof Ps||e.push(this.local[i]);return e}forEachSet(t){t(this)}};tn.empty=new tn([],[]);tn.removeOverlap=Y0;var Hi=tn.empty,Wm=class n{constructor(t){this.members=t}map(t,e){let i=this.members.map(r=>r.map(t,e,Rs));return n.from(i)}forChild(t,e){if(e.isLeaf)return tn.empty;let i=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(t,e);o!=Hi&&(o instanceof n?i=i.concat(o.members):i.push(o))}return n.from(i)}eq(t){if(!(t instanceof n)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,i=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(t);if(o.length)if(!e)e=o;else{i&&(e=e.slice(),i=!1);for(let a=0;a<o.length;a++)e.push(o[a])}}return e?Y0(i?e:e.sort(Os)):Kl}static from(t){switch(t.length){case 0:return Hi;case 1:return t[0];default:return new n(t.every(e=>e instanceof tn)?t:t.reduce((e,i)=>e.concat(i instanceof tn?i:i.members),[]))}}forEachSet(t){for(let e=0;e<this.members.length;e++)this.members[e].forEachSet(t)}};function j6(n,t,e,i,r,o,a){let s=n.slice();for(let c=0,d=o;c<e.maps.length;c++){let h=0;e.maps[c].forEach((u,p,m,g)=>{let _=g-m-(p-u);for(let v=0;v<s.length;v+=3){let x=s[v+1];if(x<0||u>x+d-h)continue;let C=s[v]+d-h;p>=C?s[v+1]=u<=C?-2:-1:u>=d&&_&&(s[v]+=_,s[v+1]+=_)}h+=_}),d=e.maps[c].map(d,-1)}let l=!1;for(let c=0;c<s.length;c+=3)if(s[c+1]<0){if(s[c+1]==-2){l=!0,s[c+1]=-1;continue}let d=e.map(n[c]+o),h=d-r;if(h<0||h>=i.content.size){l=!0;continue}let u=e.map(n[c+1]+o,-1),p=u-r,{index:m,offset:g}=i.content.findIndex(h),_=i.maybeChild(m);if(_&&g==h&&g+_.nodeSize==p){let v=s[c+2].mapInner(e,_,d+1,n[c]+o+1,a);v!=Hi?(s[c]=h,s[c+1]=p,s[c+2]=v):(s[c+1]=-2,l=!0)}else l=!0}if(l){let c=U6(s,n,t,e,r,o,a),d=Gm(c,i,0,a);t=d.local;for(let h=0;h<s.length;h+=3)s[h+1]<0&&(s.splice(h,3),h-=3);for(let h=0,u=0;h<d.children.length;h+=3){let p=d.children[h];for(;u<s.length&&s[u]<p;)u+=3;s.splice(u,0,d.children[h],d.children[h+1],d.children[h+2])}}return new tn(t.sort(Os),s)}function OT(n,t){if(!t||!n.length)return n;let e=[];for(let i=0;i<n.length;i++){let r=n[i];e.push(new Wr(r.from+t,r.to+t,r.type))}return e}function U6(n,t,e,i,r,o,a){function s(l,c){for(let d=0;d<l.local.length;d++){let h=l.local[d].map(i,r,c);h?e.push(h):a.onRemove&&a.onRemove(l.local[d].spec)}for(let d=0;d<l.children.length;d+=3)s(l.children[d+2],l.children[d]+c+1)}for(let l=0;l<n.length;l+=3)n[l+1]==-1&&s(n[l+2],t[l]+o+1);return e}function FT(n,t,e){if(t.isLeaf)return null;let i=e+t.nodeSize,r=null;for(let o=0,a;o<n.length;o++)(a=n[o])&&a.from>e&&a.to<i&&((r||(r=[])).push(a),n[o]=null);return r}function LT(n){let t=[];for(let e=0;e<n.length;e++)n[e]!=null&&t.push(n[e]);return t}function Gm(n,t,e,i){let r=[],o=!1;t.forEach((s,l)=>{let c=FT(n,s,l+e);if(c){o=!0;let d=Gm(c,s,e+l+1,i);d!=Hi&&r.push(l,l+s.nodeSize,d)}});let a=OT(o?LT(n):n,-e).sort(Os);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(i.onRemove&&i.onRemove(a[s].spec),a.splice(s--,1));return a.length||r.length?new tn(a,r):Hi}function Os(n,t){return n.from-t.from||n.to-t.to}function Y0(n){let t=n;for(let e=0;e<t.length-1;e++){let i=t[e];if(i.from!=i.to)for(let r=e+1;r<t.length;r++){let o=t[r];if(o.from==i.from){o.to!=i.to&&(t==n&&(t=n.slice()),t[r]=o.copy(o.from,i.to),XA(t,r+1,o.copy(i.to,o.to)));continue}else{o.from<i.to&&(t==n&&(t=n.slice()),t[e]=i.copy(i.from,o.from),XA(t,r,i.copy(o.from,i.to)));break}}}return t}function XA(n,t,e){for(;t<n.length&&Os(e,n[t])>0;)t++;n.splice(t,0,e)}function w0(n){let t=[];return n.someProp("decorations",e=>{let i=e(n.state);i&&i!=Hi&&t.push(i)}),n.cursorWrapper&&t.push(tn.create(n.state.doc,[n.cursorWrapper.deco])),Wm.from(t)}var $6={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},W6=pn&&xa<=11,B0=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}},z0=class{constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new B0,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let r=0;r<i.length;r++)this.queue.push(i[r]);pn&&xa<=11&&i.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),W6&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,$6)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(jA(this.view)){if(this.suppressingSelectionUpdates)return Io(this.view);if(pn&&xa<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Fs(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let e=new Set,i;for(let o=t.focusNode;o;o=Ql(o))e.add(o);for(let o=t.anchorNode;o;o=Ql(o))if(e.has(o)){i=o;break}let r=i&&this.view.docView.nearestDesc(i);if(r&&r.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let e=this.pendingRecords();e.length&&(this.queue=[]);let i=t.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&jA(t)&&!this.ignoreSelectionChange(i),o=-1,a=-1,s=!1,l=[];if(t.editable)for(let d=0;d<e.length;d++){let h=this.registerMutation(e[d],l);h&&(o=o<0?h.from:Math.min(h.from,o),a=a<0?h.to:Math.max(h.to,a),h.typeOver&&(s=!0))}if(vr&&l.length){let d=l.filter(h=>h.nodeName=="BR");if(d.length==2){let[h,u]=d;h.parentNode&&h.parentNode.parentNode==u.parentNode?u.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let u of d){let p=u.parentNode;p&&p.nodeName=="LI"&&(!h||Y6(t,h)!=p)&&u.remove()}}}let c=null;o<0&&r&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&qm(i)&&(c=j0(t))&&c.eq(Ke.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Io(t),this.currentSelection.set(i),t.scrollToSelection()):(o>-1||r)&&(o>-1&&(t.docView.markDirty(o,a),G6(t)),this.handleDOMChange(o,a,s,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(i)||Io(t),this.currentSelection.set(i))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let i=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(i==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!i||i.ignoreMutation(t))return null;if(t.type=="childList"){for(let d=0;d<t.addedNodes.length;d++){let h=t.addedNodes[d];e.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(t.target))return{from:i.posBefore,to:i.posAfter};let r=t.previousSibling,o=t.nextSibling;if(pn&&xa<=11&&t.addedNodes.length)for(let d=0;d<t.addedNodes.length;d++){let{previousSibling:h,nextSibling:u}=t.addedNodes[d];(!h||Array.prototype.indexOf.call(t.addedNodes,h)<0)&&(r=h),(!u||Array.prototype.indexOf.call(t.addedNodes,u)<0)&&(o=u)}let a=r&&r.parentNode==t.target?Mi(r)+1:0,s=i.localPosFromDOM(t.target,a,-1),l=o&&o.parentNode==t.target?Mi(o):t.target.childNodes.length,c=i.localPosFromDOM(t.target,l,1);return{from:s,to:c}}else return t.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=t.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}},QA=new WeakMap,ZA=!1;function G6(n){if(!QA.has(n)&&(QA.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=vr,ZA)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),ZA=!0}}function JA(n,t){let e=t.startContainer,i=t.startOffset,r=t.endContainer,o=t.endOffset,a=n.domAtPos(n.state.selection.anchor);return Fs(a.node,a.offset,r,o)&&([e,i,r,o]=[r,o,e,i]),{anchorNode:e,anchorOffset:i,focusNode:r,focusOffset:o}}function q6(n,t){if(t.getComposedRanges){let r=t.getComposedRanges(n.root)[0];if(r)return JA(n,r)}let e;function i(r){r.preventDefault(),r.stopImmediatePropagation(),e=r.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",i,!0),e?JA(n,e):null}function Y6(n,t){for(let e=t.parentNode;e&&e!=n.dom;e=e.parentNode){let i=n.docView.nearestDesc(e,!0);if(i&&i.node.isBlock)return e}return null}function K6(n,t,e){let{node:i,fromOffset:r,toOffset:o,from:a,to:s}=n.docView.parseRange(t,e),l=n.domSelectionRange(),c,d=l.anchorNode;if(d&&n.dom.contains(d.nodeType==1?d:d.parentNode)&&(c=[{node:d,offset:l.anchorOffset}],qm(l)||c.push({node:l.focusNode,offset:l.focusOffset})),ji&&n.input.lastKeyCode===8)for(let _=o;_>r;_--){let v=i.childNodes[_-1],x=v.pmViewDesc;if(v.nodeName=="BR"&&!x){o=_;break}if(!x||x.size)break}let h=n.state.doc,u=n.someProp("domParser")||_a.fromSchema(n.state.schema),p=h.resolve(a),m=null,g=u.parse(i,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:r,to:o,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:X6,context:p});if(c&&c[0].pos!=null){let _=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=_),m={anchor:_+a,head:v+a}}return{doc:g,sel:m,from:a,to:s}}function X6(n){let t=n.pmViewDesc;if(t)return t.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(nn&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}else if(n.parentNode.lastChild==n||nn&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}var Q6=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Z6(n,t,e,i,r){let o=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,t<0){let F=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,S=j0(n,F);if(S&&!n.state.selection.eq(S)){if(ji&&To&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",he=>he(n,As(13,"Enter"))))return;let z=n.state.tr.setSelection(S);F=="pointer"?z.setMeta("pointer",!0):F=="key"&&z.scrollIntoView(),o&&z.setMeta("composition",o),n.dispatch(z)}return}let a=n.state.doc.resolve(t),s=a.sharedDepth(e);t=a.before(s+1),e=n.state.doc.resolve(e).after(s+1);let l=n.state.selection,c=K6(n,t,e),d=n.state.doc,h=d.slice(c.from,c.to),u,p;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(u=n.state.selection.to,p="end"):(u=n.state.selection.from,p="start"),n.input.lastKeyCode=null;let m=t8(h.content,c.doc.content,c.from,u,p);if(m&&n.input.domChangeCount++,(Zl&&n.input.lastIOSEnter>Date.now()-225||To)&&r.some(F=>F.nodeType==1&&!Q6.test(F.nodeName))&&(!m||m.endA>=m.endB)&&n.someProp("handleKeyDown",F=>F(n,As(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!m)if(i&&l instanceof mt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!n.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let F=eT(n,n.state.doc,c.sel);if(F&&!F.eq(n.state.selection)){let S=n.state.tr.setSelection(F);o&&S.setMeta("composition",o),n.dispatch(S)}}return}n.state.selection.from<n.state.selection.to&&m.start==m.endB&&n.state.selection instanceof mt&&(m.start>n.state.selection.from&&m.start<=n.state.selection.from+2&&n.state.selection.from>=c.from?m.start=n.state.selection.from:m.endA<n.state.selection.to&&m.endA>=n.state.selection.to-2&&n.state.selection.to<=c.to&&(m.endB+=n.state.selection.to-m.endA,m.endA=n.state.selection.to)),pn&&xa<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)==" \xA0"&&(m.start--,m.endA--,m.endB--);let g=c.doc.resolveNoCache(m.start-c.from),_=c.doc.resolveNoCache(m.endB-c.from),v=d.resolve(m.start),x=g.sameParent(_)&&g.parent.inlineContent&&v.end()>=m.endA,C;if((Zl&&n.input.lastIOSEnter>Date.now()-225&&(!x||r.some(F=>F.nodeName=="DIV"||F.nodeName=="P"))||!x&&g.pos<c.doc.content.size&&(!g.sameParent(_)||!g.parent.inlineContent)&&!/\S/.test(c.doc.textBetween(g.pos,_.pos,"",""))&&(C=Ke.findFrom(c.doc.resolve(g.pos+1),1,!0))&&C.head>g.pos)&&n.someProp("handleKeyDown",F=>F(n,As(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>m.start&&e8(d,m.start,m.endA,g,_)&&n.someProp("handleKeyDown",F=>F(n,As(8,"Backspace")))){To&&ji&&n.domObserver.suppressSelectionUpdates();return}ji&&m.endB==m.start&&(n.input.lastChromeDelete=Date.now()),To&&!x&&g.start()!=_.start()&&_.parentOffset==0&&g.depth==_.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,_=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{n.someProp("handleKeyDown",function(F){return F(n,As(13,"Enter"))})},20));let D=m.start,A=m.endA,$=F=>{let S=F||n.state.tr.replace(D,A,c.doc.slice(m.start-c.from,m.endB-c.from));if(c.sel){let z=eT(n,S.doc,c.sel);z&&!(ji&&n.composing&&z.empty&&(m.start!=m.endB||n.input.lastChromeDelete<Date.now()-100)&&(z.head==D||z.head==S.mapping.map(A)-1)||pn&&z.empty&&z.head==D)&&S.setSelection(z)}return o&&S.setMeta("composition",o),S.scrollIntoView()},X;if(x){if(g.pos==_.pos){pn&&xa<=11&&g.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Io(n),20));let F=$(n.state.tr.delete(D,A)),S=d.resolve(m.start).marksAcross(d.resolve(m.endA));S&&F.ensureMarks(S),n.dispatch(F)}else if(m.endA==m.endB&&(X=J6(g.parent.content.cut(g.parentOffset,_.parentOffset),v.parent.content.cut(v.parentOffset,m.endA-v.start())))){let F=$(n.state.tr);X.type=="add"?F.addMark(D,A,X.mark):F.removeMark(D,A,X.mark),n.dispatch(F)}else if(g.parent.child(g.index()).isText&&g.index()==_.index()-(_.textOffset?0:1)){let F=g.parent.textBetween(g.parentOffset,_.parentOffset),S=()=>$(n.state.tr.insertText(F,D,A));n.someProp("handleTextInput",z=>z(n,D,A,F,S))||n.dispatch(S())}}else n.dispatch($())}function eT(n,t,e){return Math.max(e.anchor,e.head)>t.content.size?null:U0(n,t.resolve(e.anchor),t.resolve(e.head))}function J6(n,t){let e=n.firstChild.marks,i=t.firstChild.marks,r=e,o=i,a,s,l;for(let d=0;d<i.length;d++)r=i[d].removeFromSet(r);for(let d=0;d<e.length;d++)o=e[d].removeFromSet(o);if(r.length==1&&o.length==0)s=r[0],a="add",l=d=>d.mark(s.addToSet(d.marks));else if(r.length==0&&o.length==1)s=o[0],a="remove",l=d=>d.mark(s.removeFromSet(d.marks));else return null;let c=[];for(let d=0;d<t.childCount;d++)c.push(l(t.child(d)));if(ce.from(c).eq(n))return{mark:s,type:a}}function e8(n,t,e,i,r){if(e-t<=r.pos-i.pos||x0(i,!0,!1)<r.pos)return!1;let o=n.resolve(t);if(!i.parent.isTextblock){let s=o.nodeAfter;return s!=null&&e==t+s.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=n.resolve(x0(o,!0,!0));return!a.parent.isTextblock||a.pos>e||x0(a,!0,!1)<e?!1:i.parent.content.cut(i.parentOffset).eq(a.parent.content)}function x0(n,t,e){let i=n.depth,r=t?n.end():n.pos;for(;i>0&&(t||n.indexAfter(i)==n.node(i).childCount);)i--,r++,t=!1;if(e){let o=n.node(i).maybeChild(n.indexAfter(i));for(;o&&!o.isLeaf;)o=o.firstChild,r++}return r}function t8(n,t,e,i,r){let o=n.findDiffStart(t,e);if(o==null)return null;let{a,b:s}=n.findDiffEnd(t,e+n.size,e+t.size);if(r=="end"){let l=Math.max(0,o-Math.min(a,s));i-=a+l-o}if(a<o&&n.size<t.size){let l=i<=o&&i>=a?o-i:0;o-=l,o&&o<t.size&&tT(t.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}else if(s<o){let l=i<=o&&i>=s?o-i:0;o-=l,o&&o<n.size&&tT(n.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}return{start:o,endA:a,endB:s}}function tT(n){if(n.length!=2)return!1;let t=n.charCodeAt(0),e=n.charCodeAt(1);return t>=56320&&t<=57343&&e>=55296&&e<=56319}var rh=class{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new F0,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(aT),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=rT(this),nT(this),this.nodeViews=oT(this),this.docView=LA(this.state.doc,iT(this),w0(this),this.dom,this),this.domObserver=new z0(this,(i,r,o,a)=>Z6(this,i,r,o,a)),this.domObserver.start(),k6(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let e in t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&L0(this);let e=this._props;this._props=t,t.plugins&&(t.plugins.forEach(aT),this.directPlugins=t.plugins),this.updateStateInner(t.state,e)}setProps(t){let e={};for(let i in this._props)e[i]=this._props[i];e.state=this.state;for(let i in t)e[i]=t[i];this.update(e)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,e){var i;let r=this.state,o=!1,a=!1;t.storedMarks&&this.composing&&(IT(this),a=!0),this.state=t;let s=r.plugins!=t.plugins||this._props.plugins!=e.plugins;if(s||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews){let p=oT(this);n8(p,this.nodeViews)&&(this.nodeViews=p,o=!0)}(s||e.handleDOMEvents!=this._props.handleDOMEvents)&&L0(this),this.editable=rT(this),nT(this);let l=w0(this),c=iT(this),d=r.plugins!=t.plugins&&!r.doc.eq(t.doc)?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",h=o||!this.docView.matchesNode(t.doc,c,l);(h||!t.selection.eq(r.selection))&&(a=!0);let u=d=="preserve"&&a&&this.dom.style.overflowAnchor==null&&jz(this);if(a){this.domObserver.stop();let p=h&&(pn||ji)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&i8(r.selection,t.selection);if(h){let m=ji?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=L6(this)),(o||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=LA(t.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&c6(this))?Io(this,p):(vT(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((i=this.dragging)===null||i===void 0)&&i.node&&!r.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,r),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():u&&Uz(u)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",e=>e(this)))if(this.state.selection instanceof Re){let e=this.docView.domAfterPos(this.state.selection.from);e.nodeType==1&&TA(this,e.getBoundingClientRect(),t)}else TA(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let i=this.directPlugins[e];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let i=this.state.plugins[e];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let e=0;e<this.pluginViews.length;e++){let i=this.pluginViews[e];i.update&&i.update(this,t)}}updateDraggedNode(t,e){let i=t.node,r=-1;if(this.state.doc.nodeAt(i.from)==i.node)r=i.from;else{let o=i.from+(this.state.doc.content.size-e.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==i.node&&(r=o)}this.dragging=new Um(t.slice,t.move,r<0?void 0:Re.create(this.state.doc,r))}someProp(t,e){let i=this._props&&this._props[t],r;if(i!=null&&(r=e?e(i):i))return r;for(let a=0;a<this.directPlugins.length;a++){let s=this.directPlugins[a].props[t];if(s!=null&&(r=e?e(s):s))return r}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let s=o[a].props[t];if(s!=null&&(r=e?e(s):s))return r}}hasFocus(){if(pn){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&$z(this.dom),Io(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let e=this.dom.parentNode;e;e=e.parentNode)if(e.nodeType==9||e.nodeType==11&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e}return t||document}updateRoot(){this._root=null}posAtCoords(t){return Kz(this,t)}coordsAtPos(t,e=1){return pT(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t);return e?e.nodeDOM:null}posAtDOM(t,e,i=-1){let r=this.docView.posFromDOM(t,e,i);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(t,e){return e6(this,e||this.state,t)}pasteHTML(t,e){return ih(this,"",t,!1,e||new ClipboardEvent("paste"))}pasteText(t,e){return ih(this,t,null,!0,e||new ClipboardEvent("paste"))}serializeForClipboard(t){return $0(this,t)}destroy(){this.docView&&(D6(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],w0(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Iz())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return S6(this,t)}domSelectionRange(){let t=this.domSelection();return t?nn&&this.root.nodeType===11&&Lz(this.dom.ownerDocument)==this.dom&&q6(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}};rh.prototype.dispatch=function(n){let t=this._props.dispatchTransaction;t?t.call(this,n):this.updateState(this.state.apply(n))};function iT(n){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(n.editable),n.someProp("attributes",e=>{if(typeof e=="function"&&(e=e(n.state)),e)for(let i in e)i=="class"?t.class+=" "+e[i]:i=="style"?t.style=(t.style?t.style+";":"")+e[i]:!t[i]&&i!="contenteditable"&&i!="nodeName"&&(t[i]=String(e[i]))}),t.translate||(t.translate="no"),[Wr.node(0,n.state.doc.content.size,t)]}function nT(n){if(n.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),n.cursorWrapper={dom:t,deco:Wr.widget(n.state.selection.from,t,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function rT(n){return!n.someProp("editable",t=>t(n.state)===!1)}function i8(n,t){let e=Math.min(n.$anchor.sharedDepth(n.head),t.$anchor.sharedDepth(t.head));return n.$anchor.start(e)!=t.$anchor.start(e)}function oT(n){let t=Object.create(null);function e(i){for(let r in i)Object.prototype.hasOwnProperty.call(t,r)||(t[r]=i[r])}return n.someProp("nodeViews",e),n.someProp("markViews",e),t}function n8(n,t){let e=0,i=0;for(let r in n){if(n[r]!=t[r])return!0;e++}for(let r in t)i++;return e!=i}function aT(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var VT=(n,t)=>n.selection.empty?!1:(t&&t(n.tr.deleteSelection().scrollIntoView()),!0);function r8(n,t){let{$cursor:e}=n.selection;return!e||(t?!t.endOfTextblock("backward",n):e.parentOffset>0)?null:e}var o8=(n,t,e)=>{let i=r8(n,e);if(!i)return!1;let r=BT(i);if(!r){let a=i.blockRange(),s=a&&Ms(a);return s==null?!1:(t&&t(n.tr.lift(a,s).scrollIntoView()),!0)}let o=r.nodeBefore;if(jT(n,r,t,-1))return!0;if(i.parent.content.size==0&&(ec(o,"end")||Re.isSelectable(o)))for(let a=i.depth;;a--){let s=Rm(n.doc,i.before(a),i.after(a),fe.empty);if(s&&s.slice.size<s.to-s.from){if(t){let l=n.tr.step(s);l.setSelection(ec(o,"end")?Ke.findFrom(l.doc.resolve(l.mapping.map(r.pos,-1)),-1):Re.create(l.doc,r.pos-o.nodeSize)),t(l.scrollIntoView())}return!0}if(a==1||i.node(a-1).childCount>1)break}return o.isAtom&&r.depth==i.depth-1?(t&&t(n.tr.delete(r.pos-o.nodeSize,r.pos).scrollIntoView()),!0):!1};function ec(n,t,e=!1){for(let i=n;i;i=t=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(e&&i.childCount!=1)return!1}return!1}var a8=(n,t,e)=>{let{$head:i,empty:r}=n.selection,o=i;if(!r)return!1;if(i.parent.isTextblock){if(e?!e.endOfTextblock("backward",n):i.parentOffset>0)return!1;o=BT(i)}let a=o&&o.nodeBefore;return!a||!Re.isSelectable(a)?!1:(t&&t(n.tr.setSelection(Re.create(n.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function BT(n){if(!n.parent.type.spec.isolating)for(let t=n.depth-1;t>=0;t--){if(n.index(t)>0)return n.doc.resolve(n.before(t+1));if(n.node(t).type.spec.isolating)break}return null}function s8(n,t){let{$cursor:e}=n.selection;return!e||(t?!t.endOfTextblock("forward",n):e.parentOffset<e.parent.content.size)?null:e}var l8=(n,t,e)=>{let i=s8(n,e);if(!i)return!1;let r=zT(i);if(!r)return!1;let o=r.nodeAfter;if(jT(n,r,t,1))return!0;if(i.parent.content.size==0&&(ec(o,"start")||Re.isSelectable(o))){let a=Rm(n.doc,i.before(),i.after(),fe.empty);if(a&&a.slice.size<a.to-a.from){if(t){let s=n.tr.step(a);s.setSelection(ec(o,"start")?Ke.findFrom(s.doc.resolve(s.mapping.map(r.pos)),1):Re.create(s.doc,s.mapping.map(r.pos))),t(s.scrollIntoView())}return!0}}return o.isAtom&&r.depth==i.depth-1?(t&&t(n.tr.delete(r.pos,r.pos+o.nodeSize).scrollIntoView()),!0):!1},c8=(n,t,e)=>{let{$head:i,empty:r}=n.selection,o=i;if(!r)return!1;if(i.parent.isTextblock){if(e?!e.endOfTextblock("forward",n):i.parentOffset<i.parent.content.size)return!1;o=zT(i)}let a=o&&o.nodeAfter;return!a||!Re.isSelectable(a)?!1:(t&&t(n.tr.setSelection(Re.create(n.doc,o.pos)).scrollIntoView()),!0)};function zT(n){if(!n.parent.type.spec.isolating)for(let t=n.depth-1;t>=0;t--){let e=n.node(t);if(n.index(t)+1<e.childCount)return n.doc.resolve(n.after(t+1));if(e.type.spec.isolating)break}return null}var HT=(n,t)=>{let{$from:e,$to:i}=n.selection,r=e.blockRange(i),o=r&&Ms(r);return o==null?!1:(t&&t(n.tr.lift(r,o).scrollIntoView()),!0)},X0=(n,t)=>{let{$head:e,$anchor:i}=n.selection;return!e.parent.type.spec.code||!e.sameParent(i)?!1:(t&&t(n.tr.insertText(`
`).scrollIntoView()),!0)};function Q0(n){for(let t=0;t<n.edgeCount;t++){let{type:e}=n.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}var Z0=(n,t)=>{let{$head:e,$anchor:i}=n.selection;if(!e.parent.type.spec.code||!e.sameParent(i))return!1;let r=e.node(-1),o=e.indexAfter(-1),a=Q0(r.contentMatchAt(o));if(!a||!r.canReplaceWith(o,o,a))return!1;if(t){let s=e.after(),l=n.tr.replaceWith(s,s,a.createAndFill());l.setSelection(Ke.near(l.doc.resolve(s),1)),t(l.scrollIntoView())}return!0},J0=(n,t)=>{let e=n.selection,{$from:i,$to:r}=e;if(e instanceof Fn||i.parent.inlineContent||r.parent.inlineContent)return!1;let o=Q0(r.parent.contentMatchAt(r.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let a=(!i.parentOffset&&r.index()<r.parent.childCount?i:r).pos,s=n.tr.insert(a,o.createAndFill());s.setSelection(mt.create(s.doc,a+1)),t(s.scrollIntoView())}return!0},ey=(n,t)=>{let{$cursor:e}=n.selection;if(!e||e.parent.content.size)return!1;if(e.depth>1&&e.after()!=e.end(-1)){let o=e.before();if(ba(n.doc,o))return t&&t(n.tr.split(o).scrollIntoView()),!0}let i=e.blockRange(),r=i&&Ms(i);return r==null?!1:(t&&t(n.tr.lift(i,r).scrollIntoView()),!0)};function d8(n){return(t,e)=>{let{$from:i,$to:r}=t.selection;if(t.selection instanceof Re&&t.selection.node.isBlock)return!i.parentOffset||!ba(t.doc,i.pos)?!1:(e&&e(t.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let o=[],a,s,l=!1,c=!1;for(let p=i.depth;;p--)if(i.node(p).isBlock){l=i.end(p)==i.pos+(i.depth-p),c=i.start(p)==i.pos-(i.depth-p),s=Q0(i.node(p-1).contentMatchAt(i.indexAfter(p-1)));let g=n&&n(r.parent,l,i);o.unshift(g||(l&&s?{type:s}:null)),a=p;break}else{if(p==1)return!1;o.unshift(null)}let d=t.tr;(t.selection instanceof mt||t.selection instanceof Fn)&&d.deleteSelection();let h=d.mapping.map(i.pos),u=ba(d.doc,h,o.length,o);if(u||(o[0]=s?{type:s}:null,u=ba(d.doc,h,o.length,o)),!u)return!1;if(d.split(h,o.length,o),!l&&c&&i.node(a).type!=s){let p=d.mapping.map(i.before(a)),m=d.doc.resolve(p);s&&i.node(a-1).canReplaceWith(m.index(),m.index()+1,s)&&d.setNodeMarkup(d.mapping.map(i.before(a)),s)}return e&&e(d.scrollIntoView()),!0}}var ty=d8();var h8=(n,t)=>(t&&t(n.tr.setSelection(new Fn(n.doc))),!0);function u8(n,t,e){let i=t.nodeBefore,r=t.nodeAfter,o=t.index();return!i||!r||!i.type.compatibleContent(r.type)?!1:!i.content.size&&t.parent.canReplace(o-1,o)?(e&&e(n.tr.delete(t.pos-i.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(r.isTextblock||Ss(n.doc,t.pos))?!1:(e&&e(n.tr.join(t.pos).scrollIntoView()),!0)}function jT(n,t,e,i){let r=t.nodeBefore,o=t.nodeAfter,a,s,l=r.type.spec.isolating||o.type.spec.isolating;if(!l&&u8(n,t,e))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(a=(s=r.contentMatchAt(r.childCount)).findWrapping(o.type))&&s.matchType(a[0]||o.type).validEnd){if(e){let p=t.pos+o.nodeSize,m=ce.empty;for(let v=a.length-1;v>=0;v--)m=ce.from(a[v].create(null,m));m=ce.from(r.copy(m));let g=n.tr.step(new bi(t.pos-1,p,t.pos,p,new fe(m,1,0),a.length,!0)),_=g.doc.resolve(p+2*a.length);_.nodeAfter&&_.nodeAfter.type==r.type&&Ss(g.doc,_.pos)&&g.join(_.pos),e(g.scrollIntoView())}return!0}let d=o.type.spec.isolating||i>0&&l?null:Ke.findFrom(t,1),h=d&&d.$from.blockRange(d.$to),u=h&&Ms(h);if(u!=null&&u>=t.depth)return e&&e(n.tr.lift(h,u).scrollIntoView()),!0;if(c&&ec(o,"start",!0)&&ec(r,"end")){let p=r,m=[];for(;m.push(p),!p.isTextblock;)p=p.lastChild;let g=o,_=1;for(;!g.isTextblock;g=g.firstChild)_++;if(p.canReplace(p.childCount,p.childCount,g.content)){if(e){let v=ce.empty;for(let C=m.length-1;C>=0;C--)v=ce.from(m[C].copy(v));let x=n.tr.step(new bi(t.pos-m.length,t.pos+o.nodeSize,t.pos+_,t.pos+o.nodeSize-_,new fe(v,m.length,0),0,!0));e(x.scrollIntoView())}return!0}}return!1}function UT(n){return function(t,e){let i=t.selection,r=n<0?i.$from:i.$to,o=r.depth;for(;r.node(o).isInline;){if(!o)return!1;o--}return r.node(o).isTextblock?(e&&e(t.tr.setSelection(mt.create(t.doc,n<0?r.start(o):r.end(o)))),!0):!1}}var p8=UT(-1),m8=UT(1);function $T(n,t=null){return function(e,i){let{$from:r,$to:o}=e.selection,a=r.blockRange(o),s=a&&$l(a,n,t);return s?(i&&i(e.tr.wrap(a,s).scrollIntoView()),!0):!1}}function Km(n,t=null){return function(e,i){let r=!1;for(let o=0;o<e.selection.ranges.length&&!r;o++){let{$from:{pos:a},$to:{pos:s}}=e.selection.ranges[o];e.doc.nodesBetween(a,s,(l,c)=>{if(r)return!1;if(!(!l.isTextblock||l.hasMarkup(n,t)))if(l.type==n)r=!0;else{let d=e.doc.resolve(c),h=d.index();r=d.parent.canReplaceWith(h,h+1,n)}})}if(!r)return!1;if(i){let o=e.tr;for(let a=0;a<e.selection.ranges.length;a++){let{$from:{pos:s},$to:{pos:l}}=e.selection.ranges[a];o.setBlockType(s,l,n,t)}i(o.scrollIntoView())}return!0}}function f8(n,t,e,i){for(let r=0;r<t.length;r++){let{$from:o,$to:a}=t[r],s=o.depth==0?n.inlineContent&&n.type.allowsMarkType(e):!1;if(n.nodesBetween(o.pos,a.pos,(l,c)=>{if(s||!i&&l.isAtom&&l.isInline&&c>=o.pos&&c+l.nodeSize<=a.pos)return!1;s=l.inlineContent&&l.type.allowsMarkType(e)}),s)return!0}return!1}function g8(n){let t=[];for(let e=0;e<n.length;e++){let{$from:i,$to:r}=n[e];i.doc.nodesBetween(i.pos,r.pos,(o,a)=>{if(o.isAtom&&o.content.size&&o.isInline&&a>=i.pos&&a+o.nodeSize<=r.pos)return a+1>i.pos&&t.push(new Gl(i,i.doc.resolve(a+1))),i=i.doc.resolve(a+1+o.content.size),!1}),i.pos<r.pos&&t.push(new Gl(i,r))}return t}function Ns(n,t=null,e){let i=(e&&e.removeWhenPresent)!==!1,r=(e&&e.enterInlineAtoms)!==!1,o=!(e&&e.includeWhitespace);return function(a,s){let{empty:l,$cursor:c,ranges:d}=a.selection;if(l&&!c||!f8(a.doc,d,n,r))return!1;if(s)if(c)n.isInSet(a.storedMarks||c.marks())?s(a.tr.removeStoredMark(n)):s(a.tr.addStoredMark(n.create(t)));else{let h,u=a.tr;r||(d=g8(d)),i?h=!d.some(p=>a.doc.rangeHasMark(p.$from.pos,p.$to.pos,n)):h=!d.every(p=>{let m=!1;return u.doc.nodesBetween(p.$from.pos,p.$to.pos,(g,_,v)=>{if(m)return!1;m=!n.isInSet(g.marks)&&!!v&&v.type.allowsMarkType(n)&&!(g.isText&&/^\s*$/.test(g.textBetween(Math.max(0,p.$from.pos-_),Math.min(g.nodeSize,p.$to.pos-_))))}),!m});for(let p=0;p<d.length;p++){let{$from:m,$to:g}=d[p];if(!h)u.removeMark(m.pos,g.pos,n);else{let _=m.pos,v=g.pos,x=m.nodeAfter,C=g.nodeBefore,D=o&&x&&x.isText?/^\s*/.exec(x.text)[0].length:0,A=o&&C&&C.isText?/\s*$/.exec(C.text)[0].length:0;_+D<v&&(_+=D,v-=A),u.addMark(_,v,n.create(t))}}s(u.scrollIntoView())}return!0}}function tc(...n){return function(t,e,i){for(let r=0;r<n.length;r++)if(n[r](t,e,i))return!0;return!1}}var K0=tc(VT,o8,a8),NT=tc(VT,l8,c8),Po={Enter:tc(X0,J0,ey,ty),"Mod-Enter":Z0,Backspace:K0,"Mod-Backspace":K0,"Shift-Backspace":K0,Delete:NT,"Mod-Delete":NT,"Mod-a":h8},WT={"Ctrl-h":Po.Backspace,"Alt-Backspace":Po["Mod-Backspace"],"Ctrl-d":Po.Delete,"Ctrl-Alt-Backspace":Po["Mod-Delete"],"Alt-Delete":Po["Mod-Delete"],"Alt-d":Po["Mod-Delete"],"Ctrl-a":p8,"Ctrl-e":m8};for(let n in Po)WT[n]=Po[n];var _8=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,GT=_8?WT:Po;var Jn=class{constructor(t,e,i={}){this.match=t,this.match=t,this.handler=typeof e=="string"?b8(e):e,this.undoable=i.undoable!==!1,this.inCode=i.inCode||!1,this.inCodeMark=i.inCodeMark!==!1}};function b8(n){return function(t,e,i,r){let o=n;if(e[1]){let a=e[0].lastIndexOf(e[1]);o+=e[0].slice(a+e[1].length),i+=a;let s=i-r;s>0&&(o=e[0].slice(a-s,a)+o,i=r)}return t.tr.insertText(o,i,r)}}var v8=500;function YT({rules:n}){let t=new zi({state:{init(){return null},apply(e,i){let r=e.getMeta(this);return r||(e.selectionSet||e.docChanged?null:i)}},props:{handleTextInput(e,i,r,o){return qT(e,i,r,o,n,t)},handleDOMEvents:{compositionend:e=>{setTimeout(()=>{let{$cursor:i}=e.state.selection;i&&qT(e,i.pos,i.pos,"",n,t)})}}},isInputRules:!0});return t}function qT(n,t,e,i,r,o){if(n.composing)return!1;let a=n.state,s=a.doc.resolve(t),l=s.parent.textBetween(Math.max(0,s.parentOffset-v8),s.parentOffset,null,"\uFFFC")+i;for(let c=0;c<r.length;c++){let d=r[c];if(!d.inCodeMark&&s.marks().some(p=>p.type.spec.code))continue;if(s.parent.type.spec.code){if(!d.inCode)continue}else if(d.inCode==="only")continue;let h=d.match.exec(l),u=h&&h[0].length>=i.length&&d.handler(a,h,t-(h[0].length-i.length),e);if(u)return d.undoable&&u.setMeta(o,{transform:u,from:t,to:e,text:i}),n.dispatch(u),!0}return!1}var KT=new Jn(/--$/,"\u2014",{inCodeMark:!1}),XT=new Jn(/\.\.\.$/,"\u2026",{inCodeMark:!1}),y8=new Jn(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C",{inCodeMark:!1}),w8=new Jn(/"$/,"\u201D",{inCodeMark:!1}),x8=new Jn(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018",{inCodeMark:!1}),C8=new Jn(/'$/,"\u2019",{inCodeMark:!1}),QT=[y8,w8,x8,C8];function Xm(n,t,e=null,i){return new Jn(n,(r,o,a,s)=>{let l=e instanceof Function?e(o):e,c=r.tr.delete(a,s),d=c.doc.resolve(a),h=d.blockRange(),u=h&&$l(h,t,l);if(!u)return null;c.wrap(h,u);let p=c.doc.resolve(a-1).nodeBefore;return p&&p.type==t&&Ss(c.doc,a-1)&&(!i||i(o,p))&&c.join(a-1),c})}function iy(n,t,e=null){return new Jn(n,(i,r,o,a)=>{let s=i.doc.resolve(o),l=e instanceof Function?e(r):e;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t)?i.tr.delete(o,a).setBlockType(o,o,t,l):null})}var Qm=(n,t)=>{let{from:e,$from:i,to:r,empty:o}=n.selection;return o?!!t.isInSet(n.storedMarks||i.marks()):n.doc.rangeHasMark(e,r,t)},k8=(n,t)=>{for(let e=t.depth;e>0;e-=1)if(t.node(e).type===n)return t.node(e).type;return null},ny=(n,t,e={})=>{let{selection:i}=n,{$from:r,to:o}=i,a=k8(t,r);return!Object.entries(e).length||!a?!!a:o<=r.end()&&r.parent.hasMarkup(t,e)},ZT=n=>{let t=[],{selection:e,storedMarks:i}=n,{from:r,to:o,empty:a,$from:s}=e;return a?t=i||s.marks():n.doc.nodesBetween(r,o,l=>{t=[...t,...l.marks]}),t},ry=n=>{let t=[],{selection:{from:e,to:i}}=n;return n.doc.nodesBetween(e,i,r=>{t.push(r)}),t},oy=(n,t,e)=>{for(let i of t){let{$from:r,$to:o}=i,a=r.depth===0?n.type.allowsMarkType(e):!1;if(n.nodesBetween(r.pos,o.pos,s=>a?!1:(a=s.inlineContent&&s.type.allowsMarkType(e),!0)),a)return!0}return!1},ay=(n,t,e)=>new Jn(n,(i,r,o,a)=>{let{tr:s}=i,l=o,c=a,[d,,h]=r,u=d.search(/\S/);if(h){let p=o+d.indexOf(h),m=p+h.length;m<a&&s.delete(m,a),p>o&&s.delete(o+u,p),c=o+h.length+u}return s.addMark(l,c,t.create(e)),s.removeStoredMark(t),s}),JT=(n,t)=>{let{$from:e}=n.selection;for(let i=e.depth;i>=0;i-=1){let r=e.index(i);if(e.node(i).canReplaceWith(r,r,t))return!0}return!1};var eI=()=>(n,t)=>{let{doc:e,selection:i,tr:r,schema:o}=n,{$head:{pos:a},from:s,to:l}=i,c=o.marks.link;if(s===l){let d=e.resolve(a),h=a-d.textOffset,u=h+d.parent.child(d.index()).nodeSize;r.removeMark(h,u,c)}else r.removeMark(s,l,c);return r.docChanged?(t?.(r),!0):!1},sy=(n,t={})=>(e,i)=>{let{tr:r,selection:o}=e,{empty:a,ranges:s,$from:l,$to:c}=o;if(a&&o instanceof mt){let{$cursor:d}=o;if(!d||!oy(e.doc,s,n)||(r.addStoredMark(n.create(t)),!r.storedMarksSet))return!1;i?.(r)}else{if(r.addMark(l.pos,c.pos,n.create(t)),!r.docChanged)return!1;i?.(r.scrollIntoView())}return!0},tI=n=>(t,e)=>{let{tr:i,selection:r,storedMarks:o,doc:a}=t,{empty:s,ranges:l}=r;if(s&&r instanceof mt){let{$cursor:c}=r;if(!c||!oy(t.doc,l,n))return!1;if(n.isInSet(o||c.marks()))return i.removeStoredMark(n),e?.(i),!0}else{for(let c of l){let{$from:d,$to:h}=c;a.rangeHasMark(d.pos,h.pos,n)&&i.removeMark(d.pos,h.pos,n)}if(!i.docChanged)return!1;e?.(i.scrollIntoView())}return!1};var Zm=200,Si=function(){};Si.prototype.append=function(t){return t.length?(t=Si.from(t),!this.length&&t||t.length<Zm&&this.leafAppend(t)||this.length<Zm&&t.leafPrepend(this)||this.appendInner(t)):this};Si.prototype.prepend=function(t){return t.length?Si.from(t).append(this):this};Si.prototype.appendInner=function(t){return new D8(this,t)};Si.prototype.slice=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=this.length),t>=e?Si.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))};Si.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Si.prototype.forEach=function(t,e,i){e===void 0&&(e=0),i===void 0&&(i=this.length),e<=i?this.forEachInner(t,e,i,0):this.forEachInvertedInner(t,e,i,0)};Si.prototype.map=function(t,e,i){e===void 0&&(e=0),i===void 0&&(i=this.length);var r=[];return this.forEach(function(o,a){return r.push(t(o,a))},e,i),r};Si.from=function(t){return t instanceof Si?t:t&&t.length?new iI(t):Si.empty};var iI=function(n){function t(i){n.call(this),this.values=i}n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t;var e={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(r,o){return r==0&&o==this.length?this:new t(this.values.slice(r,o))},t.prototype.getInner=function(r){return this.values[r]},t.prototype.forEachInner=function(r,o,a,s){for(var l=o;l<a;l++)if(r(this.values[l],s+l)===!1)return!1},t.prototype.forEachInvertedInner=function(r,o,a,s){for(var l=o-1;l>=a;l--)if(r(this.values[l],s+l)===!1)return!1},t.prototype.leafAppend=function(r){if(this.length+r.length<=Zm)return new t(this.values.concat(r.flatten()))},t.prototype.leafPrepend=function(r){if(this.length+r.length<=Zm)return new t(r.flatten().concat(this.values))},e.length.get=function(){return this.values.length},e.depth.get=function(){return 0},Object.defineProperties(t.prototype,e),t}(Si);Si.empty=new iI([]);var D8=function(n){function t(e,i){n.call(this),this.left=e,this.right=i,this.length=e.length+i.length,this.depth=Math.max(e.depth,i.depth)+1}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},t.prototype.forEachInner=function(i,r,o,a){var s=this.left.length;if(r<s&&this.left.forEachInner(i,r,Math.min(o,s),a)===!1||o>s&&this.right.forEachInner(i,Math.max(r-s,0),Math.min(this.length,o)-s,a+s)===!1)return!1},t.prototype.forEachInvertedInner=function(i,r,o,a){var s=this.left.length;if(r>s&&this.right.forEachInvertedInner(i,r-s,Math.max(o,s)-s,a+s)===!1||o<s&&this.left.forEachInvertedInner(i,Math.min(r,s),o,a)===!1)return!1},t.prototype.sliceInner=function(i,r){if(i==0&&r==this.length)return this;var o=this.left.length;return r<=o?this.left.slice(i,r):i>=o?this.right.slice(i-o,r-o):this.left.slice(i,o).append(this.right.slice(0,r-o))},t.prototype.leafAppend=function(i){var r=this.right.leafAppend(i);if(r)return new t(this.left,r)},t.prototype.leafPrepend=function(i){var r=this.left.leafPrepend(i);if(r)return new t(r,this.right)},t.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new t(this.left,new t(this.right,i)):new t(this,i)},t}(Si),ly=Si;var M8=500,Bs=class n{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let r,o;e&&(r=this.remapping(i,this.items.length),o=r.maps.length);let a=t.tr,s,l,c=[],d=[];return this.items.forEach((h,u)=>{if(!h.step){r||(r=this.remapping(i,u+1),o=r.maps.length),o--,d.push(h);return}if(r){d.push(new Gr(h.map));let p=h.step.map(r.slice(o)),m;p&&a.maybeStep(p).doc&&(m=a.mapping.maps[a.mapping.maps.length-1],c.push(new Gr(m,void 0,void 0,c.length+d.length))),o--,m&&r.appendMap(m,o)}else a.maybeStep(h.step);if(h.selection)return s=r?h.selection.map(r.slice(o)):h.selection,l=new n(this.items.slice(0,i).append(d.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:s}}addTransform(t,e,i,r){let o=[],a=this.eventCount,s=this.items,l=!r&&s.length?s.get(s.length-1):null;for(let d=0;d<t.steps.length;d++){let h=t.steps[d].invert(t.docs[d]),u=new Gr(t.mapping.maps[d],h,e),p;(p=l&&l.merge(u))&&(u=p,d?o.pop():s=s.slice(0,s.length-1)),o.push(u),e&&(a++,e=void 0),r||(l=u)}let c=a-i.depth;return c>E8&&(s=S8(s,c),a-=c),new n(s.append(o),a)}remapping(t,e){let i=new qd;return this.items.forEach((r,o)=>{let a=r.mirrorOffset!=null&&o-r.mirrorOffset>=t?i.maps.length-r.mirrorOffset:void 0;i.appendMap(r.map,a)},t,e),i}addMaps(t){return this.eventCount==0?this:new n(this.items.append(t.map(e=>new Gr(e))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let i=[],r=Math.max(0,this.items.length-e),o=t.mapping,a=t.steps.length,s=this.eventCount;this.items.forEach(u=>{u.selection&&s--},r);let l=e;this.items.forEach(u=>{let p=o.getMirror(--l);if(p==null)return;a=Math.min(a,p);let m=o.maps[p];if(u.step){let g=t.steps[p].invert(t.docs[p]),_=u.selection&&u.selection.map(o.slice(l+1,p));_&&s++,i.push(new Gr(m,g,_))}else i.push(new Gr(m))},r);let c=[];for(let u=e;u<a;u++)c.push(new Gr(o.maps[u]));let d=this.items.slice(0,r).append(c).append(i),h=new n(d,s);return h.emptyItemCount()>M8&&(h=h.compress(this.items.length-i.length)),h}emptyItemCount(){let t=0;return this.items.forEach(e=>{e.step||t++}),t}compress(t=this.items.length){let e=this.remapping(0,t),i=e.maps.length,r=[],o=0;return this.items.forEach((a,s)=>{if(s>=t)r.push(a),a.selection&&o++;else if(a.step){let l=a.step.map(e.slice(i)),c=l&&l.getMap();if(i--,c&&e.appendMap(c,i),l){let d=a.selection&&a.selection.map(e.slice(i));d&&o++;let h=new Gr(c.invert(),l,d),u,p=r.length-1;(u=r.length&&r[p].merge(h))?r[p]=u:r.push(h)}}else a.map&&i--},this.items.length,0),new n(ly.from(r.reverse()),o)}};Bs.empty=new Bs(ly.empty,0);function S8(n,t){let e;return n.forEach((i,r)=>{if(i.selection&&t--==0)return e=r,!1}),n.slice(e)}var Gr=class n{constructor(t,e,i,r){this.map=t,this.step=e,this.selection=i,this.mirrorOffset=r}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new n(e.getMap().invert(),e,this.selection)}}},qr=class{constructor(t,e,i,r,o){this.done=t,this.undone=e,this.prevRanges=i,this.prevTime=r,this.prevComposition=o}},E8=20;function A8(n,t,e,i){let r=e.getMeta(Vs),o;if(r)return r.historyState;e.getMeta(P8)&&(n=new qr(n.done,n.undone,null,0,-1));let a=e.getMeta("appendedTransaction");if(e.steps.length==0)return n;if(a&&a.getMeta(Vs))return a.getMeta(Vs).redo?new qr(n.done.addTransform(e,void 0,i,Jm(t)),n.undone,nI(e.mapping.maps),n.prevTime,n.prevComposition):new qr(n.done,n.undone.addTransform(e,void 0,i,Jm(t)),null,n.prevTime,n.prevComposition);if(e.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let s=e.getMeta("composition"),l=n.prevTime==0||!a&&n.prevComposition!=s&&(n.prevTime<(e.time||0)-i.newGroupDelay||!T8(e,n.prevRanges)),c=a?cy(n.prevRanges,e.mapping):nI(e.mapping.maps);return new qr(n.done.addTransform(e,l?t.selection.getBookmark():void 0,i,Jm(t)),Bs.empty,c,e.time,s??n.prevComposition)}else return(o=e.getMeta("rebased"))?new qr(n.done.rebased(e,o),n.undone.rebased(e,o),cy(n.prevRanges,e.mapping),n.prevTime,n.prevComposition):new qr(n.done.addMaps(e.mapping.maps),n.undone.addMaps(e.mapping.maps),cy(n.prevRanges,e.mapping),n.prevTime,n.prevComposition)}function T8(n,t){if(!t)return!1;if(!n.docChanged)return!0;let e=!1;return n.mapping.maps[0].forEach((i,r)=>{for(let o=0;o<t.length;o+=2)i<=t[o+1]&&r>=t[o]&&(e=!0)}),e}function nI(n){let t=[];for(let e=n.length-1;e>=0&&t.length==0;e--)n[e].forEach((i,r,o,a)=>t.push(o,a));return t}function cy(n,t){if(!n)return null;let e=[];for(let i=0;i<n.length;i+=2){let r=t.map(n[i],1),o=t.map(n[i+1],-1);r<=o&&e.push(r,o)}return e}function I8(n,t,e){let i=Jm(t),r=Vs.get(t).spec.config,o=(e?n.undone:n.done).popEvent(t,i);if(!o)return null;let a=o.selection.resolve(o.transform.doc),s=(e?n.done:n.undone).addTransform(o.transform,t.selection.getBookmark(),r,i),l=new qr(e?s:o.remaining,e?o.remaining:s,null,0,-1);return o.transform.setSelection(a).setMeta(Vs,{redo:e,historyState:l})}var dy=!1,rI=null;function Jm(n){let t=n.plugins;if(rI!=t){dy=!1,rI=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){dy=!0;break}}return dy}var Vs=new Ln("history"),P8=new Ln("closeHistory");function oI(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new zi({key:Vs,state:{init(){return new qr(Bs.empty,Bs.empty,null,0,-1)},apply(t,e,i){return A8(e,i,t,n)}},config:n,props:{handleDOMEvents:{beforeinput(t,e){let i=e.inputType,r=i=="historyUndo"?tf:i=="historyRedo"?sh:null;return r?(e.preventDefault(),r(t.state,t.dispatch)):!1}}}})}function ef(n,t){return(e,i)=>{let r=Vs.getState(e);if(!r||(n?r.undone:r.done).eventCount==0)return!1;if(i){let o=I8(r,e,n);o&&i(t?o.scrollIntoView():o)}return!0}}var tf=ef(!1,!0),sh=ef(!0,!0),Cse=ef(!1,!1),kse=ef(!0,!1);var sI=["top","right","bottom","left"],aI=["start","end"],uy=sI.reduce((n,t)=>n.concat(t,t+"-"+aI[0],t+"-"+aI[1]),[]),nf=Math.min,zs=Math.max,lh=Math.round;var yr=n=>({x:n,y:n}),R8={left:"right",right:"left",bottom:"top",top:"bottom"},O8={start:"end",end:"start"};function rf(n,t){return typeof n=="function"?n(t):n}function ic(n){return n.split("-")[0]}function Ro(n){return n.split("-")[1]}function lI(n){return n==="x"?"y":"x"}function py(n){return n==="y"?"height":"width"}function of(n){return["top","bottom"].includes(ic(n))?"y":"x"}function my(n){return lI(of(n))}function cI(n,t,e){e===void 0&&(e=!1);let i=Ro(n),r=my(n),o=py(r),a=r==="x"?i===(e?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=hy(a)),[a,hy(a)]}function dI(n){return n.replace(/start|end/g,t=>O8[t])}function hy(n){return n.replace(/left|right|bottom|top/g,t=>R8[t])}function F8(n){return E({top:0,right:0,bottom:0,left:0},n)}function hI(n){return typeof n!="number"?F8(n):{top:n,right:n,bottom:n,left:n}}function Hs(n){let{x:t,y:e,width:i,height:r}=n;return{width:i,height:r,top:e,left:t,right:t+i,bottom:e+r,x:t,y:e}}function uI(n,t,e){let{reference:i,floating:r}=n,o=of(t),a=my(t),s=py(a),l=ic(t),c=o==="y",d=i.x+i.width/2-r.width/2,h=i.y+i.height/2-r.height/2,u=i[s]/2-r[s]/2,p;switch(l){case"top":p={x:d,y:i.y-r.height};break;case"bottom":p={x:d,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:h};break;case"left":p={x:i.x-r.width,y:h};break;default:p={x:i.x,y:i.y}}switch(Ro(t)){case"start":p[a]-=u*(e&&c?-1:1);break;case"end":p[a]+=u*(e&&c?-1:1);break}return p}var pI=(n,t,e)=>U(null,null,function*(){let{placement:i="bottom",strategy:r="absolute",middleware:o=[],platform:a}=e,s=o.filter(Boolean),l=yield a.isRTL==null?void 0:a.isRTL(t),c=yield a.getElementRects({reference:n,floating:t,strategy:r}),{x:d,y:h}=uI(c,i,l),u=i,p={},m=0;for(let g=0;g<s.length;g++){let{name:_,fn:v}=s[g],{x,y:C,data:D,reset:A}=yield v({x:d,y:h,initialPlacement:i,placement:u,strategy:r,middlewareData:p,rects:c,platform:a,elements:{reference:n,floating:t}});d=x??d,h=C??h,p=ye(E({},p),{[_]:E(E({},p[_]),D)}),A&&m<=50&&(m++,typeof A=="object"&&(A.placement&&(u=A.placement),A.rects&&(c=A.rects===!0?yield a.getElementRects({reference:n,floating:t,strategy:r}):A.rects),{x:d,y:h}=uI(c,u,l)),g=-1)}return{x:d,y:h,placement:u,strategy:r,middlewareData:p}});function fy(n,t){return U(this,null,function*(){var e;t===void 0&&(t={});let{x:i,y:r,platform:o,rects:a,elements:s,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:u=!1,padding:p=0}=rf(t,n),m=hI(p),_=s[u?h==="floating"?"reference":"floating":h],v=Hs(yield o.getClippingRect({element:(e=yield o.isElement==null?void 0:o.isElement(_))==null||e?_:_.contextElement||(yield o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:d,strategy:l})),x=h==="floating"?{x:i,y:r,width:a.floating.width,height:a.floating.height}:a.reference,C=yield o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating),D=(yield o.isElement==null?void 0:o.isElement(C))?(yield o.getScale==null?void 0:o.getScale(C))||{x:1,y:1}:{x:1,y:1},A=Hs(o.convertOffsetParentRelativeRectToViewportRelativeRect?yield o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:x,offsetParent:C,strategy:l}):x);return{top:(v.top-A.top+m.top)/D.y,bottom:(A.bottom-v.bottom+m.bottom)/D.y,left:(v.left-A.left+m.left)/D.x,right:(A.right-v.right+m.right)/D.x}})}function L8(n,t,e){return(n?[...e.filter(r=>Ro(r)===n),...e.filter(r=>Ro(r)!==n)]:e.filter(r=>ic(r)===r)).filter(r=>n?Ro(r)===n||(t?dI(r)!==r:!1):!0)}var mI=function(n){return n===void 0&&(n={}),{name:"autoPlacement",options:n,fn(e){return U(this,null,function*(){var i,r,o;let{rects:a,middlewareData:s,placement:l,platform:c,elements:d}=e,he=rf(n,e),{crossAxis:h=!1,alignment:u,allowedPlacements:p=uy,autoAlignment:m=!0}=he,g=a_(he,["crossAxis","alignment","allowedPlacements","autoAlignment"]),_=u!==void 0||p===uy?L8(u||null,m,p):p,v=yield fy(e,g),x=((i=s.autoPlacement)==null?void 0:i.index)||0,C=_[x];if(C==null)return{};let D=cI(C,a,yield c.isRTL==null?void 0:c.isRTL(d.floating));if(l!==C)return{reset:{placement:_[0]}};let A=[v[ic(C)],v[D[0]],v[D[1]]],$=[...((r=s.autoPlacement)==null?void 0:r.overflows)||[],{placement:C,overflows:A}],X=_[x+1];if(X)return{data:{index:x+1,overflows:$},reset:{placement:X}};let F=$.map(ze=>{let qe=Ro(ze.placement);return[ze.placement,qe&&h?ze.overflows.slice(0,2).reduce((Qe,ht)=>Qe+ht,0):ze.overflows[0],ze.overflows]}).sort((ze,qe)=>ze[1]-qe[1]),z=((o=F.filter(ze=>ze[2].slice(0,Ro(ze[0])?2:3).every(qe=>qe<=0))[0])==null?void 0:o[0])||F[0][0];return z!==l?{data:{index:x+1,overflows:$},reset:{placement:z}}:{}})}}};function N8(n,t){return U(this,null,function*(){let{placement:e,platform:i,elements:r}=n,o=yield i.isRTL==null?void 0:i.isRTL(r.floating),a=ic(e),s=Ro(e),l=of(e)==="y",c=["left","top"].includes(a)?-1:1,d=o&&l?-1:1,h=rf(t,n),{mainAxis:u,crossAxis:p,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return s&&typeof m=="number"&&(p=s==="end"?m*-1:m),l?{x:p*d,y:u*c}:{x:u*c,y:p*d}})}var fI=function(n){return n===void 0&&(n=0),{name:"offset",options:n,fn(e){return U(this,null,function*(){var i,r;let{x:o,y:a,placement:s,middlewareData:l}=e,c=yield N8(e,n);return s===((i=l.offset)==null?void 0:i.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:o+c.x,y:a+c.y,data:ye(E({},c),{placement:s})}})}}};function sf(){return typeof window<"u"}function js(n){return _I(n)?(n.nodeName||"").toLowerCase():"#document"}function mn(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}function Yr(n){var t;return(t=(_I(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}function _I(n){return sf()?n instanceof Node||n instanceof mn(n).Node:!1}function er(n){return sf()?n instanceof Element||n instanceof mn(n).Element:!1}function wr(n){return sf()?n instanceof HTMLElement||n instanceof mn(n).HTMLElement:!1}function gI(n){return!sf()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof mn(n).ShadowRoot}function nc(n){let{overflow:t,overflowX:e,overflowY:i,display:r}=tr(n);return/auto|scroll|overlay|hidden|clip/.test(t+i+e)&&!["inline","contents"].includes(r)}function bI(n){return["table","td","th"].includes(js(n))}function ch(n){return[":popover-open",":modal"].some(t=>{try{return n.matches(t)}catch{return!1}})}function lf(n){let t=cf(),e=er(n)?tr(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>e[i]?e[i]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(e.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(e.contain||"").includes(i))}function vI(n){let t=Oo(n);for(;wr(t)&&!Us(t);){if(lf(t))return t;if(ch(t))return null;t=Oo(t)}return null}function cf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Us(n){return["html","body","#document"].includes(js(n))}function tr(n){return mn(n).getComputedStyle(n)}function dh(n){return er(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Oo(n){if(js(n)==="html")return n;let t=n.assignedSlot||n.parentNode||gI(n)&&n.host||Yr(n);return gI(t)?t.host:t}function yI(n){let t=Oo(n);return Us(t)?n.ownerDocument?n.ownerDocument.body:n.body:wr(t)&&nc(t)?t:yI(t)}function af(n,t,e){var i;t===void 0&&(t=[]),e===void 0&&(e=!0);let r=yI(n),o=r===((i=n.ownerDocument)==null?void 0:i.body),a=mn(r);if(o){let s=df(a);return t.concat(a,a.visualViewport||[],nc(r)?r:[],s&&e?af(s):[])}return t.concat(r,af(r,[],e))}function df(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function CI(n){let t=tr(n),e=parseFloat(t.width)||0,i=parseFloat(t.height)||0,r=wr(n),o=r?n.offsetWidth:e,a=r?n.offsetHeight:i,s=lh(e)!==o||lh(i)!==a;return s&&(e=o,i=a),{width:e,height:i,$:s}}function kI(n){return er(n)?n:n.contextElement}function rc(n){let t=kI(n);if(!wr(t))return yr(1);let e=t.getBoundingClientRect(),{width:i,height:r,$:o}=CI(t),a=(o?lh(e.width):e.width)/i,s=(o?lh(e.height):e.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}var V8=yr(0);function DI(n){let t=mn(n);return!cf()||!t.visualViewport?V8:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function B8(n,t,e){return t===void 0&&(t=!1),!e||t&&e!==mn(n)?!1:t}function hh(n,t,e,i){t===void 0&&(t=!1),e===void 0&&(e=!1);let r=n.getBoundingClientRect(),o=kI(n),a=yr(1);t&&(i?er(i)&&(a=rc(i)):a=rc(n));let s=B8(o,e,i)?DI(o):yr(0),l=(r.left+s.x)/a.x,c=(r.top+s.y)/a.y,d=r.width/a.x,h=r.height/a.y;if(o){let u=mn(o),p=i&&er(i)?mn(i):i,m=u,g=df(m);for(;g&&i&&p!==m;){let _=rc(g),v=g.getBoundingClientRect(),x=tr(g),C=v.left+(g.clientLeft+parseFloat(x.paddingLeft))*_.x,D=v.top+(g.clientTop+parseFloat(x.paddingTop))*_.y;l*=_.x,c*=_.y,d*=_.x,h*=_.y,l+=C,c+=D,m=mn(g),g=df(m)}}return Hs({width:d,height:h,x:l,y:c})}function _y(n,t){let e=dh(n).scrollLeft;return t?t.left+e:hh(Yr(n)).left+e}function MI(n,t,e){e===void 0&&(e=!1);let i=n.getBoundingClientRect(),r=i.left+t.scrollLeft-(e?0:_y(n,i)),o=i.top+t.scrollTop;return{x:r,y:o}}function z8(n){let{elements:t,rect:e,offsetParent:i,strategy:r}=n,o=r==="fixed",a=Yr(i),s=t?ch(t.floating):!1;if(i===a||s&&o)return e;let l={scrollLeft:0,scrollTop:0},c=yr(1),d=yr(0),h=wr(i);if((h||!h&&!o)&&((js(i)!=="body"||nc(a))&&(l=dh(i)),wr(i))){let p=hh(i);c=rc(i),d.x=p.x+i.clientLeft,d.y=p.y+i.clientTop}let u=a&&!h&&!o?MI(a,l,!0):yr(0);return{width:e.width*c.x,height:e.height*c.y,x:e.x*c.x-l.scrollLeft*c.x+d.x+u.x,y:e.y*c.y-l.scrollTop*c.y+d.y+u.y}}function H8(n){return Array.from(n.getClientRects())}function j8(n){let t=Yr(n),e=dh(n),i=n.ownerDocument.body,r=zs(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),o=zs(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight),a=-e.scrollLeft+_y(n),s=-e.scrollTop;return tr(i).direction==="rtl"&&(a+=zs(t.clientWidth,i.clientWidth)-r),{width:r,height:o,x:a,y:s}}function U8(n,t){let e=mn(n),i=Yr(n),r=e.visualViewport,o=i.clientWidth,a=i.clientHeight,s=0,l=0;if(r){o=r.width,a=r.height;let c=cf();(!c||c&&t==="fixed")&&(s=r.offsetLeft,l=r.offsetTop)}return{width:o,height:a,x:s,y:l}}function $8(n,t){let e=hh(n,!0,t==="fixed"),i=e.top+n.clientTop,r=e.left+n.clientLeft,o=wr(n)?rc(n):yr(1),a=n.clientWidth*o.x,s=n.clientHeight*o.y,l=r*o.x,c=i*o.y;return{width:a,height:s,x:l,y:c}}function wI(n,t,e){let i;if(t==="viewport")i=U8(n,e);else if(t==="document")i=j8(Yr(n));else if(er(t))i=$8(t,e);else{let r=DI(n);i={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Hs(i)}function SI(n,t){let e=Oo(n);return e===t||!er(e)||Us(e)?!1:tr(e).position==="fixed"||SI(e,t)}function W8(n,t){let e=t.get(n);if(e)return e;let i=af(n,[],!1).filter(s=>er(s)&&js(s)!=="body"),r=null,o=tr(n).position==="fixed",a=o?Oo(n):n;for(;er(a)&&!Us(a);){let s=tr(a),l=lf(a);!l&&s.position==="fixed"&&(r=null),(o?!l&&!r:!l&&s.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||nc(a)&&!l&&SI(n,a))?i=i.filter(d=>d!==a):r=s,a=Oo(a)}return t.set(n,i),i}function G8(n){let{element:t,boundary:e,rootBoundary:i,strategy:r}=n,a=[...e==="clippingAncestors"?ch(t)?[]:W8(t,this._c):[].concat(e),i],s=a[0],l=a.reduce((c,d)=>{let h=wI(t,d,r);return c.top=zs(h.top,c.top),c.right=nf(h.right,c.right),c.bottom=nf(h.bottom,c.bottom),c.left=zs(h.left,c.left),c},wI(t,s,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function q8(n){let{width:t,height:e}=CI(n);return{width:t,height:e}}function Y8(n,t,e){let i=wr(t),r=Yr(t),o=e==="fixed",a=hh(n,!0,o,t),s={scrollLeft:0,scrollTop:0},l=yr(0);function c(){l.x=_y(r)}if(i||!i&&!o)if((js(t)!=="body"||nc(r))&&(s=dh(t)),i){let p=hh(t,!0,o,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else r&&c();o&&!i&&r&&c();let d=r&&!i&&!o?MI(r,s):yr(0),h=a.left+s.scrollLeft-l.x-d.x,u=a.top+s.scrollTop-l.y-d.y;return{x:h,y:u,width:a.width,height:a.height}}function gy(n){return tr(n).position==="static"}function xI(n,t){if(!wr(n)||tr(n).position==="fixed")return null;if(t)return t(n);let e=n.offsetParent;return Yr(n)===e&&(e=e.ownerDocument.body),e}function EI(n,t){let e=mn(n);if(ch(n))return e;if(!wr(n)){let r=Oo(n);for(;r&&!Us(r);){if(er(r)&&!gy(r))return r;r=Oo(r)}return e}let i=xI(n,t);for(;i&&bI(i)&&gy(i);)i=xI(i,t);return i&&Us(i)&&gy(i)&&!lf(i)?e:i||vI(n)||e}var K8=function(n){return U(this,null,function*(){let t=this.getOffsetParent||EI,e=this.getDimensions,i=yield e(n.floating);return{reference:Y8(n.reference,yield t(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}})};function X8(n){return tr(n).direction==="rtl"}var Q8={convertOffsetParentRelativeRectToViewportRelativeRect:z8,getDocumentElement:Yr,getClippingRect:G8,getOffsetParent:EI,getElementRects:K8,getClientRects:H8,getDimensions:q8,getScale:rc,isElement:er,isRTL:X8};var AI=fy,TI=fI,II=mI;var PI=(n,t,e)=>{let i=new Map,r=E({platform:Q8},e),o=ye(E({},r.platform),{_c:i});return pI(n,t,ye(E({},r),{platform:o}))};var Fo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},uf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Z8=typeof navigator<"u"&&/Mac/.test(navigator.platform),J8=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(ei=0;ei<10;ei++)Fo[48+ei]=Fo[96+ei]=String(ei);var ei;for(ei=1;ei<=24;ei++)Fo[ei+111]="F"+ei;var ei;for(ei=65;ei<=90;ei++)Fo[ei]=String.fromCharCode(ei+32),uf[ei]=String.fromCharCode(ei);var ei;for(hf in Fo)uf.hasOwnProperty(hf)||(uf[hf]=Fo[hf]);var hf;function RI(n){var t=Z8&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||J8&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",e=!t&&n.key||(n.shiftKey?uf:Fo)[n.keyCode]||n.key||"Unidentified";return e=="Esc"&&(e="Escape"),e=="Del"&&(e="Delete"),e=="Left"&&(e="ArrowLeft"),e=="Up"&&(e="ArrowUp"),e=="Right"&&(e="ArrowRight"),e=="Down"&&(e="ArrowDown"),e}var e9=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),t9=typeof navigator<"u"&&/Win/.test(navigator.platform);function i9(n){let t=n.split(/-(?!$)/),e=t[t.length-1];e=="Space"&&(e=" ");let i,r,o,a;for(let s=0;s<t.length-1;s++){let l=t[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))i=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))e9?a=!0:r=!0;else throw new Error("Unrecognized modifier name: "+l)}return i&&(e="Alt-"+e),r&&(e="Ctrl-"+e),a&&(e="Meta-"+e),o&&(e="Shift-"+e),e}function n9(n){let t=Object.create(null);for(let e in n)t[i9(e)]=n[e];return t}function by(n,t,e=!0){return t.altKey&&(n="Alt-"+n),t.ctrlKey&&(n="Ctrl-"+n),t.metaKey&&(n="Meta-"+n),e&&t.shiftKey&&(n="Shift-"+n),n}function uh(n){return new zi({props:{handleKeyDown:r9(n)}})}function r9(n){let t=n9(n);return function(e,i){let r=RI(i),o,a=t[by(r,i)];if(a&&a(e.state,e.dispatch,e))return!0;if(r.length==1&&r!=" "){if(i.shiftKey){let s=t[by(r,i,!1)];if(s&&s(e.state,e.dispatch,e))return!0}if((i.altKey||i.metaKey||i.ctrlKey)&&!(t9&&i.ctrlKey&&i.altKey)&&(o=Fo[i.keyCode])&&o!=r){let s=t[by(o,i)];if(s&&s(e.state,e.dispatch,e))return!0}}return!1}}var o9=["imgEl"],a9=n=>({"NgxEditor__Resizer--Active":n});function s9(n,t){if(n&1){let e=be();b(0,"span",4)(1,"span",5),T("mousedown",function(r){W(e);let o=k();return G(o.startResizing(r,"left"))}),w(),b(2,"span",6),T("mousedown",function(r){W(e);let o=k();return G(o.startResizing(r,"right"))}),w(),b(3,"span",7),T("mousedown",function(r){W(e);let o=k();return G(o.startResizing(r,"left"))}),w(),b(4,"span",8),T("mousedown",function(r){W(e);let o=k();return G(o.startResizing(r,"right"))}),w()()}}var l9=["ngxEditor"],UI=["*"],c9=(n,t)=>({backgroundColor:n,color:t}),d9=n=>({"NgxEditor__Color--Active":n});function h9(n,t){if(n&1){let e=be();b(0,"button",7),T("mousedown",function(r){let o=W(e).$implicit,a=k(3);return G(a.onColorSelectMouseClick(r,o))})("keydown.enter",function(){let r=W(e).$implicit,o=k(3);return G(o.onColorSelectKeydown(r))})("keydown.space",function(){let r=W(e).$implicit,o=k(3);return G(o.onColorSelectKeydown(r))}),w()}if(n&2){let e=t.$implicit,i=k(3);M("ngStyle",ta(3,c9,e,i.getContrastYIQ(e)))("title",e)("ngClass",Oc(6,d9,i.activeColors.includes(e)))}}function u9(n,t){if(n&1&&(b(0,"div",5),O(1,h9,1,8,"button",6),w()),n&2){let e=t.$implicit,i=k(2);y(),M("ngForOf",e)("ngForTrackBy",i.trackByIndex)}}function p9(n,t){if(n&1){let e=be();b(0,"div",2),O(1,u9,2,2,"div",3),b(2,"button",4),T("mousedown",function(r){W(e);let o=k();return G(o.onRemoveMouseClick(r))})("keydown.enter",function(){W(e);let r=k();return G(r.onRemoveKeydown())})("keydown.space",function(){W(e);let r=k();return G(r.onRemoveKeydown())}),K(3),at(4,"async"),w()()}if(n&2){let e=k();y(),M("ngForOf",e.presets)("ngForTrackBy",e.trackByIndex),y(),M("disabled",!e.isActive),y(),Ze(" ",st(4,4,e.getLabel("remove"))," ")}}var m9=(n,t)=>({"NgxEditor__Dropdown--Active":n,"NgxEditor--Disabled":t});function f9(n,t){if(n&1){let e=be();b(0,"button",4),at(1,"async"),T("mousedown",function(r){let o=W(e).$implicit,a=k(2);return G(a.onDropdownItemMouseClick(r,o))})("keydown.enter",function(r){let o=W(e).$implicit,a=k(2);return G(a.onDropdownItemKeydown(r,o))})("keydown.space",function(r){let o=W(e).$implicit,a=k(2);return G(a.onDropdownItemKeydown(r,o))}),K(2),at(3,"async"),w()}if(n&2){let e=t.$implicit,i=k(2);M("ngClass",ta(8,m9,e===i.activeItem,i.disabledItems.includes(e)))("ariaLabel",st(1,4,i.getName(e))),te("aria-selected",e===i.activeItem),y(2),Ze(" ",st(3,6,i.getName(e))," ")}}function g9(n,t){if(n&1&&(b(0,"div",2),O(1,f9,4,11,"button",3),w()),n&2){let e=k();y(),M("ngForOf",e.items)("ngForTrackBy",e.trackByIndex)}}function _9(n,t){if(n&1&&(b(0,"div",12),K(1),at(2,"async"),w()),n&2){let e=k(2);y(),Ze(" ",st(2,1,(e.src.errors==null?null:e.src.errors.pattern)&&e.getLabel("enterValidUrl"))," ")}}function b9(n,t){if(n&1){let e=be();b(0,"div",2)(1,"form",3),T("ngSubmit",function(r){W(e);let o=k();return G(o.insertLink(r))}),b(2,"div",4)(3,"div",5)(4,"label",6),K(5),at(6,"async"),w(),B(7,"input",7),O(8,_9,3,3,"div",8),w()(),b(9,"div",4)(10,"div",5)(11,"label",6),K(12),at(13,"async"),w(),B(14,"input",9),w()(),b(15,"div",4)(16,"div",5)(17,"label",6),K(18),at(19,"async"),w(),B(20,"input",10),w()(),b(21,"button",11),K(22),at(23,"async"),w()()()}if(n&2){let e=k();y(),M("formGroup",e.form),y(3),M("htmlFor",e.getId("image-popup-url")),y(),De(st(6,13,e.getLabel("url"))),y(2),M("id",e.getId("image-popup-url")),y(),M("ngIf",e.src.touched&&e.src.invalid),y(3),M("htmlFor",e.getId("image-popup-label")),y(),De(st(13,15,e.getLabel("altText"))),y(2),M("id",e.getId("image-popup-label")),y(3),M("htmlFor",e.getId("image-popup-title")),y(),De(st(19,17,e.getLabel("title"))),y(2),M("id",e.getId("image-popup-title")),y(),M("disabled",!e.form.valid||!e.form.dirty),y(),De(st(23,19,e.getLabel("insert")))}}function v9(n,t){if(n&1&&(b(0,"div",12),K(1),at(2,"async"),w()),n&2){let e=k(2);y(),Ze(" ",st(2,1,(e.href.errors==null?null:e.href.errors.pattern)&&e.getLabel("enterValidUrl"))," ")}}function y9(n,t){if(n&1&&(b(0,"div",12),K(1),w()),n&2){let e=k(2);y(),Ze(" ",(e.text.errors==null?null:e.text.errors.required)&&"This is required"," ")}}function w9(n,t){if(n&1&&(b(0,"div",4)(1,"div",5)(2,"label"),B(3,"input",13),K(4),at(5,"async"),w()()()),n&2){let e=k(2);y(4),Ze(" ",st(5,1,e.getLabel("openInNewTab"))," ")}}function x9(n,t){if(n&1){let e=be();b(0,"div",2)(1,"form",3),T("ngSubmit",function(r){W(e);let o=k();return G(o.insertLink(r))}),b(2,"div",4)(3,"div",5)(4,"label",6),K(5),at(6,"async"),w(),B(7,"input",7),O(8,v9,3,3,"div",8),w()(),b(9,"div",4)(10,"div",5)(11,"label",6),K(12),at(13,"async"),w(),B(14,"input",9),O(15,y9,2,1,"div",8),w()(),O(16,w9,6,3,"div",10),b(17,"button",11),K(18),at(19,"async"),w()()()}if(n&2){let e=k();y(),M("formGroup",e.form),y(3),M("htmlFor",e.getId("link-popup-url")),y(),De(st(6,12,e.getLabel("url"))),y(2),M("id",e.getId("link-popup-url")),y(),M("ngIf",e.href.touched&&e.href.invalid),y(3),M("htmlFor",e.getId("link-popup-label")),y(),De(st(13,14,e.getLabel("text"))),y(2),M("id",e.getId("link-popup-label")),y(),M("ngIf",e.text.touched&&e.text.invalid),y(),M("ngIf",e.options.showOpenInNewTab),y(),M("disabled",!e.form.valid),y(),De(st(19,16,e.getLabel("insert")))}}var C9=(n,t)=>({"NgxEditor--Disabled":n,"NgxEditor__MenuBar--Reverse":t});function k9(n,t){if(n&1&&B(0,"ngx-toggle-command",7),n&2){let e=k().$implicit,i=k(2);et(i.iconContainerClass),M("toolbarItem",e)}}function D9(n,t){if(n&1&&B(0,"ngx-insert-command",7),n&2){let e=k().$implicit,i=k(2);et(i.iconContainerClass),M("toolbarItem",e)}}function M9(n,t){if(n&1&&(wn(0),B(1,"ngx-link",8),xn()),n&2){let e=k().$implicit,i=k(2);y(),et(i.iconContainerClass),M("options",i.getLinkOptions(e))}}function S9(n,t){if(n&1&&B(0,"ngx-image"),n&2){let e=k(3);et(e.iconContainerClass)}}function E9(n,t){if(n&1&&B(0,"ngx-dropdown",10),n&2){let e=t.$implicit,i=k(4);et(i.dropdownContainerClass),M("group",e.key)("items",e.value)}}function A9(n,t){if(n&1&&(wn(0),O(1,E9,1,4,"ngx-dropdown",9),at(2,"keyvalue"),xn()),n&2){let e=k().$implicit,i=k(2);y(),M("ngForOf",st(2,2,i.getDropdownItems(e)))("ngForTrackBy",i.trackByIndex)}}function T9(n,t){if(n&1&&B(0,"ngx-color-picker",11),n&2){let e=k(3);et(e.iconContainerClass),M("presets",e.presets)}}function I9(n,t){if(n&1&&B(0,"ngx-color-picker",12),n&2){let e=k(3);et(e.iconContainerClass),M("presets",e.presets)}}function P9(n,t){if(n&1&&B(0,"div"),n&2){let e=k(3);et(e.seperatorClass)}}function R9(n,t){if(n&1&&(wn(0),O(1,k9,1,3,"ngx-toggle-command",3)(2,D9,1,3,"ngx-insert-command",3)(3,M9,2,3,"ng-container",2)(4,S9,1,2,"ngx-image",4)(5,A9,3,4,"ng-container",2)(6,T9,1,3,"ngx-color-picker",5)(7,I9,1,3,"ngx-color-picker",6)(8,P9,1,2,"div",4),xn()),n&2){let e=t.$implicit,i=t.last,r=k().last,o=k();y(),M("ngIf",o.toggleCommands.includes(e)),y(),M("ngIf",o.insertCommands.includes(e)),y(),M("ngIf",o.isLinkItem(e)),y(),M("ngIf",e==="image"),y(),M("ngIf",o.isDropDown(e)),y(),M("ngIf",e==="text_color"),y(),M("ngIf",e==="background_color"),y(),M("ngIf",i&&!r)}}function O9(n,t){if(n&1&&(wn(0),O(1,R9,9,8,"ng-container",1),xn()),n&2){let e=t.$implicit,i=k();y(),M("ngForOf",e)("ngForTrackBy",i.trackByIndex)}}function F9(n,t){if(n&1&&(wn(0),yi(1,13),xn()),n&2){let e=k();y(),M("ngTemplateOutlet",e.customMenuRef)}}var L9=(n,t)=>({"NgxBubbleMenu__Icon--Active":n,"NgxEditor--Disabled":t});function N9(n,t){if(n&1){let e=be();b(0,"button",3),at(1,"async"),T("mousedown",function(r){W(e);let o=k().$implicit,a=k(2);return G(a.onClick(r,o))}),w()}if(n&2){let e=k().$implicit,i=k(2);M("ngClass",ta(5,L9,i.activeItems.includes(e),!i.execulableItems.includes(e)))("title",st(1,3,i.getTitle(e)))("innerHTML",i.getIcon(e),oo)}}function V9(n,t){n&1&&B(0,"div",4)}function B9(n,t){if(n&1&&(wn(0),O(1,N9,2,8,"button",1)(2,V9,1,0,"div",2),xn()),n&2){let e=t.$implicit,i=t.last,r=k().last,o=k();y(),M("ngIf",o.toggleCommands.includes(e)),y(),M("ngIf",i&&!r)}}function z9(n,t){if(n&1&&(wn(0),O(1,B9,3,2,"ng-container",0),xn()),n&2){let e=t.$implicit,i=k();y(),M("ngForOf",e)("ngForTrackBy",i.trackByIndex)}}function H9(n,t){if(n&1&&(wn(0),B(1,"ngx-bubble",2),xn()),n&2){let e=k();y(),M("editor",e.editor)}}var $I=n=>typeof n=="string",j9=()=>{if(!(typeof window>"u"))return window.trustedTypes},WI=n=>j9()?.isHTML(n)??!1,GI=n=>$I(n)||WI(n),qI={type:"doc",content:[{type:"paragraph"}]},U9=(n,t)=>{let e=t??Qd,i=e.nodeFromJSON(n),r=Mo.fromSchema(e).serializeFragment(i.content),o=document.createElement("div");return o.appendChild(r),o.innerHTML},$9=(n,t,e)=>{let i=t??Qd,r=document.createElement("div");return r.innerHTML=n,_a.fromSchema(i).parse(r,e).toJSON()},OI=(n,t,e)=>{if(!n)return t.nodeFromJSON(qI);if(!GI(n))return t.nodeFromJSON(n);let i=$9(n,t,e);return t.nodeFromJSON(i)},W9=(n=!0)=>new zi({key:new Ln("editable"),state:{init(){return n},apply(t,e){return t.getMeta("UPDATE_EDITABLE")??e}},props:{editable(t){return this.getState(t)},attributes(t){return this.getState(t)?null:{class:"NgxEditor__Content--Disabled"}}}}),G9="NgxEditor__Placeholder",q9=n=>new zi({key:new Ln("placeholder"),state:{init(){return n??""},apply(t,e){return t.getMeta("UPDATE_PLACEHOLDER")??e}},props:{decorations(t){let{doc:e}=t,{textContent:i,childCount:r}=e,o=this.getState(t);if(!o||r>1)return tn.empty;let a=[],s=(l,c)=>{if(l.type.isBlock&&l.childCount===0&&i.length===0){let d=c,h=c+l.nodeSize,u=Wr.node(d,h,{class:G9,"data-placeholder":o,"data-align":l.attrs.align??null});a.push(u)}return!1};return e.descendants(s),tn.create(e,a)}}}),Y9=(n={})=>new zi({key:new Ln("attributes"),props:{attributes:n}}),K9=n=>new zi({key:new Ln("focus"),props:{handleDOMEvents:{focus:()=>(n(),!1)}}}),X9=n=>new zi({key:new Ln("blur"),props:{handleDOMEvents:{blur:()=>(n(),!1)}}}),YI=(()=>{class n{src;alt="";title="";outerWidth="";selected=!1;view;imageResize=new Z;imgEl;startResizing(e,i){e.preventDefault(),this.resizeImage(e,i)}resizeImage(e,i){let r=e.pageX,o=this.imgEl.nativeElement.clientWidth,a=i==="left",{width:s}=window.getComputedStyle(this.view.dom),l=parseInt(s,10),c=h=>{let p=h.pageX-r,m=a?o-p:o+p;m>l||m<20||(this.outerWidth=`${m}px`)},d=h=>{h.preventDefault(),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",d),this.imageResize.emit()};document.addEventListener("mousemove",c),document.addEventListener("mouseup",d)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["ngx-image-view"]],viewQuery:function(i,r){if(i&1&&se(o9,7),i&2){let o;q(o=Y())&&(r.imgEl=o.first)}},inputs:{src:"src",alt:"alt",title:"title",outerWidth:"outerWidth",selected:"selected",view:"view"},outputs:{imageResize:"imageResize"},decls:4,vars:9,consts:[["imgEl",""],[1,"NgxEditor__ImageWrapper",3,"ngClass"],["class","NgxEditor__ResizeHandle",4,"ngIf"],[3,"src","alt","title"],[1,"NgxEditor__ResizeHandle"],[1,"NgxEditor__ResizeHandle--TL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--TR",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BR",3,"mousedown"]],template:function(i,r){i&1&&(b(0,"span",1),O(1,s9,5,0,"span",2),B(2,"img",3,0),w()),i&2&&(Dt("width",r.outerWidth),M("ngClass",Oc(7,a9,r.selected)),y(),M("ngIf",r.selected),y(),M("src",r.src,ao)("alt",r.alt)("title",r.title))},dependencies:[Li,Qi,Vt],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active[_ngcontent-%COMP%]{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid white}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%]{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%]{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%]{bottom:-5px;left:-5px;cursor:sw-resize}"]})}return n})(),vy=class{dom;view;getPos;applicationRef;imageComponentRef;resizeSubscription;node;updating=!1;constructor(t,e,i,r){this.applicationRef=r.get(Er),this.imageComponentRef=sl(YI,{environmentInjector:this.applicationRef.injector}),this.applicationRef.attachView(this.imageComponentRef.hostView),this.setNodeAttributes(t.attrs),this.imageComponentRef.instance.view=e,this.dom=this.imageComponentRef.location.nativeElement,this.view=e,this.node=t,this.getPos=i,this.resizeSubscription=this.imageComponentRef.instance.imageResize.subscribe(()=>{this.handleResize()})}computeChanges(t,e){return JSON.stringify(t)===JSON.stringify(e)}setNodeAttributes(t){this.imageComponentRef.instance.src=t.src,this.imageComponentRef.instance.alt=t.alt,this.imageComponentRef.instance.title=t.title,this.imageComponentRef.instance.outerWidth=t.width}handleResize=()=>{if(this.updating)return;let{state:t,dispatch:e}=this.view,{tr:i}=t,r=i.setNodeMarkup(this.getPos(),void 0,ye(E({},this.node.attrs),{width:this.imageComponentRef.instance.outerWidth})),o=r.doc.resolve(this.getPos()),a=new Re(o);r.setSelection(a),e(r)};update(t){return t.type!==this.node.type?!1:(this.node=t,this.computeChanges(this.node.attrs,t.attrs)&&(this.updating=!0,this.setNodeAttributes(t.attrs),this.updating=!1),!0)}ignoreMutation(){return!0}selectNode(){this.imageComponentRef.instance.selected=!0}deselectNode(){this.imageComponentRef.instance.selected=!1}destroy(){this.resizeSubscription.unsubscribe(),this.applicationRef.detachView(this.imageComponentRef.hostView)}},Q9=n=>new zi({key:new Ln("image-resize"),props:{nodeViews:{image:(t,e,i)=>new vy(t,e,i,n)}}}),Z9=/(?:https?:\/\/)?[\w-]+(?:\.[\w-]+)+\.?(?:\d+)?(?:\/\S*)?$/,KI=n=>{let t=[];return n.forEach(e=>{if(e.isText){let i=e.text,r=0,o=Z9.exec(i);if(o){let a=o.index,s=a+o[0].length,{link:l}=e.type.schema.marks;a>0&&t.push(e.cut(r,a));let c=i.slice(a,s);t.push(e.cut(a,s).mark(l.create({href:c}).addToSet(e.marks))),r=s}r<i.length&&t.push(e.cut(r))}else t.push(e.copy(KI(e.content)))}),ce.fromArray(t)},J9=()=>new zi({key:new Ln("linkify"),props:{transformPasted:n=>new fe(KI(n.content),n.openStart,n.openEnd)}}),XI=(()=>{class n{renderer;injector;elementRef;constructor(e,i,r){this.renderer=e,this.injector=i,this.elementRef=r}ngxEditor;editor;outputFormat;placeholder="Type Here...";focusOut=new Z;focusIn=new Z;unsubscribe=new L;onChange=()=>{};onTouched=()=>{};writeValue(e){!this.outputFormat&&GI(e)&&(this.outputFormat="html"),this.editor.setContent(e??qI)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.setMeta("UPDATE_EDITABLE",!e),this.renderer.setProperty(this.elementRef.nativeElement,"disabled",e)}handleChange(e){if(this.outputFormat==="html"){let i=U9(e,this.editor.schema);this.onChange(i);return}this.onChange(e)}setMeta(e,i){let{dispatch:r,state:{tr:o}}=this.editor.view;r(o.setMeta(e,i))}setPlaceholder(e){this.setMeta("UPDATE_PLACEHOLDER",e)}registerPlugins(){this.editor.registerPlugin(W9()),this.editor.registerPlugin(q9(this.placeholder)),this.editor.registerPlugin(Y9({class:"NgxEditor__Content"})),this.editor.registerPlugin(K9(()=>{this.focusIn.emit()})),this.editor.registerPlugin(X9(()=>{this.focusOut.emit(),this.onTouched()})),this.editor.features.resizeImage&&this.editor.registerPlugin(Q9(this.injector)),this.editor.features.linkOnPaste&&this.editor.registerPlugin(J9())}ngOnInit(){if(!this.editor)throw new vs("Required editor instance for initializing editor component");this.registerPlugins(),this.renderer.appendChild(this.ngxEditor.nativeElement,this.editor.view.dom),this.editor.valueChanges.pipe(Ee(this.unsubscribe)).subscribe(e=>{this.handleChange(e)})}ngOnChanges(e){e.placeholder&&!e.placeholder.isFirstChange()&&this.setPlaceholder(e.placeholder.currentValue)}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}static \u0275fac=function(i){return new(i||n)(ne(Le),ne(Ie),ne(Q))};static \u0275cmp=I({type:n,selectors:[["ngx-editor"]],viewQuery:function(i,r){if(i&1&&se(l9,7),i&2){let o;q(o=Y())&&(r.ngxEditor=o.first)}},inputs:{editor:"editor",outputFormat:"outputFormat",placeholder:"placeholder"},outputs:{focusOut:"focusOut",focusIn:"focusIn"},features:[ue([{provide:Ot,useExisting:bt(()=>n),multi:!0}]),we],ngContentSelectors:UI,decls:3,vars:0,consts:[["ngxEditor",""],[1,"NgxEditor"]],template:function(i,r){i&1&&(me(),b(0,"div",1,0),re(2),w())},styles:[`:root{--ngx-editor-border-radius: 4px;--ngx-editor-background-color: #fff;--ngx-editor-text-color: #000;--ngx-editor-placeholder-color: #6c757d;--ngx-editor-border-color: rgba(0, 0, 0, .2);--ngx-editor-wrapper-border-color: rgba(0, 0, 0, .2);--ngx-editor-menubar-bg-color: #fff;--ngx-editor-menubar-padding: 3px;--ngx-editor-menubar-height: 30px;--ngx-editor-blockquote-color: #ddd;--ngx-editor-blockquote-border-width: 3px;--ngx-editor-icon-size: 30px;--ngx-editor-popup-bg-color: #fff;--ngx-editor-popup-border-radius: 4px;--ngx-editor-popup-shadow: rgba(60, 64, 67, .15) 0px 2px 6px 2px;--ngx-editor-menu-item-border-radius: 2px;--ngx-editor-menu-item-active-color: #1a73e8;--ngx-editor-menu-item-hover-bg-color: #f1f1f1;--ngx-editor-menu-item-active-bg-color: #e8f0fe;--ngx-editor-seperator-color: #ccc;--ngx-editor-bubble-bg-color: #000;--ngx-editor-bubble-text-color: #fff;--ngx-editor-bubble-item-hover-color: #636262;--ngx-editor-bubble-seperator-color: #fff;--ngx-editor-focus-ring-color: #5e9ed6;--ngx-editor-error-color: red;--ngx-editor-click-pointer: default}.NgxEditor{background:var(--ngx-editor-background-color);color:var(--ngx-editor-text-color);background-clip:padding-box;border-radius:var(--ngx-editor-border-radius);border:1px solid var(--ngx-editor-border-color);position:relative}.NgxEditor--Disabled{opacity:.5!important;pointer-events:none!important}.NgxEditor__Placeholder:before{color:var(--ngx-editor-placeholder-color);opacity:1;-webkit-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:8px;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:"liga" 0}.NgxEditor__Content p{margin:0 0 10px}.NgxEditor__Content blockquote{padding-left:16px;border-left:var(--ngx-editor-blockquote-border-width) solid var(--ngx-editor-blockquote-color);margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid var(--ngx-editor-wrapper-border-color);border-radius:var(--ngx-editor-border-radius)}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:var(--ngx-editor-border-radius);border-top-right-radius:var(--ngx-editor-border-radius);border-bottom:1px solid var(--ngx-editor-border-color)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;flex-wrap:wrap;padding:var(--ngx-editor-menubar-padding);background-color:var(--ngx-editor-menubar-bg-color);gap:.25rem .1rem}.NgxEditor__MenuBar button:not(:disabled),.NgxEditor__MenuBar [role=button]:not(:disabled){cursor:var(--ngx-editor-click-pointer, default)}.NgxEditor__MenuItem{display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem.NgxEditor__MenuItem--IconContainer{display:flex;align-items:center;justify-content:center}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon{all:unset;appearance:none;height:var(--ngx-editor-icon-size);width:var(--ngx-editor-icon-size);transition:.2s ease-in-out;display:inline-flex;align-items:center;justify-content:center;border-radius:var(--ngx-editor-menu-item-border-radius)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 5px}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active,.NgxEditor__MenuItem .NgxEditor__MenuItem--Active{background-color:var(--ngx-editor-menu-item-active-bg-color);color:var(--ngx-editor-menu-item-active-color)}.NgxEditor__Dropdown{min-width:64px;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{all:unset;appearance:none;display:flex;align-items:center;justify-content:center;padding:0 5px;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:"";margin-left:24px;vertical-align:4px;border-top:4px solid;border-right:4px solid transparent;border-bottom:0;border-left:4px solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;width:100%;top:calc(var(--ngx-editor-menubar-height) + 2px);display:flex;flex-direction:column}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{all:unset;appearance:none;padding:8px;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Selected,.NgxEditor__Dropdown .NgxEditor__Dropdown--Open{color:var(--ngx-editor-menu-item-active-color);background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__Popup{position:absolute;top:calc(var(--ngx-editor-menubar-height) + 2px);box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;min-width:192px;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid var(--ngx-editor-seperator-color);margin:0 5px}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:var(--ngx-editor-error-color)}
`],encapsulation:2})}return n})(),Da=(()=>{class n{sanitizer;constructor(e){this.sanitizer=e}transform(e){return WI(e)?e:this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(i){return new(i||n)(ne(mo,16))};static \u0275pipe=ea({name:"sanitizeHtml",type:n,pure:!0})}return n})(),Kr=class{name;constructor(t){this.name=t}apply(){return(t,e)=>{let{schema:i}=t,r=i.marks[this.name];return r?sy(r)(t,e):!1}}toggle(){return(t,e)=>{let{schema:i}=t,r=i.marks[this.name];return r?Ns(r)(t,e):!1}}isActive(t){let{schema:e}=t,i=e.marks[this.name];return i?Qm(t,i):!1}canExecute(t){return this.toggle()(t)}},yy=class{toggle(){return(t,e)=>{let{schema:i}=t,r=i.nodes.blockquote;return r?this.isActive(t)?HT(t,e):$T(r)(t,e):!1}}isActive(t){let{schema:e}=t,i=e.nodes.blockquote;return i?ny(t,i):!1}canExecute(t){return this.toggle()(t)}},wy=class{insert(){return(t,e)=>{let{schema:i,tr:r}=t,o=i.nodes.horizontal_rule;return o?(e(r.replaceSelectionWith(o.create()).scrollIntoView()),!0):!1}}canExecute(t){return JT(t,t.schema.nodes.horizontal_rule)}},ac=class{isBulletList=!1;constructor(t=!1){this.isBulletList=t}getType(t){return this.isBulletList?t.nodes.bullet_list:t.nodes.ordered_list}toggle(){return(t,e)=>{let{schema:i}=t,r=this.getType(i);return r?this.isActive(t)?g0(i.nodes.list_item)(t,e):MA(r)(t,e):!1}}isActive(t){let{schema:e}=t,i=this.getType(e);return i?ny(t,i):!1}canExecute(t){return this.toggle()(t)}},Lo=class{level;constructor(t){this.level=t}apply(){return(t,e)=>{let{schema:i}=t,r=i.nodes.heading;return r?Km(r)(t,e):!1}}toggle(){return(t,e)=>{let{schema:i,selection:r,doc:o}=t,a=i.nodes.heading;if(!a)return!1;let s=r.$from.before(1),c=o.nodeAt(s)?.attrs??{};return this.isActive(t)?Km(i.nodes.paragraph,c)(t,e):Km(a,ye(E({},c),{level:this.level}))(t,e)}}isActive(t){let{schema:e}=t,i=ry(t),r=e.nodes.heading;if(!r)return!1;let o=[r,e.nodes.text,e.nodes.blockquote];return!!i.filter(l=>o.includes(l.type)).find(l=>l.attrs.level===this.level)}canExecute(t){return this.toggle()(t)}},$s=class{align;constructor(t){this.align=t}toggle(){return(t,e)=>{let{doc:i,selection:r,tr:o,schema:a}=t,{from:s,to:l}=r,c=!1;return i.nodesBetween(s,l,(d,h)=>{let u=d.type;if([a.nodes.paragraph,a.nodes.heading].includes(u)){c=!0;let p=d.attrs.align===this.align?null:this.align;o.setNodeMarkup(h,u,ye(E({},d.attrs),{align:p}))}return!0}),c?(o.docChanged&&e?.(o),!0):!1}}isActive(t){return!!ry(t).find(r=>r.attrs.align===this.align)}canExecute(t){return this.toggle()(t)}},eH={strict:!0},xy=class{update(t){return(e,i)=>{let{schema:r,selection:o}=e,a=r.marks.link;return!a||o.empty?!1:Ns(a,t)(e,i)}}insert(t,e){return(i,r)=>{let{schema:o,tr:a}=i;if(!o.marks.link)return!1;let l={href:e.href,title:e.title??t,target:e.target??"_blank"},c=o.text(t,[o.marks.link.create(l)]);return a.replaceSelectionWith(c,!1).scrollIntoView(),a.docChanged?(r?.(a),!0):!1}}isActive(t,e=eH){if(e.strict)return!0;let{schema:i}=t,r=i.marks.link;return r?Qm(t,r):!1}remove(t,e){return eI()(t,e)}canExecute(t){let e={href:""};return this.insert("Exec",e)(t)||this.update(e)(t)}},QI=class{insert(t,e){return(i,r)=>{let{schema:o,tr:a,selection:s}=i,l=o.nodes.image;if(!l)return!1;let c=E({width:null,src:t},e);!c.width&&s instanceof Re&&s.node.type===l&&(c.width=s.node.attrs.width),a.replaceSelectionWith(l.createAndFill(c));let d=a.doc.resolve(a.selection.anchor-a.selection.$anchor.nodeBefore.nodeSize);return a.setSelection(new Re(d)).scrollIntoView(),a.docChanged?(r?.(a),!0):!1}}isActive(t){let{selection:e}=t;return e instanceof Re?e.node.type.name==="image":!1}},oc=class{name;attrName;constructor(t,e="color"){this.name=t,this.attrName=e}apply(t){return(e,i)=>{let{schema:r,selection:o,doc:a}=e,s=r.marks[this.name];if(!s)return!1;let{from:l,to:c,empty:d}=o;if(!d&&l+1===c){let h=a.nodeAt(l);if(h?.isAtom&&!h.isText&&h.isLeaf)return!1}return sy(s,t)(e,i)}}isActive(t){let{schema:e}=t,i=e.marks[this.name];return i?Qm(t,i):!1}getActiveColors(t){if(!this.isActive(t))return[];let{schema:e}=t;return ZT(t).filter(o=>o.type===e.marks[this.name]).map(o=>o.attrs[this.attrName]).filter(Boolean)}remove(){return(t,e)=>{let{schema:i}=t,r=i.marks[this.name];return r?tI(r)(t,e):!1}}canExecute(t){let e=this.name==="text_color"?{color:""}:{backgroundColor:""};return this.apply(e)(t)}},tH=["link"],Cy=class{insert(){return(t,e)=>{let{tr:i}=t,{ranges:r,empty:o}=i.selection;return o||(Object.entries(t.schema.marks).forEach(([a,s])=>{tH.includes(a)||r.forEach(l=>{i.removeMark(l.$from.pos,l.$to.pos,s)})}),e(i)),!0}}canExecute(){return!0}},iH=["paragraph","heading","blockquote"],FI=0,LI=10,nH=(n,t,e)=>{let i=n.doc.nodeAt(t);if(!i)return!1;let r=i.attrs.indent??0,o=AE(r+(e==="increase"?1:-1),FI,LI);if(o===r||o<FI||o>LI)return!1;let a=ye(E({},i.attrs),{indent:o});return n.setNodeMarkup(t,i.type,a),!0},sc=class{method="increase";constructor(t){this.method=t}insert(){return(t,e)=>{let{tr:i,doc:r}=t,{from:o,to:a}=i.selection,s=!1;return r.nodesBetween(o,a,(l,c)=>{let d=l.type;return iH.includes(d.name)?(s=nH(i,c,this.method),!1):!l.type.name.includes("list")}),s?(i.docChanged&&e?.(i),!0):!1}}canExecute(t){return this.insert()(t)}},mf=class{mode="undo";constructor(t){this.mode=t}insert(){return(t,e)=>this.mode==="undo"?tf(t,e):sh(t,e)}canExecute(t){return this.insert()(t)}},rH=new Kr("strong"),oH=new Kr("em"),aH=new Kr("code"),sH=new Kr("u"),lH=new Kr("s"),cH=new yy,dH=new wy,hH=new Cy,uH=new ac(!0),pH=new ac(!1),mH=new Lo(1),fH=new Lo(2),gH=new Lo(3),_H=new Lo(4),bH=new Lo(5),vH=new Lo(6),yH=new $s("left"),wH=new $s("center"),xH=new $s("right"),CH=new $s("justify"),kH=new xy,DH=new QI,MH=new oc("text_color","color"),SH=new oc("text_background_color","backgroundColor"),EH=new sc("increase"),AH=new sc("decrease"),TH=new Kr("sup"),IH=new Kr("sub"),PH=new mf("undo"),RH=new mf("redo"),lc={bold:rH,italic:oH,code:aH,underline:sH,strike:lH,blockquote:cH,bullet_list:uH,ordered_list:pH,h1:mH,h2:fH,h3:gH,h4:_H,h5:bH,h6:vH,align_left:yH,align_center:wH,align_right:xH,align_justify:CH,superscript:TH,subscript:IH},NI={horizontal_rule:dH,format_clear:hH,indent:EH,outdent:AH,undo:PH,redo:RH},ph=kH,VI=DH,OH=MH,FH=SH,Ma=(()=>{class n{editor;customMenuRefChange=new L;setCustomMenuRef(e){this.customMenuRefChange.next(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ky={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",horizontal_rule:"Horizontal rule",format_clear:"Clear Formatting",insertLink:"Insert Link",removeLink:"Remove Link",insertImage:"Insert Image",indent:"Increase Indent",outdent:"Decrease Indent",superscript:"Superscript",subscript:"Subscript",undo:"Undo",redo:"Redo",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove",enterValidUrl:"Please enter a valid URL"},Dy=class{locals=ky;constructor(t={}){this.locals=E(E({},ky),t)}get=t=>{let e=this.locals[t];return e?Ac(e)?e:pe(e):pe("")}},LH=`
  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />
`,NH=`
  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />
`,VH=`
<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>
`,BH=`
<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>
`,zH=`
<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>
`,HH=`
<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>
`,jH=`
<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>
`,UH=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>
`,$H=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
`,WH=`
<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>
`,GH=`
<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
`,qH=`
<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>
`,YH=`
<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>
`,KH=`
<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>
`,XH=`
<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>
`,QH=`
<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>
`,ZH=`
<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>
`,JH=`
  <g>
    <rect fill="none" fill-rule="evenodd" height="24" width="24"/>
    <rect fill-rule="evenodd" height="2" width="16" x="4" y="11"/>
  </g>
`,ej=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"/>
`,tj='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M3 21h18v-2H3v2zM3 8v8l4-4-4-4zm8 9h10v-2H11v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>',ij='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M11 17h10v-2H11v2zm-8-5l4 4V8l-4 4zm0 9h18v-2H3v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>',nj='<g><rect fill="none" height="20" width="20"/><path d="M17,6l-1,0v1h2v1l-3,0V6c0-0.55,0.45-1,1-1l1,0l0-1h-2V3l2,0c0.55,0,1,0.45,1,1v1C18,5.55,17.55,6,17,6z M5.63,16h1.9 l2.43-3.87h0.08L12.47,16h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,6h-1.9l3.09,4.8L5.63,16z"/></g>',rj='<g><rect fill="none" height="20" width="20"/><path d="M17,15l-1,0v1h2v1h-3v-2c0-0.55,0.45-1,1-1l1,0l0-1h-2v-1l2,0c0.55,0,1,0.45,1,1v1C18,14.55,17.55,15,17,15z M5.63,14h1.9 l2.43-3.87h0.08L12.47,14h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,4h-1.9l3.09,4.8L5.63,14z"/></g>',oj='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/>',aj='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"/>',sj=20,lj=20,cj="currentColor",ZI={bold:LH,italic:NH,code:VH,underline:BH,strike:zH,ordered_list:HH,bullet_list:jH,blockquote:UH,link:$H,unlink:WH,image:GH,align_left:qH,align_center:YH,align_right:KH,align_justify:XH,text_color:QH,color_fill:ZH,horizontal_rule:JH,format_clear:ej,indent:tj,outdent:ij,superscript:nj,subscript:rj,undo:oj,redo:aj,path:"<path></path>"},My=class{static get(t,e=cj){let i=ZI[t];return i&&(i.includes("<path")||i.includes("<g"))?`
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill=${e}
          height=${sj}
          width=${lj}
        >
          ${i}
        </svg>
      `:i}},Sy=(()=>{class n{locals={};icons={};static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sa=(()=>{class n{config;constructor(e){this.config=e}get locals(){return new Dy(this.config.locals)}getIcon(e){return this.config.icons[e]?this.config.icons[e]:My.get(e)}static \u0275fac=function(i){return new(i||n)(ke(Sy,8))};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BI=n=>({locals:n.locals??{},icons:n.icons??{}}),JI=(()=>{class n{el;menuService;ngxeService;presets;type;constructor(e,i,r){this.el=e,this.menuService=i,this.ngxeService=r}get title(){return this.getLabel(this.type==="text_color"?"text_color":"background_color")}get icon(){return this.ngxeService.getIcon(this.type==="text_color"?"text_color":"color_fill")}get command(){return this.type==="text_color"?OH:FH}updateSubscription;editorView;showPopup=!1;isActive=!1;activeColors=[];canExecute=!0;getContrastYIQ(e){let i=e.replace("#",""),r=parseInt(i.substring(0,2),16),o=parseInt(i.substring(2,4),16),a=parseInt(i.substring(4,6),16);return(r*299+o*587+a*114)/1e3>=128?"black":"white"}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hidePopup()}hidePopup(){this.showPopup=!1}togglePopup(){this.showPopup=!this.showPopup}onTogglePopupMouseClick(e){e.preventDefault(),e.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}remove(){let{state:e,dispatch:i}=this.editorView;this.command.remove()(e,i),this.hidePopup()}onRemoveMouseClick(e){e.preventDefault(),e.button===0&&(e.preventDefault(),this.remove())}onRemoveKeydown(){this.remove()}trackByIndex(e){return e}selectColor(e){let{state:i,dispatch:r}=this.editorView;if(this.type==="text_color"){let o={color:e};this.command.apply(o)(i,r)}else{let o={backgroundColor:e};this.command.apply(o)(i,r)}this.editorView.hasFocus()||this.editorView.focus(),this.hidePopup()}onColorSelectMouseClick(e,i){e.preventDefault(),e.button===0&&this.selectColor(i)}onColorSelectKeydown(e){this.selectColor(e)}update=e=>{let{state:i}=e;this.canExecute=this.command.canExecute(i),this.isActive=this.command.isActive(i),this.activeColors=[],this.isActive&&(this.activeColors=this.command.getActiveColors(i))};getLabel(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(ne(Q),ne(Ma),ne(Sa))};static \u0275cmp=I({type:n,selectors:[["ngx-color-picker"]],hostBindings:function(i,r){i&1&&T("mousedown",function(a){return r.onDocumentClick(a)},!1,Ut)},inputs:{presets:"presets",type:"type"},decls:5,vars:15,consts:[["type","button",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],["class","NgxEditor__ColorContainer",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__MenuItem--Button",3,"mousedown","keydown.enter","keydown.space","disabled"],[1,"NgxEditor__ColorContainer"],["class","NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Color",3,"mousedown","keydown.enter","keydown.space","ngStyle","title","ngClass"]],template:function(i,r){i&1&&(b(0,"button",0),at(1,"sanitizeHtml"),at(2,"async"),at(3,"async"),T("mousedown",function(a){return r.onTogglePopupMouseClick(a)})("keydown.enter",function(){return r.onTogglePopupKeydown()})("keydown.space",function(){return r.onTogglePopupKeydown()}),w(),O(4,p9,5,6,"div",1)),i&2&&(N("NgxEditor__MenuItem--Active",r.isActive||r.showPopup)("NgxEditor--Disabled",!r.canExecute),M("disabled",!r.canExecute)("innerHTML",st(1,9,r.icon),oo)("title",st(2,11,r.title))("ariaLabel",st(3,13,r.title)),y(4),M("ngIf",r.showPopup))},dependencies:[uo,Li,Qi,ho,Vt,H_,Da],styles:['@charset "UTF-8";.NgxEditor__Popup[_ngcontent-%COMP%]{width:230px}.NgxEditor__ColorContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.NgxEditor__ColorContainer[_ngcontent-%COMP%] + .NgxEditor__ColorContainer[_ngcontent-%COMP%]{margin-top:5px}.NgxEditor__Color[_ngcontent-%COMP%]{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color[_ngcontent-%COMP%]:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color);outline-offset:1px}.NgxEditor__Color--Active[_ngcontent-%COMP%]:after{content:"\\2714";font-size:90%}.NgxEditor__MenuItem--Button[_ngcontent-%COMP%]{margin-top:5px}']})}return n})(),eP=(()=>{class n{ngxeService;menuService;el;editorView;updateSubscription;group;items;isDropdownOpen=!1;disabledItems=[];activeItem;constructor(e,i,r){this.ngxeService=e,this.menuService=i,this.el=r}get isSelected(){return!!(this.activeItem||this.isDropdownOpen)}get isDropdownDisabled(){return this.disabledItems.length===this.items.length}onDocumentClick(e){!this.el.nativeElement.contains(e)&&this.isDropdownOpen&&(this.isDropdownOpen=!1)}getName(e){return this.ngxeService.locals.get(e)}getIsDropdownActive(e){return this.activeItem===e}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}onToggleDropdownMouseClick(e){e.preventDefault(),e.button===0&&this.toggleDropdown()}onToggleDropdownKeydown(){this.toggleDropdown()}trackByIndex(e){return e}selectItem(e){let i=lc[e],{state:r,dispatch:o}=this.editorView;i.toggle()(r,o),this.isDropdownOpen=!1}onDropdownItemMouseClick(e,i){e.preventDefault(),e.button===0&&this.selectItem(i)}onDropdownItemKeydown(e,i){e.preventDefault(),this.selectItem(i)}update=e=>{let{state:i}=e;this.disabledItems=[];let r=[];this.items.forEach(o=>{let a=lc[o];a.isActive(i)&&r.push(o),a.canExecute(i)||this.disabledItems.push(o)}),r.length===1?[this.activeItem]=r:this.activeItem=null};ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(ne(Sa),ne(Ma),ne(Q))};static \u0275cmp=I({type:n,selectors:[["ngx-dropdown"]],hostBindings:function(i,r){i&1&&T("mousedown",function(a){return r.onDocumentClick(a.target)},!1,Ut)},inputs:{group:"group",items:"items"},decls:5,vars:13,consts:[["type","button","aria-haspopup","listbox",1,"NgxEditor__Dropdown--Text",3,"mousedown","keydown.enter","keydown.space","disabled","ariaLabel","ariaExpanded"],["class","NgxEditor__Dropdown--DropdownMenu","role","listbox",4,"ngIf"],["role","listbox",1,"NgxEditor__Dropdown--DropdownMenu"],["type","button","class","NgxEditor__Dropdown--Item","role","option",3,"ngClass","ariaLabel","mousedown","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],["type","button","role","option",1,"NgxEditor__Dropdown--Item",3,"mousedown","keydown.enter","keydown.space","ngClass","ariaLabel"]],template:function(i,r){i&1&&(b(0,"button",0),at(1,"async"),T("mousedown",function(a){return r.onToggleDropdownMouseClick(a)})("keydown.enter",function(){return r.onToggleDropdownKeydown()})("keydown.space",function(){return r.onToggleDropdownKeydown()}),K(2),at(3,"async"),w(),O(4,g9,2,2,"div",1)),i&2&&(N("NgxEditor__Dropdown--Selected",r.isSelected)("NgxEditor--Disabled",r.isDropdownDisabled),M("disabled",r.isDropdownDisabled)("ariaLabel",st(1,9,r.getName(r.activeItem||r.group)))("ariaExpanded",r.isDropdownOpen),y(2),Ze(" ",st(3,11,r.getName(r.activeItem||r.group)),`
`),y(2),M("ngIf",r.isDropdownOpen))},dependencies:[uo,Li,Qi,ho,Vt],encapsulation:2})}return n})(),tP=(()=>{class n{el;ngxeService;menuService;showPopup=!1;isActive=!1;componentId=Kv();updateSubscription;form=new zr({src:new An("",[ai.required,ai.pattern(`(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#
\r]*)?#?([^
\r]*)`)]),alt:new An(""),title:new An("")});editorView;constructor(e,i,r){this.el=e,this.ngxeService=i,this.menuService=r}get icon(){return this.ngxeService.getIcon("image")}get src(){return this.form.get("src")}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hideForm()}getId(e){return`${e}-${this.componentId}`}getLabel(e){return this.ngxeService.locals.get(e)}hideForm(){this.showPopup=!1,this.form.reset({src:"",alt:"",title:""})}togglePopup(){this.showPopup=!this.showPopup,this.showPopup&&this.fillForm()}onTogglePopupMouseClick(e){e.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}fillForm(){let{state:e}=this.editorView,{selection:i}=e;if(i instanceof Re&&this.isActive){let{src:r,alt:o="",title:a=""}=i.node.attrs;this.form.setValue({src:r,alt:o,title:a})}}update=e=>{let{state:i}=e;this.isActive=VI.isActive(i)};insertLink(e){e.preventDefault();let{src:i,alt:r,title:o}=this.form.getRawValue(),{dispatch:a,state:s}=this.editorView,l={alt:r,title:o};VI.insert(i,l)(s,a),this.editorView.focus(),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(ne(Q),ne(Sa),ne(Ma))};static \u0275cmp=I({type:n,selectors:[["ngx-image"]],hostBindings:function(i,r){i&1&&T("mousedown",function(a){return r.onDocumentClick(a)},!1,Ut)},decls:5,vars:13,consts:[["type","button","aria-haspopup","dialog",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","innerHTML","title","ariaLabel","ariaExpanded"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"ngSubmit","formGroup"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label",3,"htmlFor"],["type","url","formControlName","src","autocomplete","off",3,"id"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","alt","autocomplete","off",3,"id"],["type","text","formControlName","title","autocomplete","off",3,"id"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(i,r){i&1&&(b(0,"button",0),at(1,"sanitizeHtml"),at(2,"async"),at(3,"async"),T("mousedown",function(a){return r.onTogglePopupMouseClick(a)})("keydown.enter",function(){return r.onTogglePopupKeydown()})("keydown.space",function(){return r.onTogglePopupKeydown()}),w(),O(4,b9,24,21,"div",1)),i&2&&(N("NgxEditor__MenuItem--Active",r.isActive||r.showPopup),M("innerHTML",st(1,7,r.icon),oo)("title",st(2,9,r.getLabel("insertImage")))("ariaLabel",st(3,11,r.getLabel("insertImage")))("ariaExpanded",r.showPopup),y(4),M("ngIf",r.showPopup))},dependencies:[uo,Da,bs,Gv,Pn,Rn,jv,Hr,vm,Li,Vt],encapsulation:2})}return n})(),dj=(()=>{class n{ngxeService;menuService;toolbarItem;get name(){return this.toolbarItem}html;editorView;disabled=!1;updateSubscription;constructor(e,i){this.ngxeService=e,this.menuService=i}onMouseClick(e){e.preventDefault(),e.button===0&&this.insert()}onKeydown(){this.insert()}insert(){let{state:e,dispatch:i}=this.editorView;NI[this.name].insert()(e,i)}update=e=>{let{state:i}=e,r=NI[this.name];this.disabled=!r.canExecute(i)};getTitle(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(ne(Sa),ne(Ma))};static \u0275cmp=I({type:n,selectors:[["ngx-insert-command"]],inputs:{toolbarItem:"toolbarItem"},decls:4,vars:12,consts:[["type","button",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"]],template:function(i,r){i&1&&(b(0,"button",0),at(1,"sanitizeHtml"),at(2,"async"),at(3,"async"),T("mousedown",function(a){return r.onMouseClick(a)})("keydown.enter",function(){return r.onKeydown()})("keydown.space",function(){return r.onKeydown()}),w()),i&2&&(N("NgxEditor--Disabled",r.disabled),M("disabled",r.disabled)("innerHTML",st(1,6,r.html),oo)("title",st(2,8,r.getTitle(r.name)))("ariaLabel",st(3,10,r.getTitle(r.name))))},dependencies:[uo,Da],encapsulation:2})}return n})(),zI={showOpenInNewTab:!0},iP=(()=>{class n{el;ngxeService;menuService;options=zI;showPopup=!1;isActive=!1;canExecute=!0;componentId=Kv();form;editorView;updateSubscription;constructor(e,i,r){this.el=e,this.ngxeService=i,this.menuService=r}get icon(){return this.ngxeService.getIcon(this.isActive?"unlink":"link")}get title(){return this.ngxeService.locals.get(this.isActive?"removeLink":"insertLink")}get href(){return this.form.get("href")}get text(){return this.form.get("text")}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hidePopup()}getId(e){return`${e}-${this.componentId}`}getLabel(e){return this.ngxeService.locals.get(e)}hidePopup(){this.showPopup=!1,this.form.reset({href:"",text:"",openInNewTab:!0}),this.text.enable()}togglePopup(){let{state:e,dispatch:i}=this.editorView;if(this.isActive){ph.remove(e,i);return}this.showPopup=!this.showPopup,this.showPopup&&this.setText()}onTogglePopupMouseClick(e){e.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}setText=()=>{let{state:{selection:e,doc:i}}=this.editorView,{empty:r,from:o,to:a}=e,s=r?"":i.textBetween(o,a);s&&(this.text.patchValue(s),this.text.disable())};update=e=>{let{state:i}=e;this.isActive=ph.isActive(i,{strict:!1}),this.canExecute=ph.canExecute(i)};insertLink(e){e.preventDefault();let{text:i,href:r,openInNewTab:o}=this.form.getRawValue(),{dispatch:a,state:s}=this.editorView,{selection:l}=s,c;this.options.showOpenInNewTab&&(c=o?"_blank":"_self");let d={title:r,href:r,target:c};l.empty?(ph.insert(i,d)(s,a),this.editorView.focus()):ph.update(d)(s,a),this.hidePopup()}ngOnInit(){this.editorView=this.menuService.editor.view,this.form=new zr({href:new An("",[ai.required,ai.pattern(this.menuService.editor.linkValidationPattern)]),text:new An("",[ai.required]),openInNewTab:new An(!0)}),this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(ne(Q),ne(Sa),ne(Ma))};static \u0275cmp=I({type:n,selectors:[["ngx-link"]],hostBindings:function(i,r){i&1&&T("mousedown",function(a){return r.onDocumentClick(a)},!1,Ut)},inputs:{options:[2,"options","options",e=>E(E({},zI),e)]},decls:5,vars:16,consts:[["type","button","aria-haspopup","dialog",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel","ariaExpanded"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"ngSubmit","formGroup"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label",3,"htmlFor"],["type","url","formControlName","href","autocomplete","off",3,"id"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","text","autocomplete","off",3,"id"],["class","NgxEditor__Popup--FormGroup",4,"ngIf"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"],["type","checkbox","formControlName","openInNewTab"]],template:function(i,r){i&1&&(b(0,"button",0),at(1,"sanitizeHtml"),at(2,"async"),at(3,"async"),T("mousedown",function(a){return r.onTogglePopupMouseClick(a)})("keydown.enter",function(){return r.onTogglePopupKeydown()})("keydown.space",function(){return r.onTogglePopupKeydown()}),w(),O(4,x9,20,18,"div",1)),i&2&&(N("NgxEditor__MenuItem--Active",r.isActive||r.showPopup)("NgxEditor--Disabled",!r.canExecute),M("disabled",!r.canExecute)("innerHTML",st(1,10,r.icon),oo)("title",st(2,12,r.title))("ariaLabel",st(3,14,r.title))("ariaExpanded",r.showPopup),y(4),M("ngIf",r.showPopup))},dependencies:[uo,Li,Vt,bs,Gv,Pn,Nv,Rn,jv,Hr,vm,Da],encapsulation:2})}return n})(),hj=(()=>{class n{ngxeService;menuService;toolbarItem;get name(){return this.toolbarItem}html;editorView;isActive=!1;disabled=!1;updateSubscription;constructor(e,i){this.ngxeService=e,this.menuService=i}toggle(){let{state:e,dispatch:i}=this.editorView;lc[this.name].toggle()(e,i)}onMouseClick(e){e.preventDefault(),e.button===0&&this.toggle()}onKeydown(){this.toggle()}update=e=>{let{state:i}=e,r=lc[this.name];this.isActive=r.isActive(i),this.disabled=!r.canExecute(i)};getTitle(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(ne(Sa),ne(Ma))};static \u0275cmp=I({type:n,selectors:[["ngx-toggle-command"]],inputs:{toolbarItem:"toolbarItem"},decls:4,vars:14,consts:[["type","button",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"]],template:function(i,r){i&1&&(b(0,"button",0),at(1,"sanitizeHtml"),at(2,"async"),at(3,"async"),T("mousedown",function(a){return r.onMouseClick(a)})("keydown.enter",function(){return r.onKeydown()})("keydown.space",function(){return r.onKeydown()}),w()),i&2&&(N("NgxEditor__MenuItem--Active",r.isActive)("NgxEditor--Disabled",r.disabled),M("disabled",r.disabled)("innerHTML",st(1,8,r.html),oo)("title",st(2,10,r.getTitle(r.name)))("ariaLabel",st(3,12,r.getTitle(r.name))))},dependencies:[uo,Da],encapsulation:2})}return n})();var uj=[["bold","italic"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"]];var pj=["#b60205","#d93f0b","#fbca04","#0e8a16","#006b75","#1d76db","#0052cc","#5319e7","#e99695","#f9d0c4","#fef2c0","#c2e0c6","#bfdadc","#c5def5","#bfd4f2","#d4c5f9"],Ay=(()=>{class n{menuService;toolbar=uj;colorPresets=pj;disabled=!1;editor;customMenuRef=null;dropdownPlacement="bottom";toggleCommands=["bold","italic","underline","strike","code","blockquote","ordered_list","bullet_list","align_left","align_center","align_right","align_justify","superscript","subscript"];insertCommands=["horizontal_rule","format_clear","indent","outdent","undo","redo"];iconContainerClass=["NgxEditor__MenuItem","NgxEditor__MenuItem--IconContainer"];dropdownContainerClass=["NgxEditor__Dropdown"];seperatorClass=["NgxEditor__Seperator"];constructor(e){this.menuService=e}get presets(){let i=[];return this.colorPresets.forEach((r,o)=>{let a=Math.floor(o/8);i[a]||i.push([]),i[a].push(r)}),i}trackByIndex(e){return e}isDropDown(e){return!!e?.heading}getDropdownItems(e){return e}isLinkItem(e){return e==="link"?!0:typeof e=="object"&&typeof e?.link=="object"}isLinkWithOptions(e){return typeof e=="object"&&typeof e?.link=="object"}getLinkOptions(e){return e?.link}ngOnInit(){if(!this.editor)throw new vs("Required editor instance to initialize menu component");this.menuService.editor=this.editor}static \u0275fac=function(i){return new(i||n)(ne(Ma))};static \u0275cmp=I({type:n,selectors:[["ngx-editor-menu"]],inputs:{toolbar:"toolbar",colorPresets:"colorPresets",disabled:"disabled",editor:"editor",customMenuRef:"customMenuRef",dropdownPlacement:"dropdownPlacement"},features:[ue([Ma])],decls:3,vars:7,consts:[[1,"NgxEditor__MenuBar",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"toolbarItem","class",4,"ngIf"],[3,"class",4,"ngIf"],["type","text_color",3,"class","presets",4,"ngIf"],["type","background_color",3,"class","presets",4,"ngIf"],[3,"toolbarItem"],[3,"options"],[3,"class","group","items",4,"ngFor","ngForOf","ngForTrackBy"],[3,"group","items"],["type","text_color",3,"presets"],["type","background_color",3,"presets"],[3,"ngTemplateOutlet"]],template:function(i,r){i&1&&(b(0,"div",0),O(1,O9,2,2,"ng-container",1)(2,F9,2,1,"ng-container",2),w()),i&2&&(M("ngClass",ta(4,C9,r.disabled,r.dropdownPlacement==="top")),y(),M("ngForOf",r.toolbar)("ngForTrackBy",r.trackByIndex),y(),M("ngIf",r.customMenuRef))},dependencies:[Li,Qi,ho,Vt,Tr,U_,JI,eP,hj,dj,iP,tP],encapsulation:2})}return n})(),nP=(()=>{class n{sanitizeHTML;ngxeService;constructor(e,i){this.sanitizeHTML=e,this.ngxeService=i}get view(){return this.editor.view}editor;updateSubscription;execulableItems=[];activeItems=[];toolbar=[["bold","italic","underline","strike"],["ordered_list","bullet_list","blockquote","code"],["align_left","align_center","align_right","align_justify"]];toggleCommands=["bold","italic","underline","strike","ordered_list","bullet_list","blockquote","code","align_left","align_center","align_right","align_justify"];getIcon(e){return this.sanitizeHTML.transform(this.ngxeService.getIcon(e))}getTitle(e){return this.ngxeService.locals.get(e)}trackByIndex(e){return e}onClick(e,i){if(e.preventDefault(),e.stopPropagation(),e.button!==0)return;let{state:r,dispatch:o}=this.view;lc[i].toggle()(r,o)}update(e){this.activeItems=[],this.execulableItems=[];let{state:i}=e;this.toggleCommands.forEach(r=>{let o=lc[r];o.isActive(i)&&this.activeItems.push(r),o.canExecute(i)&&this.execulableItems.push(r)})}ngOnInit(){this.updateSubscription=this.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(ne(Da),ne(Sa))};static \u0275cmp=I({type:n,selectors:[["ngx-bubble"]],inputs:{editor:"editor"},features:[ue([Da])],decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],["type","button","class","NgxBubbleMenu__Icon",3,"ngClass","title","innerHTML","mousedown",4,"ngIf"],["class","NgxBubbleMenu__Seperator",4,"ngIf"],["type","button",1,"NgxBubbleMenu__Icon",3,"mousedown","ngClass","title","innerHTML"],[1,"NgxBubbleMenu__Seperator"]],template:function(i,r){i&1&&O(0,z9,2,2,"ng-container",0),i&2&&M("ngForOf",r.toolbar)("ngForTrackBy",r.trackByIndex)},dependencies:[uo,Li,Qi,ho,Vt],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}[_nghost-%COMP%]{display:flex;flex-wrap:wrap;background-color:var(--ngx-editor-bubble-bg-color);color:var(--ngx-editor-bubble-text-color);padding:5px;border-radius:4px}.NgxBubbleMenu__Icon[_ngcontent-%COMP%]{all:unset;appearance:none;height:var(--ngx-editor-icon-size);width:var(--ngx-editor-icon-size);transition:.2s ease-in-out;border-radius:var(--ngx-editor-menu-item-border-radius);display:flex;align-items:center;justify-content:center;color:#fff}.NgxBubbleMenu__Icon[_ngcontent-%COMP%]:hover{background-color:var(--ngx-editor-bubble-item-hover-color)}.NgxBubbleMenu__Icon[_ngcontent-%COMP%] + .NgxBubbleMenu__Icon[_ngcontent-%COMP%]{margin-left:5px}.NgxBubbleMenu__Icon.NgxBubbleMenu__Icon--Active[_ngcontent-%COMP%]{background-color:var(--ngx-editor-bubble-text-color);color:var(--ngx-editor-bubble-bg-color)}.NgxBubbleMenu__Seperator[_ngcontent-%COMP%]{border-left:1px solid var(--ngx-editor-seperator-color);margin:0 5px}"]})}return n})(),mj=(()=>{class n{el;constructor(e){this.el=e}get display(){return{visibility:this.showMenu?"visible":"hidden",opacity:this.showMenu?"1":"0",top:`${this.posTop}px`,left:`${this.posLeft}px`}}get view(){return this.editor.view}editor;autoPlace=!1;posLeft=0;posTop=0;showMenu=!1;updateSubscription;dragging=!1;resizeSubscription;onMouseDown(e){let i=e.target;if(this.el.nativeElement.contains(i)&&i.nodeName!=="INPUT"){e.preventDefault();return}this.dragging=!0}onKeyDown(e){e.target.nodeName!=="INPUT"&&(this.dragging=!0,this.hide())}onMouseUp(e){let i=e.target;if(this.el.nativeElement.contains(i)||i.nodeName==="INPUT"){e.preventDefault();return}this.dragging=!1,this.useUpdate()}onKeyUp(e){e.target.nodeName!=="INPUT"&&(this.dragging=!1,this.useUpdate())}useUpdate(){this.view&&this.update(this.view)}hide(){this.showMenu=!1}show(){this.showMenu=!0}calculateBubblePosition(e){return U(this,null,function*(){let{state:{selection:i}}=e,{from:r,to:o}=i,a=e.coordsAtPos(r),s=e.coordsAtPos(o),l={getBoundingClientRect(){if(i instanceof Re)return e.nodeDOM(r).getBoundingClientRect();let{top:p,left:m}=a,{bottom:g,right:_}=s;return{x:m,y:p,top:p,bottom:g,left:m,right:_,width:_-m,height:g-p}}},c=this.el.nativeElement,{x:d,y:h}=yield PI(l,c,{placement:"top",middleware:[TI(5),this.autoPlace&&II({boundary:e.dom,padding:5,allowedPlacements:["top","bottom"]}),{name:"overflowMiddleware",fn(p){return U(this,null,function*(){let m=yield AI(p,{boundary:e.dom,padding:5});return m.left>0?{x:p.x+m.left}:m.right>0?{x:p.x-m.right}:{}})}}].filter(Boolean)});return{left:d,top:h}})}canShowMenu(e){let{state:i}=e,{selection:r}=i,{empty:o}=r;return r instanceof Re&&r.node.type.name==="image"?!1:!this.view.hasFocus()||o||this.dragging?(this.hide(),!1):!0}update(e){if(!this.canShowMenu(e)){this.hide();return}this.calculateBubblePosition(this.view).then(({top:r,left:o})=>{if(!this.canShowMenu){this.hide();return}this.posLeft=o,this.posTop=r,this.show()})}ngOnInit(){if(!this.editor)throw new vs("Required editor instance to initialize floating menu component");this.updateSubscription=this.editor.update.subscribe(e=>{this.update(e)}),this.resizeSubscription=au(window,"resize").pipe(b1(500,h1,{leading:!0,trailing:!0})).subscribe(()=>{this.useUpdate()})}ngOnDestroy(){this.updateSubscription.unsubscribe(),this.resizeSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(ne(Q))};static \u0275cmp=I({type:n,selectors:[["ngx-editor-floating-menu"]],hostVars:2,hostBindings:function(i,r){i&1&&T("mousedown",function(a){return r.onMouseDown(a)},!1,Ut)("keydown",function(a){return r.onKeyDown(a)},!1,Ut)("mouseup",function(a){return r.onMouseUp(a)},!1,Ut)("keyup",function(a){return r.onKeyUp(a)},!1,Ut),i&2&&z1(r.display)},inputs:{editor:"editor",autoPlace:"autoPlace"},ngContentSelectors:UI,decls:4,vars:1,consts:[["ref",""],[4,"ngIf"],[3,"editor"]],template:function(i,r){if(i&1&&(me(),b(0,"div",null,0),re(2),w(),O(3,H9,2,1,"ng-container",1)),i&2){let o=ut(1);y(3),M("ngIf",o.children.length===0)}},dependencies:[nP,Li,Vt],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}[_nghost-%COMP%]{position:absolute;z-index:20;margin-bottom:5px;visibility:hidden;opacity:0}"]})}return n})(),fj=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({providers:[Da],imports:[Li,bs,Ay,iP,eP,tP,JI,mj,nP]})}return n})(),pf=new P("NgxEditorConfig"),HI={locals:ky,icons:ZI},rP=(()=>{class n{static forRoot(e=HI){return{ngModule:n,providers:[{provide:pf,useValue:e},{provide:Sy,useFactory:BI,deps:[pf]}]}}static forChild(e=HI){return{ngModule:n,providers:[{provide:pf,useValue:e},{provide:Sy,useFactory:BI,deps:[pf]},Sa]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[Li,fj,YI]})}return n})();var fn=(n,t=!1)=>(e,i)=>{let r=new Kr(n);return t?r.toggle()(e,i):r.apply()(e,i)},Ey=class{view;state;tr;constructor(t){if(!t)throw new vs("Required view to initialize commands.");this.view=t,this.state=t.state,this.tr=this.view.state.tr}applyTrx=t=>{this.state=this.state.apply(t??this.tr),this.tr=this.state.tr,this.tr.setMeta("APPLIED_TRX",!0)};dispatch=t=>{this.applyTrx(t)};exec(){if(!this.tr.getMeta("APPLIED_TRX"))return!1;let t=!this.view.state.doc.eq(this.state.doc);this.view.updateState(this.state);let e=this.tr.setMeta("FORCE_EMIT",t);return this.view.dispatch(e),!0}focus(t="end"){let e=t==="start"?Ke.atStart(this.state.doc):Ke.atEnd(this.state.doc);return this.tr.setSelection(e),this.applyTrx(),this.view.focus(),this}scrollIntoView(){return this.tr.scrollIntoView(),this.applyTrx(),this}insertText(t){return this.tr.insertText(t),this.applyTrx(),this}insertNewLine(){return tc(...[X0,J0,ey,ty])(this.state,this.dispatch),this}applyMark(t){return fn(t,!1)(this.state,this.dispatch),this}toggleMark(t){return fn(t,!0)(this.state,this.dispatch),this}bold(){return fn("strong")(this.state,this.dispatch),this}toggleBold(){return fn("strong",!0)(this.state,this.dispatch),this}italics(){return fn("em")(this.state,this.dispatch),this}toggleItalics(){return fn("em",!0)(this.state,this.dispatch),this}underline(){return fn("u")(this.state,this.dispatch),this}toggleUnderline(){return fn("u",!0)(this.state,this.dispatch),this}strike(){return fn("s")(this.state,this.dispatch),this}toggleStrike(){return fn("s",!0)(this.state,this.dispatch),this}code(){return fn("code")(this.state,this.dispatch),this}toggleCode(){return fn("code",!0)(this.state,this.dispatch),this}superscript(){return fn("sup")(this.state,this.dispatch),this}subscript(){return fn("sub")(this.state,this.dispatch),this}toggleOrderedList(){return new ac(!1).toggle()(this.state,this.dispatch),this}toggleBulletList(){return new ac(!0).toggle()(this.state,this.dispatch),this}toggleHeading(t){return new Lo(t).toggle()(this.state,this.dispatch),this}insertLink(t,e){return new xy().insert(t,e)(this.state,this.dispatch),this}updateLink(t){return new xy().update(t)(this.state,this.dispatch),this}insertImage(t,e={}){return new QI().insert(t,e)(this.state,this.dispatch),this}textColor(t){return new oc("text_color").apply({color:t})(this.state,this.dispatch),this}backgroundColor(t){return new oc("text_background_color").apply({backgroundColor:t})(this.state,this.dispatch),this}removeTextColor(){return new oc("text_color").remove()(this.state,this.dispatch),this}removeBackgroundColor(){return new oc("text_background_color").remove()(this.state,this.dispatch),this}align(t){return new $s(t).toggle()(this.state,this.dispatch),this}insertHTML(t){let{selection:e,schema:i,tr:r}=this.state,{from:o,to:a}=e,s=document.createElement("div");s.innerHTML=$I(t)?t.trim():String(t);let l=_a.fromSchema(i).parseSlice(s),c=r.replaceRange(o,a,l);return this.applyTrx(c),this}indent(){return new sc("increase").insert()(this.state,this.dispatch),this}outdent(){return new sc("decrease").insert()(this.state,this.dispatch),this}},gj=typeof navigator<"u"?/Mac/.test(navigator.platform):!1,_j=n=>Xm(/^\s*>\s$/,n),bj=n=>Xm(/^(?:\d+)\.\s$/,n,t=>({order:Number(t[1])}),(t,e)=>e.childCount+e.attrs.order===Number(t[1])),vj=n=>Xm(/^\s*(?:[-+*])\s$/,n),yj=n=>iy(/^```$/,n),wj=(n,t)=>iy(new RegExp(`^(#{1,${t}})\\s$`),n,e=>({level:e[1].length})),xj=n=>ay(/(?:^|\s)(?:(\*\*|__)(?:([^*_]+))(\*\*|__))$/,n),Cj=n=>ay(/(?:^|\s)(?:(\*|_)(?:([^*_]+))(\*|_))$/,n),kj=n=>{let t=QT.concat(XT,KT);return t.push(xj(n.marks.strong)),t.push(Cj(n.marks.em)),t.push(_j(n.nodes.blockquote)),t.push(bj(n.nodes.ordered_list)),t.push(vj(n.nodes.bullet_list)),t.push(yj(n.nodes.code_block)),t.push(wj(n.nodes.heading,6)),YT({rules:t})},Dj=(n,t)=>{let e={};e["Mod-z"]=tf,gj?e["Shift-Mod-z"]=sh:e["Mod-y"]=sh;let i=[uh({"Mod-b":Ns(n.marks.strong),"Mod-i":Ns(n.marks.em),"Mod-u":Ns(n.marks.u),"Mod-`":Ns(n.marks.code)}),uh({Enter:SA(n.nodes.list_item),"Shift-Enter":tc(Z0,(r,o)=>{let{tr:a}=r,s=n.nodes.hard_break;return o(a.replaceSelectionWith(s.create()).scrollIntoView()),!0}),"Mod-[":g0(n.nodes.list_item),"Mod-]":_0(n.nodes.list_item),Tab:_0(n.nodes.list_item)}),uh(GT)];return t.history&&i.push(uh(e)),i},Mj=(n,t)=>{let e=[];return t.keyboardShortcuts&&e.push(...Dj(n,{history:t.history})),t.history&&e.push(oI()),t.inputRules&&e.push(kj(n)),e},oP={linkOnPaste:!0,resizeImage:!0},jI={content:null,history:!0,keyboardShortcuts:!0,inputRules:!0,schema:Qd,plugins:[],nodeViews:{},attributes:{},features:oP,handleScrollToSelection:null,linkValidationPattern:`(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#
\r]*)?#?([^
\r]*)|(mailto:.*[@].*)`},ff=class{options;view;constructor(t=jI){this.options=E(E({},jI),t),this.createEditor()}valueChangesSubject=new L;updateSubject=new L;get valueChanges(){return this.valueChangesSubject.asObservable()}get update(){return this.updateSubject.asObservable()}get schema(){return this.options.schema||Qd}get linkValidationPattern(){return this.options.linkValidationPattern}get commands(){return new Ey(this.view)}get features(){return E(E({},oP),this.options.features)}handleTransactions(t){let e=this.view.state.apply(t);if(this.view.updateState(e),this.updateSubject.next(this.view),!t.docChanged&&!t.getMeta("FORCE_EMIT"))return;let i=e.doc.toJSON();this.valueChangesSubject.next(i)}createEditor(){let{options:t,schema:e}=this,{content:i=null,nodeViews:r}=t,{history:o=!0,keyboardShortcuts:a=!0,inputRules:s=!0}=t,l=OI(i,e,t.parseOptions),c=t.plugins??[],d=t.attributes??{},h=Mj(e,{history:o,keyboardShortcuts:a,inputRules:s});this.view=new rh(null,{state:Lm.create({doc:l,schema:e,plugins:[...h,...c]}),nodeViews:r,dispatchTransaction:this.handleTransactions.bind(this),attributes:d,handleScrollToSelection:t.handleScrollToSelection})}setContent(t){if(EE(t))return;let{state:e}=this.view,{tr:i,doc:r}=e,o=OI(t,this.schema,this.options.parseOptions);i.replaceWith(0,e.doc.content.size,o),!r.eq(i.doc)&&i.docChanged&&this.view.dispatch(i)}registerPlugin(t){let{state:e}=this.view,i=[...e.plugins,t],r=e.reconfigure({plugins:i});this.view.updateState(r)}destroy(){this.view.destroy()}};var aP=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({})}return n})();function yP(n){let t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return i==="canvas"?cP(n,t):(i==="input"||i==="select"||i==="textarea")&&lP(n,t),sP("canvas",n,t,cP),sP("input, textarea, select",n,t,lP),t}function sP(n,t,e,i){let r=t.querySelectorAll(n);if(r.length){let o=e.querySelectorAll(n);for(let a=0;a<r.length;a++)i(r[a],o[a])}}var Ej=0;function lP(n,t){t.type!=="file"&&(t.value=n.value),t.type==="radio"&&t.name&&(t.name=`mat-clone-${t.name}-${Ej++}`)}function cP(n,t){let e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}function Ny(n){let t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function Py(n,t,e){let{top:i,bottom:r,left:o,right:a}=n;return e>=i&&e<=r&&t>=o&&t<=a}function gh(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function dP(n,t,e,i){let{top:r,right:o,bottom:a,left:s,width:l,height:c}=n,d=l*t,h=c*t;return i>r-h&&i<a+h&&e>s-d&&e<o+d}var gf=class{_document;positions=new Map;constructor(t){this._document=t}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:Ny(e)})})}handleScroll(t){let e=Bt(t),i=this.positions.get(e);if(!i)return null;let r=i.scrollPosition,o,a;if(e===this._document){let c=this.getViewportScrollPosition();o=c.top,a=c.left}else o=e.scrollTop,a=e.scrollLeft;let s=r.top-o,l=r.left-a;return this.positions.forEach((c,d)=>{c.clientRect&&e!==d&&e.contains(d)&&gh(c.clientRect,s,l)}),r.top=o,r.left=a,{top:s,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function wP(n,t){let e=n.rootNodes;if(e.length===1&&e[0].nodeType===t.ELEMENT_NODE)return e[0];let i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function Vy(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){let r=t[i];r?n.setProperty(i,r,e?.has(i)?"important":""):n.removeProperty(i)}return n}function cc(n,t){let e=t?"":"none";Vy(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function hP(n,t,e){Vy(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function _f(n,t){return t&&t!="none"?n+" "+t:n}function uP(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=bf(t.left,t.top)}function bf(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function pP(n){let t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function Aj(n){let t=getComputedStyle(n),e=Ty(t,"transition-property"),i=e.find(s=>s==="transform"||s==="all");if(!i)return 0;let r=e.indexOf(i),o=Ty(t,"transition-duration"),a=Ty(t,"transition-delay");return pP(o[r])+pP(a[r])}function Ty(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}var Tj=new Set(["position"]),Ry=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(t,e,i,r,o,a,s,l,c,d){this._document=t,this._rootElement=e,this._direction=i,this._initialDomRect=r,this._previewTemplate=o,this._previewClass=a,this._pickupPositionOnPage=s,this._initialTransform=l,this._zIndex=c,this._renderer=d}attach(t){this._preview=this._createPreview(),t.appendChild(this._preview),mP(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(t){this._preview.style.transform=t}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(t){this._preview.classList.add(t)}getTransitionDuration(){return Aj(this._preview)}addEventListener(t,e){return this._renderer.listen(this._preview,t,e)}_createPreview(){let t=this._previewTemplate,e=this._previewClass,i=t?t.template:null,r;if(i&&t){let o=t.matchSize?this._initialDomRect:null,a=t.viewContainer.createEmbeddedView(i,t.context);a.detectChanges(),r=wP(a,this._document),this._previewEmbeddedView=a,t.matchSize?uP(r,o):r.style.transform=bf(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=yP(this._rootElement),uP(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return Vy(r.style,{"pointer-events":"none",margin:mP(r)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Tj),cc(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}};function mP(n){return"showPopover"in n}var Ij={passive:!0},fP={passive:!1},Pj={passive:!1,capture:!0},Rj=800,gP=new Set(["position"]),Oy=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=rt(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new L;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=Ue.EMPTY;_pointerUpSubscription=Ue.EMPTY;_scrollSubscription=Ue.EMPTY;_resizeSubscription=Ue.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>cc(e,t)))}_disabled=!1;beforeStarted=new L;started=new L;released=new L;ended=new L;entered=new L;exited=new L;dropped=new L;moved=this._moveEvents;data;constrainPosition;constructor(t,e,i,r,o,a,s){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=a,this._renderer=s,this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new gf(i),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>zt(i)),this._handles.forEach(i=>cc(i,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){let e=zt(t);return e!==this._rootElement&&(this._removeRootElementListeners(),this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[pt(this._renderer,e,"mousedown",this._pointerDown,fP),pt(this._renderer,e,"touchstart",this._pointerDown,Ij),pt(this._renderer,e,"dragstart",this._nativeDragStart,fP)]),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?zt(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),cc(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),cc(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){let t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){let t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(t);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)};_pointerMove=t=>{let e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging()){let r=Math.abs(e.x-this._pickupPositionOnPage.x),o=Math.abs(e.y-this._pickupPositionOnPage.y);if(r+o>=this._config.dragStartThreshold){let s=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),l=this._dropContainer;if(!s){this._endDragSequence(t);return}(!l||!l.isDragging()&&!l.isReceiving())&&(t.cancelable&&t.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(t)))}return}t.cancelable&&t.preventDefault();let i=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,e);else{let r=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=i.x-r.x+this._passiveTransform.x,o.y=i.y-r.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:t,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})};_pointerUp=t=>{this._endDragSequence(t)};_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){mh(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),i=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=pt(this._renderer,e,"selectstart",Oj,Pj)}),i){let r=this._rootElement,o=r.parentNode,a=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment("");o.insertBefore(s,r),this._initialTransform=r.style.transform||"",this._preview=new Ry(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,e)),hP(r,!1,gP),this._document.body.appendChild(o.replaceChild(a,r)),this.started.next({source:this,event:t}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();let i=this.isDragging(),r=mh(e),o=!r&&e.button!==0,a=this._rootElement,s=Bt(e),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+Rj>Date.now(),c=r?Ja(e):Za(e);if(s&&s.draggable&&e.type==="mousedown"&&e.preventDefault(),i||o||l||c)return;if(this._handles.length){let u=a.style;this._rootElementTapHighlight=u.webkitTapHighlightColor||"",u.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(u=>this._updateOnScroll(u)),this._boundaryElement&&(this._boundaryRect=Ny(this._boundaryElement));let d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,t,e);let h=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:h.x,y:h.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){hP(this._rootElement,!0,gP),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),o=this._getDragDistance(r),a=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:o,dropPoint:r,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,a,o,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let t=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{let r=s=>{(!s||this._preview&&Bt(s)===this._preview.element&&s.propertyName==="transform")&&(a(),i(),clearTimeout(o))},o=setTimeout(r,e*1.5),a=this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){let t=this._placeholderTemplate,e=t?t.template:null,i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=wP(this._placeholderRef,this._document)):i=yP(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e,i){let r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():t,a=mh(i)?i.targetTouches[0]:i,s=this._getViewportScrollPosition(),l=a.pageX-o.left-s.left,c=a.pageY-o.top-s.top;return{x:o.left-t.left+l,y:o.top-t.top+c}}_getPointerPositionOnPage(t){let e=this._getViewportScrollPosition(),i=mh(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,o=i.pageY-e.top;if(this._ownerSVGElement){let a=this._ownerSVGElement.getScreenCTM();if(a){let s=this._ownerSVGElement.createSVGPoint();return s.x=r,s.y=o,s.matrixTransform(a.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(t){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialDomRect,this._pickupPositionInElement):t;if(this.lockAxis==="x"||e==="x"?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:a}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,s=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),d=s.top+a,h=s.bottom-(c-a),u=s.left+o,p=s.right-(l-o);i=_P(i,u,p),r=_P(r,d,h)}return{x:i,y:r}}_updatePointerDirectionDelta(t){let{x:e,y:i}=t,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-o.x),s=Math.abs(i-o.y);return a>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),s>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,cc(this._rootElement,t))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(t=>t()),this._rootElementCleanups=void 0}_applyRootElementTransform(t,e){let i=1/this.scale,r=bf(t*i,e*i),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=_f(r,this._initialTransform)}_applyPreviewTransform(t,e){let i=this._previewTemplate?.template?void 0:this._initialTransform,r=bf(t,e);this._preview.setTransform(_f(r,i))}_getDragDistance(t){let e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(t===0&&e===0||this.isDragging()||!this._boundaryElement)return;let i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(r.width===0&&r.height===0||i.width===0&&i.height===0)return;let o=r.left-i.left,a=i.right-r.right,s=r.top-i.top,l=i.bottom-r.bottom;r.width>i.width?(o>0&&(t+=o),a>0&&(t-=a)):t=0,r.height>i.height?(s>0&&(e+=s),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){let e=this.dragStartDelay;return typeof e=="number"?e:mh(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){let e=this._parentPositions.handleScroll(t);if(e){let i=Bt(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&gh(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=es(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){let i=this._previewContainer||"global";if(i==="parent")return t;if(i==="global"){let r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return zt(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=t=>{if(this._handles.length){let e=this._getTargetHandle(t);e&&!this._disabledHandles.has(e)&&!this.disabled&&t.preventDefault()}else this.disabled||t.preventDefault()};_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}};function _P(n,t,e){return Math.max(t,Math.min(e,n))}function mh(n){return n.type[0]==="t"}function Oj(n){n.preventDefault()}function xP(n,t,e){let i=bP(t,n.length-1),r=bP(e,n.length-1);if(i===r)return;let o=n[i],a=r<i?-1:1;for(let s=i;s!==r;s+=a)n[s]=n[s+a];n[r]=o}function bP(n,t){return Math.max(0,Math.min(t,n))}var vf=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(t){this._dragDropRegistry=t}_previousSwap={drag:null,delta:0,overlaps:!1};start(t){this.withItems(t)}sort(t,e,i,r){let o=this._itemPositions,a=this._getItemIndexFromPointerPosition(t,e,i,r);if(a===-1&&o.length>0)return null;let s=this.orientation==="horizontal",l=o.findIndex(_=>_.drag===t),c=o[a],d=o[l].clientRect,h=c.clientRect,u=l>a?1:-1,p=this._getItemOffsetPx(d,h,u),m=this._getSiblingOffsetPx(l,o,u),g=o.slice();return xP(o,l,a),o.forEach((_,v)=>{if(g[v]===_)return;let x=_.drag===t,C=x?p:m,D=x?t.getPlaceholderElement():_.drag.getRootElement();_.offset+=C;let A=Math.round(_.offset*(1/_.drag.scale));s?(D.style.transform=_f(`translate3d(${A}px, 0, 0)`,_.initialTransform),gh(_.clientRect,0,C)):(D.style.transform=_f(`translate3d(0, ${A}px, 0)`,_.initialTransform),gh(_.clientRect,C,0))}),this._previousSwap.overlaps=Py(h,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=s?r.x:r.y,{previousIndex:l,currentIndex:a}}enter(t,e,i,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(t,e,i):r,a=this._activeDraggables,s=a.indexOf(t),l=t.getPlaceholderElement(),c=a[o];if(c===t&&(c=a[o+1]),!c&&(o==null||o===-1||o<a.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(c=a[0]),s>-1&&a.splice(s,1),c&&!this._dragDropRegistry.isDragging(c)){let d=c.getRootElement();d.parentElement.insertBefore(l,d),a.splice(o,0,t)}else this._element.appendChild(l),a.push(t);l.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables?.forEach(t=>{let e=t.getRootElement();if(e){let i=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{gh(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(t){this._element=t}_cacheItemPositions(){let t=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:Ny(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(t,e,i){let r=this.orientation==="horizontal",o=r?e.left-t.left:e.top-t.top;return i===-1&&(o+=r?e.width-t.width:e.height-t.height),o}_getSiblingOffsetPx(t,e,i){let r=this.orientation==="horizontal",o=e[t].clientRect,a=e[t+i*-1],s=o[r?"width":"height"]*i;if(a){let l=r?"left":"top",c=r?"right":"bottom";i===-1?s-=a.clientRect[l]-o[c]:s+=o[l]-a.clientRect[c]}return s}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;let i=this._itemPositions,r=this.orientation==="horizontal";if(i[0].drag!==this._activeDraggables[0]){let a=i[i.length-1].clientRect;return r?t>=a.right:e>=a.bottom}else{let a=i[0].clientRect;return r?t<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(t,e,i,r){let o=this.orientation==="horizontal",a=this._itemPositions.findIndex(({drag:s,clientRect:l})=>{if(s===t)return!1;if(r){let c=o?r.x:r.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return o?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return a===-1||!this._sortPredicate(a,t)?-1:a}},Fy=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(t,e){this._document=t,this._dragDropRegistry=e}start(t){let e=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<e.length;i++){let r=e[i];this._relatedNodes.push([r,r.nextSibling])}this.withItems(t)}sort(t,e,i,r){let o=this._getItemIndexFromPointerPosition(t,e,i),a=this._previousSwap;if(o===-1||this._activeItems[o]===t)return null;let s=this._activeItems[o];if(a.drag===s&&a.overlaps&&a.deltaX===r.x&&a.deltaY===r.y)return null;let l=this.getItemIndex(t),c=t.getPlaceholderElement(),d=s.getRootElement();o>l?d.after(c):d.before(c),xP(this._activeItems,l,o);let h=this._getRootNode().elementFromPoint(e,i);return a.deltaX=r.x,a.deltaY=r.y,a.drag=s,a.overlaps=d===h||d.contains(h),{previousIndex:l,currentIndex:o}}enter(t,e,i,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(t,e,i):r;o===-1&&(o=this._getClosestItemIndexToPointer(t,e,i));let a=this._activeItems[o],s=this._activeItems.indexOf(t);s>-1&&this._activeItems.splice(s,1),a&&!this._dragDropRegistry.isDragging(a)?(this._activeItems.splice(o,0,t),a.getRootElement().before(t.getPlaceholderElement())):(this._activeItems.push(t),this._element.appendChild(t.getPlaceholderElement()))}withItems(t){this._activeItems=t.slice()}withSortPredicate(t){this._sortPredicate=t}reset(){let t=this._element,e=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){let[r,o]=this._relatedNodes[i];r.parentNode===t&&r.nextSibling!==o&&(o===null?t.appendChild(r):o.parentNode===t&&t.insertBefore(r,o))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(t){return this._activeItems.indexOf(t)}updateOnScroll(){this._activeItems.forEach(t=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}withElementContainer(t){t!==this._element&&(this._element=t,this._rootNode=void 0)}_getItemIndexFromPointerPosition(t,e,i){let r=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(i)),o=r?this._activeItems.findIndex(a=>{let s=a.getRootElement();return r===s||s.contains(r)}):-1;return o===-1||!this._sortPredicate(o,t)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=es(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(t,e,i){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let r=1/0,o=-1;for(let a=0;a<this._activeItems.length;a++){let s=this._activeItems[a];if(s!==t){let{x:l,y:c}=s.getRootElement().getBoundingClientRect(),d=Math.hypot(e-l,i-c);d<r&&(r=d,o=a)}}return o}},vP=.05,CP=.05,ir=function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n}(ir||{}),an=function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n}(an||{}),Ly=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new L;entered=new L;exited=new L;dropped=new L;sorted=new L;receivingStarted=new L;receivingStopped=new L;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Ue.EMPTY;_verticalScrollDirection=ir.NONE;_horizontalScrollDirection=an.NONE;_scrollNode;_stopScrollTimers=new L;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(t,e,i,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o;let a=this.element=zt(t);this._document=i,this.withOrientation("vertical").withElementContainer(a),e.registerDropContainer(this),this._parentPositions=new gf(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){this._draggingStarted(),r==null&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,o,a,s,l={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:o,distance:a,dropPoint:s,event:l})}withItems(t){let e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>t.indexOf(r)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._direction=t,this._sortStrategy instanceof vf&&(this._sortStrategy.direction=t),this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){if(t==="mixed")this._sortStrategy=new Fy(this._document,this._dragDropRegistry);else{let e=new vf(this._dragDropRegistry);e.direction=this._direction,e.orientation=t,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,i)=>this.sortPredicate(e,i,this)),this}withScrollableParents(t){let e=this._container;return this._scrollableElements=t.indexOf(e)===-1?[e,...t]:t.slice(),this}withElementContainer(t){if(t===this._container)return this;let e=zt(this.element),i=this._scrollableElements.indexOf(this._container),r=this._scrollableElements.indexOf(t);return i>-1&&this._scrollableElements.splice(i,1),r>-1&&this._scrollableElements.splice(r,1),this._sortStrategy&&this._sortStrategy.withElementContainer(t),this._cachedShadowRoot=null,this._scrollableElements.unshift(t),this._container=t,this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._domRect||!dP(this._domRect,vP,e,i))return;let o=this._sortStrategy.sort(t,e,i,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=ir.NONE,o=an.NONE;if(this._parentPositions.positions.forEach((a,s)=>{s===this._document||!a.clientRect||i||dP(a.clientRect,vP,t,e)&&([r,o]=Fj(s,a.clientRect,this._direction,t,e),(r||o)&&(i=s))}),!r&&!o){let{width:a,height:s}=this._viewportRuler.getViewportSize(),l={width:a,height:s,top:0,right:a,bottom:s,left:0};r=kP(l,e),o=DP(l,t),i=window}i&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let t=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let t=this._container.style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),p1(0,u_).pipe(Ee(this._stopScrollTimers)).subscribe(()=>{let t=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===ir.UP?t.scrollBy(0,-e):this._verticalScrollDirection===ir.DOWN&&t.scrollBy(0,e),this._horizontalScrollDirection===an.LEFT?t.scrollBy(-e,0):this._horizontalScrollDirection===an.RIGHT&&t.scrollBy(e,0)})};_isOverContainer(t,e){return this._domRect!=null&&Py(this._domRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._domRect||!Py(this._domRect,e,i)||!this.enterPredicate(t,this))return!1;let r=this._getShadowRoot().elementFromPoint(e,i);return r?r===this._container||this._container.contains(r):!1}_startReceiving(t,e){let i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let t=es(this._container);this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}};function kP(n,t){let{top:e,bottom:i,height:r}=n,o=r*CP;return t>=e-o&&t<=e+o?ir.UP:t>=i-o&&t<=i+o?ir.DOWN:ir.NONE}function DP(n,t){let{left:e,right:i,width:r}=n,o=r*CP;return t>=e-o&&t<=e+o?an.LEFT:t>=i-o&&t<=i+o?an.RIGHT:an.NONE}function Fj(n,t,e,i,r){let o=kP(t,r),a=DP(t,i),s=ir.NONE,l=an.NONE;if(o){let c=n.scrollTop;o===ir.UP?c>0&&(s=ir.UP):n.scrollHeight-c>n.clientHeight&&(s=ir.DOWN)}if(a){let c=n.scrollLeft;e==="rtl"?a===an.RIGHT?c<0&&(l=an.RIGHT):n.scrollWidth+c>n.clientWidth&&(l=an.LEFT):a===an.LEFT?c>0&&(l=an.LEFT):n.scrollWidth-c>n.clientWidth&&(l=an.RIGHT)}return[s,l]}var fh={capture:!0},Iy={passive:!1,capture:!0},Lj=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,r){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return n})(),Nj=(()=>{class n{_ngZone=f(de);_document=f(ve);_styleLoader=f(Je);_renderer=f(ui).createRenderer(null,null);_cleanupDocumentTouchmove;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=rt([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new L;pointerUp=new L;scroll=new L;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=pt(this._renderer,this._document,"touchmove",this._persistentTouchmoveListener,Iy)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(e,i){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(Lj),this._activeDragInstances.update(r=>[...r,e]),this._activeDragInstances().length===1)){let r=i.type.startsWith("touch"),o=s=>this.pointerUp.next(s),a=[["scroll",s=>this.scroll.next(s),fh],["selectstart",this._preventDefaultWhileDragging,Iy]];r?a.push(["touchend",o,fh],["touchcancel",o,fh]):a.push(["mouseup",o,fh]),r||a.push(["mousemove",s=>this.pointerMove.next(s),Iy]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=a.map(([s,l,c])=>pt(this._renderer,this._document,s,l,c))})}}stopDragging(e){this._activeDragInstances.update(i=>{let r=i.indexOf(e);return r>-1?(i.splice(r,1),[...i]):i}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let i=[this.scroll];return e&&e!==this._document&&i.push(new Un(r=>this._ngZone.runOutsideAngular(()=>{let o=pt(this._renderer,e,"scroll",a=>{this._activeDragInstances().length&&r.next(a)},fh);return()=>{o()}}))),xt(...i)}registerDirectiveNode(e,i){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,i)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vj={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Bj=(()=>{class n{_document=f(ve);_ngZone=f(de);_viewportRuler=f(Yn);_dragDropRegistry=f(Nj);_renderer=f(ui).createRenderer(null,null);constructor(){}createDrag(e,i=Vj){return new Oy(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new Ly(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var MP=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({providers:[Bj],imports:[Zt]})}return n})();var zj=["*"];function Hj(n,t){n&1&&re(0)}var By=(()=>{class n{_elementRef=f(Q);constructor(){}focus(){this._elementRef.nativeElement.focus()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]})}return n})(),zy=(()=>{class n{template=f(Rt);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","cdkStepLabel",""]]})}return n})();var No={NUMBER:"number",EDIT:"edit",DONE:"done",ERROR:"error"},jj=new P("STEPPER_GLOBAL_OPTIONS"),yf=(()=>{class n{_stepperOptions;_stepper=f(wf);_displayDefaultIndicatorType;stepLabel;_childForms;content;stepControl;interacted=!1;interactedStream=new Z;label;errorMessage;ariaLabel;ariaLabelledby;state;editable=!0;optional=!1;get completed(){return this._completedOverride==null?this._getDefaultCompleted():this._completedOverride}set completed(e){this._completedOverride=e}_completedOverride=null;_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return this._customError==null?this._getDefaultError():this._customError}set hasError(e){this._customError=e}_customError=null;_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(){let e=f(jj,{optional:!0});this._stepperOptions=e||{},this._displayDefaultIndicatorType=this._stepperOptions.displayDefaultIndicatorType!==!1}select(){this._stepper.selected=this}reset(){this.interacted=!1,this._completedOverride!=null&&(this._completedOverride=!1),this._customError!=null&&(this._customError=!1),this.stepControl&&(this._childForms?.forEach(e=>e.resetForm?.()),this.stepControl.reset())}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??this._customError!=null}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["cdk-step"]],contentQueries:function(i,r,o){if(i&1&&(Te(o,zy,5),Te(o,Tn,5)),i&2){let a;q(a=Y())&&(r.stepLabel=a.first),q(a=Y())&&(r._childForms=a)}},viewQuery:function(i,r){if(i&1&&se(Rt,7),i&2){let o;q(o=Y())&&(r.content=o.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],state:"state",editable:[2,"editable","editable",ie],optional:[2,"optional","optional",ie],completed:[2,"completed","completed",ie],hasError:[2,"hasError","hasError",ie]},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[we],ngContentSelectors:zj,decls:1,vars:0,template:function(i,r){i&1&&(me(),O(0,Hj,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}return n})(),wf=(()=>{class n{_dir=f(wt,{optional:!0});_changeDetectorRef=f(_e);_elementRef=f(Q);_destroyed=new L;_keyManager;_steps;steps=new cn;_stepHeader;_sortedHeaders=new cn;linear=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._steps?(this._isValidIndex(e),this._selectedIndex!==e&&(this.selected?._markAsInteracted(),!this._anyControlsInvalidOrPending(e)&&(e>=this._selectedIndex||this.steps.toArray()[e].editable)&&this._updateSelectedItemIndex(e))):this._selectedIndex=e}_selectedIndex=0;get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}selectionChange=new Z;selectedIndexChange=new Z;_groupId=f(Ne).getId("cdk-stepper-");get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation(e==="vertical")}_orientation="horizontal";constructor(){}ngAfterContentInit(){this._steps.changes.pipe(ct(this._steps),Ee(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(i=>i._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){if(this._stepHeader.changes.pipe(ct(this._stepHeader),Ee(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((i,r)=>i._elementRef.nativeElement.compareDocumentPosition(r._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new wo(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation(this._orientation==="vertical"),this._keyManager.updateActiveItem(this.selectedIndex),(this._dir?this._dir.change:pe()).pipe(ct(this._layoutDirection()),Ee(this._destroyed)).subscribe(e=>this._keyManager?.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0),this.linear&&this._selectedIndex>0){let e=this.steps.toArray().slice(0,this._selectedIndex);for(let i of e)i._markAsInteracted()}}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`${this._groupId}-label-${e}`}_getStepContentId(e){return`${this._groupId}-content-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){let i=e-this._selectedIndex;return i<0?this._layoutDirection()==="rtl"?"next":"previous":i>0?this._layoutDirection()==="rtl"?"previous":"next":"current"}_getIndicatorType(e,i=No.NUMBER){let r=this.steps.toArray()[e],o=this._isCurrentStep(e);return r._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(r,o):this._getGuidelineLogic(r,o,i)}_getDefaultIndicatorLogic(e,i){return e._showError()&&e.hasError&&!i?No.ERROR:!e.completed||i?No.NUMBER:e.editable?No.EDIT:No.DONE}_getGuidelineLogic(e,i,r=No.NUMBER){return e._showError()&&e.hasError&&!i?No.ERROR:e.completed&&!i?No.DONE:e.completed&&i?r:e.editable&&i?No.EDIT:r}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){let i=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:i[e],previouslySelectedStep:i[this._selectedIndex]}),this._keyManager&&(this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e)),this._selectedIndex=e,this.selectedIndexChange.emit(this._selectedIndex),this._stateChanged()}_onKeydown(e){let i=tt(e),r=e.keyCode,o=this._keyManager;o?.activeItemIndex!=null&&!i&&(r===32||r===13)?(this.selectedIndex=o.activeItemIndex,e.preventDefault()):o?.setFocusOrigin("keyboard").onKeydown(e)}_anyControlsInvalidOrPending(e){return this.linear&&e>=0?this.steps.toArray().slice(0,e).some(i=>{let r=i.stepControl;return(r?r.invalid||r.pending||!i.interacted:!i.completed)&&!i.optional&&!i._completedOverride}):!1}_layoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_containsFocus(){let e=this._elementRef.nativeElement,i=Vi();return e===i||e.contains(i)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","cdkStepper",""]],contentQueries:function(i,r,o){if(i&1&&(Te(o,yf,5),Te(o,By,5)),i&2){let a;q(a=Y())&&(r._steps=a),q(a=Y())&&(r._stepHeader=a)}},inputs:{linear:[2,"linear","linear",ie],selectedIndex:[2,"selectedIndex","selectedIndex",Mt],selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"]})}return n})();var xf=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[Rr]})}return n})();var Cf=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[ss]})}return n})();var Ea=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new L;constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);let e=this.selected,i=new Set(t.map(o=>this._getConcreteValue(o)));t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(this._getConcreteValue(o,i))).forEach(o=>this._unmarkSelected(o));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let i of e)if(this.compareWith(t,i))return i;return t}else return t}};var kf=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({})}return n})();var Uj=["mat-internal-form-field",""],$j=["*"],dc=(()=>{class n{labelPosition;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,r){i&2&&N("mdc-form-field--align-end",r.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},attrs:Uj,ngContentSelectors:$j,decls:1,vars:0,template:function(i,r){i&1&&(me(),re(0))},styles:[`.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}
`],encapsulation:2,changeDetection:0})}return n})();var Aa=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(t,e,i,r,o){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o}updateErrorState(){let t=this.errorState,e=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,e)??!1;o!==t&&(this.errorState=o,this._stateChanges.next())}};var _h=new P("MAT_DATE_LOCALE",{providedIn:"root",factory:Wj});function Wj(){return f(bu)}var hc="Method not implemented",It=class{locale;_localeChanges=new L;localeChanges=this._localeChanges;setTime(t,e,i,r){throw new Error(hc)}getHours(t){throw new Error(hc)}getMinutes(t){throw new Error(hc)}getSeconds(t){throw new Error(hc)}parseTime(t,e){throw new Error(hc)}addSeconds(t,e){throw new Error(hc)}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return t==null||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}compareTime(t,e){return this.getHours(t)-this.getHours(e)||this.getMinutes(t)-this.getMinutes(e)||this.getSeconds(t)-this.getSeconds(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}sameTime(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareTime(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}},xr=new P("mat-date-formats");var nr=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ii=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var Hy=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[oe,oe]})}return n})();var rr=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(rr||{}),jy=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=rr.HIDDEN;constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},SP=la({passive:!0,capture:!0}),Uy=class{_events=new Map;addHandler(t,e,i,r){let o=this._events.get(e);if(o){let a=o.get(i);a?a.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,SP)})}removeHandler(t,e,i){let r=this._events.get(t);if(!r)return;let o=r.get(e);o&&(o.delete(i),o.size===0&&r.delete(e),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,SP)))}_delegateEventHandler=t=>{let e=Bt(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}},bh={enterDuration:225,exitDuration:150},Gj=800,EP=la({passive:!0,capture:!0}),AP=["mousedown","touchstart"],TP=["mouseup","mouseleave","touchend","touchcancel"],qj=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),Ws=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new Uy;constructor(t,e,i,r,o){this._target=t,this._ngZone=e,this._platform=r,r.isBrowser&&(this._containerElement=zt(i)),o&&o.get(Je).load(qj)}fadeInRipple(t,e,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=E(E({},bh),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);let a=i.radius||Yj(t,e,r),s=t-r.left,l=e-r.top,c=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${s-a}px`,d.style.top=`${l-a}px`,d.style.height=`${a*2}px`,d.style.width=`${a*2}px`,i.color!=null&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let h=window.getComputedStyle(d),u=h.transitionProperty,p=h.transitionDuration,m=u==="none"||p==="0s"||p==="0s, 0s"||r.width===0&&r.height===0,g=new jy(this,d,i,m);d.style.transform="scale3d(1, 1, 1)",g.state=rr.FADING_IN,i.persistent||(this._mostRecentTransientRipple=g);let _=null;return!m&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let v=()=>{_&&(_.fallbackTimer=null),clearTimeout(C),this._finishRippleTransition(g)},x=()=>this._destroyRipple(g),C=setTimeout(x,c+100);d.addEventListener("transitionend",v),d.addEventListener("transitioncancel",x),_={onTransitionEnd:v,onTransitionCancel:x,fallbackTimer:C}}),this._activeRipples.set(g,_),(m||!c)&&this._finishRippleTransition(g),g}fadeOutRipple(t){if(t.state===rr.FADING_OUT||t.state===rr.HIDDEN)return;let e=t.element,i=E(E({},bh),t.config.animation);e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=rr.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=zt(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,AP.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{TP.forEach(e=>{this._triggerElement.addEventListener(e,this,EP)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===rr.FADING_IN?this._startFadeOutTransition(t):t.state===rr.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=rr.VISIBLE,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=rr.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=Za(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Gj;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Ja(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===rr.VISIBLE||t.config.terminateOnPointerUp&&t.state===rr.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(AP.forEach(e=>n._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(TP.forEach(e=>t.removeEventListener(e,this,EP)),this._pointerUpEventsRegistered=!1))}};function Yj(n,t,e){let i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}var vh=new P("mat-ripple-global-options"),or=(()=>{class n{_elementRef=f(Q);_animationMode=f(Oe,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=f(de),i=f(Ve),r=f(vh,{optional:!0}),o=f(Ie);this._globalOptions=r||{},this._rippleRenderer=new Ws(this,e,this._elementRef,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:E(E(E({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,i,E(E({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,E(E({},this.rippleConfig),e))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&N("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();var Df=(()=>{class n{_animationMode=f(Oe,{optional:!0});state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){i&2&&N("mat-pseudo-checkbox-indeterminate",r.state==="indeterminate")("mat-pseudo-checkbox-checked",r.state==="checked")("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal",r.appearance==="minimal")("mat-pseudo-checkbox-full",r.appearance==="full")("_mat-animation-noopable",r._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return n})();var Kj=["text"],Xj=[[["mat-icon"]],"*"],Qj=["mat-icon","*"];function Zj(n,t){if(n&1&&B(0,"mat-pseudo-checkbox",1),n&2){let e=k();M("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function Jj(n,t){if(n&1&&B(0,"mat-pseudo-checkbox",3),n&2){let e=k();M("disabled",e.disabled)}}function e7(n,t){if(n&1&&(b(0,"span",4),K(1),w()),n&2){let e=k();y(),Ze("(",e.group.label,")")}}var uc=new P("MAT_OPTION_PARENT_COMPONENT"),Sf=new P("MatOptgroup");var Mf=class{source;isUserInput;constructor(t,e=!1){this.source=t,this.isUserInput=e}},Vo=(()=>{class n{_element=f(Q);_changeDetectorRef=f(_e);_parent=f(uc,{optional:!0});group=f(Sf,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_disabled=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=f(Ne).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new Z;_text;_stateChanges=new L;constructor(){let e=f(Je);e.load(ii),e.load(qn),this._signalDisableRipple=!!this._parent&&ja(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){let r=this._getHostElement();typeof r.focus=="function"&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!tt(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new Mf(this,e))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-option"]],viewQuery:function(i,r){if(i&1&&se(Kj,7),i&2){let o;q(o=Y())&&(r._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){i&1&&T("click",function(){return r._selectViaInteraction()})("keydown",function(a){return r._handleKeydown(a)}),i&2&&(yt("id",r.id),te("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),N("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",ie]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:Qj,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){i&1&&(me(Xj),O(0,Zj,1,2,"mat-pseudo-checkbox",1),re(1),b(2,"span",2,0),re(4,1),w(),O(5,Jj,1,1,"mat-pseudo-checkbox",3)(6,e7,2,1,"span",4),B(7,"div",5)),i&2&&(le(r.multiple?0:-1),y(5),le(!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator?5:-1),y(),le(r.group&&r.group._inert?6:-1),y(),M("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[Df,or],styles:[`.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return n})();function $y(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let a=0;a<n+1;a++)i[a].group&&i[a].group===r[o]&&o++;return o}return 0}function Wy(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}var Wt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[oe,oe]})}return n})();var Ef=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[oe]})}return n})();var pc=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[Wt,oe,Ef]})}return n})();var t7={capture:!0},i7=["focus","mousedown","mouseenter","touchstart"],Gy="mat-ripple-loader-uninitialized",qy="mat-ripple-loader-class-name",IP="mat-ripple-loader-centered",Af="mat-ripple-loader-disabled",PP=(()=>{class n{_document=f(ve);_animationMode=f(Oe,{optional:!0});_globalRippleOptions=f(vh,{optional:!0});_platform=f(Ve);_ngZone=f(de);_injector=f(Ie);_eventCleanups;_hosts=new Map;constructor(){let e=f(ui).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>i7.map(i=>pt(e,this._document,i,this._onInteraction,t7)))}ngOnDestroy(){let e=this._hosts.keys();for(let i of e)this.destroyRipple(i);this._eventCleanups.forEach(i=>i())}configureRipple(e,i){e.setAttribute(Gy,this._globalRippleOptions?.namespace??""),(i.className||!e.hasAttribute(qy))&&e.setAttribute(qy,i.className||""),i.centered&&e.setAttribute(IP,""),i.disabled&&e.setAttribute(Af,"")}setDisabled(e,i){let r=this._hosts.get(e);r?(r.target.rippleDisabled=i,!i&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(e))):i?e.setAttribute(Af,""):e.removeAttribute(Af)}_onInteraction=e=>{let i=Bt(e);if(i instanceof HTMLElement){let r=i.closest(`[${Gy}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(qy)),e.append(i);let r=this._animationMode==="NoopAnimations",o=this._globalRippleOptions,a=r?0:o?.animation?.enterDuration??bh.enterDuration,s=r?0:o?.animation?.exitDuration??bh.exitDuration,l={rippleDisabled:r||o?.disabled||e.hasAttribute(Af),rippleConfig:{centered:e.hasAttribute(IP),terminateOnPointerUp:o?.terminateOnPointerUp,animation:{enterDuration:a,exitDuration:s}}},c=new Ws(l,this._ngZone,i,this._platform,this._injector),d=!l.rippleDisabled;d&&c.setupTriggerEvents(e),this._hosts.set(e,{target:l,renderer:c,hasSetUpEvents:d}),e.removeAttribute(Gy)}destroyRipple(e){let i=this._hosts.get(e);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var n7=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/,r7=/^(\d?\d)[:.](\d?\d)(?:[:.](\d?\d))?\s*(AM|PM)?$/i;function Yy(n,t){let e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}var o7=(()=>{class n extends It{useUtcForDisplay=!1;_matDateLocale=f(_h,{optional:!0});constructor(){super();let e=f(_h,{optional:!0});e!==void 0&&(this._matDateLocale=e),super.setLocale(this._matDateLocale)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){let i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Yy(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){let e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Yy(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){let i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Yy(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){let i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){if(typeof Intl<"u"&&Intl.Locale){let e=new Intl.Locale(this.locale),i=(e.getWeekInfo?.()||e.weekInfo)?.firstDay??0;return i===7?0:i}return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let o=this._createDateWithOverflow(e,i,r);return o.getMonth()!=i,o}today(){return new Date}parse(e,i){return typeof e=="number"?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");let r=new Intl.DateTimeFormat(this.locale,ye(E({},i),{timeZone:"utc"}));return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,i*12)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if(typeof e=="string"){if(!e)return null;if(n7.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}setTime(e,i,r,o){let a=this.clone(e);return a.setHours(i,r,o,0),a}getHours(e){return e.getHours()}getMinutes(e){return e.getMinutes()}getSeconds(e){return e.getSeconds()}parseTime(e,i){if(typeof e!="string")return e instanceof Date?new Date(e.getTime()):null;let r=e.trim();if(r.length===0)return null;let o=this._parseTimeString(r);if(o===null){let a=r.replace(/[^0-9:(AM|PM)]/gi,"").trim();a.length>0&&(o=this._parseTimeString(a))}return o||this.invalid()}addSeconds(e,i){return new Date(e.getTime()+i*1e3)}_createDateWithOverflow(e,i,r){let o=new Date;return o.setFullYear(e,i,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){let r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}_parseTimeString(e){let i=e.toUpperCase().match(r7);if(i){let r=parseInt(i[1]),o=parseInt(i[2]),a=i[3]==null?void 0:parseInt(i[3]),s=i[4];if(r===12?r=s==="AM"?0:r:s==="PM"&&(r+=12),Ky(r,0,23)&&Ky(o,0,59)&&(a==null||Ky(a,0,59)))return this.setTime(this.today(),r,o,a||0)}return null}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})();function Ky(n,t,e){return!isNaN(n)&&n>=t&&n<=e}var a7={parse:{dateInput:null,timeInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},timeInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"},timeOptionLabel:{hour:"numeric",minute:"numeric"}}};var RP=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({providers:[Xy()]})}return n})();function Xy(n=a7){return[{provide:It,useClass:o7},{provide:xr,useValue:n}]}var Bo={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Qy=class{_box;_destroyed=new L;_resizeSubject=new L;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Un(e=>{let i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Pe(e=>e.some(i=>i.target===t)),v_({bufferSize:1,refCount:!0}),Ee(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},OP=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=f(de);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,i){let r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Qy(r)),this._observers.get(r).observe(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var s7=["notch"],l7=["matFormFieldNotchedOutline",""],c7=["*"],d7=["textField"],h7=["iconPrefixContainer"],u7=["textPrefixContainer"],p7=["iconSuffixContainer"],m7=["textSuffixContainer"],f7=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],g7=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function _7(n,t){n&1&&B(0,"span",20)}function b7(n,t){if(n&1&&(b(0,"label",19),re(1,1),O(2,_7,1,0,"span",20),w()),n&2){let e=k(2);M("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),te("for",e._control.disableAutomaticLabeling?null:e._control.id),y(2),le(!e.hideRequiredMarker&&e._control.required?2:-1)}}function v7(n,t){if(n&1&&O(0,b7,3,5,"label",19),n&2){let e=k();le(e._hasFloatingLabel()?0:-1)}}function y7(n,t){n&1&&B(0,"div",7)}function w7(n,t){}function x7(n,t){if(n&1&&O(0,w7,0,0,"ng-template",13),n&2){k(2);let e=ut(1);M("ngTemplateOutlet",e)}}function C7(n,t){if(n&1&&(b(0,"div",9),O(1,x7,1,1,null,13),w()),n&2){let e=k();M("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),y(),le(e._forceDisplayInfixLabel()?-1:1)}}function k7(n,t){n&1&&(b(0,"div",10,2),re(2,2),w())}function D7(n,t){n&1&&(b(0,"div",11,3),re(2,3),w())}function M7(n,t){}function S7(n,t){if(n&1&&O(0,M7,0,0,"ng-template",13),n&2){k();let e=ut(1);M("ngTemplateOutlet",e)}}function E7(n,t){n&1&&(b(0,"div",14,4),re(2,4),w())}function A7(n,t){n&1&&(b(0,"div",15,5),re(2,5),w())}function T7(n,t){n&1&&B(0,"div",16)}function I7(n,t){n&1&&re(0,6)}function P7(n,t){if(n&1&&(b(0,"mat-hint",21),K(1),w()),n&2){let e=k(2);M("id",e._hintLabelId),y(),De(e.hintLabel)}}function R7(n,t){if(n&1&&(O(0,P7,2,2,"mat-hint",21),re(1,7),B(2,"div",22),re(3,8)),n&2){let e=k();le(e.hintLabel?0:-1)}}var Zy=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["mat-label"]]})}return n})(),ew=new P("MatError"),O7=(()=>{class n{id=f(Ne).getId("mat-mdc-error-");constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:[1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){i&2&&yt("id",r.id)},inputs:{id:"id"},features:[ue([{provide:ew,useExisting:n}])]})}return n})(),Jy=(()=>{class n{align="start";id=f(Ne).getId("mat-mdc-hint-");static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){i&2&&(yt("id",r.id),te("align",null),N("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return n})(),HP=new P("MatPrefix");var tw=new P("MatSuffix"),F7=(()=>{class n{set _isTextSelector(e){this._isText=!0}_isText=!1;static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},features:[ue([{provide:tw,useExisting:n}])]})}return n})(),jP=new P("FloatingLabelParent"),FP=(()=>{class n{_elementRef=f(Q);get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=f(OP);_ngZone=f(de);_parent=f(jP);_resizeSubscription=new Ue;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return L7(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){i&2&&N("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();function L7(n){let t=n;if(t.offsetParent!==null)return t.scrollWidth;let e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let i=e.scrollWidth;return e.remove(),i}var LP="mdc-line-ripple--active",Tf="mdc-line-ripple--deactivating",NP=(()=>{class n{_elementRef=f(Q);_cleanupTransitionEnd;constructor(){let e=f(de),i=f(Le);e.runOutsideAngular(()=>{this._cleanupTransitionEnd=i.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(Tf),e.add(LP)}deactivate(){this._elementRef.nativeElement.classList.add(Tf)}_handleTransitionEnd=e=>{let i=this._elementRef.nativeElement.classList,r=i.contains(Tf);e.propertyName==="opacity"&&r&&i.remove(LP,Tf)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),VP=(()=>{class n{_elementRef=f(Q);_ngZone=f(de);open=!1;_notch;constructor(){}ngAfterViewInit(){let e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){!this.open||!e?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(i&1&&se(s7,5),i&2){let o;q(o=Y())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){i&2&&N("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:l7,ngContentSelectors:c7,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){i&1&&(me(),B(0,"div",1),b(1,"div",2,0),re(3),w(),B(4,"div",3))},encapsulation:2,changeDetection:0})}return n})(),Ta=(()=>{class n{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n})}return n})();var Cr=new P("MatFormField"),UP=new P("MAT_FORM_FIELD_DEFAULT_OPTIONS"),BP="fill",N7="auto",zP="fixed",V7="translateY(-50%)",iw=(()=>{class n{_elementRef=f(Q);_changeDetectorRef=f(_e);_dir=f(wt);_platform=f(Ve);_idGenerator=f(Ne);_ngZone=f(de);_injector=f(Ie);_defaults=f(UP,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=F1(Zy);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ft(e)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||N7}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearance}set appearance(e){let i=this._appearance,r=e||this._defaults?.appearance||BP;this._appearance=r,this._appearance==="outline"&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdate=!0)}_appearance=BP;get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||zP}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||zP}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}_destroyed=new L;_isFocused=null;_explicitFormFieldControl;_needsOutlineLabelOffsetUpdate=!1;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_animationsDisabled;constructor(){let e=this._defaults;e&&(e.appearance&&(this.appearance=e.appearance),this._hideRequiredMarker=!!e?.hideRequiredMarker,e.color&&(this.color=e.color)),this._animationsDisabled=f(Oe,{optional:!0})==="NoopAnimations"}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=Oi(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let i=this._control,r="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(r+e.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=i.stateChanges.pipe(ct([void 0,void 0]),Se(()=>[i.errorState,i.userAriaDescribedBy]),b_(),Pe(([[o,a],[s,l]])=>o!==s||a!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(Ee(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),xt(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),rl(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Ee(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=Oi(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let i=this._control?this._control.ngControl:null;return i&&i[e]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let i=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,r=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let e=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){e.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=this._iconSuffixContainer?.nativeElement,a=this._textSuffixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0,d=a?.getBoundingClientRect().width??0,h=this._dir.value==="rtl"?"-1":"1",u=`${s+l}px`,m=`calc(${h} * (${u} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;e.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${V7} translateX(${m})
    )`;let g=s+l+c+d;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${g}px)`)}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(i&1&&(H1(o,r._labelChild,Zy,5),Te(o,Ta,5),Te(o,HP,5),Te(o,tw,5),Te(o,ew,5),Te(o,Jy,5)),i&2){_u();let a;q(a=Y())&&(r._formFieldControl=a.first),q(a=Y())&&(r._prefixChildren=a),q(a=Y())&&(r._suffixChildren=a),q(a=Y())&&(r._errorChildren=a),q(a=Y())&&(r._hintChildren=a)}},viewQuery:function(i,r){if(i&1&&(se(d7,5),se(h7,5),se(u7,5),se(p7,5),se(m7,5),se(FP,5),se(VP,5),se(NP,5)),i&2){let o;q(o=Y())&&(r._textField=o.first),q(o=Y())&&(r._iconPrefixContainer=o.first),q(o=Y())&&(r._textPrefixContainer=o.first),q(o=Y())&&(r._iconSuffixContainer=o.first),q(o=Y())&&(r._textSuffixContainer=o.first),q(o=Y())&&(r._floatingLabel=o.first),q(o=Y())&&(r._notchedOutline=o.first),q(o=Y())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:40,hostBindings:function(i,r){i&2&&N("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[ue([{provide:Cr,useExisting:n},{provide:jP,useExisting:n}])],ngContentSelectors:g7,decls:20,vars:25,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["aria-atomic","true","aria-live","polite"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(i&1){let o=be();me(f7),O(0,v7,1,1,"ng-template",null,0,Cn),b(2,"div",6,1),T("click",function(s){return W(o),G(r._control.onContainerClick(s))}),O(4,y7,1,0,"div",7),b(5,"div",8),O(6,C7,2,2,"div",9)(7,k7,3,0,"div",10)(8,D7,3,0,"div",11),b(9,"div",12),O(10,S7,1,1,null,13),re(11),w(),O(12,E7,3,0,"div",14)(13,A7,3,0,"div",15),w(),O(14,T7,1,0,"div",16),w(),b(15,"div",17),j1(16),b(17,"div",18),O(18,I7,1,0)(19,R7,4,1),w()()}if(i&2){let o;y(2),N("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),y(2),le(!r._hasOutline()&&!r._control.disabled?4:-1),y(2),le(r._hasOutline()?6:-1),y(),le(r._hasIconPrefix?7:-1),y(),le(r._hasTextPrefix?8:-1),y(2),le(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),y(2),le(r._hasTextSuffix?12:-1),y(),le(r._hasIconSuffix?13:-1),y(),le(r._hasOutline()?-1:14),y(),N("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic");let a=r._getSubscriptMessageType();y(2),N("mat-mdc-form-field-error-wrapper",a==="error")("mat-mdc-form-field-hint-wrapper",a==="hint"),y(),le((o=a)==="error"?18:o==="hint"?19:-1)}},dependencies:[FP,VP,Tr,NP,Jy],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-sys-outline));border-width:var(--mdc-outlined-text-field-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return n})();var B7=new P("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let n=f(it);return()=>n.scrollStrategies.reposition()}});function z7(n){return()=>n.scrollStrategies.reposition()}var H7={provide:B7,deps:[it],useFactory:z7};var $P=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({providers:[H7],imports:[ki,pc,oe,Zt,pc,oe]})}return n})();var WP=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[ur,oe,oe]})}return n})();function j7(n,t){}var Ia=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var wh=(()=>{class n extends ko{_elementRef=f(Q);_focusTrapFactory=f(_l);_config;_interactivityChecker=f(ns);_ngZone=f(de);_overlayRef=f(cs);_focusMonitor=f(Qt);_renderer=f(Le);_changeDetectorRef=f(_e);_injector=f(Ie);_platform=f(Ve);_document=f(ve,{optional:!0});_portalOutlet;_focusTrapped=new L;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=f(Ia,{optional:!0})||new Ia,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}attachDomPortal=e=>{this._portalOutlet.hasAttached();let i=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{o(),a(),e.removeAttribute("tabindex")},o=this._renderer.listen(e,"blur",r),a=this._renderer.listen(e,"mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(e){this._isDestroyed||Ct(()=>{let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,i=null;if(typeof e=="string"?i=this._document.querySelector(e):typeof e=="boolean"?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&typeof i.focus=="function"){let r=Vi(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus(e)}_containsFocus(){let e=this._elementRef.nativeElement,i=Vi();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Vi()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(i&1&&se(gi,7),i&2){let o;q(o=Y())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){i&2&&te("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[ge],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){i&1&&O(0,j7,0,0,"ng-template",0)},dependencies:[gi],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return n})(),yh=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new L;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(t,e){this.overlayRef=t,this.config=e,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!tt(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(t,e){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},U7=new P("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=f(it);return()=>n.scrollStrategies.block()}}),$7=new P("DialogData"),W7=new P("DefaultDialogConfig");var xh=(()=>{class n{_overlay=f(it);_injector=f(Ie);_defaultOptions=f(W7,{optional:!0});_parentDialog=f(n,{optional:!0,skipSelf:!0});_overlayContainer=f(kp);_idGenerator=f(Ne);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new L;_afterOpenedAtThisLevel=new L;_ariaHiddenElements=new Map;_scrollStrategy=f(U7);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=to(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ct(void 0)));constructor(){}open(e,i){let r=this._defaultOptions||new Ia;i=E(E({},r),i),i.id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),a=this._overlay.create(o),s=new yh(a,i),l=this._attachContainer(a,s,i);if(s.containerInstance=l,!this.openDialogs.length){let c=this._overlayContainer.getContainerElement();l._focusTrapped?l._focusTrapped.pipe(lt(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(c)}):this._hideNonDialogContentFromAssistiveTechnology(c)}return this._attachDialogContent(e,s,l,i),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s}closeAll(){nw(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){nw(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),nw(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let i=new Mn({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){let o=r.injector||r.viewContainerRef?.injector,a=[{provide:Ia,useValue:r},{provide:yh,useValue:i},{provide:cs,useValue:e}],s;r.container?typeof r.container=="function"?s=r.container:(s=r.container.type,a.push(...r.container.providers(r))):s=wh;let l=new Zi(s,r.viewContainerRef,Ie.create({parent:o||this._injector,providers:a}));return e.attach(l).instance}_attachDialogContent(e,i,r,o){if(e instanceof Rt){let a=this._createInjector(o,i,r,void 0),s={$implicit:o.data,dialogRef:i};o.templateContext&&(s=E(E({},s),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),r.attachTemplatePortal(new xi(e,null,s,a))}else{let a=this._createInjector(o,i,r,this._injector),s=r.attachComponentPortal(new Zi(e,o.viewContainerRef,a));i.componentRef=s,i.componentInstance=s.instance}}_createInjector(e,i,r,o){let a=e.injector||e.viewContainerRef?.injector,s=[{provide:$7,useValue:e.data},{provide:yh,useValue:i}];return e.providers&&(typeof e.providers=="function"?s.push(...e.providers(i,e,r)):s.push(...e.providers)),e.direction&&(!a||!a.get(wt,null,{optional:!0}))&&s.push({provide:wt,useValue:{value:e.direction,change:pe()}}),Ie.create({parent:a||o,providers:s})}_removeOpenDialog(e,i){let r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(e){if(e.parentElement){let i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nw(n,t){let e=n.length;for(;e--;)t(n[e])}var If=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({providers:[xh],imports:[ki,Jt,ur,Jt]})}return n})();function G7(n,t){}var GP="_mat-bottom-sheet-enter",qP="_mat-bottom-sheet-exit",q7=(()=>{class n extends wh{_breakpointSubscription;_animationsDisabled=f(Oe,{optional:!0})==="NoopAnimations";_animationState="void";_animationStateChanged=new Z;_destroyed;constructor(){super();let e=f(is);this._breakpointSubscription=e.observe([Bo.Medium,Bo.Large,Bo.XLarge]).subscribe(()=>{let i=this._elementRef.nativeElement.classList;i.toggle("mat-bottom-sheet-container-medium",e.isMatched(Bo.Medium)),i.toggle("mat-bottom-sheet-container-large",e.isMatched(Bo.Large)),i.toggle("mat-bottom-sheet-container-xlarge",e.isMatched(Bo.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._animationsDisabled&&this._simulateAnimation(GP))}exit(){this._destroyed||(this._elementRef.nativeElement.setAttribute("mat-exit",""),this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._animationsDisabled&&this._simulateAnimation(qP))}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_simulateAnimation(e){this._ngZone.run(()=>{this._handleAnimationEvent(!0,e),setTimeout(()=>this._handleAnimationEvent(!1,e))})}_trapFocus(){super._trapFocus({preventScroll:!0})}_handleAnimationEvent(e,i){let r=i===GP;(r||i===qP)&&this._animationStateChanged.emit({toState:r?"visible":"hidden",phase:e?"start":"done"})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:9,hostBindings:function(i,r){i&1&&T("animationstart",function(a){return r._handleAnimationEvent(!0,a.animationName)})("animationend",function(a){return r._handleAnimationEvent(!1,a.animationName)})("animationcancel",function(a){return r._handleAnimationEvent(!1,a.animationName)}),i&2&&(te("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-label",r._config.ariaLabel),N("mat-bottom-sheet-container-animations-enabled",!r._animationsDisabled)("mat-bottom-sheet-container-enter",r._animationState==="visible")("mat-bottom-sheet-container-exit",r._animationState==="hidden"))},features:[ge],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){i&1&&O(0,G7,0,0,"ng-template",0)},dependencies:[gi],styles:[`@keyframes _mat-bottom-sheet-enter{from{transform:translateY(100%)}to{transform:none}}@keyframes _mat-bottom-sheet-exit{from{transform:none}to{transform:translateY(100%)}}.mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;position:relative;background:var(--mat-bottom-sheet-container-background-color, var(--mat-sys-surface-container-low));color:var(--mat-bottom-sheet-container-text-color, var(--mat-sys-on-surface));font-family:var(--mat-bottom-sheet-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-bottom-sheet-container-text-size, var(--mat-sys-body-large-size));line-height:var(--mat-bottom-sheet-container-text-line-height, var(--mat-sys-body-large-line-height));font-weight:var(--mat-bottom-sheet-container-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-bottom-sheet-container-text-tracking, var(--mat-sys-body-large-tracking))}@media(forced-colors: active){.mat-bottom-sheet-container{outline:1px solid}}.mat-bottom-sheet-container-animations-enabled{transform:translateY(100%)}.mat-bottom-sheet-container-animations-enabled.mat-bottom-sheet-container-enter{animation:_mat-bottom-sheet-enter 195ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-bottom-sheet-container-animations-enabled.mat-bottom-sheet-container-exit{animation:_mat-bottom-sheet-exit 375ms cubic-bezier(0.4, 0, 1, 1) backwards}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape, 28px);border-top-right-radius:var(--mat-bottom-sheet-container-shape, 28px)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}
`],encapsulation:2})}return n})(),Y7=new P("MatBottomSheetData"),rw=class{viewContainerRef;panelClass;direction;data=null;hasBackdrop=!0;backdropClass;disableClose=!1;ariaLabel=null;ariaModal=!1;closeOnNavigation=!0;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;height="";minHeight;maxHeight},Pf=class{_ref;get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}containerInstance;disableClose;_afterOpened=new L;_result;_closeFallbackTimeout;constructor(t,e,i){this._ref=t,this.containerInstance=i,this.disableClose=e.disableClose,i._animationStateChanged.pipe(Pe(r=>r.phase==="done"&&r.toState==="visible"),lt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Pe(r=>r.phase==="done"&&r.toState==="hidden"),lt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),t.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),xt(this.backdropClick(),this.keydownEvents().pipe(Pe(r=>r.keyCode===27))).subscribe(r=>{!this.disableClose&&(r.type!=="keydown"||!tt(r))&&(r.preventDefault(),this.dismiss())})}dismiss(t){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(Pe(e=>e.phase==="start"),lt(1)).subscribe(()=>{this._closeFallbackTimeout=setTimeout(()=>this._ref.close(this._result),500),this._ref.overlayRef.detachBackdrop()}),this._result=t,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}},K7=new P("mat-bottom-sheet-default-options"),X7=(()=>{class n{_overlay=f(it);_parentBottomSheet=f(n,{optional:!0,skipSelf:!0});_defaultOptions=f(K7,{optional:!0});_bottomSheetRefAtThisLevel=null;_dialog=f(xh);get _openedBottomSheetRef(){let e=this._parentBottomSheet;return e?e._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(e){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=e:this._bottomSheetRefAtThisLevel=e}constructor(){}open(e,i){let r=E(E({},this._defaultOptions||new rw),i),o;return this._dialog.open(e,ye(E({},r),{disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:q7,scrollStrategy:r.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:o}),providers:(a,s,l)=>(o=new Pf(a,r,l),[{provide:Pf,useValue:o},{provide:Y7,useValue:r.data}])})),o.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===o&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>o.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):o.containerInstance.enter(),this._openedBottomSheetRef=o,o}dismiss(e){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(e)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YP=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({providers:[X7],imports:[If,oe,Jt,oe]})}return n})();var Q7=["mat-icon-button",""],Z7=["*"];var J7=new P("MAT_BUTTON_CONFIG");var eU=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],ow=(()=>{class n{_elementRef=f(Q);_ngZone=f(de);_animationMode=f(Oe,{optional:!0});_focusMonitor=f(Qt);_rippleLoader=f(PP);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){f(Je).load(ii);let e=f(J7,{optional:!0}),i=this._elementRef.nativeElement,r=i.classList;this.disabledInteractive=e?.disabledInteractive??!1,this.color=e?.color??null,this._rippleLoader?.configureRipple(i,{className:"mat-mdc-button-ripple"});for(let{attribute:o,mdcClasses:a}of eU)i.hasAttribute(o)&&r.add(...a)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",ie],disabled:[2,"disabled","disabled",ie],ariaDisabled:[2,"aria-disabled","ariaDisabled",ie],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ie]}})}return n})();var Pa=(()=>{class n extends ow{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){i&2&&(te("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),et(r.color?"mat-"+r.color:""),N("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[ge],attrs:Q7,ngContentSelectors:Z7,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(me(),B(0,"span",0),re(1),B(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var tU=["mat-button",""],iU=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],nU=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Ch=(()=>{class n extends ow{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275cmp=I({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){i&2&&(te("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),et(r.color?"mat-"+r.color:""),N("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[ge],attrs:tU,ngContentSelectors:nU,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(me(iU),B(0,"span",0),re(1),b(2,"span",1),re(3,1),w(),re(4,2),B(5,"span",2)(6,"span",3)),i&2&&N("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var Ra=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[oe,Wt,oe]})}return n})();var Gs=(()=>{class n{_listeners=[];notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var rU=["button"],oU=["*"];function aU(n,t){if(n&1&&(b(0,"div",2),B(1,"mat-pseudo-checkbox",6),w()),n&2){let e=k();y(),M("disabled",e.disabled)}}var sU=new P("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:lU});function lU(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}var cU=new P("MatButtonToggleGroup");var aw=class{source;value;constructor(t,e){this.source=t,this.value=e}};var dU=(()=>{class n{_changeDetectorRef=f(_e);_elementRef=f(Q);_focusMonitor=f(Qt);_idGenerator=f(Ne);_animationMode=f(Oe,{optional:!0});_checked=!1;ariaLabel;ariaLabelledby=null;_buttonElement;buttonToggleGroup;get buttonId(){return`${this.id}-button`}id;name;value;get tabIndex(){return this._tabIndex}set tabIndex(e){e!==this._tabIndex&&(this._tabIndex=e,this._markForCheck())}_tabIndex;disableRipple;get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}_appearance;get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=e}_disabled=!1;get disabledInteractive(){return this._disabledInteractive||this.buttonToggleGroup!==null&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e}_disabledInteractive;change=new Z;constructor(){f(Je).load(ii);let e=f(cU,{optional:!0}),i=f(new hi("tabindex"),{optional:!0})||"",r=f(sU,{optional:!0});this._tabIndex=parseInt(i)||0,this.buttonToggleGroup=e,this.appearance=r&&r.appearance?r.appearance:"standard",this.disabledInteractive=r?.disabledInteractive??!1}ngOnInit(){let e=this.buttonToggleGroup;this.id=this.id||this._idGenerator.getId("mat-button-toggle-"),e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._animationMode!=="NoopAnimations"&&this._elementRef.nativeElement.classList.add("mat-button-toggle-animations-enabled"),this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){if(this.disabled)return;let e=this.isSingleSelector()?!0:!this._checked;if(e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){let i=this.buttonToggleGroup._buttonToggles.find(r=>r.tabIndex===0);i&&(i.tabIndex=-1),this.tabIndex=0}this.change.emit(new aw(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(i,r){if(i&1&&se(rU,5),i&2){let o;q(o=Y())&&(r._buttonElement=o.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(i,r){i&1&&T("focus",function(){return r.focus()}),i&2&&(te("aria-label",null)("aria-labelledby",null)("id",r.id)("name",null),N("mat-button-toggle-standalone",!r.buttonToggleGroup)("mat-button-toggle-checked",r.checked)("mat-button-toggle-disabled",r.disabled)("mat-button-toggle-disabled-interactive",r.disabledInteractive)("mat-button-toggle-appearance-standard",r.appearance==="standard"))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",ie],appearance:"appearance",checked:[2,"checked","checked",ie],disabled:[2,"disabled","disabled",ie],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ie]},outputs:{change:"change"},exportAs:["matButtonToggle"],ngContentSelectors:oU,decls:7,vars:13,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-checkbox-wrapper"],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"],["state","checked","aria-hidden","true","appearance","minimal",3,"disabled"]],template:function(i,r){if(i&1){let o=be();me(),b(0,"button",1,0),T("click",function(){return W(o),G(r._onButtonClick())}),O(2,aU,2,1,"div",2),b(3,"span",3),re(4),w()(),B(5,"span",4)(6,"span",5)}if(i&2){let o=ut(1);M("id",r.buttonId)("disabled",r.disabled&&!r.disabledInteractive||null),te("role",r.isSingleSelector()?"radio":"button")("tabindex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("aria-pressed",r.isSingleSelector()?null:r.checked)("aria-checked",r.isSingleSelector()?r.checked:null)("name",r._getButtonName())("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),y(2),le(r.buttonToggleGroup&&(!r.buttonToggleGroup.multiple&&!r.buttonToggleGroup.hideSingleSelectionIndicator||r.buttonToggleGroup.multiple&&!r.buttonToggleGroup.hideMultipleSelectionIndicator)?2:-1),y(4),M("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)}},dependencies:[or,Df],styles:[`.mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}@media(forced-colors: active){.mat-button-toggle-standalone,.mat-button-toggle-group{outline:solid 1px}}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}@media(forced-colors: active){.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{outline:0}}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checkbox-wrapper{display:inline-block;justify-content:flex-start;align-items:center;width:0;height:18px;line-height:18px;overflow:hidden;box-sizing:border-box;position:absolute;top:50%;left:16px;transform:translate3d(0, -50%, 0)}[dir=rtl] .mat-button-toggle-checkbox-wrapper{left:auto;right:16px}.mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:12px}[dir=rtl] .mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:auto;right:12px}.mat-button-toggle-checked .mat-button-toggle-checkbox-wrapper{width:18px}.mat-button-toggle-animations-enabled .mat-button-toggle-checkbox-wrapper{transition:width 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-checkbox-wrapper{transition:none}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-sys-on-surface));background-color:var(--mat-standard-button-toggle-background-color, transparent);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-sys-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-sys-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-sys-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-standard-button-toggle-disabled-state-background-color, transparent)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-sys-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height, 40px)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}@media(forced-colors: active){.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-animations-enabled .mat-button-toggle-button{transition:padding 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-button{transition:none}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:30px}[dir=rtl] .mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:0;padding-right:30px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard:not(.mat-button-toggle-vertical) .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard:not(.mat-button-toggle-vertical) .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}
`],encapsulation:2,changeDetection:0})}return n})(),KP=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[oe,Wt,dU,oe]})}return n})();var hU=["*"];var uU=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],pU=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],mU=new P("MAT_CARD_CONFIG"),rpe=(()=>{class n{appearance;constructor(){let e=f(mU,{optional:!0});this.appearance=e?.appearance||"raised"}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){i&2&&N("mat-mdc-card-outlined",r.appearance==="outlined")("mdc-card--outlined",r.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:hU,decls:1,vars:0,template:function(i,r){i&1&&(me(),re(0))},styles:[`.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-sys-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-sys-corner-medium));border-width:var(--mdc-outlined-card-outline-width, 1px);border-color:var(--mdc-outlined-card-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}
`],encapsulation:2,changeDetection:0})}return n})(),ope=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})();var ape=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})();var spe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:pU,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){i&1&&(me(uU),re(0),b(1,"div",0),re(2,1),w(),re(3,2))},encapsulation:2,changeDetection:0})}return n})(),lpe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]})}return n})();var XP=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[oe,oe]})}return n})();var gU=["input"],_U=["label"],bU=["*"],vU=new P("mat-checkbox-default-options",{providedIn:"root",factory:ZP});function ZP(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var $i=function(n){return n[n.Init=0]="Init",n[n.Checked=1]="Checked",n[n.Unchecked=2]="Unchecked",n[n.Indeterminate=3]="Indeterminate",n}($i||{}),yU={provide:Ot,useExisting:bt(()=>JP),multi:!0},sw=class{source;checked},QP=ZP(),JP=(()=>{class n{_elementRef=f(Q);_changeDetectorRef=f(_e);_ngZone=f(de);_animationMode=f(Oe,{optional:!0});_options=f(vU,{optional:!0});focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){let i=new sw;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"};ariaLabel="";ariaLabelledby=null;ariaDescribedby;ariaExpanded;ariaControls;ariaOwns;_uniqueId;id;get inputId(){return`${this.id||this._uniqueId}-input`}required;labelPosition="after";name=null;change=new Z;indeterminateChange=new Z;value;disableRipple;_inputElement;_labelElement;tabIndex;color;disabledInteractive;_onTouched=()=>{};_currentAnimationClass="";_currentCheckState=$i.Init;_controlValueAccessorChangeFn=()=>{};_validatorChangeFn=()=>{};constructor(){f(Je).load(ii);let e=f(new hi("tabindex"),{optional:!0});this._options=this._options||QP,this.color=this._options.color||QP.color,this.tabIndex=e==null?0:parseInt(e)||0,this.id=this._uniqueId=f(Ne).getId("mat-mdc-checkbox-"),this.disabledInteractive=this._options?.disabledInteractive??!1}ngOnChanges(e){e.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}_checked=!1;get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}_disabled=!1;get indeterminate(){return this._indeterminate}set indeterminate(e){let i=e!=this._indeterminate;this._indeterminate=e,i&&(this._indeterminate?this._transitionCheckState($i.Indeterminate):this._transitionCheckState(this.checked?$i.Checked:$i.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_indeterminate=!1;_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorChangeFn=e}_transitionCheckState(e){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(!(i===e||!r)&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);let o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let e=this._options?.clickAction;!this.disabled&&e!=="noop"?(this.indeterminate&&e!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?$i.Checked:$i.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&e==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if(this._animationMode==="NoopAnimations")return"";switch(e){case $i.Init:if(i===$i.Checked)return this._animationClasses.uncheckedToChecked;if(i==$i.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case $i.Unchecked:return i===$i.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case $i.Checked:return i===$i.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case $i.Indeterminate:return i===$i.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){let i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-checkbox"]],viewQuery:function(i,r){if(i&1&&(se(gU,5),se(_U,5)),i&2){let o;q(o=Y())&&(r._inputElement=o.first),q(o=Y())&&(r._labelElement=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(i,r){i&2&&(yt("id",r.id),te("tabindex",null)("aria-label",null)("aria-labelledby",null),et(r.color?"mat-"+r.color:"mat-accent"),N("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked)("mat-mdc-checkbox-disabled-interactive",r.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],ariaExpanded:[2,"aria-expanded","ariaExpanded",ie],ariaControls:[0,"aria-controls","ariaControls"],ariaOwns:[0,"aria-owns","ariaOwns"],id:"id",required:[2,"required","required",ie],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",ie],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:Mt(e)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",ie],checked:[2,"checked","checked",ie],disabled:[2,"disabled","disabled",ie],indeterminate:[2,"indeterminate","indeterminate",ie]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[ue([yU,{provide:en,useExisting:n,multi:!0}]),we],ngContentSelectors:bU,decls:15,vars:23,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(i,r){if(i&1){let o=be();me(),b(0,"div",3),T("click",function(s){return W(o),G(r._preventBubblingFromLabel(s))}),b(1,"div",4,0)(3,"div",5),T("click",function(){return W(o),G(r._onTouchTargetClick())}),w(),b(4,"input",6,1),T("blur",function(){return W(o),G(r._onBlur())})("click",function(){return W(o),G(r._onInputClick())})("change",function(s){return W(o),G(r._onInteractionEvent(s))}),w(),B(6,"div",7),b(7,"div",8),je(),b(8,"svg",9),B(9,"path",10),w(),Ai(),B(10,"div",11),w(),B(11,"div",12),w(),b(12,"label",13,2),re(14),w()()}if(i&2){let o=ut(2);M("labelPosition",r.labelPosition),y(4),N("mdc-checkbox--selected",r.checked),M("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled&&!r.disabledInteractive)("id",r.inputId)("required",r.required)("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex),te("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("aria-controls",r.ariaControls)("aria-disabled",r.disabled&&r.disabledInteractive?!0:null)("aria-expanded",r.ariaExpanded)("aria-owns",r.ariaOwns)("name",r.name)("value",r.value),y(7),M("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),y(),M("for",r.inputId)}},dependencies:[or,dc],styles:[`.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover>.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:hover>.mat-mdc-checkbox-ripple>.mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control+.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}@media(forced-colors: active){.mdc-checkbox--disabled{opacity:.5}}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox .mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox .mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display, block)}.mat-mdc-checkbox .mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return n})();var eR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[JP,oe,oe]})}return n})();var wU=new P("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})});var tR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({providers:[nr,{provide:wU,useValue:{separatorKeyCodes:[13]}}],imports:[oe,Wt,oe]})}return n})();function xU(n,t){if(n&1&&yi(0,2),n&2){let e=k();M("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function CU(n,t){if(n&1&&(b(0,"span",7),K(1),w()),n&2){let e=k(2);y(),De(e._getDefaultTextForState(e.state))}}function kU(n,t){if(n&1&&(b(0,"span",8),K(1),w()),n&2){let e=k(3);y(),De(e._intl.completedLabel)}}function DU(n,t){if(n&1&&(b(0,"span",8),K(1),w()),n&2){let e=k(3);y(),De(e._intl.editableLabel)}}function MU(n,t){if(n&1&&(O(0,kU,2,1,"span",8)(1,DU,2,1,"span",8),b(2,"mat-icon",7),K(3),w()),n&2){let e=k(2);le(e.state==="done"?0:e.state==="edit"?1:-1),y(3),De(e._getDefaultTextForState(e.state))}}function SU(n,t){if(n&1&&O(0,CU,2,1,"span",7)(1,MU,4,2),n&2){let e,i=k();le((e=i.state)==="number"?0:1)}}function EU(n,t){n&1&&(b(0,"div",4),yi(1,9),w()),n&2&&(y(),M("ngTemplateOutlet",t.template))}function AU(n,t){if(n&1&&(b(0,"div",4),K(1),w()),n&2){let e=k();y(),De(e.label)}}function TU(n,t){if(n&1&&(b(0,"div",5),K(1),w()),n&2){let e=k();y(),De(e._intl.optionalLabel)}}function IU(n,t){if(n&1&&(b(0,"div",6),K(1),w()),n&2){let e=k();y(),De(e.errorMessage)}}var iR=["*"];function PU(n,t){}function RU(n,t){if(n&1&&(re(0),O(1,PU,0,0,"ng-template",0)),n&2){let e=k();y(),M("cdkPortalOutlet",e._portal)}}var OU=["animatedContainer"],nR=(n,t)=>({step:n,i:t});function FU(n,t){n&1&&re(0)}function LU(n,t){n&1&&B(0,"div",7)}function NU(n,t){if(n&1&&(yi(0,6),O(1,LU,1,0,"div",7)),n&2){let e=t.$implicit,i=t.$index,r=t.$index,o=t.$count;k(2);let a=ut(4);M("ngTemplateOutlet",a)("ngTemplateOutletContext",ta(3,nR,e,i)),y(),le(r!==o-1?1:-1)}}function VU(n,t){if(n&1&&(b(0,"div",8,1),yi(2,9),w()),n&2){let e=t.$implicit,i=t.$index,r=k(2);et("mat-horizontal-stepper-content-"+r._getAnimationDirection(i)),M("id",r._getStepContentId(i)),te("aria-labelledby",r._getStepLabelId(i))("inert",r.selectedIndex===i?null:""),y(2),M("ngTemplateOutlet",e.content)}}function BU(n,t){if(n&1&&(b(0,"div",2)(1,"div",3),pi(2,NU,2,6,null,null,Ga),w(),b(4,"div",4),pi(5,VU,3,6,"div",5,Ga),w()()),n&2){let e=k();y(2),mi(e.steps),y(3),mi(e.steps)}}function zU(n,t){if(n&1&&(b(0,"div",10),yi(1,6),b(2,"div",11,1)(4,"div",12)(5,"div",13),yi(6,9),w()()()()),n&2){let e=t.$implicit,i=t.$index,r=t.$index,o=t.$count,a=k(2),s=ut(4);y(),M("ngTemplateOutlet",s)("ngTemplateOutletContext",ta(10,nR,e,i)),y(),N("mat-stepper-vertical-line",r!==o-1)("mat-vertical-content-container-active",a.selectedIndex===i),te("inert",a.selectedIndex===i?null:""),y(2),M("id",a._getStepContentId(i)),te("aria-labelledby",a._getStepLabelId(i)),y(2),M("ngTemplateOutlet",e.content)}}function HU(n,t){if(n&1&&pi(0,zU,7,13,"div",10,Ga),n&2){let e=k();mi(e.steps)}}function jU(n,t){if(n&1){let e=be();b(0,"mat-step-header",14),T("click",function(){let r=W(e).step;return G(r.select())})("keydown",function(r){W(e);let o=k();return G(o._onKeydown(r))}),w()}if(n&2){let e=t.step,i=t.i,r=k();N("mat-horizontal-stepper-header",r.orientation==="horizontal")("mat-vertical-stepper-header",r.orientation==="vertical"),M("tabIndex",r._getFocusIndex()===i?0:-1)("id",r._getStepLabelId(i))("index",i)("state",r._getIndicatorType(i,e.state))("label",e.stepLabel||e.label)("selected",r.selectedIndex===i)("active",r._stepIsNavigable(i,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",r._iconOverrides)("disableRipple",r.disableRipple||!r._stepIsNavigable(i,e))("color",e.color||r.color),te("aria-posinset",i+1)("aria-setsize",r.steps.length)("aria-controls",r._getStepContentId(i))("aria-selected",r.selectedIndex==i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",r._stepIsNavigable(i,e)?null:!0)}}var lw=(()=>{class n extends zy{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275dir=V({type:n,selectors:[["","matStepLabel",""]],features:[ge]})}return n})(),Rf=(()=>{class n{changes=new L;optionalLabel="Optional";completedLabel="Completed";editableLabel="Editable";static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UU(n){return n||new Rf}var $U={provide:Rf,deps:[[new vn,new lr,Rf]],useFactory:UU},cw=(()=>{class n extends By{_intl=f(Rf);_focusMonitor=f(Qt);_intlSubscription;state;label;errorMessage;iconOverrides;index;selected;active;optional;disableRipple;color;constructor(){super();let e=f(Je);e.load(ii),e.load(qn);let i=f(_e);this._intlSubscription=this._intl.changes.subscribe(()=>i.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._elementRef,e,i):this._elementRef.nativeElement.focus(i)}_stringLabel(){return this.label instanceof lw?null:this.label}_templateLabel(){return this.label instanceof lw?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return e=="number"?`${this.index+1}`:e=="edit"?"create":e=="error"?"warning":e}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],hostVars:2,hostBindings:function(i,r){i&2&&et("mat-"+(r.color||"primary"))},inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple",color:"color"},features:[ge],decls:10,vars:17,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-step-label"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[3,"ngTemplateOutlet"]],template:function(i,r){if(i&1&&(B(0,"div",0),b(1,"div")(2,"div",1),O(3,xU,1,2,"ng-container",2)(4,SU,2,1),w()(),b(5,"div",3),O(6,EU,2,1,"div",4)(7,AU,2,1,"div",4)(8,TU,2,1,"div",5)(9,IU,2,1,"div",6),w()),i&2){let o;M("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disableRipple),y(),Ti("mat-step-icon-state-",r.state," mat-step-icon"),N("mat-step-icon-selected",r.selected),y(2),le(r.iconOverrides&&r.iconOverrides[r.state]?3:4),y(2),N("mat-step-label-active",r.active)("mat-step-label-selected",r.selected)("mat-step-label-error",r.state=="error"),y(),le((o=r._templateLabel())?6:r._stringLabel()?7:-1,o),y(2),le(r.optional&&r.state!="error"?8:-1),y(),le(r.state==="error"?9:-1)}},dependencies:[or,Tr,Or],styles:[`.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.mat-step-header:hover[aria-disabled=true]{cursor:default}.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:var(--mat-stepper-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-inverse-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent));border-radius:var(--mat-stepper-header-hover-state-layer-shape, var(--mat-sys-corner-medium))}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused{background-color:var(--mat-stepper-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-inverse-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));border-radius:var(--mat-stepper-header-focus-state-layer-shape, var(--mat-sys-corner-medium))}@media(hover: none){.mat-step-header:hover{background:none}}@media(forced-colors: active){.mat-step-header{outline:solid 1px}.mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.mat-step-header[aria-disabled=true]{outline-color:GrayText}.mat-step-header[aria-disabled=true] .mat-step-label,.mat-step-header[aria-disabled=true] .mat-step-icon,.mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}}.mat-step-optional{font-size:12px;color:var(--mat-stepper-header-optional-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-sub-label-error{font-size:12px;font-weight:normal}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative;color:var(--mat-stepper-header-icon-foreground-color, var(--mat-sys-surface));background-color:var(--mat-stepper-header-icon-background-color, var(--mat-sys-on-surface-variant))}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error{background-color:var(--mat-stepper-header-error-state-icon-background-color, transparent);color:var(--mat-stepper-header-error-state-icon-foreground-color, var(--mat-sys-error))}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle;font-family:var(--mat-stepper-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-stepper-header-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-stepper-header-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-stepper-header-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-label.mat-step-label-active{color:var(--mat-stepper-header-selected-state-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-label.mat-step-label-error{color:var(--mat-stepper-header-error-state-label-text-color, var(--mat-sys-error));font-size:var(--mat-stepper-header-error-state-label-text-size, var(--mat-sys-title-small-size))}.mat-step-label.mat-step-label-selected{font-size:var(--mat-stepper-header-selected-state-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-stepper-header-selected-state-label-text-weight, var(--mat-sys-title-small-weight))}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-step-icon-selected{background-color:var(--mat-stepper-header-selected-state-icon-background-color, var(--mat-sys-primary));color:var(--mat-stepper-header-selected-state-icon-foreground-color, var(--mat-sys-on-primary))}.mat-step-icon-state-done{background-color:var(--mat-stepper-header-done-state-icon-background-color);color:var(--mat-stepper-header-done-state-icon-foreground-color)}.mat-step-icon-state-edit{background-color:var(--mat-stepper-header-edit-state-icon-background-color, var(--mat-sys-primary));color:var(--mat-stepper-header-edit-state-icon-foreground-color, var(--mat-sys-on-primary))}
`],encapsulation:2,changeDetection:0})}return n})(),WU=(()=>{class n{templateRef=f(Rt);name;constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:[0,"matStepperIcon","name"]}})}return n})(),GU=(()=>{class n{_template=f(Rt);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["ng-template","matStepContent",""]]})}return n})(),qU=(()=>{class n extends yf{_errorStateMatcher=f(nr,{skipSelf:!0});_viewContainerRef=f(kt);_isSelected=Ue.EMPTY;stepLabel=void 0;color;_lazyContent;_portal;ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(Yt(()=>this._stepper.selectionChange.pipe(Se(e=>e.selectedStep===this),ct(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new xi(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,i){let r=this._errorStateMatcher.isErrorState(e,i),o=!!(e&&e.invalid&&this.interacted);return r||o}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275cmp=I({type:n,selectors:[["mat-step"]],contentQueries:function(i,r,o){if(i&1&&(Te(o,lw,5),Te(o,GU,5)),i&2){let a;q(a=Y())&&(r.stepLabel=a.first),q(a=Y())&&(r._lazyContent=a.first)}},hostAttrs:["hidden",""],inputs:{color:"color"},exportAs:["matStep"],features:[ue([{provide:nr,useExisting:n},{provide:yf,useExisting:n}]),ge],ngContentSelectors:iR,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(i,r){i&1&&(me(),O(0,RU,2,1,"ng-template"))},dependencies:[gi],encapsulation:2,changeDetection:0})}return n})(),YU=(()=>{class n extends wf{_ngZone=f(de);_renderer=f(Le);_animationsModule=f(Oe,{optional:!0});_cleanupTransition;_isAnimating=rt(!1);_stepHeader=void 0;_animatedContainers;_steps=void 0;steps=new cn;_icons;animationDone=new Z;disableRipple;color;labelPosition="end";headerPosition="top";_iconOverrides={};get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}_animationDuration="";_isServer=!f(Ve).isBrowser;constructor(){super();let i=f(Q).nativeElement.nodeName.toLowerCase();this.orientation=i==="mat-vertical-stepper"?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:i})=>this._iconOverrides[e]=i),this.steps.changes.pipe(Ee(this._destroyed)).subscribe(()=>this._stateChanged()),this.selectedIndexChange.pipe(Ee(this._destroyed)).subscribe(()=>{let e=this._getAnimationDuration();e==="0ms"||e==="0s"?this._onAnimationDone():this._isAnimating.set(!0)}),this._ngZone.runOutsideAngular(()=>{this._animationsModule!=="NoopAnimations"&&setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-stepper-animations-enabled"),this._cleanupTransition=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionend)},200)})}ngAfterViewInit(){if(super.ngAfterViewInit(),typeof queueMicrotask=="function"){let e=!1;this._animatedContainers.changes.pipe(ct(null),Ee(this._destroyed)).subscribe(()=>queueMicrotask(()=>{e||(e=!0,this.animationDone.emit()),this._stateChanged()}))}}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransition?.()}_stepIsNavigable(e,i){return i.completed||this.selectedIndex===e||!this.linear}_getAnimationDuration(){return this._animationsModule==="NoopAnimations"?"0ms":this.animationDuration?this.animationDuration:this.orientation==="horizontal"?"500ms":"225ms"}_handleTransitionend=e=>{let i=e.target;if(!i)return;let r=this.orientation==="horizontal"&&e.propertyName==="transform"&&i.classList.contains("mat-horizontal-stepper-content-current"),o=this.orientation==="vertical"&&e.propertyName==="grid-template-rows"&&i.classList.contains("mat-vertical-content-container-active");(r||o)&&this._animatedContainers.find(s=>s.nativeElement===i)&&this._onAnimationDone()};_onAnimationDone(){this._isAnimating.set(!1),this.animationDone.emit()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(i,r,o){if(i&1&&(Te(o,qU,5),Te(o,WU,5)),i&2){let a;q(a=Y())&&(r._steps=a),q(a=Y())&&(r._icons=a)}},viewQuery:function(i,r){if(i&1&&(se(cw,5),se(OU,5)),i&2){let o;q(o=Y())&&(r._stepHeader=o),q(o=Y())&&(r._animatedContainers=o)}},hostAttrs:["role","tablist"],hostVars:15,hostBindings:function(i,r){i&2&&(te("aria-orientation",r.orientation),Dt("--mat-stepper-animation-duration",r._getAnimationDuration()),N("mat-stepper-horizontal",r.orientation==="horizontal")("mat-stepper-vertical",r.orientation==="vertical")("mat-stepper-label-position-end",r.orientation==="horizontal"&&r.labelPosition=="end")("mat-stepper-label-position-bottom",r.orientation==="horizontal"&&r.labelPosition=="bottom")("mat-stepper-header-position-bottom",r.headerPosition==="bottom")("mat-stepper-animating",r._isAnimating()))},inputs:{disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[ue([{provide:wf,useExisting:n}]),ge],ngContentSelectors:iR,decls:5,vars:2,consts:[["stepTemplate",""],["animatedContainer",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[1,"mat-horizontal-content-container"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id","class"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"click","keydown","tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color"]],template:function(i,r){if(i&1&&(me(),O(0,FU,1,0)(1,BU,7,0,"div",2)(2,HU,2,0)(3,jU,1,23,"ng-template",null,0,Cn)),i&2){let o;le(r._isServer?0:-1),y(),le((o=r.orientation)==="horizontal"?1:o==="vertical"?2:-1)}},dependencies:[Tr,cw],styles:[`.mat-stepper-vertical,.mat-stepper-horizontal{display:block;font-family:var(--mat-stepper-container-text-font, var(--mat-sys-body-medium-font));background:var(--mat-stepper-container-color, var(--mat-sys-surface))}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px;border-top-color:var(--mat-stepper-line-color, var(--mat-sys-outline))}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:calc(calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px;height:var(--mat-stepper-header-height, 72px)}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-horizontal-stepper-header::before,.mat-horizontal-stepper-header::after{border-top-color:var(--mat-stepper-line-color, var(--mat-sys-outline))}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{padding:calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) 24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after{top:calc(calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px;padding:calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) 24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{visibility:hidden;overflow:hidden;outline:0;height:0}.mat-stepper-animations-enabled .mat-horizontal-stepper-content{transition:transform var(--mat-stepper-animation-duration, 0) cubic-bezier(0.35, 0, 0.25, 1)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-previous{transform:translate3d(-100%, 0, 0)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-next{transform:translate3d(100%, 0, 0)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-current{visibility:visible;transform:none;height:auto}.mat-stepper-horizontal:not(.mat-stepper-animating) .mat-horizontal-stepper-content.mat-horizontal-stepper-content-current{overflow:visible}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}@media(forced-colors: active){.mat-horizontal-content-container{outline:solid 1px}}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{display:grid;grid-template-rows:0fr;grid-template-columns:100%;margin-left:36px;border:0;position:relative}.mat-stepper-animations-enabled .mat-vertical-content-container{transition:grid-template-rows var(--mat-stepper-animation-duration, 0) cubic-bezier(0.4, 0, 0.2, 1)}.mat-vertical-content-container.mat-vertical-content-container-active{grid-template-rows:1fr}.mat-step:last-child .mat-vertical-content-container{border:none}@media(forced-colors: active){.mat-vertical-content-container{outline:solid 1px}}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}@supports not (grid-template-rows: 0fr){.mat-vertical-content-container{height:0}.mat-vertical-content-container.mat-vertical-content-container-active{height:auto}}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid;border-left-color:var(--mat-stepper-line-color, var(--mat-sys-outline));top:calc(8px - calc((var(--mat-stepper-header-height, 72px) - 24px) / 2));bottom:calc(8px - calc((var(--mat-stepper-header-height, 72px) - 24px) / 2))}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0;visibility:hidden}.mat-stepper-animations-enabled .mat-vertical-stepper-content{transition:visibility var(--mat-stepper-animation-duration, 0) linear}.mat-vertical-content-container-active>.mat-vertical-stepper-content{visibility:visible}.mat-vertical-content{padding:0 24px 24px 24px}
`],encapsulation:2,changeDetection:0})}return n})();var rR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({providers:[$U,nr],imports:[oe,Jt,xf,mp,Wt,YU,cw,oe]})}return n})();var mc=new P("MAT_INPUT_VALUE_ACCESSOR");var XU=["mat-calendar-body",""];function QU(n,t){return this._trackRow(t)}var hR=(n,t)=>t.id;function ZU(n,t){if(n&1&&(b(0,"tr",0)(1,"td",3),K(2),w()()),n&2){let e=k();y(),Dt("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),te("colspan",e.numCols),y(),Ze(" ",e.label," ")}}function JU(n,t){if(n&1&&(b(0,"td",3),K(1),w()),n&2){let e=k(2);Dt("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),te("colspan",e._firstRowOffset),y(),Ze(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function e$(n,t){if(n&1){let e=be();b(0,"td",6)(1,"button",7),T("click",function(r){let o=W(e).$implicit,a=k(2);return G(a._cellClicked(o,r))})("focus",function(r){let o=W(e).$implicit,a=k(2);return G(a._emitActiveDateChange(o,r))}),b(2,"span",8),K(3),w(),B(4,"span",9),w()()}if(n&2){let e=t.$implicit,i=t.$index,r=k().$index,o=k();Dt("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),te("data-mat-row",r)("data-mat-col",i),y(),N("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(r,i))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),M("ngClass",e.cssClasses)("tabindex",o._isActiveCell(r,i)?0:-1),te("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null)("aria-describedby",o._getDescribedby(e.compareValue)),y(),N("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),y(),Ze(" ",e.displayValue," ")}}function t$(n,t){if(n&1&&(b(0,"tr",1),O(1,JU,2,6,"td",4),pi(2,e$,5,48,"td",5,hR),w()),n&2){let e=t.$implicit,i=t.$index,r=k();y(),le(i===0&&r._firstRowOffset?1:-1),y(),mi(e)}}function i$(n,t){if(n&1&&(b(0,"th",2)(1,"span",6),K(2),w(),b(3,"span",3),K(4),w()()),n&2){let e=t.$implicit;y(2),De(e.long),y(2),De(e.narrow)}}var n$=["*"];function r$(n,t){}function o$(n,t){if(n&1){let e=be();b(0,"mat-month-view",4),Ri("activeDateChange",function(r){W(e);let o=k();return Pi(o.activeDate,r)||(o.activeDate=r),G(r)}),T("_userSelection",function(r){W(e);let o=k();return G(o._dateSelected(r))})("dragStarted",function(r){W(e);let o=k();return G(o._dragStarted(r))})("dragEnded",function(r){W(e);let o=k();return G(o._dragEnded(r))}),w()}if(n&2){let e=k();Ii("activeDate",e.activeDate),M("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function a$(n,t){if(n&1){let e=be();b(0,"mat-year-view",5),Ri("activeDateChange",function(r){W(e);let o=k();return Pi(o.activeDate,r)||(o.activeDate=r),G(r)}),T("monthSelected",function(r){W(e);let o=k();return G(o._monthSelectedInYearView(r))})("selectedChange",function(r){W(e);let o=k();return G(o._goToDateInView(r,"month"))}),w()}if(n&2){let e=k();Ii("activeDate",e.activeDate),M("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function s$(n,t){if(n&1){let e=be();b(0,"mat-multi-year-view",6),Ri("activeDateChange",function(r){W(e);let o=k();return Pi(o.activeDate,r)||(o.activeDate=r),G(r)}),T("yearSelected",function(r){W(e);let o=k();return G(o._yearSelectedInMultiYearView(r))})("selectedChange",function(r){W(e);let o=k();return G(o._goToDateInView(r,"year"))}),w()}if(n&2){let e=k();Ii("activeDate",e.activeDate),M("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function l$(n,t){}var c$=["button"],d$=[[["","matDatepickerToggleIcon",""]]],h$=["[matDatepickerToggleIcon]"];function u$(n,t){n&1&&(je(),b(0,"svg",2),B(1,"path",3),w())}var p$=[[["input","matStartDate",""]],[["input","matEndDate",""]]],m$=["input[matStartDate]","input[matEndDate]"];var _c=(()=>{class n{changes=new L;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),f$=0,Dh=class{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=f$++;constructor(t,e,i,r,o={},a=t,s){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=o,this.compareValue=a,this.rawValue=s}},g$={passive:!1,capture:!0},Of={passive:!0,capture:!0},oR={passive:!0},gc=(()=>{class n{_elementRef=f(Q);_ngZone=f(de);_platform=f(Ve);_intl=f(_c);_eventCleanups;_skipNextFocus;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart;comparisonEnd;previewStart=null;previewEnd=null;startDateAccessibleName;endDateAccessibleName;selectedValueChange=new Z;previewChange=new Z;activeDateChange=new Z;dragStarted=new Z;dragEnded=new Z;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=f(Ie);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=e=>e;constructor(){let e=f(Le),i=f(Ne);this._startDateLabelId=i.getId("mat-calendar-body-start-"),this._endDateLabelId=i.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=i.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=i.getId("mat-calendar-body-comparison-end-"),f(Je).load(ii),this._ngZone.runOutsideAngular(()=>{let r=this._elementRef.nativeElement,o=[pt(e,r,"touchmove",this._touchmoveHandler,g$),pt(e,r,"mouseenter",this._enterHandler,Of),pt(e,r,"focus",this._enterHandler,Of),pt(e,r,"mouseleave",this._leaveHandler,Of),pt(e,r,"blur",this._leaveHandler,Of),pt(e,r,"mousedown",this._mousedownHandler,oR),pt(e,r,"touchstart",this._mousedownHandler,oR)];this._platform.isBrowser&&o.push(e.listen("window","mouseup",this._mouseupHandler),e.listen("window","touchend",this._touchendHandler)),this._eventCleanups=o})}_cellClicked(e,i){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let i=e.numCols,{rows:r,numCols:o}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/o}%`),(i||!this._cellWidth)&&(this._cellWidth=`${100/o}%`)}ngOnDestroy(){this._eventCleanups.forEach(e=>e())}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){Ct(()=>{setTimeout(()=>{let i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return uw(e,this.startValue,this.endValue)}_isRangeEnd(e){return pw(e,this.startValue,this.endValue)}_isInRange(e){return mw(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return uw(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[i][r-1];if(!o){let a=this.rows[i-1];o=a&&a[a.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[i][r+1];if(!o){let a=this.rows[i+1];o=a&&a[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return pw(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return mw(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return uw(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return pw(e,this.previewStart,this.previewEnd)}_isInPreview(e){return mw(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){if(!this.isRange)return null;if(this.startValue===e&&this.endValue===e)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===e)return this._startDateLabelId;if(this.endValue===e)return this._endDateLabelId;if(this.comparisonStart!==null&&this.comparisonEnd!==null){if(e===this.comparisonStart&&e===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(e===this.comparisonStart)return this._comparisonStartDateLabelId;if(e===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=e=>{if(this._skipNextFocus&&e.type==="focus"){this._skipNextFocus=!1;return}if(e.target&&this.isRange){let i=this._getCellFromElement(e.target);i&&this._ngZone.run(()=>this.previewChange.emit({value:i.enabled?i:null,event:e}))}};_touchmoveHandler=e=>{if(!this.isRange)return;let i=aR(e),r=i?this._getCellFromElement(i):null;i!==e.target&&(this._didDragSinceMouseDown=!0),hw(e.target)&&e.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:r?.enabled?r:null,event:e}))};_leaveHandler=e=>{this.previewEnd!==null&&this.isRange&&(e.type!=="blur"&&(this._didDragSinceMouseDown=!0),e.target&&this._getCellFromElement(e.target)&&!(e.relatedTarget&&this._getCellFromElement(e.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:e})))};_mousedownHandler=e=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let i=e.target&&this._getCellFromElement(e.target);!i||!this._isInRange(i.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:i.rawValue,event:e})})};_mouseupHandler=e=>{if(!this.isRange)return;let i=hw(e.target);if(!i){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:e})});return}i.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let r=this._getCellFromElement(i);this.dragEnded.emit({value:r?.rawValue??null,event:e})})};_touchendHandler=e=>{let i=aR(e);i&&this._mouseupHandler({target:i})};_getCellFromElement(e){let i=hw(e);if(i){let r=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)][parseInt(o)]}return null}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[we],attrs:XU,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(i,r){i&1&&(O(0,ZU,3,6,"tr",0),pi(1,t$,4,1,"tr",1,QU,!0),b(3,"span",2),K(4),w(),b(5,"span",2),K(6),w(),b(7,"span",2),K(8),w(),b(9,"span",2),K(10),w()),i&2&&(le(r._firstRowOffset<r.labelMinRequiredCells?0:-1),y(),mi(r.rows),y(2),M("id",r._startDateLabelId),y(),Ze(" ",r.startDateAccessibleName,`
`),y(),M("id",r._endDateLabelId),y(),Ze(" ",r.endDateAccessibleName,`
`),y(),M("id",r._comparisonStartDateLabelId),y(),E_(" ",r.comparisonDateAccessibleName," ",r.startDateAccessibleName,`
`),y(),M("id",r._comparisonEndDateLabelId),y(),E_(" ",r.comparisonDateAccessibleName," ",r.endDateAccessibleName,`
`))},dependencies:[Qi],styles:[`.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}
`],encapsulation:2,changeDetection:0})}return n})();function dw(n){return n?.nodeName==="TD"}function hw(n){let t;return dw(n)?t=n:dw(n.parentNode)?t=n.parentNode:dw(n.parentNode?.parentNode)&&(t=n.parentNode.parentNode),t?.getAttribute("data-mat-row")!=null?t:null}function uw(n,t,e){return e!==null&&t!==e&&n<e&&n===t}function pw(n,t,e){return t!==null&&t!==e&&n>=t&&n===e}function mw(n,t,e,i){return i&&t!==null&&e!==null&&t!==e&&n>=t&&n<=e}function aR(n){let t=n.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}var si=class{start;end;_disableStructuralEquivalency;constructor(t,e){this.start=t,this.end=e}},Oa=(()=>{class n{selection;_adapter;_selectionChanged=new L;selectionChanged=this._selectionChanged;constructor(e,i){this.selection=e,this._adapter=i,this.selection=e}updateSelection(e,i){let r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static \u0275fac=function(i){du()};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),_$=(()=>{class n extends Oa{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new n(this._adapter);return e.updateSelection(this.selection,this),e}static \u0275fac=function(i){return new(i||n)(ke(It))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})(),b$=(()=>{class n extends Oa{constructor(e){super(new si(null,null),e)}add(e){let{start:i,end:r}=this.selection;i==null?i=e:r==null?r=e:(i=e,r=null),super.updateSelection(new si(i,r),this)}isValid(){let{start:e,end:i}=this.selection;return e==null&&i==null?!0:e!=null&&i!=null?this._isValidDateInstance(e)&&this._isValidDateInstance(i)&&this._adapter.compareDate(e,i)<=0:(e==null||this._isValidDateInstance(e))&&(i==null||this._isValidDateInstance(i))}isComplete(){return this.selection.start!=null&&this.selection.end!=null}clone(){let e=new n(this._adapter);return e.updateSelection(this.selection,this),e}static \u0275fac=function(i){return new(i||n)(ke(It))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})();function v$(n,t){return n||new _$(t)}var uR={provide:Oa,deps:[[new vn,new lr,Oa],It],useFactory:v$};function y$(n,t){return n||new b$(t)}var w$={provide:Oa,deps:[[new vn,new lr,Oa],It],useFactory:y$},Ff=new P("MAT_DATE_RANGE_SELECTION_STRATEGY"),x$=(()=>{class n{_dateAdapter;constructor(e){this._dateAdapter=e}selectionFinished(e,i){let{start:r,end:o}=i;return r==null?r=e:o==null&&e&&this._dateAdapter.compareDate(e,r)>=0?o=e:(r=e,o=null),new si(r,o)}createPreview(e,i){let r=null,o=null;return i.start&&!i.end&&e&&(r=i.start,o=e),new si(r,o)}createDrag(e,i,r){let o=i.start,a=i.end;if(!o||!a)return null;let s=this._dateAdapter,l=s.compareDate(o,a)!==0,c=s.getYear(r)-s.getYear(e),d=s.getMonth(r)-s.getMonth(e),h=s.getDate(r)-s.getDate(e);return l&&s.sameDate(e,i.start)?(o=r,s.compareDate(r,a)>0&&(a=s.addCalendarYears(a,c),a=s.addCalendarMonths(a,d),a=s.addCalendarDays(a,h))):l&&s.sameDate(e,i.end)?(a=r,s.compareDate(r,o)<0&&(o=s.addCalendarYears(o,c),o=s.addCalendarMonths(o,d),o=s.addCalendarDays(o,h))):(o=s.addCalendarYears(o,c),o=s.addCalendarMonths(o,d),o=s.addCalendarDays(o,h),a=s.addCalendarYears(a,c),a=s.addCalendarMonths(a,d),a=s.addCalendarDays(a,h)),new si(o,a)}static \u0275fac=function(i){return new(i||n)(ke(It))};static \u0275prov=R({token:n,factory:n.\u0275fac})}return n})();function C$(n,t){return n||new x$(t)}var k$={provide:Ff,deps:[[new vn,new lr,Ff],It],useFactory:C$},fw=7,D$=0,sR=(()=>{class n{_changeDetectorRef=f(_e);_dateFormats=f(xr,{optional:!0});_dateAdapter=f(It,{optional:!0});_dir=f(wt,{optional:!0});_rangeStrategy=f(Ff,{optional:!0});_rerenderSubscription=Ue.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof si?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;activeDrag=null;selectedChange=new Z;_userSelection=new Z;dragStarted=new Z;dragEnded=new Z;activeDateChange=new Z;_matCalendarBody;_monthLabel;_weeks;_firstWeekOffset;_rangeStart;_rangeEnd;_comparisonRangeStart;_comparisonRangeEnd;_previewStart;_previewEnd;_isRange;_todayDate;_weekdays;constructor(){f(Je).load(qn),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ct(null)).subscribe(()=>this._init())}ngOnChanges(e){let i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let i=e.value,r=this._getDateFromDayOfMonth(i),o,a;this._selected instanceof si?(o=this._getDateInCurrentMonth(this._selected.start),a=this._getDateInCurrentMonth(this._selected.end)):o=a=this._getDateInCurrentMonth(this._selected),(o!==i||a!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let i=e.value,r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(i),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd!=null&&!tt(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(fw+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%fw,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){let r=i?i.rawValue:null,o=this._rangeStrategy.createPreview(r,this.selected,e);if(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this.activeDrag&&r){let a=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,e);a&&(this._previewStart=this._getCellCompareValue(a.start),this._previewEnd=this._getCellCompareValue(a.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){let i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:i??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow"),o=this._dateAdapter.getDayOfWeekNames("long").map((a,s)=>({long:a,narrow:i[s],id:D$++}));this._weekdays=o.slice(e).concat(o.slice(0,e))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,o=this._firstWeekOffset;r<e;r++,o++){o==fw&&(this._weeks.push([]),o=0);let a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),s=this._shouldEnableDate(a),l=this._dateAdapter.format(a,this._dateFormats.display.dateA11yLabel),c=this.dateClass?this.dateClass(a,"month"):void 0;this._weeks[this._weeks.length-1].push(new Dh(r+1,i[r],l,s,c,this._getCellCompareValue(a),a))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!!(e&&i&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){let i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(i,r,o).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof si?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-month-view"]],viewQuery:function(i,r){if(i&1&&se(gc,5),i&2){let o;q(o=Y())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[we],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(i,r){i&1&&(b(0,"table",0)(1,"thead",1)(2,"tr"),pi(3,i$,5,2,"th",2,hR),w(),b(5,"tr",3),B(6,"th",4),w()(),b(7,"tbody",5),T("selectedValueChange",function(a){return r._dateSelected(a)})("activeDateChange",function(a){return r._updateActiveDate(a)})("previewChange",function(a){return r._previewChanged(a)})("dragStarted",function(a){return r.dragStarted.emit(a)})("dragEnded",function(a){return r._dragEnded(a)})("keyup",function(a){return r._handleCalendarBodyKeyup(a)})("keydown",function(a){return r._handleCalendarBodyKeydown(a)}),w()()),i&2&&(y(3),mi(r._weekdays),y(4),M("label",r._monthLabel)("rows",r._weeks)("todayValue",r._todayDate)("startValue",r._rangeStart)("endValue",r._rangeEnd)("comparisonStart",r._comparisonRangeStart)("comparisonEnd",r._comparisonRangeEnd)("previewStart",r._previewStart)("previewEnd",r._previewEnd)("isRange",r._isRange)("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName))},dependencies:[gc],encapsulation:2,changeDetection:0})}return n})(),Nn=24,gw=4,lR=(()=>{class n{_changeDetectorRef=f(_e);_dateAdapter=f(It,{optional:!0});_dir=f(wt,{optional:!0});_rerenderSubscription=Ue.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),pR(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof si?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new Z;yearSelected=new Z;activeDateChange=new Z;_matCalendarBody;_years;_todayYear;_selectedYear;constructor(){this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ct(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let i=this._dateAdapter.getYear(this._activeDate)-kh(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,o=[];r<Nn;r++)o.push(i+r),o.length==gw&&(this._years.push(o.map(a=>this._createCellForYear(a))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){let i=e.value,r=this._dateAdapter.createDate(i,0,1),o=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(o)}_updateActiveDate(e){let i=e.value,r=this._activeDate;this.activeDate=this._getDateFromYear(i),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-gw);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,gw);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-kh(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Nn-kh(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-Nn*10:-Nn);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?Nn*10:Nn);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return kh(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){let i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new Dh(e,r,r,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let i=this._dateAdapter.createDate(e,0,1);for(let r=i;this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear=null,e instanceof si){let i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(i,r){if(i&1&&se(gc,5),i&2){let o;q(o=Y())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(i,r){i&1&&(b(0,"table",0)(1,"thead",1)(2,"tr"),B(3,"th",2),w()(),b(4,"tbody",3),T("selectedValueChange",function(a){return r._yearSelected(a)})("activeDateChange",function(a){return r._updateActiveDate(a)})("keyup",function(a){return r._handleCalendarBodyKeyup(a)})("keydown",function(a){return r._handleCalendarBodyKeydown(a)}),w()()),i&2&&(y(4),M("rows",r._years)("todayValue",r._todayYear)("startValue",r._selectedYear)("endValue",r._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[gc],encapsulation:2,changeDetection:0})}return n})();function pR(n,t,e,i,r){let o=n.getYear(t),a=n.getYear(e),s=mR(n,i,r);return Math.floor((o-s)/Nn)===Math.floor((a-s)/Nn)}function kh(n,t,e,i){let r=n.getYear(t);return M$(r-mR(n,e,i),Nn)}function mR(n,t,e){let i=0;return e?i=n.getYear(e)-Nn+1:t&&(i=n.getYear(t)),i}function M$(n,t){return(n%t+t)%t}var cR=(()=>{class n{_changeDetectorRef=f(_e);_dateFormats=f(xr,{optional:!0});_dateAdapter=f(It,{optional:!0});_dir=f(wt,{optional:!0});_rerenderSubscription=Ue.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof si?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new Z;monthSelected=new Z;activeDateChange=new Z;_matCalendarBody;_months;_yearLabel;_todayMonth;_selectedMonth;constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ct(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);let o=this._getDateFromMonth(i);this.selectedChange.emit(o)}_updateActiveDate(e){let i=e.value,r=this._activeDate;this.activeDate=this._getDateFromMonth(i),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){let r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),a=this.dateClass?this.dateClass(r,"year"):void 0;return new Dh(e,i.toLocaleUpperCase(),o,this._shouldEnableMonth(e),a)}_shouldEnableMonth(e){let i=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;let r=this._dateAdapter.createDate(i,e,1);for(let o=r;this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){let r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>o}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){let r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<o}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof si?this._selectedMonth=this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._selectedMonth=this._getMonthInCurrentYear(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-year-view"]],viewQuery:function(i,r){if(i&1&&se(gc,5),i&2){let o;q(o=Y())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(i,r){i&1&&(b(0,"table",0)(1,"thead",1)(2,"tr"),B(3,"th",2),w()(),b(4,"tbody",3),T("selectedValueChange",function(a){return r._monthSelected(a)})("activeDateChange",function(a){return r._updateActiveDate(a)})("keyup",function(a){return r._handleCalendarBodyKeyup(a)})("keydown",function(a){return r._handleCalendarBodyKeydown(a)}),w()()),i&2&&(y(4),M("label",r._yearLabel)("rows",r._months)("todayValue",r._todayMonth)("startValue",r._selectedMonth)("endValue",r._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[gc],encapsulation:2,changeDetection:0})}return n})(),fR=(()=>{class n{_intl=f(_c);calendar=f(_w);_dateAdapter=f(It,{optional:!0});_dateFormats=f(xr,{optional:!0});constructor(){f(Je).load(qn);let e=f(_e);this.calendar.stateChanges.subscribe(()=>e.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-Nn)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:Nn)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):pR(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let i=this._dateAdapter.getYear(this.calendar.activeDate)-kh(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+Nn-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),a=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return[o,a]}_periodButtonLabelId=f(Ne).getId("mat-calendar-period-label-");static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:n$,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(i,r){i&1&&(me(),b(0,"div",0)(1,"div",1)(2,"span",2),K(3),w(),b(4,"button",3),T("click",function(){return r.currentPeriodClicked()}),b(5,"span",4),K(6),w(),je(),b(7,"svg",5),B(8,"polygon",6),w()(),Ai(),B(9,"div",7),re(10),b(11,"button",8),T("click",function(){return r.previousClicked()}),je(),b(12,"svg",9),B(13,"path",10),w()(),Ai(),b(14,"button",11),T("click",function(){return r.nextClicked()}),je(),b(15,"svg",9),B(16,"path",12),w()()()()),i&2&&(y(2),M("id",r._periodButtonLabelId),y(),De(r.periodButtonDescription),y(),te("aria-label",r.periodButtonLabel)("aria-describedby",r._periodButtonLabelId),y(2),De(r.periodButtonText),y(),N("mat-calendar-invert",r.calendar.currentView!=="month"),y(4),M("disabled",!r.previousEnabled()),te("aria-label",r.prevButtonLabel),y(3),M("disabled",!r.nextEnabled()),te("aria-label",r.nextButtonLabel))},dependencies:[Ch,Pa],encapsulation:2,changeDetection:0})}return n})(),_w=(()=>{class n{_dateAdapter=f(It,{optional:!0});_dateFormats=f(xr,{optional:!0});_changeDetectorRef=f(_e);_elementRef=f(Q);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get selected(){return this._selected}set selected(e){e instanceof si?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;selectedChange=new Z;yearSelected=new Z;monthSelected=new Z;viewChanged=new Z(!0);_userSelection=new Z;_userDragDrop=new Z;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(e){let i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}_currentView;_activeDrag=null;stateChanges=new L;constructor(){this._intlChanges=f(_c).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Zi(this.headerComponent||fR),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=i||r||e.dateFilter;if(o&&!o.firstChange){let a=this._getCurrentViewComponent();a&&(this._elementRef.nativeElement.contains(Vi())&&(this._moveFocusOnNextTick=!0),this._changeDetectorRef.detectChanges(),a._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){let i=e.value;(this.selected instanceof si||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-calendar"]],viewQuery:function(i,r){if(i&1&&(se(sR,5),se(cR,5),se(lR,5)),i&2){let o;q(o=Y())&&(r.monthView=o.first),q(o=Y())&&(r.yearView=o.first),q(o=Y())&&(r.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[ue([uR]),we],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(i,r){if(i&1&&(O(0,r$,0,0,"ng-template",0),b(1,"div",1),O(2,o$,1,11,"mat-month-view",2)(3,a$,1,6,"mat-year-view",3)(4,s$,1,6,"mat-multi-year-view",3),w()),i&2){let o;M("cdkPortalOutlet",r._calendarHeaderPortal),y(2),le((o=r.currentView)==="month"?2:o==="year"?3:o==="multi-year"?4:-1)}},dependencies:[gi,np,sR,cR,lR],styles:[`.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return n})(),gR=new P("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let n=f(it);return()=>n.scrollStrategies.reposition()}});function S$(n){return()=>n.scrollStrategies.reposition()}var E$={provide:gR,deps:[it],useFactory:S$},_R=(()=>{class n{_elementRef=f(Q);_animationsDisabled=f(Oe,{optional:!0})==="NoopAnimations";_changeDetectorRef=f(_e);_globalModel=f(Oa);_dateAdapter=f(It);_ngZone=f(de);_rangeSelectionStrategy=f(Ff,{optional:!0});_stateChanges;_model;_eventCleanups;_animationFallback;_calendar;color;datepicker;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;_isAbove;_animationDone=new L;_isAnimating=!1;_closeButtonText;_closeButtonFocused;_actionsPortal=null;_dialogLabelId;constructor(){if(f(Je).load(qn),this._closeButtonText=f(_c).closeCalendarLabel,!this._animationsDisabled){let e=this._elementRef.nativeElement,i=f(Le);this._eventCleanups=this._ngZone.runOutsideAngular(()=>[i.listen(e,"animationstart",this._handleAnimationEvent),i.listen(e,"animationend",this._handleAnimationEvent),i.listen(e,"animationcancel",this._handleAnimationEvent)])}}ngAfterViewInit(){this._stateChanges=this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._calendar.focusActiveCell()}ngOnDestroy(){clearTimeout(this._animationFallback),this._eventCleanups?.forEach(e=>e()),this._stateChanges?.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let i=this._model.selection,r=e.value,o=i instanceof si;if(o&&this._rangeSelectionStrategy){let a=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(a,this)}else r&&(o||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._elementRef.nativeElement.classList.add("mat-datepicker-content-exit"),this._animationsDisabled?this._animationDone.next():(clearTimeout(this._animationFallback),this._animationFallback=setTimeout(()=>{this._isAnimating||this._animationDone.next()},200))}_handleAnimationEvent=e=>{let i=this._elementRef.nativeElement;e.target!==i||!e.animationName.startsWith("_mat-datepicker-content")||(clearTimeout(this._animationFallback),this._isAnimating=e.type==="animationstart",i.classList.toggle("mat-datepicker-content-animating",this._isAnimating),this._isAnimating||this._animationDone.next())};_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(i,r){if(i&1&&se(_w,5),i&2){let o;q(o=Y())&&(r._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:6,hostBindings:function(i,r){i&2&&(et(r.color?"mat-"+r.color:""),N("mat-datepicker-content-touch",r.datepicker.touchUi)("mat-datepicker-content-animations-enabled",!r._animationsDisabled))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(i,r){if(i&1&&(b(0,"div",0)(1,"mat-calendar",1),T("yearSelected",function(a){return r.datepicker._selectYear(a)})("monthSelected",function(a){return r.datepicker._selectMonth(a)})("viewChanged",function(a){return r.datepicker._viewChanged(a)})("_userSelection",function(a){return r._handleUserSelection(a)})("_userDragDrop",function(a){return r._handleUserDragDrop(a)}),w(),O(2,l$,0,0,"ng-template",2),b(3,"button",3),T("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),K(4),w()()),i&2){let o;N("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),te("aria-modal",!0)("aria-labelledby",(o=r._dialogLabelId)!==null&&o!==void 0?o:void 0),y(),et(r.datepicker.panelClass),M("id",r.datepicker.id)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName),y(),M("cdkPortalOutlet",r._actionsPortal),y(),N("cdk-visually-hidden",!r._closeButtonFocused),M("color",r.color||"primary"),y(),De(r._closeButtonText)}},dependencies:[Ub,_w,gi,Ch],styles:[`@keyframes _mat-datepicker-content-dropdown-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-dialog-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-exit{from{opacity:1}to{opacity:0}}.mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dropdown-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dialog-enter 150ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}.mat-datepicker-content-exit.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-exit 100ms linear}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}
`],encapsulation:2,changeDetection:0})}return n})(),Lf=(()=>{class n{_overlay=f(it);_viewContainerRef=f(kt);_dateAdapter=f(It,{optional:!0});_dir=f(wt,{optional:!0});_model=f(Oa);_scrollStrategy=f(gR);_inputStateChanges=Ue.EMPTY;_document=f(ve);calendarHeaderComponent;get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}_color;touchUi=!1;get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.stateChanges.next(void 0))}_disabled;xPosition="start";yPosition="below";restoreFocus=!0;yearSelected=new Z;monthSelected=new Z;viewChanged=new Z(!0);dateClass;openedStream=new Z;closedStream=new Z;get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=UM(e)}_panelClass;get opened(){return this._opened}set opened(e){e?this.open():this.close()}_opened=!1;id=f(Ne).getId("mat-datepicker-");_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}_overlayRef;_componentRef;_focusedElementBeforeOpen=null;_backdropHarnessClass=`${this.id}-backdrop`;_actionsPortal;datepickerInput;stateChanges=new L;_injector=f(Ie);_changeDetectorRef=f(_e);constructor(){this._dateAdapter,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(e){let i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){let r=this._overlayRef.getConfig().positionStrategy;r instanceof wl&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal,this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=Vi(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let e=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:r,location:o}=this._componentRef;r._animationDone.pipe(lt(1)).subscribe(()=>{let a=this._document.activeElement;e&&(!a||a===this._document.activeElement||o.nativeElement.contains(a))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()}),r._startExitAnimation()}e?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let e=this.touchUi,i=new Zi(_R,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new Mn({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir||"ltr",scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${e?"dialog":"popup"}`}));this._getCloseStream(r).subscribe(o=>{o&&o.preventDefault(),this.close()}),r.keydownEvents().subscribe(o=>{let a=o.keyCode;(a===38||a===40||a===37||a===39||a===33||a===34)&&o.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||Ct(()=>{r.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){let i=this.xPosition==="end"?"end":"start",r=i==="start"?"end":"start",o=this.yPosition==="above"?"bottom":"top",a=o==="top"?"bottom":"top";return e.withPositions([{originX:i,originY:a,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:a},{originX:r,originY:a,overlayX:r,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:a}])}_getCloseStream(e){let i=["ctrlKey","shiftKey","metaKey"];return xt(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Pe(r=>r.keyCode===27&&!tt(r)||this.datepickerInput&&tt(r,"altKey")&&r.keyCode===38&&i.every(o=>!tt(r,o)))))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",ie],disabled:[2,"disabled","disabled",ie],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",ie],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",ie]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[we]})}return n})(),Zme=(()=>{class n extends Lf{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275cmp=I({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[ue([uR,{provide:Lf,useExisting:n}]),ge],decls:0,vars:0,template:function(i,r){},encapsulation:2,changeDetection:0})}return n})(),fc=class{target;targetElement;value;constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}},bR=(()=>{class n{_elementRef=f(Q);_dateAdapter=f(It,{optional:!0});_dateFormats=f(xr,{optional:!0});_isInitialized;get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}_model;get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){let i=e,r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_disabled;dateChange=new Z;dateInput=new Z;stateChanges=new L;_onTouched=()=>{};_validatorOnChange=()=>{};_cvaOnChange=()=>{};_valueChangesSubscription=Ue.EMPTY;_localeSubscription=Ue.EMPTY;_pendingValue;_parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}};_filterValidator=e=>{let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!i||this._matchesFilter(i)?null:{matDatepickerFilter:!0}};_minValidator=e=>{let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),r=this._getMinDate();return!r||!i||this._dateAdapter.compareDate(r,i)<=0?null:{matDatepickerMin:{min:r,actual:i}}};_maxValidator=e=>{let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),r=this._getMaxDate();return!r||!i||this._dateAdapter.compareDate(r,i)>=0?null:{matDatepickerMax:{max:r,actual:i}}};_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){let r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new fc(this,this._elementRef.nativeElement)),this.dateChange.emit(new fc(this,this._elementRef.nativeElement))}})}_lastValueValid=!1;constructor(){this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){vR(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){let i=["ctrlKey","shiftKey","metaKey"];tt(e,"altKey")&&e.keyCode===40&&i.every(o=>!tt(e,o))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){let i=this._lastValueValid,r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);let o=!this._dateAdapter.sameDate(r,this.value);!r||o?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(r),this.dateInput.emit(new fc(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new fc(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e!=null?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){let i=this._getDateFilter();return!i||i(e)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,inputs:{value:"value",disabled:[2,"disabled","disabled",ie]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[we]})}return n})();function vR(n,t){let e=Object.keys(n);for(let i of e){let{previousValue:r,currentValue:o}=n[i];if(t.isDateInstance(r)&&t.isDateInstance(o)){if(!t.sameDate(r,o))return!0}else return!0}return!1}var A$={provide:Ot,useExisting:bt(()=>yR),multi:!0},T$={provide:en,useExisting:bt(()=>yR),multi:!0},yR=(()=>{class n extends bR{_formField=f(Cr,{optional:!0});_closedSubscription=Ue.EMPTY;_openedSubscription=Ue.EMPTY;set matDatepicker(e){e&&(this._datepicker=e,this._ariaOwns.set(e.opened?e.id:null),this._closedSubscription=e.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=e.openedStream.subscribe(()=>{this._ariaOwns.set(e.id)}),this._registerModel(e.registerInput(this)))}_datepicker;_ariaOwns=rt(null);get min(){return this._min}set min(e){let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}_min;get max(){return this._max}set max(e){let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}_max;get dateFilter(){return this._dateFilter}set dateFilter(e){let i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}_dateFilter;_validator;constructor(){super(),this._validator=ai.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(i,r){i&1&&T("input",function(a){return r._onInput(a.target.value)})("change",function(){return r._onChange()})("blur",function(){return r._onBlur()})("keydown",function(a){return r._onKeydown(a)}),i&2&&(yt("disabled",r.disabled),te("aria-haspopup",r._datepicker?"dialog":null)("aria-owns",r._ariaOwns())("min",r.min?r._dateAdapter.toIso8601(r.min):null)("max",r.max?r._dateAdapter.toIso8601(r.max):null)("data-mat-calendar",r._datepicker?r._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[ue([A$,T$,{provide:mc,useExisting:n}]),ge]})}return n})(),I$=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","matDatepickerToggleIcon",""]]})}return n})(),P$=(()=>{class n{_intl=f(_c);_changeDetectorRef=f(_e);_stateChanges=Ue.EMPTY;datepicker;tabIndex;ariaLabel;get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}_disabled;disableRipple;_customIcon;_button;constructor(){let e=f(new hi("tabindex"),{optional:!0}),i=Number(e);this.tabIndex=i||i===0?i:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:pe(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:pe(),r=this.datepicker?xt(this.datepicker.openedStream,this.datepicker.closedStream):pe();this._stateChanges.unsubscribe(),this._stateChanges=xt(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,r,o){if(i&1&&Te(o,I$,5),i&2){let a;q(a=Y())&&(r._customIcon=a.first)}},viewQuery:function(i,r){if(i&1&&se(c$,5),i&2){let o;q(o=Y())&&(r._button=o.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,r){i&1&&T("click",function(a){return r._open(a)}),i&2&&(te("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),N("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&r.datepicker.color==="accent")("mat-warn",r.datepicker&&r.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",ie],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[we],ngContentSelectors:h$,decls:4,vars:7,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,r){i&1&&(me(d$),b(0,"button",1,0),O(2,u$,2,0,":svg:svg",2),re(3),w()),i&2&&(M("disabled",r.disabled)("disableRipple",r.disableRipple),te("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("tabindex",r.disabled?-1:r.tabIndex)("aria-expanded",r.datepicker?r.datepicker.opened:null),y(2),le(r._customIcon?-1:2))},dependencies:[Pa],styles:[`.mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-on-surface-variant))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}
`],encapsulation:2,changeDetection:0})}return n})(),vw=(()=>{class n{_changeDetectorRef=f(_e);_elementRef=f(Q);_dateAdapter=f(It,{optional:!0});_formField=f(Cr,{optional:!0});_closedSubscription=Ue.EMPTY;_openedSubscription=Ue.EMPTY;_startInput;_endInput;get value(){return this._model?this._model.selection:null}id=f(Ne).getId("mat-date-range-input-");focused=!1;get shouldLabelFloat(){return this.focused||!this.empty}controlType="mat-date-range-input";get placeholder(){let e=this._startInput?._getPlaceholder()||"",i=this._endInput?._getPlaceholder()||"";return e||i?`${e} ${this.separator} ${i}`:""}get rangePicker(){return this._rangePicker}set rangePicker(e){e&&(this._model=e.registerInput(this),this._rangePicker=e,this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe(),this._ariaOwns.set(this.rangePicker.opened?e.id:null),this._closedSubscription=e.closedStream.subscribe(()=>{this._startInput?._onTouched(),this._endInput?._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=e.openedStream.subscribe(()=>{this._ariaOwns.set(e.id)}),this._registerModel(this._model))}_rangePicker;_ariaOwns=rt(null);get required(){return this._required??(this._isTargetRequired(this)||this._isTargetRequired(this._startInput)||this._isTargetRequired(this._endInput))??!1}set required(e){this._required=e}_required;get dateFilter(){return this._dateFilter}set dateFilter(e){let i=this._startInput,r=this._endInput,o=i&&i._matchesFilter(i.value),a=r&&r._matchesFilter(i.value);this._dateFilter=e,i&&i._matchesFilter(i.value)!==o&&i._validatorOnChange(),r&&r._matchesFilter(r.value)!==a&&r._validatorOnChange()}_dateFilter;get min(){return this._min}set min(e){let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._revalidate())}_min;get max(){return this._max}set max(e){let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._revalidate())}_max;get disabled(){return this._startInput&&this._endInput?this._startInput.disabled&&this._endInput.disabled:this._groupDisabled}set disabled(e){e!==this._groupDisabled&&(this._groupDisabled=e,this.stateChanges.next(void 0))}_groupDisabled=!1;get errorState(){return this._startInput&&this._endInput?this._startInput.errorState||this._endInput.errorState:!1}get empty(){let e=this._startInput?this._startInput.isEmpty():!1,i=this._endInput?this._endInput.isEmpty():!1;return e&&i}_ariaDescribedBy=null;_model;separator="\u2013";comparisonStart=null;comparisonEnd=null;ngControl;stateChanges=new L;disableAutomaticLabeling=!0;constructor(){this._dateAdapter,this._formField?._elementRef.nativeElement.classList.contains("mat-mdc-form-field")&&this._elementRef.nativeElement.classList.add("mat-mdc-input-element","mat-mdc-form-field-input-control","mdc-text-field__input"),this.ngControl=f(Tn,{optional:!0,self:!0})}setDescribedByIds(e){this._ariaDescribedBy=e.length?e.join(" "):null}onContainerClick(){!this.focused&&!this.disabled&&(!this._model||!this._model.selection.start?this._startInput.focus():this._endInput.focus())}ngAfterContentInit(){this._model&&this._registerModel(this._model),xt(this._startInput.stateChanges,this._endInput.stateChanges).subscribe(()=>{this.stateChanges.next(void 0)})}ngOnChanges(e){vR(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe(),this.stateChanges.complete()}getStartValue(){return this.value?this.value.start:null}getThemePalette(){return this._formField?this._formField.color:void 0}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():null}_getInputMirrorValue(e){let i=e==="start"?this._startInput:this._endInput;return i?i.getMirrorValue():""}_shouldHidePlaceholders(){return this._startInput?!this._startInput.isEmpty():!1}_handleChildValueChange(){this.stateChanges.next(void 0),this._changeDetectorRef.markForCheck()}_openDatepicker(){this._rangePicker&&this._rangePicker.open()}_shouldHideSeparator(){return(!this._formField||this._formField.getLabelId()&&!this._formField._shouldLabelFloat())&&this.empty}_getAriaLabelledby(){let e=this._formField;return e&&e._hasFloatingLabel()?e._labelId:null}_getStartDateAccessibleName(){return this._startInput._getAccessibleName()}_getEndDateAccessibleName(){return this._endInput._getAccessibleName()}_updateFocus(e){this.focused=e!==null,this.stateChanges.next()}_revalidate(){this._startInput&&this._startInput._validatorOnChange(),this._endInput&&this._endInput._validatorOnChange()}_registerModel(e){this._startInput&&this._startInput._registerModel(e),this._endInput&&this._endInput._registerModel(e)}_isTargetRequired(e){return e?.ngControl?.control?.hasValidator(ai.required)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-date-range-input"]],hostAttrs:["role","group",1,"mat-date-range-input"],hostVars:8,hostBindings:function(i,r){i&2&&(te("id",r.id)("aria-labelledby",r._getAriaLabelledby())("aria-describedby",r._ariaDescribedBy)("data-mat-calendar",r.rangePicker?r.rangePicker.id:null),N("mat-date-range-input-hide-placeholders",r._shouldHidePlaceholders())("mat-date-range-input-required",r.required))},inputs:{rangePicker:"rangePicker",required:[2,"required","required",ie],dateFilter:"dateFilter",min:"min",max:"max",disabled:[2,"disabled","disabled",ie],separator:"separator",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},exportAs:["matDateRangeInput"],features:[ue([{provide:Ta,useExisting:n}]),we],ngContentSelectors:m$,decls:11,vars:5,consts:[["cdkMonitorSubtreeFocus","",1,"mat-date-range-input-container",3,"cdkFocusChange"],[1,"mat-date-range-input-wrapper"],["aria-hidden","true",1,"mat-date-range-input-mirror"],[1,"mat-date-range-input-separator"],[1,"mat-date-range-input-wrapper","mat-date-range-input-end-wrapper"]],template:function(i,r){i&1&&(me(p$),b(0,"div",0),T("cdkFocusChange",function(a){return r._updateFocus(a)}),b(1,"div",1),re(2),b(3,"span",2),K(4),w()(),b(5,"span",3),K(6),w(),b(7,"div",4),re(8,1),b(9,"span",2),K(10),w()()()),i&2&&(y(4),De(r._getInputMirrorValue("start")),y(),N("mat-date-range-input-separator-hidden",r._shouldHideSeparator()),y(),De(r.separator),y(4),De(r._getInputMirrorValue("end")))},dependencies:[np],styles:[`.mat-date-range-input{display:block;width:100%}.mat-date-range-input-container{display:flex;align-items:center}.mat-date-range-input-separator{transition:opacity 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);margin:0 4px;color:var(--mat-datepicker-range-input-separator-color, var(--mat-sys-on-surface))}.mat-form-field-disabled .mat-date-range-input-separator{color:var(--mat-datepicker-range-input-disabled-state-separator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}._mat-animation-noopable .mat-date-range-input-separator{transition:none}.mat-date-range-input-separator-hidden{-webkit-user-select:none;user-select:none;opacity:0;transition:none}.mat-date-range-input-wrapper{position:relative;overflow:hidden;max-width:calc(50% - 4px)}.mat-date-range-input-end-wrapper{flex-grow:1}.mat-date-range-input-inner{position:absolute;top:0;left:0;font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;vertical-align:bottom;text-align:inherit;-webkit-appearance:none;width:100%;height:100%}.mat-date-range-input-inner:-moz-ui-invalid{box-shadow:none}.mat-date-range-input-inner::placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-moz-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-webkit-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner:-ms-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner[disabled]{color:var(--mat-datepicker-range-input-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}@media(forced-colors: active){.mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{opacity:0}}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}@media(forced-colors: active){.mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{opacity:0}}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}@media(forced-colors: active){.mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{opacity:0}}.mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}@media(forced-colors: active){.mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{opacity:0}}._mat-animation-noopable .mat-date-range-input-inner::placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-moz-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner:-ms-input-placeholder{transition:none}.mat-date-range-input-mirror{-webkit-user-select:none;user-select:none;visibility:hidden;white-space:nowrap;display:inline-block;min-width:2px}.mat-mdc-form-field-type-mat-date-range-input .mat-mdc-form-field-infix{width:200px}
`],encapsulation:2,changeDetection:0})}return n})();function R$(n){return bw(n,!0)}function dR(n){return n.nodeType===Node.ELEMENT_NODE}function O$(n){return n.nodeName==="INPUT"}function F$(n){return n.nodeName==="TEXTAREA"}function bw(n,t){if(dR(n)&&t){let i=(n.getAttribute?.("aria-labelledby")?.split(/\s+/g)||[]).reduce((r,o)=>{let a=document.getElementById(o);return a&&r.push(a),r},[]);if(i.length)return i.map(r=>bw(r,!1)).join(" ")}if(dR(n)){let e=n.getAttribute("aria-label")?.trim();if(e)return e}if(O$(n)||F$(n)){if(n.labels?.length)return Array.from(n.labels).map(r=>bw(r,!1)).join(" ");let e=n.getAttribute("placeholder")?.trim();if(e)return e;let i=n.getAttribute("title")?.trim();if(i)return i}return(n.textContent||"").replace(/\s+/g," ").trim()}var wR=(()=>{class n extends bR{_rangeInput=f(vw);_elementRef=f(Q);_defaultErrorStateMatcher=f(nr);_injector=f(Ie);_parentForm=f(_s,{optional:!0});_parentFormGroup=f(Hr,{optional:!0});ngControl;_dir=f(wt,{optional:!0});_errorStateTracker;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(){super(),this._errorStateTracker=new Aa(this._defaultErrorStateMatcher,null,this._parentFormGroup,this._parentForm,this.stateChanges)}ngOnInit(){let e=this._injector.get(In,null,{optional:!0,self:!0});e&&(this.ngControl=e,this._errorStateTracker.ngControl=e)}ngAfterContentInit(){this._register()}ngDoCheck(){this.ngControl&&this.updateErrorState()}isEmpty(){return this._elementRef.nativeElement.value.length===0}_getPlaceholder(){return this._elementRef.nativeElement.placeholder}focus(){this._elementRef.nativeElement.focus()}getMirrorValue(){let e=this._elementRef.nativeElement,i=e.value;return i.length>0?i:e.placeholder}updateErrorState(){this._errorStateTracker.updateErrorState()}_onInput(e){super._onInput(e),this._rangeInput._handleChildValueChange()}_openPopup(){this._rangeInput._openDatepicker()}_getMinDate(){return this._rangeInput.min}_getMaxDate(){return this._rangeInput.max}_getDateFilter(){return this._rangeInput.dateFilter}_parentDisabled(){return this._rangeInput._groupDisabled}_shouldHandleChangeEvent({source:e}){return e!==this._rangeInput._startInput&&e!==this._rangeInput._endInput}_assignValueProgrammatically(e){super._assignValueProgrammatically(e),(this===this._rangeInput._startInput?this._rangeInput._endInput:this._rangeInput._startInput)?._validatorOnChange()}_formatValue(e){super._formatValue(e),this._rangeInput._handleChildValueChange()}_getAccessibleName(){return R$(this._elementRef.nativeElement)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,inputs:{errorStateMatcher:"errorStateMatcher"},features:[ge]})}return n})(),xR=(()=>{class n extends wR{_startValidator=e=>{let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),r=this._model?this._model.selection.end:null;return!i||!r||this._dateAdapter.compareDate(i,r)<=0?null:{matStartDateInvalid:{end:r,actual:i}}};_validator=ai.compose([...super._getValidators(),this._startValidator]);_register(){this._rangeInput._startInput=this}_getValueFromModel(e){return e.start}_shouldHandleChangeEvent(e){return super._shouldHandleChangeEvent(e)?e.oldValue?.start?!e.selection.start||!!this._dateAdapter.compareDate(e.oldValue.start,e.selection.start):!!e.selection.start:!1}_assignValueToModel(e){if(this._model){let i=new si(e,this._model.selection.end);this._model.updateSelection(i,this),this._rangeInput._handleChildValueChange()}}_onKeydown(e){let i=this._rangeInput._endInput,r=this._elementRef.nativeElement,o=this._dir?.value!=="rtl";(e.keyCode===39&&o||e.keyCode===37&&!o)&&r.selectionStart===r.value.length&&r.selectionEnd===r.value.length?(e.preventDefault(),i._elementRef.nativeElement.setSelectionRange(0,0),i.focus()):super._onKeydown(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275dir=V({type:n,selectors:[["input","matStartDate",""]],hostAttrs:["type","text",1,"mat-start-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(i,r){i&1&&T("input",function(a){return r._onInput(a.target.value)})("change",function(){return r._onChange()})("keydown",function(a){return r._onKeydown(a)})("blur",function(){return r._onBlur()}),i&2&&(yt("disabled",r.disabled),te("aria-haspopup",r._rangeInput.rangePicker?"dialog":null)("aria-owns",r._rangeInput._ariaOwns?r._rangeInput._ariaOwns():(r._rangeInput.rangePicker==null?null:r._rangeInput.rangePicker.opened)&&r._rangeInput.rangePicker.id||null)("min",r._getMinDate()?r._dateAdapter.toIso8601(r._getMinDate()):null)("max",r._getMaxDate()?r._dateAdapter.toIso8601(r._getMaxDate()):null))},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[ue([{provide:Ot,useExisting:n,multi:!0},{provide:en,useExisting:n,multi:!0}]),ge]})}return n})(),CR=(()=>{class n extends wR{_endValidator=e=>{let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),r=this._model?this._model.selection.start:null;return!i||!r||this._dateAdapter.compareDate(i,r)>=0?null:{matEndDateInvalid:{start:r,actual:i}}};_register(){this._rangeInput._endInput=this}_validator=ai.compose([...super._getValidators(),this._endValidator]);_getValueFromModel(e){return e.end}_shouldHandleChangeEvent(e){return super._shouldHandleChangeEvent(e)?e.oldValue?.end?!e.selection.end||!!this._dateAdapter.compareDate(e.oldValue.end,e.selection.end):!!e.selection.end:!1}_assignValueToModel(e){if(this._model){let i=new si(this._model.selection.start,e);this._model.updateSelection(i,this)}}_moveCaretToEndOfStartInput(){let e=this._rangeInput._startInput._elementRef.nativeElement,i=e.value;i.length>0&&e.setSelectionRange(i.length,i.length),e.focus()}_onKeydown(e){let i=this._elementRef.nativeElement,r=this._dir?.value!=="rtl";e.keyCode===8&&!i.value?this._moveCaretToEndOfStartInput():(e.keyCode===37&&r||e.keyCode===39&&!r)&&i.selectionStart===0&&i.selectionEnd===0?(e.preventDefault(),this._moveCaretToEndOfStartInput()):super._onKeydown(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275dir=V({type:n,selectors:[["input","matEndDate",""]],hostAttrs:["type","text",1,"mat-end-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(i,r){i&1&&T("input",function(a){return r._onInput(a.target.value)})("change",function(){return r._onChange()})("keydown",function(a){return r._onKeydown(a)})("blur",function(){return r._onBlur()}),i&2&&(yt("disabled",r.disabled),te("aria-haspopup",r._rangeInput.rangePicker?"dialog":null)("aria-owns",r._rangeInput._ariaOwns?r._rangeInput._ariaOwns():(r._rangeInput.rangePicker==null?null:r._rangeInput.rangePicker.opened)&&r._rangeInput.rangePicker.id||null)("min",r._getMinDate()?r._dateAdapter.toIso8601(r._getMinDate()):null)("max",r._getMaxDate()?r._dateAdapter.toIso8601(r._getMaxDate()):null))},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[ue([{provide:Ot,useExisting:n,multi:!0},{provide:en,useExisting:n,multi:!0}]),ge]})}return n})(),kR=(()=>{class n extends Lf{_forwardContentValues(e){super._forwardContentValues(e);let i=this.datepickerInput;i&&(e.comparisonStart=i.comparisonStart,e.comparisonEnd=i.comparisonEnd,e.startDateAccessibleName=i._getStartDateAccessibleName(),e.endDateAccessibleName=i._getEndDateAccessibleName())}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275cmp=I({type:n,selectors:[["mat-date-range-picker"]],exportAs:["matDateRangePicker"],features:[ue([w$,k$,{provide:Lf,useExisting:n}]),ge],decls:0,vars:0,template:function(i,r){},encapsulation:2,changeDetection:0})}return n})();var DR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({providers:[_c,E$],imports:[Ra,ki,ur,Jt,oe,_R,P$,fR,Zt]})}return n})();function N$(n,t){}var Sh=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},yw="mdc-dialog--open",MR="mdc-dialog--opening",SR="mdc-dialog--closing",V$=150,B$=75,TR=(()=>{class n extends wh{_animationMode=f(Oe,{optional:!0});_animationStateChanged=new Z;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?AR(this._config.enterAnimationDuration)??V$:0;_exitAnimationDuration=this._animationsEnabled?AR(this._config.exitAnimationDuration)??B$:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(ER,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(MR,yw)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(yw),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(yw),this._animationsEnabled?(this._hostElement.style.setProperty(ER,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(SR)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(MR,SR)}_waitForAnimationToComplete(e,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let i=super.attachComponentPortal(e);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275cmp=I({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){i&2&&(yt("id",r._config.id),te("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),N("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},features:[ge],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(b(0,"div",0)(1,"div",1),O(2,N$,0,0,"ng-template",2),w()())},dependencies:[gi],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return n})(),ER="--mat-dialog-transition-duration";function AR(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?wi(n.substring(0,n.length-2)):n.endsWith("s")?wi(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var Mh=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(Mh||{}),bc=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new L;_beforeClosed=new L;_result;_closeFallbackTimeout;_state=Mh.OPEN;_closeInteractionType;constructor(t,e,i){this._ref=t,this._containerInstance=i,this.disableClose=e.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(Pe(r=>r.state==="opened"),lt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Pe(r=>r.state==="closed"),lt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),xt(this.backdropClick(),this.keydownEvents().pipe(Pe(r=>r.keyCode===27&&!this.disableClose&&!tt(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),ww(this,r.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Pe(e=>e.state==="closing"),lt(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=Mh.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=Mh.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function ww(n,t,e){return n._closeInteractionType=t,n.close(e)}var Nf=new P("MatMdcDialogData"),IR=new P("mat-mdc-dialog-default-options"),PR=new P("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=f(it);return()=>n.scrollStrategies.block()}});var Vf=(()=>{class n{_overlay=f(it);_defaultOptions=f(IR,{optional:!0});_scrollStrategy=f(PR);_parentDialog=f(n,{optional:!0,skipSelf:!0});_idGenerator=f(Ne);_dialog=f(xh);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new L;_afterOpenedAtThisLevel=new L;dialogConfigClass=Sh;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=to(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ct(void 0)));constructor(){this._dialogRefConstructor=bc,this._dialogContainerType=TR,this._dialogDataToken=Nf}open(e,i){let r;i=E(E({},this._defaultOptions||new Sh),i),i.id=i.id||this._idGenerator.getId("mat-mdc-dialog-"),i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(e,ye(E({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Ia,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,s,l)=>(r=new this._dialogRefConstructor(a,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:s.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xw=(()=>{class n{dialogRef=f(bc,{optional:!0});_elementRef=f(Q);_dialog=f(Vf);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=RR(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){let i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){ww(this.dialogRef,e.screenX===0&&e.screenY===0?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,r){i&1&&T("click",function(a){return r._onButtonClick(a)}),i&2&&te("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[we]})}return n})(),z$=(()=>{class n{_dialogRef=f(bc,{optional:!0});_elementRef=f(Q);_dialog=f(Vf);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=RR(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n})}return n})(),H$=(()=>{class n extends z${id=f(Ne).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275dir=V({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){i&2&&yt("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[ge]})}return n})(),j$=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[pu([Co])]})}return n})();function RR(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}var Cw=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({providers:[Vf],imports:[If,ki,Jt,oe,oe]})}return n})();var Bf=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[oe,oe]})}return n})();var kw=new P("CdkAccordion"),OR=(()=>{class n{_stateChanges=new L;_openCloseAllActions=new L;id=f(Ne).getId("cdk-accordion-");multi=!1;openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",ie]},exportAs:["cdkAccordion"],features:[ue([{provide:kw,useExisting:n}]),we]})}return n})(),FR=(()=>{class n{accordion=f(kw,{optional:!0,skipSelf:!0});_changeDetectorRef=f(_e);_expansionDispatcher=f(Gs);_openCloseAllSubscription=Ue.EMPTY;closed=new Z;opened=new Z;destroyed=new Z;expandedChange=new Z;id=f(Ne).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let i=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,i)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}_expanded=!1;disabled=!1;_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((e,i)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===i&&this.id!==e&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",ie],disabled:[2,"disabled","disabled",ie]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[ue([{provide:kw,useValue:void 0}])]})}return n})(),LR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({})}return n})();var $$=["body"],W$=["bodyWrapper"],G$=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],q$=["mat-expansion-panel-header","*","mat-action-row"];function Y$(n,t){}var K$=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],X$=["mat-panel-title","mat-panel-description","*"];function Q$(n,t){n&1&&(b(0,"span",1),je(),b(1,"svg",2),B(2,"path",3),w()())}var Dw=new P("MAT_ACCORDION"),NR=new P("MAT_EXPANSION_PANEL"),Z$=(()=>{class n{_template=f(Rt);_expansionPanel=f(NR,{optional:!0});constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]})}return n})(),VR=new P("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),J$=(()=>{class n extends FR{_viewContainerRef=f(kt);_animationsDisabled=f(Oe,{optional:!0})==="NoopAnimations";_document=f(ve);_ngZone=f(de);_elementRef=f(Q);_renderer=f(Le);_cleanupTransitionEnd;get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}_hideToggle=!1;get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_togglePosition;afterExpand=new Z;afterCollapse=new Z;_inputChanges=new L;accordion=f(Dw,{optional:!0,skipSelf:!0});_lazyContent;_body;_bodyWrapper;_portal;_headerId=f(Ne).getId("mat-expansion-panel-header-");constructor(){super();let e=f(VR,{optional:!0});this._expansionDispatcher=f(Gs),e&&(this.hideToggle=e.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(ct(null),Pe(()=>this.expanded&&!this._portal),lt(1)).subscribe(()=>{this._portal=new xi(this._lazyContent._template,this._viewContainerRef)}),this._setupAnimationEvents()}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransitionEnd?.(),this._inputChanges.complete()}_containsFocus(){if(this._body){let e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}_transitionEndListener=({target:e,propertyName:i})=>{e===this._bodyWrapper?.nativeElement&&i==="grid-template-rows"&&this._ngZone.run(()=>{this.expanded?this.afterExpand.emit():this.afterCollapse.emit()})};_setupAnimationEvents(){this._ngZone.runOutsideAngular(()=>{this._animationsDisabled?(this.opened.subscribe(()=>this._ngZone.run(()=>this.afterExpand.emit())),this.closed.subscribe(()=>this._ngZone.run(()=>this.afterCollapse.emit()))):setTimeout(()=>{let e=this._elementRef.nativeElement;this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this._transitionEndListener),e.classList.add("mat-expansion-panel-animations-enabled")},200)})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(i,r,o){if(i&1&&Te(o,Z$,5),i&2){let a;q(a=Y())&&(r._lazyContent=a.first)}},viewQuery:function(i,r){if(i&1&&(se($$,5),se(W$,5)),i&2){let o;q(o=Y())&&(r._body=o.first),q(o=Y())&&(r._bodyWrapper=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:4,hostBindings:function(i,r){i&2&&N("mat-expanded",r.expanded)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",ie],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[ue([{provide:Dw,useValue:void 0},{provide:NR,useExisting:n}]),ge,we],ngContentSelectors:q$,decls:9,vars:4,consts:[["bodyWrapper",""],["body",""],[1,"mat-expansion-panel-content-wrapper"],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,r){i&1&&(me(G$),re(0),b(1,"div",2,0)(3,"div",3,1)(5,"div",4),re(6,1),O(7,Y$,0,0,"ng-template",5),w(),re(8,2),w()()),i&2&&(y(),te("inert",r.expanded?null:""),y(2),M("id",r.id),te("aria-labelledby",r._headerId),y(4),M("cdkPortalOutlet",r._portal))},dependencies:[gi],styles:[`.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;position:relative;background:var(--mat-expansion-container-background-color, var(--mat-sys-surface));color:var(--mat-expansion-container-text-color, var(--mat-sys-on-surface));border-radius:var(--mat-expansion-container-shape, 12px)}.mat-expansion-panel.mat-expansion-panel-animations-enabled{transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape, 12px);border-top-left-radius:var(--mat-expansion-container-shape, 12px)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape, 12px);border-bottom-left-radius:var(--mat-expansion-container-shape, 12px)}@media(forced-colors: active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel-content-wrapper{display:grid;grid-template-rows:0fr;grid-template-columns:100%}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content-wrapper{transition:grid-template-rows 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{grid-template-rows:1fr}@supports not (grid-template-rows: 0fr){.mat-expansion-panel-content-wrapper{height:0}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{height:auto}}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;min-height:0;visibility:hidden;font-family:var(--mat-expansion-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-sys-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-sys-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-sys-body-large-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content{transition:visibility 190ms linear}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper>.mat-expansion-panel-content{visibility:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-sys-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}
`],encapsulation:2,changeDetection:0})}return n})();var eW=(()=>{class n{panel=f(J$,{host:!0});_element=f(Q);_focusMonitor=f(Qt);_changeDetectorRef=f(_e);_parentChangeSubscription=Ue.EMPTY;constructor(){f(Je).load(ii);let e=this.panel,i=f(VR,{optional:!0}),r=f(new hi("tabindex"),{optional:!0}),o=e.accordion?e.accordion._stateChanges.pipe(Pe(a=>!!(a.hideToggle||a.togglePosition))):bn;this.tabIndex=parseInt(r||"")||0,this._parentChangeSubscription=xt(e.opened,e.closed,o,e._inputChanges.pipe(Pe(a=>!!(a.hideToggle||a.disabled||a.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(Pe(()=>e._containsFocus())).subscribe(()=>this._focusMonitor.focusVia(this._element,"program")),i&&(this.expandedHeight=i.expandedHeight,this.collapsedHeight=i.collapsedHeight)}expandedHeight;collapsedHeight;tabIndex=0;get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:tt(e)||(e.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e);return}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:13,hostBindings:function(i,r){i&1&&T("click",function(){return r._toggle()})("keydown",function(a){return r._keydown(a)}),i&2&&(te("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),Dt("height",r._getHeaderHeight()),N("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after",r._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",r._getTogglePosition()==="before"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Mt(e)]},ngContentSelectors:X$,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(i,r){i&1&&(me(K$),b(0,"span",0),re(1),re(2,1),re(3,2),w(),O(4,Q$,3,0,"span",1)),i&2&&(N("mat-content-hide-toggle",!r._showToggle()),y(4),le(r._showToggle()?4:-1))},styles:[`.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;height:var(--mat-expansion-header-collapsed-state-height, 48px);font-family:var(--mat-expansion-header-text-font, var(--mat-sys-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-sys-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-sys-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-sys-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-sys-title-medium-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-header{transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header::before{border-radius:inherit}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height, 64px)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-sys-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-sys-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-sys-on-surface-variant))}.mat-expansion-panel-animations-enabled .mat-expansion-indicator{transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header.mat-expanded .mat-expansion-indicator{transform:rotate(180deg)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, none)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-header-indicator-display, inline-block)}@media(forced-colors: active){.mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}}
`],encapsulation:2,changeDetection:0})}return n})();var tge=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return n})(),ige=(()=>{class n extends OR{_keyManager;_ownHeaders=new cn;_headers;hideToggle=!1;displayMode="default";togglePosition="after";ngAfterContentInit(){this._headers.changes.pipe(ct(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new wo(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275dir=V({type:n,selectors:[["mat-accordion"]],contentQueries:function(i,r,o){if(i&1&&Te(o,eW,5),i&2){let a;q(a=Y())&&(r._headers=a)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(i,r){i&2&&N("mat-accordion-multi",r.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",ie],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[ue([{provide:Dw,useExisting:n}]),ge]})}return n})(),BR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[oe,LR,Jt]})}return n})();var Fa=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[oe,gl,oe]})}return n})();var zR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[Hy,oe,Hy,oe]})}return n})();var tW=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return n})(),iW={passive:!0},HR=(()=>{class n{_platform=f(Ve);_ngZone=f(de);_renderer=f(ui).createRenderer(null,null);_styleLoader=f(Je);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return bn;this._styleLoader.load(tW);let i=zt(e),r=this._monitoredElements.get(i);if(r)return r.subject;let o=new L,a="cdk-text-field-autofilled",s=c=>{c.animationName==="cdk-text-field-autofill-start"&&!i.classList.contains(a)?(i.classList.add(a),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1})))},l=this._ngZone.runOutsideAngular(()=>(i.classList.add("cdk-text-field-autofill-monitored"),pt(this._renderer,i,"animationstart",s,iW)));return this._monitoredElements.set(i,{subject:o,unlisten:l}),o}stopMonitoring(e){let i=zt(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var jR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({})}return n})();var nW=["button","checkbox","file","hidden","image","radio","range","reset","submit"],rW=new P("MAT_INPUT_CONFIG"),Xge=(()=>{class n{_elementRef=f(Q);_platform=f(Ve);ngControl=f(In,{optional:!0,self:!0});_autofillMonitor=f(HR);_ngZone=f(de);_formField=f(Cr,{optional:!0});_renderer=f(Le);_uid=f(Ne).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=f(rW,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new L;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=ft(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(e){this._id=e||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(ai.required)??!1}set required(e){this._required=ft(e)}_required;get type(){return this._type}set type(e){let i=this._type;this._type=e||"text",this._validateType(),!this._isTextarea&&Zb().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==i&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=ft(e)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>Zb().has(e));constructor(){let e=f(_s,{optional:!0}),i=f(Hr,{optional:!0}),r=f(nr),o=f(mc,{optional:!0,self:!0}),a=this._elementRef.nativeElement,s=a.nodeName.toLowerCase();o?ja(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=a,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(a,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Aa(r,this.ngControl,i,e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=s==="select",this._isTextarea=s==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=a.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&so(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){if(e!==this.focused){if(!this._isNativeSelect&&e&&this.disabled&&this.disabledInteractive){let i=this._elementRef.nativeElement;i.type==="number"?(i.type="text",i.setSelectionRange(0,0),i.type="number"):i.setSelectionRange(0,0)}this.focused=e,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){nW.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(e){let i=this._elementRef.nativeElement,r=i.getAttribute("aria-describedby"),o;if(r){let a=this._formFieldDescribedBy||e;o=e.concat(r.split(" ").filter(s=>s&&!a.includes(s)))}else o=e;this._formFieldDescribedBy=e,o.length?i.setAttribute("aria-describedby",o.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_iOSKeyupListener=e=>{let i=e.target;!i.value&&i.selectionStart===0&&i.selectionEnd===0&&(i.setSelectionRange(1,1),i.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(i,r){i&1&&T("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),i&2&&(yt("id",r.id)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),te("name",r.name||null)("readonly",r._getReadonlyAttribute())("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),N("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mat-mdc-input-disabled-interactive",r.disabledInteractive)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",ie]},exportAs:["matInput"],features:[ue([{provide:Ta,useExisting:n}]),we]})}return n})(),UR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[oe,Fa,Fa,jR,oe]})}return n})();var $R=["*"],WR=`.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color, transparent);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size, 24px);height:var(--mdc-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size, 40px);height:var(--mdc-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size, 24px);height:var(--mdc-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}
`,GR=["unscopedContent"],oW=["text"],aW=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],sW=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],lW=[[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["mat-divider"]],[["","matListItemAvatar",""],["","matListItemIcon",""]]],cW=["[matListItemTitle]","[matListItemLine]","*","mat-divider","[matListItemAvatar],[matListItemIcon]"];function dW(n,t){n&1&&re(0,4)}function hW(n,t){if(n&1&&(b(0,"div",11),B(1,"input",12),b(2,"div",13),je(),b(3,"svg",14),B(4,"path",15),w(),Ai(),B(5,"div",16),w()()),n&2){let e=k();N("mdc-checkbox--disabled",e.disabled),y(),M("checked",e.selected)("disabled",e.disabled)}}function uW(n,t){if(n&1&&(b(0,"div",17),B(1,"input",18),b(2,"div",19),B(3,"div",20)(4,"div",21),w()()),n&2){let e=k();N("mdc-radio--disabled",e.disabled),y(),M("checked",e.selected)("disabled",e.disabled)}}function pW(n,t){}function mW(n,t){if(n&1&&(b(0,"span",4),O(1,pW,0,0,"ng-template",6),w()),n&2){k();let e=ut(3);y(),M("ngTemplateOutlet",e)}}function fW(n,t){}function gW(n,t){if(n&1&&(b(0,"span",5),O(1,fW,0,0,"ng-template",6),w()),n&2){k();let e=ut(5);y(),M("ngTemplateOutlet",e)}}function _W(n,t){}function bW(n,t){if(n&1&&O(0,_W,0,0,"ng-template",6),n&2){k();let e=ut(1);M("ngTemplateOutlet",e)}}function vW(n,t){}function yW(n,t){if(n&1&&(b(0,"span",9),O(1,vW,0,0,"ng-template",6),w()),n&2){k();let e=ut(3);y(),M("ngTemplateOutlet",e)}}function wW(n,t){}function xW(n,t){if(n&1&&(b(0,"span",9),O(1,wW,0,0,"ng-template",6),w()),n&2){k();let e=ut(5);y(),M("ngTemplateOutlet",e)}}function CW(n,t){}function kW(n,t){if(n&1&&O(0,CW,0,0,"ng-template",6),n&2){k();let e=ut(1);M("ngTemplateOutlet",e)}}var qR=new P("ListOption"),YR=(()=>{class n{_elementRef=f(Q);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return n})(),KR=(()=>{class n{_elementRef=f(Q);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return n})(),DW=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return n})(),XR=(()=>{class n{_listOption=f(qR,{optional:!0});constructor(){}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,hostVars:4,hostBindings:function(i,r){i&2&&N("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())}})}return n})(),MW=(()=>{class n extends XR{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275dir=V({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[ge]})}return n})(),SW=(()=>{class n extends XR{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275dir=V({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[ge]})}return n})(),EW=new P("MAT_LIST_CONFIG"),Eh=(()=>{class n{_isNonInteractive=!0;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ft(e)}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=ft(e)}_disabled=!1;_defaultOptions=f(EW,{optional:!0});static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,hostVars:1,hostBindings:function(i,r){i&2&&te("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return n})(),Mw=(()=>{class n{_elementRef=f(Q);_ngZone=f(de);_listBase=f(Eh,{optional:!0});_platform=f(Ve);_hostElement;_isButtonElement;_noopAnimations;_avatars;_icons;set lines(e){this._explicitLines=wi(e,null),this._updateItemLines(!1)}_explicitLines=null;get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=ft(e)}_disableRipple=!1;get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=ft(e)}_disabled=!1;_subscriptions=new Ue;_rippleRenderer=null;_hasUnscopedTextContent=!1;rippleConfig;get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(){f(Je).load(ii);let e=f(vh,{optional:!0}),i=f(Oe,{optional:!0});this.rippleConfig=e||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._noopAnimations=i==="NoopAnimations",this._listBase&&!this._listBase._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Ws(this,this._ngZone,this._hostElement,this._platform,f(Ie)),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(xt(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();let i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",i===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",i===3),this._hasUnscopedTextContent){let o=this._titles.length===0&&i===1;r.classList.toggle("mdc-list-item__primary-text",o),r.classList.toggle("mdc-list-item__secondary-text",!o)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!!(e.textContent&&e.textContent.trim()))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,contentQueries:function(i,r,o){if(i&1&&(Te(o,MW,4),Te(o,SW,4)),i&2){let a;q(a=Y())&&(r._avatars=a),q(a=Y())&&(r._icons=a)}},hostVars:4,hostBindings:function(i,r){i&2&&(te("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),N("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return n})();var D_e=(()=>{class n extends Mw{_lines;_titles;_meta;_unscopedContent;_itemText;get activated(){return this._activated}set activated(e){this._activated=ft(e)}_activated=!1;_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return this._meta.length!==0&&(this._avatars.length!==0||this._icons.length!==0)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275cmp=I({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,r,o){if(i&1&&(Te(o,KR,5),Te(o,YR,5),Te(o,DW,5)),i&2){let a;q(a=Y())&&(r._lines=a),q(a=Y())&&(r._titles=a),q(a=Y())&&(r._meta=a)}},viewQuery:function(i,r){if(i&1&&(se(GR,5),se(oW,5)),i&2){let o;q(o=Y())&&(r._unscopedContent=o.first),q(o=Y())&&(r._itemText=o.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(i,r){i&2&&(te("aria-current",r._getAriaCurrent()),N("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",r._avatars.length!==0)("mdc-list-item--with-leading-icon",r._icons.length!==0)("mdc-list-item--with-trailing-meta",r._meta.length!==0)("mat-mdc-list-item-both-leading-and-trailing",r._hasBothLeadingAndTrailing())("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[ge],ngContentSelectors:sW,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-focus-indicator"]],template:function(i,r){if(i&1){let o=be();me(aW),re(0),b(1,"span",1),re(2,1),re(3,2),b(4,"span",2,0),T("cdkObserveContent",function(){return W(o),G(r._updateItemLines(!0))}),re(6,3),w()(),re(7,4),re(8,5),B(9,"div",3)}},dependencies:[Hb],encapsulation:2,changeDetection:0})}return n})(),QR=new P("SelectionList"),Ew=(()=>{class n extends Mw{_selectionList=f(QR);_changeDetectorRef=f(_e);_lines;_titles;_unscopedContent;selectedChange=new Z;togglePosition="after";get checkboxPosition(){return this.togglePosition}set checkboxPosition(e){this.togglePosition=e}get color(){return this._color||this._selectionList.color}set color(e){this._color=e}_color;get value(){return this._value}set value(e){this.selected&&e!==this.value&&this._inputsInitialized&&(this.selected=!1),this._value=e}_value;get selected(){return this._selectionList.selectedOptions.isSelected(this)}set selected(e){let i=ft(e);i!==this._selected&&(this._setSelected(i),(i||this._selectionList.multiple)&&this._selectionList._reportValueChange())}_selected=!1;_inputsInitialized=!1;ngOnInit(){let e=this._selectionList;e._value&&e._value.some(r=>e.compareWith(this._value,r))&&this._setSelected(!0);let i=this._selected;Promise.resolve().then(()=>{(this._selected||i)&&(this.selected=!0,this._changeDetectorRef.markForCheck())}),this._inputsInitialized=!0}ngOnDestroy(){super.ngOnDestroy(),this.selected&&Promise.resolve().then(()=>{this.selected=!1})}toggle(){this.selected=!this.selected}focus(){this._hostElement.focus()}getLabel(){return(this._titles?.get(0)?._elementRef.nativeElement||this._unscopedContent?.nativeElement)?.textContent||""}_hasCheckboxAt(e){return this._selectionList.multiple&&this._getTogglePosition()===e}_hasRadioAt(e){return!this._selectionList.multiple&&this._getTogglePosition()===e&&!this._selectionList.hideSingleSelectionIndicator}_hasIconsOrAvatarsAt(e){return this._hasProjected("icons",e)||this._hasProjected("avatars",e)}_hasProjected(e,i){return this._getTogglePosition()!==i&&(e==="avatars"?this._avatars.length!==0:this._icons.length!==0)}_handleBlur(){this._selectionList._onTouched()}_getTogglePosition(){return this.togglePosition||"after"}_setSelected(e){return e===this._selected?!1:(this._selected=e,e?this._selectionList.selectedOptions.select(this):this._selectionList.selectedOptions.deselect(this),this.selectedChange.emit(e),this._changeDetectorRef.markForCheck(),!0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_toggleOnInteraction(){this.disabled||(this._selectionList.multiple?(this.selected=!this.selected,this._selectionList._emitChangeEvent([this])):this.selected||(this.selected=!0,this._selectionList._emitChangeEvent([this])))}_setTabindex(e){this._hostElement.setAttribute("tabindex",e+"")}_hasBothLeadingAndTrailing(){let e=this._hasProjected("avatars","before")||this._hasProjected("icons","before")||this._hasCheckboxAt("before")||this._hasRadioAt("before"),i=this._hasProjected("icons","after")||this._hasProjected("avatars","after")||this._hasCheckboxAt("after")||this._hasRadioAt("after");return e&&i}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275cmp=I({type:n,selectors:[["mat-list-option"]],contentQueries:function(i,r,o){if(i&1&&(Te(o,KR,5),Te(o,YR,5)),i&2){let a;q(a=Y())&&(r._lines=a),q(a=Y())&&(r._titles=a)}},viewQuery:function(i,r){if(i&1&&se(GR,5),i&2){let o;q(o=Y())&&(r._unscopedContent=o.first)}},hostAttrs:["role","option",1,"mat-mdc-list-item","mat-mdc-list-option","mdc-list-item"],hostVars:27,hostBindings:function(i,r){i&1&&T("blur",function(){return r._handleBlur()})("click",function(){return r._toggleOnInteraction()}),i&2&&(te("aria-selected",r.selected),N("mdc-list-item--selected",r.selected&&!r._selectionList.multiple&&r._selectionList.hideSingleSelectionIndicator)("mdc-list-item--with-leading-avatar",r._hasProjected("avatars","before"))("mdc-list-item--with-leading-icon",r._hasProjected("icons","before"))("mdc-list-item--with-trailing-icon",r._hasProjected("icons","after"))("mat-mdc-list-option-with-trailing-avatar",r._hasProjected("avatars","after"))("mdc-list-item--with-leading-checkbox",r._hasCheckboxAt("before"))("mdc-list-item--with-trailing-checkbox",r._hasCheckboxAt("after"))("mdc-list-item--with-leading-radio",r._hasRadioAt("before"))("mdc-list-item--with-trailing-radio",r._hasRadioAt("after"))("mat-mdc-list-item-both-leading-and-trailing",r._hasBothLeadingAndTrailing())("mat-accent",r.color!=="primary"&&r.color!=="warn")("mat-warn",r.color==="warn")("_mat-animation-noopable",r._noopAnimations))},inputs:{togglePosition:"togglePosition",checkboxPosition:"checkboxPosition",color:"color",value:"value",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[ue([{provide:Mw,useExisting:n},{provide:qR,useExisting:n}]),ge],ngContentSelectors:cW,decls:20,vars:4,consts:[["icons",""],["checkbox",""],["radio",""],["unscopedContent",""],[1,"mdc-list-item__start","mat-mdc-list-option-checkbox-before"],[1,"mdc-list-item__start","mat-mdc-list-option-radio-before"],[3,"ngTemplateOutlet"],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mdc-list-item__end"],[1,"mat-focus-indicator"],[1,"mdc-checkbox"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","disabled"],[1,"mdc-checkbox__background"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],[1,"mdc-radio"],["type","radio",1,"mdc-radio__native-control",3,"checked","disabled"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"]],template:function(i,r){if(i&1){let o=be();me(lW),O(0,dW,1,0,"ng-template",null,0,Cn)(2,hW,6,4,"ng-template",null,1,Cn)(4,uW,5,4,"ng-template",null,2,Cn)(6,mW,2,1,"span",4)(7,gW,2,1,"span",5)(8,bW,1,1,null,6),b(9,"span",7),re(10),re(11,1),b(12,"span",8,3),T("cdkObserveContent",function(){return W(o),G(r._updateItemLines(!0))}),re(14,2),w()(),O(15,yW,2,1,"span",9)(16,xW,2,1,"span",9)(17,kW,1,1,null,6),re(18,3),B(19,"div",10)}i&2&&(y(6),le(r._hasCheckboxAt("before")?6:r._hasRadioAt("before")?7:-1),y(2),le(r._hasIconsOrAvatarsAt("before")?8:-1),y(7),le(r._hasCheckboxAt("after")?15:r._hasRadioAt("after")?16:-1),y(2),le(r._hasIconsOrAvatarsAt("after")?17:-1))},dependencies:[Tr,Hb],styles:[`.mat-mdc-list-option-with-trailing-avatar.mdc-list-item,[dir=rtl] .mat-mdc-list-option-with-trailing-avatar.mdc-list-item{padding-left:0;padding-right:0}.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end{margin-left:16px;margin-right:16px;width:40px;height:40px}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mat-mdc-list-option-with-trailing-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mat-mdc-list-option-with-trailing-avatar .mdc-list-item__end{border-radius:50%}.mat-mdc-list-option .mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mat-mdc-list-option .mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mat-mdc-list-option .mdc-checkbox--disabled{cursor:default;pointer-events:none}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox--disabled{opacity:.5}}.mat-mdc-list-option .mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mat-mdc-list-option .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-list-option .mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mat-mdc-list-option .mdc-checkbox:hover>.mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:hover>.mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mat-mdc-list-option .mdc-checkbox:hover>.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox:hover>.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-list-option .mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-list-option .mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mat-mdc-list-option .mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox__checkmark{color:CanvasText}}.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__checkmark,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__checkmark,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}}.mat-mdc-list-option .mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mat-mdc-list-option .mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mat-mdc-list-option .mdc-checkbox__mixedmark{margin:0 1px}}.mat-mdc-list-option .mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mat-mdc-list-option .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-mdc-list-option .mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mat-mdc-list-option .mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mat-mdc-list-option .mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-list-option .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-list-option .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-list-option .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px);top:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-list-option .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-list-option .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-list-option .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-list-option .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-list-option .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-list-option .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-list-option .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-list-option .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-list-option._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-list-option._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-list-option._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__start>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-list-option._mat-animation-noopable>.mdc-list-item__end>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark{transition:none !important;animation:none !important}.mat-mdc-list-option .mdc-checkbox__native-control,.mat-mdc-list-option .mdc-radio__native-control{display:none}@media(forced-colors: active){.mat-mdc-list-option.mdc-list-item--selected::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.mat-mdc-list-option.mdc-list-item--selected [dir=rtl]::after{right:auto;left:16px}}
`],encapsulation:2,changeDetection:0})}return n})();var M_e=(()=>{class n extends Eh{_isNonInteractive=!1;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275cmp=I({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[ue([{provide:Eh,useExisting:n}]),ge],ngContentSelectors:$R,decls:1,vars:0,template:function(i,r){i&1&&(me(),re(0))},styles:[WR],encapsulation:2,changeDetection:0})}return n})(),AW={provide:Ot,useExisting:bt(()=>TW),multi:!0},Sw=class{source;options;constructor(t,e){this.source=t,this.options=e}},TW=(()=>{class n extends Eh{_element=f(Q);_ngZone=f(de);_renderer=f(Le);_initialized=!1;_keyManager;_listenerCleanups;_destroyed=new L;_isDestroyed;_onChange=e=>{};_items;selectionChange=new Z;color="accent";compareWith=(e,i)=>e===i;get multiple(){return this._multiple}set multiple(e){let i=ft(e);i!==this._multiple&&(this._multiple=i,this.selectedOptions=new Ea(this._multiple,this.selectedOptions.selected))}_multiple=!0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=ft(e)}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;selectedOptions=new Ea(this._multiple);_value;_onTouched=()=>{};_changeDetectorRef=f(_e);constructor(){super(),this._isNonInteractive=!1}ngAfterViewInit(){this._initialized=!0,this._setupRovingTabindex(),this._ngZone.runOutsideAngular(()=>{this._listenerCleanups=[this._renderer.listen(this._element.nativeElement,"focusin",this._handleFocusin),this._renderer.listen(this._element.nativeElement,"focusout",this._handleFocusout)]}),this._value&&this._setOptionsFromValues(this._value),this._watchForSelectionChange()}ngOnChanges(e){let i=e.disabled,r=e.disableRipple,o=e.hideSingleSelectionIndicator;(r&&!r.firstChange||i&&!i.firstChange||o&&!o.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._keyManager?.destroy(),this._listenerCleanups?.forEach(e=>e()),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(e){this._element.nativeElement.focus(e)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_reportValueChange(){if(this.options&&!this._isDestroyed){let e=this._getSelectedOptionValues();this._onChange(e),this._value=e}}_emitChangeEvent(e){this.selectionChange.emit(new Sw(this,e))}writeValue(e){this._value=e,this.options&&this._setOptionsFromValues(e||[])}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this._markOptionsForCheck()}get disabled(){return this._selectionListDisabled}set disabled(e){this._selectionListDisabled=ft(e),this._selectionListDisabled&&this._keyManager?.setActiveItem(-1)}_selectionListDisabled=!1;registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}_watchForSelectionChange(){this.selectedOptions.changed.pipe(Ee(this._destroyed)).subscribe(e=>{for(let i of e.added)i.selected=!0;for(let i of e.removed)i.selected=!1;this._containsFocus()||this._resetActiveOption()})}_setOptionsFromValues(e){this.options.forEach(i=>i._setSelected(!1)),e.forEach(i=>{let r=this.options.find(o=>o.selected?!1:this.compareWith(o.value,i));r&&r._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(e=>e.selected).map(e=>e.value)}_markOptionsForCheck(){this.options&&this.options.forEach(e=>e._markForCheck())}_setAllOptionsSelected(e,i){let r=[];return this.options.forEach(o=>{(!i||!o.disabled)&&o._setSelected(e)&&r.push(o)}),r.length&&this._reportValueChange(),r}get options(){return this._items}_handleKeydown(e){let i=this._keyManager.activeItem;if((e.keyCode===13||e.keyCode===32)&&!this._keyManager.isTyping()&&i&&!i.disabled)e.preventDefault(),i._toggleOnInteraction();else if(e.keyCode===65&&this.multiple&&!this._keyManager.isTyping()&&tt(e,"ctrlKey","metaKey")){let r=this.options.some(o=>!o.disabled&&!o.selected);e.preventDefault(),this._emitChangeEvent(this._setAllOptionsSelected(r,!0))}else this._keyManager.onKeydown(e)}_handleFocusout=()=>{setTimeout(()=>{this._containsFocus()||this._resetActiveOption()})};_handleFocusin=e=>{if(this.disabled)return;let i=this._items.toArray().findIndex(r=>r._elementRef.nativeElement.contains(e.target));i>-1?this._setActiveOption(i):this._resetActiveOption()};_setupRovingTabindex(){this._keyManager=new wo(this._items).withHomeAndEnd().withTypeAhead().withWrap().skipPredicate(()=>this.disabled),this._resetActiveOption(),this._keyManager.change.subscribe(e=>this._setActiveOption(e)),this._items.changes.pipe(Ee(this._destroyed)).subscribe(()=>{let e=this._keyManager.activeItem;(!e||this._items.toArray().indexOf(e)===-1)&&this._resetActiveOption()})}_setActiveOption(e){this._items.forEach((i,r)=>i._setTabindex(r===e?0:-1)),this._keyManager.updateActiveItem(e)}_resetActiveOption(){if(this.disabled){this._setActiveOption(-1);return}let e=this._items.find(i=>i.selected&&!i.disabled)||this._items.first;this._setActiveOption(e?this._items.toArray().indexOf(e):-1)}_containsFocus(){let e=Vi();return e&&this._element.nativeElement.contains(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-selection-list"]],contentQueries:function(i,r,o){if(i&1&&Te(o,Ew,5),i&2){let a;q(a=Y())&&(r._items=a)}},hostAttrs:["role","listbox",1,"mat-mdc-selection-list","mat-mdc-list-base","mdc-list"],hostVars:1,hostBindings:function(i,r){i&1&&T("keydown",function(a){return r._handleKeydown(a)}),i&2&&te("aria-multiselectable",r.multiple)},inputs:{color:"color",compareWith:"compareWith",multiple:"multiple",hideSingleSelectionIndicator:"hideSingleSelectionIndicator",disabled:"disabled"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[ue([AW,{provide:Eh,useExisting:n},{provide:QR,useExisting:n}]),ge,we],ngContentSelectors:$R,decls:1,vars:0,template:function(i,r){i&1&&(me(),re(0))},styles:[WR],encapsulation:2,changeDetection:0})}return n})(),ZR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[gl,oe,Wt,Ef,Bf]})}return n})();var PW=new P("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let n=f(it);return()=>n.scrollStrategies.reposition()}});function RW(n){return()=>n.scrollStrategies.reposition()}var OW={provide:PW,deps:[it],useFactory:RW};var JR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({providers:[OW],imports:[Wt,oe,ki,Zt,oe]})}return n})(),eO={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},j_e=eO.fadeInItems,U_e=eO.transformMenu;var FW=["trigger"],LW=["panel"],NW=[[["mat-select-trigger"]],"*"],VW=["mat-select-trigger","*"];function BW(n,t){if(n&1&&(b(0,"span",4),K(1),w()),n&2){let e=k();y(),De(e.placeholder)}}function zW(n,t){n&1&&re(0)}function HW(n,t){if(n&1&&(b(0,"span",11),K(1),w()),n&2){let e=k(2);y(),De(e.triggerValue)}}function jW(n,t){if(n&1&&(b(0,"span",5),O(1,zW,1,0)(2,HW,2,1,"span",11),w()),n&2){let e=k();y(),le(e.customTrigger?1:2)}}function UW(n,t){if(n&1){let e=be();b(0,"div",12,1),T("keydown",function(r){W(e);let o=k();return G(o._handleKeydown(r))}),re(2,1),w()}if(n&2){let e=k();Ti("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),N("mat-select-panel-animations-enabled",!e._animationsDisabled),M("ngClass",e.panelClass),te("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var Aw=new P("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let n=f(it);return()=>n.scrollStrategies.reposition()}});function tO(n){return()=>n.scrollStrategies.reposition()}var iO=new P("MAT_SELECT_CONFIG"),nO={provide:Aw,deps:[it],useFactory:tO},rO=new P("MatSelectTrigger"),zf=class{source;value;constructor(t,e){this.source=t,this.value=e}},Tw=(()=>{class n{_viewportRuler=f(Yn);_changeDetectorRef=f(_e);_elementRef=f(Q);_dir=f(wt,{optional:!0});_idGenerator=f(Ne);_renderer=f(Le);_parentFormField=f(Cr,{optional:!0});ngControl=f(In,{self:!0,optional:!0});_liveAnnouncer=f(ld);_defaultOptions=f(iO,{optional:!0});_animationsDisabled=f(Oe,{optional:!0})==="NoopAnimations";_initialized=new L;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let i=this.options.toArray()[e];if(i){let r=this.panel.nativeElement,o=$y(e,this.options,this.optionGroups),a=i._getHostElement();e===0&&o===1?r.scrollTop=0:r.scrollTop=Wy(a.offsetTop,a.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new zf(this,e)}_scrollStrategyFactory=f(Aw);_panelOpen=!1;_compareWith=(e,i)=>e===i;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new L;_errorStateTracker;stateChanges=new L;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;disableRipple=!1;tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(ai.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=to(()=>{let e=this.options;return e?e.changes.pipe(ct(e),Yt(()=>xt(...e.map(i=>i.onSelectionChange)))):this._initialized.pipe(Yt(()=>this.optionSelectionChanges))});openedChange=new Z;_openedStream=this.openedChange.pipe(Pe(e=>e),Se(()=>{}));_closedStream=this.openedChange.pipe(Pe(e=>!e),Se(()=>{}));selectionChange=new Z;valueChange=new Z;constructor(){let e=f(nr),i=f(_s,{optional:!0}),r=f(Hr,{optional:!0}),o=f(new hi("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new Aa(e,this.ngControl,r,i,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=o==null?0:parseInt(o)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Ea(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(Ee(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Ee(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(ct(null),Ee(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(this._previousControl!==void 0&&i.disabled!==null&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(lt(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let i=`${this.id}-panel`;this._trackedModal&&pp(this._trackedModal,"aria-owns",i),qb(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;pp(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{i(),clearTimeout(r),this._cleanupDetach=void 0};let e=this.panel.nativeElement,i=this._renderer.listen(e,"animationend",o=>{o.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),r=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);e.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let i=e.keyCode,r=i===40||i===38||i===37||i===39,o=i===13||i===32,a=this._keyManager;if(!a.isTyping()&&o&&!tt(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){let s=this.selected;a.onKeydown(e);let l=this.selected;l&&s!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){let i=this._keyManager,r=e.keyCode,o=r===40||r===38,a=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(!a&&(r===13||r===32)&&i.activeItem&&!tt(e))e.preventDefault(),i.activeItem._selectViaInteraction();else if(!a&&this._multiple&&r===65&&e.ctrlKey){e.preventDefault();let s=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(s?l.select():l.deselect())})}else{let s=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==s&&i.activeItem._selectViaInteraction()}}_handleOverlayKeydown(e){e.keyCode===27&&!tt(e)&&(e.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{let i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return(r.value!=null||this.canSelectNullableOptions)&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof xl?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new rs(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=xt(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ee(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),xt(...this.options.map(i=>i._stateChanges)).pipe(Ee(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){let r=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i;this.multiple?i=this.selected.map(r=>r.value):i=this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,i=e?e+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e||(e=this._valueId),e}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,o){if(i&1&&(Te(o,rO,5),Te(o,Vo,5),Te(o,Sf,5)),i&2){let a;q(a=Y())&&(r.customTrigger=a.first),q(a=Y())&&(r.options=a),q(a=Y())&&(r.optionGroups=a)}},viewQuery:function(i,r){if(i&1&&(se(FW,5),se(LW,5),se(Dp,5)),i&2){let o;q(o=Y())&&(r.trigger=o.first),q(o=Y())&&(r.panel=o.first),q(o=Y())&&(r._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){i&1&&T("keydown",function(a){return r._handleKeydown(a)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),i&2&&(te("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),N("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",ie],disableRipple:[2,"disableRipple","disableRipple",ie],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Mt(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",ie],placeholder:"placeholder",required:[2,"required","required",ie],multiple:[2,"multiple","multiple",ie],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",ie],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Mt],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",ie]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[ue([{provide:Ta,useExisting:n},{provide:uc,useExisting:n}]),we],ngContentSelectors:VW,decls:11,vars:9,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,r){if(i&1){let o=be();me(NW),b(0,"div",2,0),T("click",function(){return W(o),G(r.open())}),b(3,"div",3),O(4,BW,2,1,"span",4)(5,jW,3,1,"span",5),w(),b(6,"div",6)(7,"div",7),je(),b(8,"svg",8),B(9,"path",9),w()()()(),O(10,UW,3,10,"ng-template",10),T("detach",function(){return W(o),G(r.close())})("backdropClick",function(){return W(o),G(r.close())})("overlayKeydown",function(s){return W(o),G(r._handleOverlayKeydown(s))})}if(i&2){let o=ut(1);y(3),te("id",r._valueId),y(),le(r.empty?4:5),y(6),M("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)}},dependencies:[xl,Dp,Qi],styles:[`@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:relative;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}
`],encapsulation:2,changeDetection:0})}return n})();var Ah=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({providers:[nO],imports:[ki,pc,oe,Zt,Fa,pc,oe]})}return n})();function $W(n,t){if(n&1&&(b(0,"mat-option",17),K(1),w()),n&2){let e=t.$implicit;M("value",e),y(),Ze(" ",e," ")}}function WW(n,t){if(n&1){let e=be();b(0,"mat-form-field",14)(1,"mat-select",16,0),T("selectionChange",function(r){W(e);let o=k(2);return G(o._changePageSize(r.value))}),pi(3,$W,2,2,"mat-option",17,Ga),w(),b(5,"div",18),T("click",function(){W(e);let r=ut(2);return G(r.open())}),w()()}if(n&2){let e=k(2);M("appearance",e._formFieldAppearance)("color",e.color),y(),M("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),y(2),mi(e._displayedPageSizeOptions)}}function GW(n,t){if(n&1&&(b(0,"div",15),K(1),w()),n&2){let e=k(2);y(),De(e.pageSize)}}function qW(n,t){if(n&1&&(b(0,"div",3)(1,"div",13),K(2),w(),O(3,WW,6,7,"mat-form-field",14)(4,GW,2,1,"div",15),w()),n&2){let e=k();y(),te("id",e._pageSizeLabelId),y(),Ze(" ",e._intl.itemsPerPageLabel," "),y(),le(e._displayedPageSizeOptions.length>1?3:-1),y(),le(e._displayedPageSizeOptions.length<=1?4:-1)}}function YW(n,t){if(n&1){let e=be();b(0,"button",19),T("click",function(){W(e);let r=k();return G(r._buttonClicked(0,r._previousButtonsDisabled()))}),je(),b(1,"svg",8),B(2,"path",20),w()()}if(n&2){let e=k();M("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("disabled",e._previousButtonsDisabled())("tabindex",e._previousButtonsDisabled()?-1:null),te("aria-label",e._intl.firstPageLabel)}}function KW(n,t){if(n&1){let e=be();b(0,"button",21),T("click",function(){W(e);let r=k();return G(r._buttonClicked(r.getNumberOfPages()-1,r._nextButtonsDisabled()))}),je(),b(1,"svg",8),B(2,"path",22),w()()}if(n&2){let e=k();M("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("disabled",e._nextButtonsDisabled())("tabindex",e._nextButtonsDisabled()?-1:null),te("aria-label",e._intl.lastPageLabel)}}var Hf=(()=>{class n{changes=new L;itemsPerPageLabel="Items per page:";nextPageLabel="Next page";previousPageLabel="Previous page";firstPageLabel="First page";lastPageLabel="Last page";getRangeLabel=(e,i,r)=>{if(r==0||i==0)return`0 of ${r}`;r=Math.max(r,0);let o=e*i,a=o<r?Math.min(o+i,r):o+i;return`${o+1} \u2013 ${a} of ${r}`};static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function XW(n){return n||new Hf}var QW={provide:Hf,deps:[[new vn,new lr,Hf]],useFactory:XW},ZW=50;var JW=new P("MAT_PAGINATOR_DEFAULT_OPTIONS"),eG=(()=>{class n{_intl=f(Hf);_changeDetectorRef=f(_e);_formFieldAppearance;_pageSizeLabelId=f(Ne).getId("mat-paginator-page-size-label-");_intlChanges;_isInitialized=!1;_initializedStream=new h_(1);color;get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(e||0,0),this._changeDetectorRef.markForCheck()}_pageIndex=0;get length(){return this._length}set length(e){this._length=e||0,this._changeDetectorRef.markForCheck()}_length=0;get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(e||0,0),this._updateDisplayedPageSizeOptions()}_pageSize;get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>Mt(i,0)),this._updateDisplayedPageSizeOptions()}_pageSizeOptions=[];hidePageSize=!1;showFirstLastButtons=!1;selectConfig={};disabled=!1;page=new Z;_displayedPageSizeOptions;initialized=this._initializedStream;constructor(){let e=this._intl,i=f(JW,{optional:!0});if(this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),i){let{pageSize:r,pageSizeOptions:o,hidePageSize:a,showFirstLastButtons:s}=i;r!=null&&(this._pageSize=r),o!=null&&(this._pageSizeOptions=o),a!=null&&(this.hidePageSize=a),s!=null&&(this.showFirstLastButtons=s)}this._formFieldAppearance=i?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){this.hasNextPage()&&this._navigate(this.pageIndex+1)}previousPage(){this.hasPreviousPage()&&this._navigate(this.pageIndex-1)}firstPage(){this.hasPreviousPage()&&this._navigate(0)}lastPage(){this.hasNextPage()&&this._navigate(this.getNumberOfPages()-1)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let e=this.getNumberOfPages()-1;return this.pageIndex<e&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){let i=this.pageIndex*this.pageSize,r=this.pageIndex;this.pageIndex=Math.floor(i/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:ZW),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}_navigate(e){let i=this.pageIndex;e!==i&&(this.pageIndex=e,this._emitPageEvent(i))}_buttonClicked(e,i){i||this._navigate(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",Mt],length:[2,"length","length",Mt],pageSize:[2,"pageSize","pageSize",Mt],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",ie],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",ie],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",ie]},outputs:{page:"page"},exportAs:["matPaginator"],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(i,r){i&1&&(b(0,"div",1)(1,"div",2),O(2,qW,5,4,"div",3),b(3,"div",4)(4,"div",5),K(5),w(),O(6,YW,3,5,"button",6),b(7,"button",7),T("click",function(){return r._buttonClicked(r.pageIndex-1,r._previousButtonsDisabled())}),je(),b(8,"svg",8),B(9,"path",9),w()(),Ai(),b(10,"button",10),T("click",function(){return r._buttonClicked(r.pageIndex+1,r._nextButtonsDisabled())}),je(),b(11,"svg",8),B(12,"path",11),w()(),O(13,KW,3,5,"button",12),w()()()),i&2&&(y(2),le(r.hidePageSize?-1:2),y(3),Ze(" ",r._intl.getRangeLabel(r.pageIndex,r.pageSize,r.length)," "),y(),le(r.showFirstLastButtons?6:-1),y(),M("matTooltip",r._intl.previousPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("disabled",r._previousButtonsDisabled())("tabindex",r._previousButtonsDisabled()?-1:null),te("aria-label",r._intl.previousPageLabel),y(3),M("matTooltip",r._intl.nextPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("disabled",r._nextButtonsDisabled())("tabindex",r._nextButtonsDisabled()?-1:null),te("aria-label",r._intl.nextPageLabel),y(3),le(r.showFirstLastButtons?13:-1))},dependencies:[iw,Tw,Vo,Pa,gr],styles:[`.mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-sys-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-sys-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-sys-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-sys-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height, 40px);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding, 8px)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-sys-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size, 56px)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}@media(forced-colors: active){.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon,.mat-mdc-paginator-icon{fill:currentColor}.mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-range-actions .mat-mdc-icon-button[aria-disabled]{color:GrayText}}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display, block);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}
`],encapsulation:2,changeDetection:0})}return n})(),oO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({providers:[QW],imports:[Ra,Ah,pd,eG]})}return n})();function tG(n,t){n&1&&B(0,"div",2)}var iG=new P("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var Gbe=(()=>{class n{_elementRef=f(Q);_ngZone=f(de);_changeDetectorRef=f(_e);_renderer=f(Le);_cleanupTransitionEnd;_animationMode=f(Oe,{optional:!0});constructor(){let e=f(iG,{optional:!0});this._isNoopAnimation=this._animationMode==="NoopAnimations",e&&(e.color&&(this.color=this._defaultColor=e.color),this.mode=e.mode||this.mode)}_isNoopAnimation=!1;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";get value(){return this._value}set value(e){this._value=aO(e||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=aO(e||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new Z;get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=e=>{this.animationEnd.observers.length===0||!e.target||!e.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(i,r){i&2&&(te("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),et("mat-"+r.color),N("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",Mt],bufferValue:[2,"bufferValue","bufferValue",Mt],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,r){i&1&&(b(0,"div",0),B(1,"div",1),O(2,tG,1,0,"div",2),w(),b(3,"div",3),B(4,"span",4),w(),b(5,"div",5),B(6,"span",4),w()),i&2&&(y(),Dt("flex-basis",r._getBufferBarFlexBasis()),y(),le(r.mode==="buffer"?2:-1),y(),Dt("transform",r._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height, 4px),var(--mdc-linear-progress-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height, 4px);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}
`],encapsulation:2,changeDetection:0})}return n})();function aO(n,t=0,e=100){return Math.max(t,Math.min(e,n))}var sO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[oe]})}return n})();var lO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[oe]})}return n})();var nG=["input"],rG=["formField"],oG=["*"],jf=class{source;value;constructor(t,e){this.source=t,this.value=e}},aG={provide:Ot,useExisting:bt(()=>cG),multi:!0},cO=new P("MatRadioGroup"),sG=new P("mat-radio-default-options",{providedIn:"root",factory:lG});function lG(){return{color:"accent",disabledInteractive:!1}}var cG=(()=>{class n{_changeDetector=f(_e);_value=null;_name=f(Ne).getId("mat-radio-group-");_selected=null;_isInitialized=!1;_labelPosition="after";_disabled=!1;_required=!1;_buttonChanges;_controlValueAccessorChangeFn=()=>{};onTouched=()=>{};change=new Z;_radios;color;get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition=e==="before"?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=e,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e,this._markRadiosForCheck()}_disabledInteractive=!1;constructor(){}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(e=>e===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){let e=this._selected!==null&&this._selected.value===this._value;this._radios&&!e&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new jf(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["mat-radio-group"]],contentQueries:function(i,r,o){if(i&1&&Te(o,dO,5),i&2){let a;q(a=Y())&&(r._radios=a)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",ie],required:[2,"required","required",ie],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ie]},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[ue([aG,{provide:cO,useExisting:n}])]})}return n})(),dO=(()=>{class n{_elementRef=f(Q);_changeDetector=f(_e);_focusMonitor=f(Qt);_radioDispatcher=f(Gs);_defaultOptions=f(sG,{optional:!0});_ngZone=f(de);_renderer=f(Le);_uniqueId=f(Ne).getId("mat-radio-");_cleanupClick;id=this._uniqueId;name;ariaLabel;ariaLabelledby;ariaDescribedby;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(e){this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}_labelPosition;get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(e){this._setDisabled(e)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){e!==this._required&&this._changeDetector.markForCheck(),this._required=e}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(e){this._color=e}_color;get disabledInteractive(){return this._disabledInteractive||this.radioGroup!==null&&this.radioGroup.disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e}_disabledInteractive;change=new Z;radioGroup;get inputId(){return`${this.id||this._uniqueId}-input`}_checked=!1;_disabled;_required;_value=null;_removeUniqueSelectionListener=()=>{};_previousTabIndex;_inputElement;_rippleTrigger;_noopAnimations;_injector=f(Ie);constructor(){f(Je).load(ii);let e=f(cO,{optional:!0}),i=f(Oe,{optional:!0}),r=f(new hi("tabindex"),{optional:!0});this.radioGroup=e,this._noopAnimations=i==="NoopAnimations",this._disabledInteractive=this._defaultOptions?.disabledInteractive??!1,r&&(this.tabIndex=Mt(r,0))}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,i)=>{e!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._inputElement.nativeElement,"click",this._onInputClick)})}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new jf(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){let i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_onInputClick=e=>{this.disabled&&this.disabledInteractive&&e.preventDefault()};_updateTabIndex(){let e=this.radioGroup,i;if(!e||!e.selected||this.disabled?i=this.tabIndex:i=e.selected===this?this.tabIndex:-1,i!==this._previousTabIndex){let r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i,Ct(()=>{queueMicrotask(()=>{e&&e.selected&&e.selected!==this&&document.activeElement===r&&(e.selected?._inputElement.nativeElement.focus(),document.activeElement===r&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-radio-button"]],viewQuery:function(i,r){if(i&1&&(se(nG,5),se(rG,7,Q)),i&2){let o;q(o=Y())&&(r._inputElement=o.first),q(o=Y())&&(r._rippleTrigger=o.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(i,r){i&1&&T("focus",function(){return r._inputElement.nativeElement.focus()}),i&2&&(te("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),N("mat-primary",r.color==="primary")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("mat-mdc-radio-checked",r.checked)("mat-mdc-radio-disabled",r.disabled)("mat-mdc-radio-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",ie],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Mt(e)],checked:[2,"checked","checked",ie],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",ie],required:[2,"required","required",ie],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",ie]},outputs:{change:"change"},exportAs:["matRadioButton"],ngContentSelectors:oG,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio","aria-invalid","false",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,r){if(i&1){let o=be();me(),b(0,"div",2,0)(2,"div",3)(3,"div",4),T("click",function(s){return W(o),G(r._onTouchTargetClick(s))}),w(),b(4,"input",5,1),T("change",function(s){return W(o),G(r._onInputInteraction(s))}),w(),b(6,"div",6),B(7,"div",7)(8,"div",8),w(),b(9,"div",9),B(10,"div",10),w()(),b(11,"label",11),re(12),w()()}i&2&&(M("labelPosition",r.labelPosition),y(2),N("mdc-radio--disabled",r.disabled),y(2),M("id",r.inputId)("checked",r.checked)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),te("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),y(5),M("matRippleTrigger",r._rippleTrigger.nativeElement)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),y(2),M("for",r.inputId))},dependencies:[or,dc],styles:[`.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled])~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px);top:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-sys-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple>.mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio>.mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display, block)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}
`],encapsulation:2,changeDetection:0})}return n})(),hO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[oe,Wt,dO,oe]})}return n})();var $f=["*"],dG=["content"],hG=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],uG=["mat-drawer","mat-drawer-content","*"];function pG(n,t){if(n&1){let e=be();b(0,"div",1),T("click",function(){W(e);let r=k();return G(r._onBackdropClicked())}),w()}if(n&2){let e=k();N("mat-drawer-shown",e._isShowingBackdrop())}}function mG(n,t){n&1&&(b(0,"mat-drawer-content"),re(1,2),w())}var fG=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],gG=["mat-sidenav","mat-sidenav-content","*"];function _G(n,t){if(n&1){let e=be();b(0,"div",1),T("click",function(){W(e);let r=k();return G(r._onBackdropClicked())}),w()}if(n&2){let e=k();N("mat-drawer-shown",e._isShowingBackdrop())}}function bG(n,t){n&1&&(b(0,"mat-sidenav-content"),re(1,2),w())}var vG=`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`;var yG=new P("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:wG}),Rw=new P("MAT_DRAWER_CONTAINER");function wG(){return!1}var Uf=(()=>{class n extends Co{_platform=f(Ve);_changeDetectorRef=f(_e);_container=f(Pw);constructor(){let e=f(Q),i=f(xo),r=f(de);super(e,i,r)}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;let{start:e,end:i}=this._container;return e!=null&&e.mode!=="over"&&e.opened||i!=null&&i.mode!=="over"&&i.opened}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(i,r){i&2&&(Dt("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px"),N("mat-drawer-content-hidden",r._shouldBeHidden()))},features:[ue([{provide:Co,useExisting:n}]),ge],ngContentSelectors:$f,decls:1,vars:0,template:function(i,r){i&1&&(me(),re(0))},encapsulation:2,changeDetection:0})}return n})(),Iw=(()=>{class n{_elementRef=f(Q);_focusTrapFactory=f(_l);_focusMonitor=f(Qt);_platform=f(Ve);_ngZone=f(de);_renderer=f(Le);_interactivityChecker=f(ns);_doc=f(ve,{optional:!0});_container=f(Rw,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=ft(e)}_disableClose=!1;get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=ft(e)),this._autoFocus=e}_autoFocus;get opened(){return this._opened}set opened(e){this.toggle(ft(e))}_opened=!1;_openedVia;_animationStarted=new L;_animationEnd=new L;openedChange=new Z(!0);_openedStream=this.openedChange.pipe(Pe(e=>e),Se(()=>{}));openedStart=this._animationStarted.pipe(Pe(()=>this.opened),f_(void 0));_closedStream=this.openedChange.pipe(Pe(e=>!e),Se(()=>{}));closedStart=this._animationStarted.pipe(Pe(()=>!this.opened),f_(void 0));_destroyed=new L;onPositionChanged=new Z;_content;_modeChanged=new L;_injector=f(Ie);_changeDetectorRef=f(_e);constructor(){this.openedChange.pipe(Ee(this._destroyed)).subscribe(e=>{e?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement;au(e,"keydown").pipe(Pe(i=>i.keyCode===27&&!this.disableClose&&!tt(i)),Ee(this._destroyed)).subscribe(i=>this._ngZone.run(()=>{this.close(),i.stopPropagation(),i.preventDefault()})),this._eventCleanups=[this._renderer.listen(e,"transitionrun",this._handleTransitionEvent),this._renderer.listen(e,"transitionend",this._handleTransitionEvent),this._renderer.listen(e,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this._opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{o(),a(),e.removeAttribute("tabindex")},o=this._renderer.listen(e,"blur",r),a=this._renderer.listen(e,"mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":Ct(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);let r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return e===this._opened?Promise.resolve(e?"open":"close"):(this._opened=e,this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",e),!e&&i&&this._restoreFocus(r),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(lt(1)).subscribe(a=>o(a?"open":"close"))}))}_setIsAnimating(e){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",e)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let i=this._elementRef.nativeElement,r=i.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}_handleTransitionEvent=e=>{let i=this._elementRef.nativeElement;e.target===i&&this._ngZone.run(()=>{e.type==="transitionrun"?this._animationStarted.next(e):(e.type==="transitionend"&&this._setIsAnimating(!1),this._animationEnd.next(e))})};static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-drawer"]],viewQuery:function(i,r){if(i&1&&se(dG,5),i&2){let o;q(o=Y())&&(r._content=o.first)}},hostAttrs:[1,"mat-drawer"],hostVars:12,hostBindings:function(i,r){i&2&&(te("align",null)("tabIndex",r.mode!=="side"?"-1":null),Dt("visibility",!r._container&&!r.opened?"hidden":null),N("mat-drawer-end",r.position==="end")("mat-drawer-over",r.mode==="over")("mat-drawer-push",r.mode==="push")("mat-drawer-side",r.mode==="side"))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:$f,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,r){i&1&&(me(),b(0,"div",1,0),re(2),w())},dependencies:[Co],encapsulation:2,changeDetection:0})}return n})(),Pw=(()=>{class n{_dir=f(wt,{optional:!0});_element=f(Q);_ngZone=f(de);_changeDetectorRef=f(_e);_animationMode=f(Oe,{optional:!0});_transitionsEnabled=!1;_allDrawers;_drawers=new cn;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=ft(e)}_autosize=f(yG);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:ft(e)}_backdropOverride;backdropClick=new Z;_start;_end;_left;_right;_destroyed=new L;_doCheckSubject=new L;_contentMargins={left:null,right:null};_contentMarginChanges=new L;get scrollable(){return this._userContent||this._content}_injector=f(Ie);constructor(){let e=f(Ve),i=f(Yn);this._dir?.change.pipe(Ee(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),i.change().pipe(Ee(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._animationMode!=="NoopAnimations"&&e.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(ct(this._allDrawers),Ee(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(ct(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Xo(10),Ee(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let r=this._left._getWidth();e+=r,i-=r}}if(this._right&&this._right.opened){if(this._right.mode=="side")i+=this._right._getWidth();else if(this._right.mode=="push"){let r=this._right._getWidth();i+=r,e-=r}}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Ee(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(Ee(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e.onPositionChanged.pipe(Ee(this._drawers.changes)).subscribe(()=>{Ct({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(e){e._modeChanged.pipe(Ee(xt(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(i,r,o){if(i&1&&(Te(o,Uf,5),Te(o,Iw,5)),i&2){let a;q(a=Y())&&(r._content=a.first),q(a=Y())&&(r._allDrawers=a)}},viewQuery:function(i,r){if(i&1&&se(Uf,5),i&2){let o;q(o=Y())&&(r._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,r){i&2&&N("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[ue([{provide:Rw,useExisting:n}])],ngContentSelectors:uG,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){i&1&&(me(hG),O(0,pG,1,2,"div",0),re(1),re(2,1),O(3,mG,2,0,"mat-drawer-content")),i&2&&(le(r.hasBackdrop?0:-1),y(3),le(r._content?-1:3))},dependencies:[Uf],styles:[`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`],encapsulation:2,changeDetection:0})}return n})(),uO=(()=>{class n extends Uf{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275cmp=I({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],features:[ue([{provide:Co,useExisting:n}]),ge],ngContentSelectors:$f,decls:1,vars:0,template:function(i,r){i&1&&(me(),re(0))},encapsulation:2,changeDetection:0})}return n})(),xG=(()=>{class n extends Iw{get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=ft(e)}_fixedInViewport=!1;get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=wi(e)}_fixedTopGap=0;get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=wi(e)}_fixedBottomGap=0;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275cmp=I({type:n,selectors:[["mat-sidenav"]],hostAttrs:[1,"mat-drawer","mat-sidenav"],hostVars:16,hostBindings:function(i,r){i&2&&(te("tabIndex",r.mode!=="side"?"-1":null)("align",null),Dt("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),N("mat-drawer-end",r.position==="end")("mat-drawer-over",r.mode==="over")("mat-drawer-push",r.mode==="push")("mat-drawer-side",r.mode==="side")("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[ue([{provide:Iw,useExisting:n}]),ge],ngContentSelectors:$f,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,r){i&1&&(me(),b(0,"div",1,0),re(2),w())},dependencies:[Co],encapsulation:2,changeDetection:0})}return n})(),Bve=(()=>{class n extends Pw{_allDrawers=void 0;_content=void 0;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Fe(n)))(r||n)}})();static \u0275cmp=I({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(i,r,o){if(i&1&&(Te(o,uO,5),Te(o,xG,5)),i&2){let a;q(a=Y())&&(r._content=a.first),q(a=Y())&&(r._allDrawers=a)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,r){i&2&&N("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[ue([{provide:Rw,useExisting:n},{provide:Pw,useExisting:n}]),ge],ngContentSelectors:gG,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){i&1&&(me(fG),O(0,_G,1,2,"div",0),re(1),re(2,1),O(3,bG,2,0,"mat-sidenav-content")),i&2&&(le(r.hasBackdrop?0:-1),y(3),le(r._content?-1:3))},dependencies:[uO],styles:[vG],encapsulation:2,changeDetection:0})}return n})(),pO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[oe,Zt,Zt,oe]})}return n})();var mO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[oe,Wt]})}return n})();var CG=["switch"],kG=["*"];function DG(n,t){n&1&&(b(0,"span",10),je(),b(1,"svg",12),B(2,"path",13),w(),b(3,"svg",14),B(4,"path",15),w()())}var MG=new P("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),SG={provide:Ot,useExisting:bt(()=>fO),multi:!0},Wf=class{source;checked;constructor(t,e){this.source=t,this.checked=e}},fO=(()=>{class n{_elementRef=f(Q);_focusMonitor=f(Qt);_changeDetectorRef=f(_e);defaults=f(MG);_onChange=e=>{};_onTouched=()=>{};_validatorOnChange=()=>{};_uniqueId;_checked=!1;_createChangeEvent(e){return new Wf(this,e)}_labelId;get buttonId(){return`${this.id||this._uniqueId}-button`}_switchElement;focus(){this._switchElement.nativeElement.focus()}_noopAnimations;_focused;name=null;id;labelPosition="after";ariaLabel=null;ariaLabelledby=null;ariaDescribedby;required;color;disabled=!1;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}hideIcon;disabledInteractive;change=new Z;toggleChange=new Z;get inputId(){return`${this.id||this._uniqueId}-input`}constructor(){f(Je).load(ii);let e=f(new hi("tabindex"),{optional:!0}),i=this.defaults,r=f(Oe,{optional:!0});this.tabIndex=e==null?0:parseInt(e)||0,this.color=i.color||"accent",this._noopAnimations=r==="NoopAnimations",this.id=this._uniqueId=f(Ne).getId("mat-mdc-slide-toggle-"),this.hideIcon=i.hideIcon??!1,this.disabledInteractive=i.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e==="keyboard"||e==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new Wf(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(i&1&&se(CG,5),i&2){let o;q(o=Y())&&(r._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(i,r){i&2&&(yt("id",r.id),te("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),et(r.color?"mat-"+r.color:""),N("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",ie],color:"color",disabled:[2,"disabled","disabled",ie],disableRipple:[2,"disableRipple","disableRipple",ie],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Mt(e)],checked:[2,"checked","checked",ie],hideIcon:[2,"hideIcon","hideIcon",ie],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ie]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[ue([SG,{provide:en,useExisting:n,multi:!0}]),we],ngContentSelectors:kG,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(i&1){let o=be();me(),b(0,"div",1)(1,"button",2,0),T("click",function(){return W(o),G(r._handleClick())}),B(3,"span",3),b(4,"span",4)(5,"span",5)(6,"span",6),B(7,"span",7),w(),b(8,"span",8),B(9,"span",9),w(),O(10,DG,5,0,"span",10),w()()(),b(11,"label",11),T("click",function(s){return W(o),G(s.stopPropagation())}),re(12),w()()}if(i&2){let o=ut(2);M("labelPosition",r.labelPosition),y(),N("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled)("mat-mdc-slide-toggle-disabled-interactive",r.disabledInteractive),M("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("disabled",r.disabled&&!r.disabledInteractive),te("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),y(8),M("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),y(),le(r.hideIcon?-1:10),y(),M("for",r.buttonId),te("id",r._labelId)}},dependencies:[or,dc],styles:[`.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width, 52px)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height, 32px);border-radius:var(--mdc-switch-track-shape, var(--mat-sys-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width, 2px);border-color:var(--mat-switch-track-outline-color, var(--mat-sys-outline))}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width, 2px);border-color:var(--mat-switch-selected-track-outline-color, transparent)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width, 2px);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-sys-on-surface))}@media(forced-colors: active){.mdc-switch__track{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity, 0);transition:var(--mat-switch-hidden-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity, 1);transition:var(--mat-switch-visible-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-sys-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-sys-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity, 1);transition:var(--mat-switch-visible-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity, 0);transition:var(--mat-switch-hidden-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-sys-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-sys-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-sys-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size, 16px);height:var(--mat-switch-unselected-handle-size, 16px);margin:var(--mat-switch-unselected-handle-horizontal-margin, 0 8px)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin, 0 4px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size, 24px);height:var(--mat-switch-selected-handle-size, 24px);margin:var(--mat-switch-selected-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size, 24px);height:var(--mat-switch-with-icon-handle-size, 24px)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size, 28px);height:var(--mat-switch-pressed-handle-size, 28px)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin, 0 22px)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin, 0 2px)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity, 1)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity, 0.38)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media(forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-sys-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-sys-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-sys-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-sys-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-sys-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size, 40px);height:var(--mdc-switch-state-layer-size, 40px)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-sys-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1;transform:translateZ(0)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 16px);height:var(--mdc-switch-unselected-icon-size, 16px);fill:var(--mdc-switch-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 16px);height:var(--mdc-switch-selected-icon-size, 16px);fill:var(--mdc-switch-selected-icon-color, var(--mat-sys-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-sys-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}
`],encapsulation:2,changeDetection:0})}return n})();var gO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[fO,oe,oe]})}return n})();function EG(n,t){if(n&1){let e=be();b(0,"div",1)(1,"button",2),T("click",function(){W(e);let r=k();return G(r.action())}),K(2),w()()}if(n&2){let e=k();y(2),Ze(" ",e.data.action," ")}}var AG=["label"];function TG(n,t){}var IG=Math.pow(2,31)-1,Th=class{_overlayRef;instance;containerInstance;_afterDismissed=new L;_afterOpened=new L;_onAction=new L;_durationTimeoutId;_dismissedByAction=!1;constructor(t,e){this._overlayRef=e,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,IG))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},_O=new P("MatSnackBarData"),vc=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},PG=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return n})(),RG=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return n})(),OG=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return n})(),bO=(()=>{class n{snackBarRef=f(Th);data=f(_O);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){i&1&&(b(0,"div",0),K(1),w(),O(2,EG,3,1,"div",1)),i&2&&(y(),Ze(" ",r.data.message,`
`),y(),le(r.hasAction?2:-1))},dependencies:[Ch,PG,RG,OG],styles:[`.mat-mdc-simple-snack-bar{display:flex}
`],encapsulation:2,changeDetection:0})}return n})(),Ow="_mat-snack-bar-enter",Fw="_mat-snack-bar-exit",FG=(()=>{class n extends ko{_ngZone=f(de);_elementRef=f(Q);_changeDetectorRef=f(_e);_platform=f(Ve);_rendersRef;_animationsDisabled=f(Oe,{optional:!0})==="NoopAnimations";snackBarConfig=f(vc);_document=f(ve);_trackedModals=new Set;_enterFallback;_exitFallback;_renders=new L;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new L;_onExit=new L;_onEnter=new L;_animationState="void";_live;_label;_role;_liveElementId=f(Ne).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert")),this._rendersRef=rl(()=>this._renders.next(),{manualCleanup:!0})}attachComponentPortal(e){this._assertNotAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}attachDomPortal=e=>{this._assertNotAttached();let i=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),i};onAnimationEnd(e){e===Fw?this._completeExit():e===Ow&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?this._renders.pipe(lt(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(Ow)))}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(Ow)},200)))}exit(){return this._destroyed?pe(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?this._renders.pipe(lt(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(Fw)))}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(Fw),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit(),this._renders.complete(),this._rendersRef.destroy()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(a=>e.classList.add(a)):e.classList.add(i)),this._exposeToModals();let r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){let e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let o=i[r],a=o.getAttribute("aria-owns");this._trackedModals.add(o),a?a.indexOf(e)===-1&&o.setAttribute("aria-owns",a+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let i=e.getAttribute("aria-owns");if(i){let r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let e=this._elementRef.nativeElement,i=e.querySelector("[aria-hidden]"),r=e.querySelector("[aria-live]");if(i&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&i.contains(document.activeElement)&&(o=document.activeElement),i.removeAttribute("aria-hidden"),r.appendChild(i),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(i&1&&(se(gi,7),se(AG,7)),i&2){let o;q(o=Y())&&(r._portalOutlet=o.first),q(o=Y())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(i,r){i&1&&T("animationend",function(a){return r.onAnimationEnd(a.animationName)})("animationcancel",function(a){return r.onAnimationEnd(a.animationName)}),i&2&&N("mat-snack-bar-container-enter",r._animationState==="visible")("mat-snack-bar-container-exit",r._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!r._animationsDisabled)},features:[ge],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(b(0,"div",1)(1,"div",2,0)(3,"div",3),O(4,TG,0,0,"ng-template",4),w(),B(5,"div"),w()()),i&2&&(y(5),te("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[gi],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return n})();function LG(){return new vc}var NG=new P("mat-snack-bar-default-options",{providedIn:"root",factory:LG}),VG=(()=>{class n{_overlay=f(it);_live=f(ld);_injector=f(Ie);_breakpointObserver=f(is);_parentSnackBar=f(n,{optional:!0,skipSelf:!0});_defaultConfig=f(NG);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=bO;snackBarContainerComponent=FG;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){let o=E(E({},this._defaultConfig),r);return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){let r=i&&i.viewContainerRef&&i.viewContainerRef.injector,o=Ie.create({parent:r||this._injector,providers:[{provide:vc,useValue:i}]}),a=new Zi(this.snackBarContainerComponent,i.viewContainerRef,o),s=e.attach(a);return s.instance.snackBarConfig=i,s.instance}_attach(e,i){let r=E(E(E({},new vc),this._defaultConfig),i),o=this._createOverlay(r),a=this._attachSnackBarContainer(o,r),s=new Th(a,o);if(e instanceof Rt){let l=new xi(e,null,{$implicit:r.data,snackBarRef:s});s.instance=a.attachTemplatePortal(l)}else{let l=this._createInjector(r,s),c=new Zi(e,void 0,l),d=a.attachComponentPortal(c);s.instance=d.instance}return this._breakpointObserver.observe(Bo.HandsetPortrait).pipe(Ee(o.detachments())).subscribe(l=>{o.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(s,r),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter()}_createOverlay(e){let i=new Mn;i.direction=e.direction;let r=this._overlay.position().global(),o=e.direction==="rtl",a=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!o||e.horizontalPosition==="end"&&o,s=!a&&e.horizontalPosition!=="center";return a?r.left("0"):s?r.right("0"):r.centerHorizontally(),e.verticalPosition==="top"?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){let r=e&&e.viewContainerRef&&e.viewContainerRef.injector;return Ie.create({parent:r||this._injector,providers:[{provide:Th,useValue:i},{provide:_O,useValue:e.data}]})}static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var vO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({providers:[VG],imports:[ki,Jt,Ra,oe,bO,oe]})}return n})();var Lw=(()=>{class n{changes=new L;static \u0275fac=function(i){return new(i||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function BG(n){return n||new Lw}var zG={provide:Lw,deps:[[new vn,new lr,Lw]],useFactory:BG};var yO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({providers:[zG],imports:[oe]})}return n})();var wO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[oe,Cf,oe]})}return n})();var xO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[oe,oe]})}return n})();var CO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[oe,oe]})}return n})();var kO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[kf,oe,oe]})}return n})();var HG=["panelTemplate"],jG=(n,t)=>t.value;function UG(n,t){if(n&1){let e=be();b(0,"mat-option",3),T("onSelectionChange",function(r){W(e);let o=k(2);return G(o._selectValue(r.source))}),K(1),w()}if(n&2){let e=t.$implicit;M("value",e.value),y(),De(e.label)}}function $G(n,t){if(n&1){let e=be();b(0,"div",1),T("animationend",function(r){W(e);let o=k();return G(o._handleAnimationEnd(r))}),pi(1,UG,2,2,"mat-option",2,jG),w()}if(n&2){let e=k();N("mat-timepicker-panel-animations-enabled",!e._animationsDisabled)("mat-timepicker-panel-exit",!e.isOpen()),M("id",e.panelId),te("aria-label",e.ariaLabel()||null)("aria-labelledby",e._getAriaLabelledby()),y(),mi(e._timeOptions)}}var WG=[[["","matTimepickerToggleIcon",""]]],GG=["[matTimepickerToggleIcon]"];function qG(n,t){n&1&&(je(),b(0,"svg",1),B(1,"path",2),w())}var YG=/^(\d*\.?\d+)\s*(h|hour|hours|m|min|minute|minutes|s|second|seconds)?$/i,MO=new P("MAT_TIMEPICKER_CONFIG");function DO(n){let t;if(n===null)return null;if(typeof n=="number")t=n;else{if(n.trim().length===0)return null;let e=n.match(YG),i=e?parseFloat(e[1]):null,r=e?.[2]?.toLowerCase()||null;if(!e||i===null||isNaN(i))return null;r==="h"||r==="hour"||r==="hours"?t=i*3600:r==="m"||r==="min"||r==="minute"||r==="minutes"?t=i*60:t=i}return t}function KG(n,t,e,i,r){let o=[],a=n.compareTime(e,i)<1?e:i;for(;n.sameDate(a,e)&&n.compareTime(a,i)<1&&n.isValid(a);)o.push({value:a,label:n.format(a,t.display.timeOptionLabel)}),a=n.addSeconds(a,r);return o}var XG=new P("MAT_TIMEPICKER_SCROLL_STRATEGY",{providedIn:"root",factory:()=>{let n=f(it);return()=>n.scrollStrategies.reposition()}}),QG=(()=>{class n{_overlay=f(it);_dir=f(wt,{optional:!0});_viewContainerRef=f(kt);_injector=f(Ie);_defaultConfig=f(MO,{optional:!0});_dateAdapter=f(It,{optional:!0});_dateFormats=f(xr,{optional:!0});_scrollStrategyFactory=f(XG);_animationsDisabled=f(Oe,{optional:!0})==="NoopAnimations";_isOpen=rt(!1);_activeDescendant=rt(null);_input=rt(null);_overlayRef=null;_portal=null;_optionsCacheKey=null;_localeChanges;_onOpenRender=null;_panelTemplate=R1.required("panelTemplate");_timeOptions=[];_options=O1(Vo);_keyManager=new rs(this._options,this._injector).withHomeAndEnd(!0).withPageUpDown(!0).withVerticalOrientation(!0);interval=xe(DO(this._defaultConfig?.interval||null),{transform:DO});options=xe(null);isOpen=this._isOpen.asReadonly();selected=Ki();opened=Ki();closed=Ki();activeDescendant=this._activeDescendant.asReadonly();panelId=f(Ne).getId("mat-timepicker-panel-");disableRipple=xe(this._defaultConfig?.disableRipple??!1,{transform:ie});ariaLabel=xe(null,{alias:"aria-label"});ariaLabelledby=xe(null,{alias:"aria-labelledby"});disabled=Oi(()=>!!this._input()?.disabled());constructor(){f(Q).nativeElement.setAttribute("mat-timepicker-panel-id",this.panelId),this._handleLocaleChanges(),this._handleInputStateChanges(),this._keyManager.change.subscribe(()=>this._activeDescendant.set(this._keyManager.activeItem?.id||null))}open(){let e=this._input();if(!e||(e.focus(),this._isOpen()))return;this._isOpen.set(!0),this._generateOptions();let i=this._getOverlayRef();i.updateSize({width:e.getOverlayOrigin().nativeElement.offsetWidth}),this._portal??=new xi(this._panelTemplate(),this._viewContainerRef),i.hasAttached()||i.attach(this._portal),this._onOpenRender?.destroy(),this._onOpenRender=Ct(()=>{let r=this._options();this._syncSelectedState(e.value(),r,r[0]),this._onOpenRender=null},{injector:this._injector}),this.opened.emit()}close(){this._isOpen()&&(this._isOpen.set(!1),this.closed.emit(),this._animationsDisabled&&this._overlayRef?.detach())}registerInput(e){let i=this._input();this._input.set(e)}ngOnDestroy(){this._keyManager.destroy(),this._localeChanges.unsubscribe(),this._onOpenRender?.destroy(),this._overlayRef?.dispose()}_selectValue(e){this.close(),this._keyManager.setActiveItem(e),this._options().forEach(i=>{i!==e&&i.deselect(!1)}),this.selected.emit({value:e.value,source:this}),this._input()?.focus()}_getAriaLabelledby(){return this.ariaLabel()?null:this.ariaLabelledby()||this._input()?._getLabelId()||null}_handleAnimationEnd(e){e.animationName==="_mat-timepicker-exit"&&this._overlayRef?.detach()}_getOverlayRef(){if(this._overlayRef)return this._overlayRef;let e=this._overlay.position().flexibleConnectedTo(this._input().getOverlayOrigin()).withFlexibleDimensions(!1).withPush(!1).withTransformOriginOn(".mat-timepicker-panel").withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-timepicker-above"}]);return this._overlayRef=this._overlay.create({positionStrategy:e,scrollStrategy:this._scrollStrategyFactory(),direction:this._dir||"ltr",hasBackdrop:!1}),this._overlayRef.detachments().subscribe(()=>this.close()),this._overlayRef.keydownEvents().subscribe(i=>this._handleKeydown(i)),this._overlayRef.outsidePointerEvents().subscribe(i=>{let r=Bt(i),o=this._input()?.getOverlayOrigin().nativeElement;r&&o&&r!==o&&!o.contains(r)&&this.close()}),this._overlayRef}_generateOptions(){let e=this.interval()??1800,i=this.options();if(i!==null)this._timeOptions=i;else{let r=this._input(),o=this._dateAdapter,a=this._dateFormats.display.timeInput,s=r?.min()||o.setTime(o.today(),0,0,0),l=r?.max()||o.setTime(o.today(),23,59,0),c=e+"/"+o.format(s,a)+"/"+o.format(l,a);c!==this._optionsCacheKey&&(this._optionsCacheKey=c,this._timeOptions=KG(o,this._dateFormats,s,l,e))}}_syncSelectedState(e,i,r){let o=!1;for(let a of i)e&&this._dateAdapter.sameTime(a.value,e)?(a.select(!1),Nw(a,"center"),fi(()=>this._keyManager.setActiveItem(a)),o=!0):a.deselect(!1);o||(r?(fi(()=>this._keyManager.setActiveItem(r)),Nw(r,"center")):fi(()=>this._keyManager.setActiveItem(-1)))}_handleKeydown(e){let i=e.keyCode;if(i===9)this.close();else if(i===27&&!tt(e))e.preventDefault(),this.close();else if(i===13)e.preventDefault(),this._keyManager.activeItem?this._selectValue(this._keyManager.activeItem):this.close();else{let r=this._keyManager.activeItem;this._keyManager.onKeydown(e);let o=this._keyManager.activeItem;o&&o!==r&&Nw(o,"nearest")}}_handleLocaleChanges(){this._localeChanges=this._dateAdapter.localeChanges.subscribe(()=>{this._optionsCacheKey=null,this.isOpen()&&this._generateOptions()})}_handleInputStateChanges(){so(()=>{let e=this._input(),i=this._options();this._isOpen()&&e&&this._syncSelectedState(e.value(),i,null)})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-timepicker"]],viewQuery:function(i,r){i&1&&(S_(r._panelTemplate,HG,5),S_(r._options,Vo,5)),i&2&&_u(2)},inputs:{interval:[1,"interval"],options:[1,"options"],disableRipple:[1,"disableRipple"],ariaLabel:[1,"aria-label","ariaLabel"],ariaLabelledby:[1,"aria-labelledby","ariaLabelledby"]},outputs:{selected:"selected",opened:"opened",closed:"closed"},exportAs:["matTimepicker"],features:[ue([{provide:uc,useExisting:n}])],decls:2,vars:0,consts:[["panelTemplate",""],["role","listbox",1,"mat-timepicker-panel",3,"animationend","id"],[3,"value"],[3,"onSelectionChange","value"]],template:function(i,r){i&1&&O(0,$G,3,7,"ng-template",null,0,Cn)},dependencies:[Vo],styles:[`@keyframes _mat-timepicker-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-timepicker-exit{from{opacity:1}to{opacity:0}}mat-timepicker{display:none}.mat-timepicker-panel{width:100%;max-height:256px;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:relative;border-bottom-left-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));box-shadow:var(--mat-timepicker-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));background-color:var(--mat-timepicker-container-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){.mat-timepicker-panel{outline:solid 1px}}.mat-timepicker-above .mat-timepicker-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small))}.mat-timepicker-panel-animations-enabled{animation:_mat-timepicker-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-timepicker-panel-animations-enabled.mat-timepicker-panel-exit{animation:_mat-timepicker-exit 100ms linear}.mat-timepicker-input[readonly]{cursor:pointer}@media(forced-colors: active){.mat-timepicker-toggle-default-icon{color:CanvasText}}
`],encapsulation:2,changeDetection:0})}return n})();function Nw(n,t){n._getHostElement().scrollIntoView({block:t,inline:t})}var Yye=(()=>{class n{_elementRef=f(Q);_dateAdapter=f(It,{optional:!0});_dateFormats=f(xr,{optional:!0});_formField=f(Cr,{optional:!0});_onChange;_onTouched;_validatorOnChange;_cleanupClick;_accessorDisabled=rt(!1);_localeSubscription;_timepickerSubscription;_validator;_lastValueValid=!0;_lastValidDate=null;_ariaActiveDescendant=Oi(()=>{let e=this.timepicker(),i=e.isOpen(),r=e.activeDescendant();return i&&r?r:null});_ariaExpanded=Oi(()=>this.timepicker().isOpen()+"");_ariaControls=Oi(()=>{let e=this.timepicker();return e.isOpen()?e.panelId:null});value=Xi(null);timepicker=xe.required({alias:"matTimepicker"});min=xe(null,{alias:"matTimepickerMin",transform:e=>this._transformDateInput(e)});max=xe(null,{alias:"matTimepickerMax",transform:e=>this._transformDateInput(e)});disabled=Oi(()=>this.disabledInput()||this._accessorDisabled());disabledInput=xe(!1,{transform:ie,alias:"disabled"});constructor(){let e=f(Le);this._validator=this._getValidator(),this._respondToValueChanges(),this._respondToMinMaxChanges(),this._registerTimepicker(),this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._hasFocus()||this._formatValue(this.value())}),this._cleanupClick=e.listen(this.getOverlayOrigin().nativeElement,"click",this._handleClick)}writeValue(e){let i=this._dateAdapter.deserialize(e);this.value.set(this._dateAdapter.getValidDateOrNull(i))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._accessorDisabled.set(e)}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._validatorOnChange=e}getOverlayOrigin(){return this._formField?.getConnectedOverlayOrigin()||this._elementRef}focus(){this._elementRef.nativeElement.focus()}ngOnDestroy(){this._cleanupClick(),this._timepickerSubscription?.unsubscribe(),this._localeSubscription.unsubscribe()}_getLabelId(){return this._formField?.getLabelId()||null}_handleClick=()=>{this.disabled()||this.timepicker().open()};_handleInput(e){let i=this.value(),r=this._dateAdapter.parseTime(e,this._dateFormats.parse.timeInput),o=!this._dateAdapter.sameTime(r,i);!r||o||e&&!i?this._assignUserSelection(r,!0):this._validatorOnChange?.()}_handleBlur(){let e=this.value();e&&this._isValid(e)&&this._formatValue(e),this.timepicker().isOpen()||this._onTouched?.()}_handleKeydown(e){this.timepicker().isOpen()||this.disabled()||(e.keyCode===27&&!tt(e)&&this.value()!==null?(e.preventDefault(),this.value.set(null),this._formatValue(null)):(e.keyCode===40||e.keyCode===38)&&(e.preventDefault(),this.timepicker().open()))}_respondToValueChanges(){so(()=>{let e=this._dateAdapter.deserialize(this.value()),i=this._lastValueValid;this._lastValueValid=this._isValid(e),this._hasFocus()||this._formatValue(e),e&&this._lastValueValid&&(this._lastValidDate=e),i!==this._lastValueValid&&this._validatorOnChange?.()})}_registerTimepicker(){so(()=>{let e=this.timepicker();e.registerInput(this),e.closed.subscribe(()=>this._onTouched?.()),e.selected.subscribe(({value:i})=>{this._dateAdapter.sameTime(i,this.value())||(this._assignUserSelection(i,!0),this._formatValue(i))})})}_respondToMinMaxChanges(){so(()=>{this.min(),this.max(),this._validatorOnChange?.()})}_assignUserSelection(e,i){if(e==null||!this._isValid(e))this.value.set(e);else{let r=this._dateAdapter,o=r.getValidDateOrNull(this._lastValidDate||this.value()),a=r.getHours(e),s=r.getMinutes(e),l=r.getSeconds(e);this.value.set(o?r.setTime(o,a,s,l):e)}i&&this._onChange?.(this.value())}_formatValue(e){e=this._dateAdapter.getValidDateOrNull(e),this._elementRef.nativeElement.value=e==null?"":this._dateAdapter.format(e,this._dateFormats.display.timeInput)}_isValid(e){return!e||this._dateAdapter.isValid(e)}_transformDateInput(e){let i=typeof e=="string"?this._dateAdapter.parseTime(e,this._dateFormats.parse.timeInput):this._dateAdapter.deserialize(e);return i&&this._dateAdapter.isValid(i)?i:null}_hasFocus(){return Vi()===this._elementRef.nativeElement}_getValidator(){return ai.compose([()=>this._lastValueValid?null:{matTimepickerParse:{text:this._elementRef.nativeElement.value}},e=>{let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),r=this.min();return!r||!i||this._dateAdapter.compareTime(r,i)<=0?null:{matTimepickerMin:{min:r,actual:i}}},e=>{let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),r=this.max();return!r||!i||this._dateAdapter.compareTime(r,i)>=0?null:{matTimepickerMax:{max:r,actual:i}}}])}static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["input","matTimepicker",""]],hostAttrs:["role","combobox","type","text","aria-haspopup","listbox",1,"mat-timepicker-input"],hostVars:5,hostBindings:function(i,r){if(i&1&&T("blur",function(){return r._handleBlur()})("input",function(a){return r._handleInput(a.target.value)})("keydown",function(a){return r._handleKeydown(a)}),i&2){let o;yt("disabled",r.disabled()),te("aria-activedescendant",r._ariaActiveDescendant())("aria-expanded",r._ariaExpanded())("aria-controls",r._ariaControls())("mat-timepicker-id",(o=r.timepicker())==null?null:o.panelId)}},inputs:{value:[1,"value"],timepicker:[1,"matTimepicker","timepicker"],min:[1,"matTimepickerMin","min"],max:[1,"matTimepickerMax","max"],disabledInput:[1,"disabled","disabledInput"]},outputs:{value:"valueChange"},exportAs:["matTimepickerInput"],features:[ue([{provide:Ot,useExisting:n,multi:!0},{provide:en,useExisting:n,multi:!0},{provide:mc,useExisting:n}])]})}return n})(),ZG=(()=>{class n{_defaultConfig=f(MO,{optional:!0});_defaultTabIndex=(()=>{let e=f(new hi("tabindex"),{optional:!0}),i=Number(e);return isNaN(i)?null:i})();_isDisabled=Oi(()=>{let e=this.timepicker();return this.disabled()||e.disabled()});timepicker=xe.required({alias:"for"});ariaLabel=xe(void 0,{alias:"aria-label"});ariaLabelledby=xe(void 0,{alias:"aria-labelledby"});_defaultAriaLabel="Open timepicker options";disabled=xe(!1,{transform:ie,alias:"disabled"});tabIndex=xe(this._defaultTabIndex);disableRipple=xe(this._defaultConfig?.disableRipple??!1,{transform:ie});_open(e){this.timepicker()&&!this._isDisabled()&&(this.timepicker().open(),e.stopPropagation())}getAriaLabel(){return this.ariaLabelledby()?null:this.ariaLabel()||this._defaultAriaLabel}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=I({type:n,selectors:[["mat-timepicker-toggle"]],hostAttrs:[1,"mat-timepicker-toggle"],hostVars:1,hostBindings:function(i,r){i&1&&T("click",function(a){return r._open(a)}),i&2&&te("tabindex",null)},inputs:{timepicker:[1,"for","timepicker"],ariaLabel:[1,"aria-label","ariaLabel"],ariaLabelledby:[1,"aria-labelledby","ariaLabelledby"],disabled:[1,"disabled"],tabIndex:[1,"tabIndex"],disableRipple:[1,"disableRipple"]},exportAs:["matTimepickerToggle"],ngContentSelectors:GG,decls:3,vars:6,consts:[["mat-icon-button","","type","button","aria-haspopup","listbox",3,"disabled","disableRipple"],["height","24px","width","24px","viewBox","0 -960 960 960","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-timepicker-toggle-default-icon"],["d","m612-292 56-56-148-148v-184h-80v216l172 172ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 320q133 0 226.5-93.5T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160Z"]],template:function(i,r){i&1&&(me(WG),b(0,"button",0),re(1,0,null,qG,2,0),w()),i&2&&(M("disabled",r._isDisabled())("disableRipple",r.disableRipple()),te("aria-label",r.getAriaLabel())("aria-labelledby",r.ariaLabelledby())("aria-expanded",r.timepicker().isOpen())("tabindex",r._isDisabled()?-1:r.tabIndex()))},dependencies:[Pa],encapsulation:2,changeDetection:0})}return n})(),SO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({imports:[QG,ZG,Zt]})}return n})();var fC={};U2(fC,{AbortException:()=>Xq,AnnotationEditorLayer:()=>Qq,AnnotationEditorParamsType:()=>Zq,AnnotationEditorType:()=>XO,AnnotationEditorUIManager:()=>Jq,AnnotationLayer:()=>eY,AnnotationMode:()=>tY,ColorPicker:()=>iY,DOMSVGFactory:()=>nY,DrawLayer:()=>rY,FeatureTest:()=>oY,GlobalWorkerOptions:()=>QO,ImageKind:()=>aY,InvalidPDFException:()=>sY,MissingPDFException:()=>lY,OPS:()=>cY,OutputScale:()=>dY,PDFDataRangeTransport:()=>hY,PDFDateString:()=>uY,PDFWorker:()=>pY,PasswordResponses:()=>mY,PermissionFlag:()=>fY,PixelsPerInch:()=>gY,RenderingCancelledException:()=>_Y,TextLayer:()=>bY,UnexpectedResponseException:()=>vY,Util:()=>yY,VerbosityLevel:()=>mC,XfaLayer:()=>wY,build:()=>xY,createValidAbsoluteUrl:()=>CY,fetchData:()=>kY,getDocument:()=>ZO,getFilenameFromUrl:()=>DY,getPdfFilenameFromUrl:()=>MY,getXfaPageViewport:()=>SY,isDataScheme:()=>EY,isPdfFile:()=>AY,noContextMenu:()=>TY,normalizeUnicode:()=>IY,setLayerDimensions:()=>PY,shadow:()=>RY,version:()=>JO});var Fh={};Fh.d=(n,t)=>{for(var e in t)Fh.o(t,e)&&!Fh.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})};Fh.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var He=globalThis.pdfjsLib={};Fh.d(He,{AbortException:()=>Wo,AnnotationEditorLayer:()=>Kq,AnnotationEditorParamsType:()=>Be,AnnotationEditorType:()=>Ge,AnnotationEditorUIManager:()=>Hh,AnnotationLayer:()=>eC,AnnotationMode:()=>La,ColorPicker:()=>Ig,DOMSVGFactory:()=>Gh,DrawLayer:()=>aC,FeatureTest:()=>Ei,GlobalWorkerOptions:()=>Ys,ImageKind:()=>Zf,InvalidPDFException:()=>tg,MissingPDFException:()=>$o,OPS:()=>kr,OutputScale:()=>zh,PDFDataRangeTransport:()=>_g,PDFDateString:()=>ng,PDFWorker:()=>xc,PasswordResponses:()=>nq,PermissionFlag:()=>iq,PixelsPerInch:()=>Na,RenderingCancelledException:()=>Bh,TextLayer:()=>$h,UnexpectedResponseException:()=>Cc,Util:()=>Ce,VerbosityLevel:()=>Rg,XfaLayer:()=>yg,build:()=>qq,createValidAbsoluteUrl:()=>sq,fetchData:()=>Ng,getDocument:()=>Uq,getFilenameFromUrl:()=>fq,getPdfFilenameFromUrl:()=>gq,getXfaPageViewport:()=>_q,isDataScheme:()=>Vg,isPdfFile:()=>cC,noContextMenu:()=>sr,normalizeUnicode:()=>uq,setLayerDimensions:()=>Ks,shadow:()=>nt,version:()=>Gq});var Gi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),UO=[1,0,0,1,0,0],Uw=[.001,0,0,.001,0,0],JG=1e7,Qf=1.35,eq=.35,Xye=eq/Qf,Bn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},La={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},tq="pdfjs_internal_editor_",Ge={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Be={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},iq={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Wi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Zf={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},li={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};var Ih={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};var Rg={ERRORS:0,WARNINGS:1,INFOS:5},kr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},nq={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Og=Rg.WARNINGS;function rq(n){Number.isInteger(n)&&(Og=n)}function oq(){return Og}function Fg(n){Og>=Rg.INFOS&&console.log(`Info: ${n}`)}function Xe(n){Og>=Rg.WARNINGS&&console.log(`Warning: ${n}`)}function At(n){throw new Error(n)}function ci(n,t){n||At(t)}function aq(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function sq(n,t=null,e=null){if(!n)return null;try{if(e&&typeof n=="string"&&(e.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),e.tryConvertEncoding))try{n=hq(n)}catch{}let i=t?new URL(n,t):new URL(n);if(aq(i))return i}catch{}return null}function nt(n,t,e,i=!1){return Object.defineProperty(n,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}var Va=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}(),Lh=class extends Va{constructor(t,e){super(t,"PasswordException"),this.code=e}},Nh=class extends Va{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}},tg=class extends Va{constructor(t){super(t,"InvalidPDFException")}},$o=class extends Va{constructor(t){super(t,"MissingPDFException")}},Cc=class extends Va{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}},$w=class extends Va{constructor(t){super(t,"FormatError")}},Wo=class extends Va{constructor(t){super(t,"AbortException")}};function $O(n){(typeof n!="object"||n?.length===void 0)&&At("Invalid argument for bytesToString");let t=n.length,e=8192;if(t<e)return String.fromCharCode.apply(null,n);let i=[];for(let r=0;r<t;r+=e){let o=Math.min(r+e,t),a=n.subarray(r,o);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function Lg(n){typeof n!="string"&&At("Invalid argument for stringToBytes");let t=n.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=n.charCodeAt(i)&255;return e}function lq(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function sC(n){let t=Object.create(null);for(let[e,i]of n)t[e]=i;return t}function cq(){let n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function dq(){try{return new Function(""),!0}catch{return!1}}var Ei=class{static get isLittleEndian(){return nt(this,"isLittleEndian",cq())}static get isEvalSupported(){return nt(this,"isEvalSupported",dq())}static get isOffscreenCanvasSupported(){return nt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?nt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof navigator?.userAgent=="string"&&navigator.userAgent.includes("Firefox")}):nt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){return nt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}},Vw=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0")),Ce=class{static makeHexColor(t,e,i){return`#${Vw[t]}${Vw[e]}${Vw[i]}`}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){let i=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[i,r]}static applyInverseTransform(t,e){let i=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/i,o=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/i;return[r,o]}static getAxialAlignedBoundingBox(t,e){let i=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),o=this.applyTransform([t[0],t[3]],e),a=this.applyTransform([t[2],t[1]],e);return[Math.min(i[0],r[0],o[0],a[0]),Math.min(i[1],r[1],o[1],a[1]),Math.max(i[0],r[0],o[0],a[0]),Math.max(i[1],r[1],o[1],a[1])]}static inverseTransform(t){let e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){let e=[t[0],t[2],t[1],t[3]],i=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],o=t[2]*e[0]+t[3]*e[2],a=t[2]*e[1]+t[3]*e[3],s=(i+a)/2,l=Math.sqrt((i+a)**2-4*(i*a-o*r))/2,c=s+l||1,d=s-l||1;return[Math.sqrt(c),Math.sqrt(d)]}static normalizeRect(t){let e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){let i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>r)return null;let o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),a=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>a?null:[i,o,r,a]}static#e(t,e,i,r,o,a,s,l,c,d){if(c<=0||c>=1)return;let h=1-c,u=c*c,p=u*c,m=h*(h*(h*t+3*c*e)+3*u*i)+p*r,g=h*(h*(h*o+3*c*a)+3*u*s)+p*l;d[0]=Math.min(d[0],m),d[1]=Math.min(d[1],g),d[2]=Math.max(d[2],m),d[3]=Math.max(d[3],g)}static#t(t,e,i,r,o,a,s,l,c,d,h,u){if(Math.abs(c)<1e-12){Math.abs(d)>=1e-12&&this.#e(t,e,i,r,o,a,s,l,-h/d,u);return}let p=d**2-4*h*c;if(p<0)return;let m=Math.sqrt(p),g=2*c;this.#e(t,e,i,r,o,a,s,l,(-d+m)/g,u),this.#e(t,e,i,r,o,a,s,l,(-d-m)/g,u)}static bezierBoundingBox(t,e,i,r,o,a,s,l,c){return c?(c[0]=Math.min(c[0],t,s),c[1]=Math.min(c[1],e,l),c[2]=Math.max(c[2],t,s),c[3]=Math.max(c[3],e,l)):c=[Math.min(t,s),Math.min(e,l),Math.max(t,s),Math.max(e,l)],this.#t(t,i,o,s,e,r,a,l,3*(-t+3*(i-o)+s),6*(t-2*i+o),3*(i-t),c),this.#t(t,i,o,s,e,r,a,l,3*(-e+3*(r-a)+l),6*(e-2*r+a),3*(r-e),c),c}};function hq(n){return decodeURIComponent(escape(n))}var Bw=null,EO=null;function uq(n){return Bw||(Bw=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,EO=new Map([["\uFB05","\u017Ft"]])),n.replaceAll(Bw,(t,e,i)=>e?e.normalize("NFKC"):EO.get(i))}function pq(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();let n=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(n);else for(let t=0;t<32;t++)n[t]=Math.floor(Math.random()*255);return $O(n)}var lC="pdfjs_internal_id_",zo={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function mq(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa($O(n))}var jo="http://www.w3.org/2000/svg",Na=class{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF};function Ng(n,t="text"){return U(this,null,function*(){if(Oh(n,document.baseURI)){let e=yield fetch(n);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{let r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})})}var Vh=class n{constructor({viewBox:t,scale:e,rotation:i,offsetX:r=0,offsetY:o=0,dontFlip:a=!1}){this.viewBox=t,this.scale=e,this.rotation=i,this.offsetX=r,this.offsetY=o;let s=(t[2]+t[0])/2,l=(t[3]+t[1])/2,c,d,h,u;switch(i%=360,i<0&&(i+=360),i){case 180:c=-1,d=0,h=0,u=1;break;case 90:c=0,d=1,h=1,u=0;break;case 270:c=0,d=-1,h=-1,u=0;break;case 0:c=1,d=0,h=0,u=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(h=-h,u=-u);let p,m,g,_;c===0?(p=Math.abs(l-t[1])*e+r,m=Math.abs(s-t[0])*e+o,g=(t[3]-t[1])*e,_=(t[2]-t[0])*e):(p=Math.abs(s-t[0])*e+r,m=Math.abs(l-t[1])*e+o,g=(t[2]-t[0])*e,_=(t[3]-t[1])*e),this.transform=[c*e,d*e,h*e,u*e,p-c*e*s-h*e*l,m-d*e*s-u*e*l],this.width=g,this.height=_}get rawDims(){let{viewBox:t}=this;return nt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new n({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:o})}convertToViewportPoint(t,e){return Ce.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){let e=Ce.applyTransform([t[0],t[1]],this.transform),i=Ce.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){return Ce.applyInverseTransform([t,e],this.transform)}},Bh=class extends Va{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}};function Vg(n){let t=n.length,e=0;for(;e<t&&n[e].trim()==="";)e++;return n.substring(e,e+5).toLowerCase()==="data:"}function cC(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function fq(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function gq(n,t="document.pdf"){if(typeof n!="string")return t;if(Vg(n))return Xe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;let e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(n),o=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=i.exec(decodeURIComponent(o))[0]}catch{}return o||t}var ig=class{started=Object.create(null);times=[];time(t){t in this.started&&Xe(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Xe(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){let t=[],e=0;for(let{name:i}of this.times)e=Math.max(i.length,e);for(let{name:i,start:r,end:o}of this.times)t.push(`${i.padEnd(e)} ${o-r}ms
`);return t.join("")}};function Oh(n,t){try{let{protocol:e}=t?new URL(n,t):new URL(n);return e==="http:"||e==="https:"}catch{return!1}}function sr(n){n.preventDefault()}function AO(n){console.log("Deprecated API usage: "+n)}var ng=class{static#e;static toDateObject(t){if(!t||typeof t!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");let e=this.#e.exec(t);if(!e)return null;let i=parseInt(e[1],10),r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let a=parseInt(e[4],10);a=a>=0&&a<=23?a:0;let s=parseInt(e[5],10);s=s>=0&&s<=59?s:0;let l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;let c=e[7]||"Z",d=parseInt(e[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(e[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(a+=d,s+=h):c==="+"&&(a-=d,s-=h),new Date(Date.UTC(i,r,o,a,s,l))}};function _q(n,{scale:t=1,rotation:e=0}){let{width:i,height:r}=n.attributes.style,o=[0,0,parseInt(i),parseInt(r)];return new Vh({viewBox:o,scale:t,rotation:e})}function dC(n){if(n.startsWith("#")){let t=parseInt(n.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(t=>parseInt(t)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Xe(`Not a valid color format: "${n}"`),[0,0,0])}function bq(n){let t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(let e of n.keys()){t.style.color=e;let i=window.getComputedStyle(t).color;n.set(e,dC(i))}t.remove()}function Ft(n){let{a:t,b:e,c:i,d:r,e:o,f:a}=n.getTransform();return[t,e,i,r,o,a]}function Ho(n){let{a:t,b:e,c:i,d:r,e:o,f:a}=n.getTransform().invertSelf();return[t,e,i,r,o,a]}function Ks(n,t,e=!1,i=!0){if(t instanceof Vh){let{pageWidth:r,pageHeight:o}=t.rawDims,{style:a}=n,s=Ei.isCSSRoundSupported,l=`var(--scale-factor) * ${r}px`,c=`var(--scale-factor) * ${o}px`,d=s?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,h=s?`round(down, ${c}, var(--scale-round-y, 1px))`:`calc(${c})`;!e||t.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}i&&n.setAttribute("data-main-rotation",t.rotation)}var zh=class{constructor(){let t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}},Ww=class n{#e=null;#t=null;#i;#n=null;#r=null;static#o=null;constructor(t){this.#i=t,n.#o||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"})}render(){let t=this.#e=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");let e=this.#i._uiManager._signal;t.addEventListener("contextmenu",sr,{signal:e}),t.addEventListener("pointerdown",n.#l,{signal:e});let i=this.#n=document.createElement("div");i.className="buttons",t.append(i);let r=this.#i.toolbarPosition;if(r){let{style:o}=t,a=this.#i._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*a}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return this.#h(),t}get div(){return this.#e}static#l(t){t.stopPropagation()}#c(t){this.#i._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()}#d(t){this.#i._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()}#s(t){let e=this.#i._uiManager._signal;t.addEventListener("focusin",this.#c.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",sr,{signal:e})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#r?.shown()}#h(){let{editorType:t,_uiManager:e}=this.#i,i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",n.#o[t]),this.#s(i),i.addEventListener("click",r=>{e.delete()},{signal:e._signal}),this.#n.append(i)}get#a(){let t=document.createElement("div");return t.className="divider",t}addAltText(t){return U(this,null,function*(){let e=yield t.render();this.#s(e),this.#n.prepend(e,this.#a),this.#r=t})}addColorPicker(t){this.#t=t;let e=t.renderButton();this.#s(e),this.#n.prepend(e,this.#a)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}},Gw=class{#e=null;#t=null;#i;constructor(t){this.#i=t}#n(){let t=this.#t=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",sr,{signal:this.#i._signal});let e=this.#e=document.createElement("div");return e.className="buttons",t.append(e),this.#o(),t}#r(t,e){let i=0,r=0;for(let o of t){let a=o.y+o.height;if(a<i)continue;let s=o.x+(e?o.width:0);if(a>i){r=s,i=a;continue}e?s>r&&(r=s):s<r&&(r=s)}return[e?1-r:r,i]}show(t,e,i){let[r,o]=this.#r(e,i),{style:a}=this.#t||=this.#n();t.append(this.#t),a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#o(){let t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");let e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");let i=this.#i._signal;t.addEventListener("contextmenu",sr,{signal:i}),t.addEventListener("click",()=>{this.#i.highlightSelection("floating_button")},{signal:i}),this.#e.append(t)}};function rg(n,t,e){for(let i of e)t.addEventListener(i,n[i].bind(n))}function vq(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var qw=class{#e=0;get id(){return`${tq}${this.#e++}`}},Yw=class n{#e=pq();#t=0;#i=null;static get _isSVGFittingCanvas(){let t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;let o=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return nt(this,"_isSVGFittingCanvas",o)}#n(t,e){return U(this,null,function*(){this.#i||=new Map;let i=this.#i.get(t);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let r;if(typeof e=="string"?(i.url=e,r=yield Ng(e,"blob")):e instanceof File?r=i.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){let o=n._isSVGFittingCanvas,a=new FileReader,s=new Image,l=new Promise((c,d)=>{s.onload=()=>{i.bitmap=s,i.isSvg=!0,c()},a.onload=()=>U(this,null,function*(){let h=i.svgUrl=a.result;s.src=(yield o)?`${h}#svgView(preserveAspectRatio(none))`:h}),s.onerror=a.onerror=d});a.readAsDataURL(r),yield l}else i.bitmap=yield createImageBitmap(r);i.refCounter=1}catch(r){console.error(r),i=null}return this.#i.set(t,i),i&&this.#i.set(i.id,i),i})}getFromFile(t){return U(this,null,function*(){let{lastModified:e,name:i,size:r,type:o}=t;return this.#n(`${e}_${i}_${r}_${o}`,t)})}getFromUrl(t){return U(this,null,function*(){return this.#n(t,t)})}getFromBlob(t,e){return U(this,null,function*(){let i=yield e;return this.#n(t,i)})}getFromId(t){return U(this,null,function*(){this.#i||=new Map;let e=this.#i.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){let{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)})}getFromCanvas(t,e){this.#i||=new Map;let i=this.#i.get(t);if(i?.bitmap)return i.refCounter+=1,i;let r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#i.set(t,i),this.#i.set(i.id,i),i}getSvgUrl(t){let e=this.#i.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#i||=new Map;let e=this.#i.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;let{bitmap:i}=e;if(!e.url&&!e.file){let r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=r.convertToBlob()}i.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#e}_`)}},Kw=class{#e=[];#t=!1;#i;#n=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:e,post:i,mustExec:r,type:o=NaN,overwriteIfSameType:a=!1,keepUndo:s=!1}){if(r&&t(),this.#t)return;let l={cmd:t,undo:e,post:i,type:o};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(l);return}if(a&&this.#e[this.#n].type===o){s&&(l.undo=this.#e[this.#n].undo),this.#e[this.#n]=l;return}let c=this.#n+1;c===this.#i?this.#e.splice(0,1):(this.#n=c,c<this.#e.length&&this.#e.splice(c)),this.#e.push(l)}undo(){if(this.#n===-1)return;this.#t=!0;let{undo:t,post:e}=this.#e[this.#n];t(),e?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;let{cmd:t,post:e}=this.#e[this.#n];t(),e?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}destroy(){this.#e=null}},Xs=class{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let{isMac:e}=Ei.platform;for(let[i,r,o={}]of t)for(let a of i){let s=a.startsWith("mac+");e&&s?(this.callbacks.set(a.slice(4),{callback:r,options:o}),this.allKeys.add(a.split("+").at(-1))):!e&&!s&&(this.callbacks.set(a,{callback:r,options:o}),this.allKeys.add(a.split("+").at(-1)))}}#e(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);let e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;let i=this.callbacks.get(this.#e(e));if(!i)return;let{callback:r,options:{bubbles:o=!1,args:a=[],checker:s=null}}=i;s&&!s(t,e)||(r.bind(t,...a,e)(),o||(e.stopPropagation(),e.preventDefault()))}},Xw=class n{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let t=new Map([["CanvasText",null],["Canvas",null]]);return bq(t),nt(this,"_colors",t)}convert(t){let e=dC(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(let[i,r]of this._colors)if(r.every((o,a)=>o===e[a]))return n._colorsMapping.get(i);return e}getHexCode(t){let e=this._colors.get(t);return e?Ce.makeHexColor(...e):t}},Hh=(()=>{class n{#e=new AbortController;#t=null;#i=new Map;#n=new Map;#r=null;#o=null;#l=null;#c=new Kw;#d=null;#s=0;#h=new Set;#a=null;#u=null;#m=new Set;#p=!1;#f=!1;#_=!1;#g=null;#b=null;#y=null;#C=null;#w=!1;#x=null;#T=new qw;#S=!1;#k=!1;#E=null;#M=null;#I=null;#R=null;#D=Ge.NONE;#v=new Set;#A=null;#P=null;#N=null;#H={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#z=[0,0];#L=null;#V=null;#B=null;#O=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){let e=n.prototype,i=s=>s.#V.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),r=(s,{target:l})=>{if(l instanceof HTMLInputElement){let{type:c}=l;return c!=="text"&&c!=="number"}return!0},o=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return nt(this,"_keyboardManager",new Xs([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:l})=>!(l instanceof HTMLButtonElement)&&s.#V.contains(l)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:l})=>!(l instanceof HTMLButtonElement)&&s.#V.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:i}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:i}]]))}constructor(e,i,r,o,a,s,l,c,d,h,u){let p=this._signal=this.#e.signal;this.#V=e,this.#B=i,this.#r=r,this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:p}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:p}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:p}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:p}),o._on("setpreference",this.onSetPreference.bind(this),{signal:p}),o._on("switchannotationeditorparams",m=>this.updateParams(m.type,m.value),{signal:p}),this.#ee(),this.#re(),this.#q(),this.#o=a.annotationStorage,this.#g=a.filterFactory,this.#P=s,this.#C=l||null,this.#p=c,this.#f=d,this.#_=h,this.#R=u||null,this.viewParameters={realScale:Na.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#O?.resolve(),this.#O=null,this.#e?.abort(),this.#e=null,this._signal=null;for(let e of this.#n.values())e.destroy();this.#n.clear(),this.#i.clear(),this.#m.clear(),this.#t=null,this.#v.clear(),this.#c.destroy(),this.#r?.destroy(),this.#x?.hide(),this.#x=null,this.#b&&(clearTimeout(this.#b),this.#b=null),this.#L&&(clearTimeout(this.#L),this.#L=null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#R}get useNewAltTextFlow(){return this.#f}get useNewAltTextWhenAddingImage(){return this.#_}get hcmFilter(){return nt(this,"hcmFilter",this.#P?this.#g.addHCMFilter(this.#P.foreground,this.#P.background):"none")}get direction(){return nt(this,"direction",getComputedStyle(this.#V).direction)}get highlightColors(){return nt(this,"highlightColors",this.#C?new Map(this.#C.split(",").map(e=>e.split("=").map(i=>i.trim()))):null)}get highlightColorNames(){return nt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){this.#I=e}editAltText(e,i=!1){this.#r?.editAltText(this,e,i)}switchToMode(e,i){this._eventBus.on("annotationeditormodechanged",i,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,i){this._eventBus.dispatch("setpreference",{source:this,name:e,value:i})}onSetPreference({name:e,value:i}){switch(e){case"enableNewAltTextWhenAddingImage":this.#_=i;break}}onPageChanging({pageNumber:e}){this.#s=e-1}focusMainContainer(){this.#V.focus()}findParent(e,i){for(let r of this.#n.values()){let{x:o,y:a,width:s,height:l}=r.div.getBoundingClientRect();if(e>=o&&e<=o+s&&i>=a&&i<=a+l)return r}return null}disableUserSelect(e=!1){this.#B.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#m.add(e)}removeShouldRescale(e){this.#m.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Na.PDF_TO_CSS_UNITS;for(let i of this.#m)i.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#$({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#G(e){let{currentLayer:i}=this;if(i.hasTextLayer(e))return i;for(let r of this.#n.values())if(r.hasTextLayer(e))return r;return null}highlightSelection(e=""){let i=document.getSelection();if(!i||i.isCollapsed)return;let{anchorNode:r,anchorOffset:o,focusNode:a,focusOffset:s}=i,l=i.toString(),d=this.#$(i).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;i.empty();let u=this.#G(d),p=this.#D===Ge.NONE,m=()=>{u?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:o,focusNode:a,focusOffset:s,text:l}),p&&this.showAllEditors("highlight",!0,!0)};if(p){this.switchToMode(Ge.HIGHLIGHT,m);return}m()}#Z(){let e=document.getSelection();if(!e||e.isCollapsed)return;let r=this.#$(e).closest(".textLayer"),o=this.getSelectionBoxes(r);o&&(this.#x||=new Gw(this),this.#x.show(r,o,this.direction==="ltr"))}addToAnnotationStorage(e){!e.isEmpty()&&this.#o&&!this.#o.has(e.id)&&this.#o.setValue(e.id,e)}#J(){let e=document.getSelection();if(!e||e.isCollapsed){this.#A&&(this.#x?.hide(),this.#A=null,this.#F({hasSelectedText:!1}));return}let{anchorNode:i}=e;if(i===this.#A)return;let o=this.#$(e).closest(".textLayer");if(!o){this.#A&&(this.#x?.hide(),this.#A=null,this.#F({hasSelectedText:!1}));return}if(this.#x?.hide(),this.#A=i,this.#F({hasSelectedText:!0}),!(this.#D!==Ge.HIGHLIGHT&&this.#D!==Ge.NONE)&&(this.#D===Ge.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#w=this.isShiftKeyDown,!this.isShiftKeyDown)){let a=this.#D===Ge.HIGHLIGHT?this.#G(o):null;a?.toggleDrawing();let s=new AbortController,l=this.combinedSignal(s),c=d=>{d.type==="pointerup"&&d.button!==0||(s.abort(),a?.toggleDrawing(!0),d.type==="pointerup"&&this.#W("main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}}#W(e=""){this.#D===Ge.HIGHLIGHT?this.highlightSelection(e):this.#p&&this.#Z()}#ee(){document.addEventListener("selectionchange",this.#J.bind(this),{signal:this._signal})}#te(){if(this.#y)return;this.#y=new AbortController;let e=this.combinedSignal(this.#y);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#ie(){this.#y?.abort(),this.#y=null}blur(){if(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#W("main_toolbar")),!this.hasSelection)return;let{activeElement:e}=document;for(let i of this.#v)if(i.div.contains(e)){this.#M=[i,e],i._focusEventsAllowed=!1;break}}focus(){if(!this.#M)return;let[e,i]=this.#M;this.#M=null,i.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),i.focus()}#q(){if(this.#E)return;this.#E=new AbortController;let e=this.combinedSignal(this.#E);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ne(){this.#E?.abort(),this.#E=null}#Y(){if(this.#d)return;this.#d=new AbortController;let e=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#K(){this.#d?.abort(),this.#d=null}#re(){let e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#q(),this.#Y()}removeEditListeners(){this.#ne(),this.#K()}dragOver(e){for(let{type:i}of e.dataTransfer.items)for(let r of this.#u)if(r.isHandlingMimeForPasting(i)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(let i of e.dataTransfer.items)for(let r of this.#u)if(r.isHandlingMimeForPasting(i.type)){r.paste(i,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;let i=[];for(let r of this.#v){let o=r.serialize(!0);o&&i.push(o)}i.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(e){this.copy(e),this.delete()}paste(e){return U(this,null,function*(){e.preventDefault();let{clipboardData:i}=e;for(let a of i.items)for(let s of this.#u)if(s.isHandlingMimeForPasting(a.type)){s.paste(a,this.currentLayer);return}let r=i.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(a){Xe(`paste: "${a.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();let o=this.currentLayer;try{let a=[];for(let c of r){let d=yield o.deserialize(c);if(!d)return;a.push(d)}let s=()=>{for(let c of a)this.#X(c);this.#Q(a)},l=()=>{for(let c of a)c.remove()};this.addCommands({cmd:s,undo:l,mustExec:!0})}catch(a){Xe(`paste: "${a.message}".`)}})}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#D!==Ge.NONE&&!this.isEditorHandlingKeyboard&&n._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#W("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#F(e){Object.entries(e).some(([r,o])=>this.#H[r]!==o)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#H,e)}),this.#D===Ge.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#j([[Be.HIGHLIGHT_FREE,!0]]))}#j(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#te(),this.#Y(),this.#F({isEditing:this.#D!==Ge.NONE,isEmpty:this.#U(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ie(),this.#K(),this.#F({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(let i of this.#u)this.#j(i.defaultPropertiesToUpdate)}}getId(){return this.#T.id}get currentLayer(){return this.#n.get(this.#s)}getLayer(e){return this.#n.get(e)}get currentPageIndex(){return this.#s}addLayer(e){this.#n.set(e.pageIndex,e),this.#S?e.enable():e.disable()}removeLayer(e){this.#n.delete(e.pageIndex)}updateMode(e,i=null,r=!1){return U(this,null,function*(){if(this.#D!==e&&!(this.#O&&(yield this.#O.promise,!this.#O))){if(this.#O=Promise.withResolvers(),this.#D=e,e===Ge.NONE){this.setEditingState(!1),this.#ae(),this.#O.resolve();return}this.setEditingState(!0),yield this.#oe(),this.unselectAll();for(let o of this.#n.values())o.updateMode(e);if(!i){r&&this.addNewEditorFromKeyboard(),this.#O.resolve();return}for(let o of this.#i.values())o.annotationElementId===i?(this.setSelected(o),o.enterInEditMode()):o.unselect();this.#O.resolve()}})}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==this.#D&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,i){if(this.#u){switch(e){case Be.CREATE:this.currentLayer.addNewEditor();return;case Be.HIGHLIGHT_DEFAULT_COLOR:this.#I?.updateColor(i);break;case Be.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#N||=new Map).set(e,i),this.showAllEditors("highlight",i);break}for(let r of this.#v)r.updateParams(e,i);for(let r of this.#u)r.updateDefaultParams(e,i)}}showAllEditors(e,i,r=!1){for(let a of this.#i.values())a.editorType===e&&a.show(i);(this.#N?.get(Be.HIGHLIGHT_SHOW_ALL)??!0)!==i&&this.#j([[Be.HIGHLIGHT_SHOW_ALL,i]])}enableWaiting(e=!1){if(this.#k!==e){this.#k=e;for(let i of this.#n.values())e?i.disableClick():i.enableClick(),i.div.classList.toggle("waiting",e)}}#oe(){return U(this,null,function*(){if(!this.#S){this.#S=!0;let e=[];for(let i of this.#n.values())e.push(i.enable());yield Promise.all(e);for(let i of this.#i.values())i.enable()}})}#ae(){if(this.unselectAll(),this.#S){this.#S=!1;for(let e of this.#n.values())e.disable();for(let e of this.#i.values())e.disable()}}getEditors(e){let i=[];for(let r of this.#i.values())r.pageIndex===e&&i.push(r);return i}getEditor(e){return this.#i.get(e)}addEditor(e){this.#i.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.focusMainContainer(),this.#b=null},0)),this.#i.delete(e.id),this.unselect(e),(!e.annotationElementId||!this.#h.has(e.annotationElementId))&&this.#o?.remove(e.id)}addDeletedAnnotationElement(e){this.#h.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#h.has(e)}removeDeletedAnnotationElement(e){this.#h.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#X(e){let i=this.#n.get(e.pageIndex);i?i.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#j(e.propertiesToUpdate))}get#se(){let e=null;for(e of this.#v);return e}updateUI(e){this.#se===e&&this.#j(e.propertiesToUpdate)}toggleSelected(e){if(this.#v.has(e)){this.#v.delete(e),e.unselect(),this.#F({hasSelectedEditor:this.hasSelection});return}this.#v.add(e),e.select(),this.#j(e.propertiesToUpdate),this.#F({hasSelectedEditor:!0})}setSelected(e){for(let i of this.#v)i!==e&&i.unselect();this.#v.clear(),this.#v.add(e),e.select(),this.#j(e.propertiesToUpdate),this.#F({hasSelectedEditor:!0})}isSelected(e){return this.#v.has(e)}get firstSelectedEditor(){return this.#v.values().next().value}unselect(e){e.unselect(),this.#v.delete(e),this.#F({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#v.size!==0}get isEnterHandled(){return this.#v.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#F({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#U()})}redo(){this.#c.redo(),this.#F({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#U()})}addCommands(e){this.#c.add(e),this.#F({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#U()})}#U(){if(this.#i.size===0)return!0;if(this.#i.size===1)for(let e of this.#i.values())return e.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;let e=[...this.#v],i=()=>{for(let o of e)o.remove()},r=()=>{for(let o of e)this.#X(o)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#Q(e){for(let i of this.#v)i.unselect();this.#v.clear();for(let i of e)i.isEmpty()||(this.#v.add(i),i.select());this.#F({hasSelectedEditor:this.hasSelection})}selectAll(){for(let e of this.#v)e.commit();this.#Q(this.#i.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#D!==Ge.NONE))&&this.hasSelection){for(let e of this.#v)e.unselect();this.#v.clear(),this.#F({hasSelectedEditor:!1})}}translateSelectedEditors(e,i,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;this.#z[0]+=e,this.#z[1]+=i;let[o,a]=this.#z,s=[...this.#v],l=1e3;this.#L&&clearTimeout(this.#L),this.#L=setTimeout(()=>{this.#L=null,this.#z[0]=this.#z[1]=0,this.addCommands({cmd:()=>{for(let c of s)this.#i.has(c.id)&&c.translateInPage(o,a)},undo:()=>{for(let c of s)this.#i.has(c.id)&&c.translateInPage(-o,-a)},mustExec:!1})},l);for(let c of s)c.translateInPage(e,i)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#a=new Map;for(let e of this.#v)this.#a.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#a)return!1;this.disableUserSelect(!1);let e=this.#a;this.#a=null;let i=!1;for(let[{x:o,y:a,pageIndex:s},l]of e)l.newX=o,l.newY=a,l.newPageIndex=s,i||=o!==l.savedX||a!==l.savedY||s!==l.savedPageIndex;if(!i)return!1;let r=(o,a,s,l)=>{if(this.#i.has(o.id)){let c=this.#n.get(l);c?o._setParentAndPosition(c,a,s):(o.pageIndex=l,o.x=a,o.y=s)}};return this.addCommands({cmd:()=>{for(let[o,{newX:a,newY:s,newPageIndex:l}]of e)r(o,a,s,l)},undo:()=>{for(let[o,{savedX:a,savedY:s,savedPageIndex:l}]of e)r(o,a,s,l)},mustExec:!0}),!0}dragSelectedEditors(e,i){if(this.#a)for(let r of this.#a.keys())r.drag(e,i)}rebuild(e){if(e.parent===null){let i=this.getLayer(e.pageIndex);i?(i.changeParent(e),i.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#v.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#D}get imageManager(){return nt(this,"imageManager",new Yw)}getSelectionBoxes(e){if(!e)return null;let i=document.getSelection();for(let d=0,h=i.rangeCount;d<h;d++)if(!e.contains(i.getRangeAt(d).commonAncestorContainer))return null;let{x:r,y:o,width:a,height:s}=e.getBoundingClientRect(),l;switch(e.getAttribute("data-main-rotation")){case"90":l=(d,h,u,p)=>({x:(h-o)/s,y:1-(d+u-r)/a,width:p/s,height:u/a});break;case"180":l=(d,h,u,p)=>({x:1-(d+u-r)/a,y:1-(h+p-o)/s,width:u/a,height:p/s});break;case"270":l=(d,h,u,p)=>({x:1-(h+p-o)/s,y:(d-r)/a,width:p/s,height:u/a});break;default:l=(d,h,u,p)=>({x:(d-r)/a,y:(h-o)/s,width:u/a,height:p/s});break}let c=[];for(let d=0,h=i.rangeCount;d<h;d++){let u=i.getRangeAt(d);if(!u.collapsed)for(let{x:p,y:m,width:g,height:_}of u.getClientRects())g===0||_===0||c.push(l(p,m,g,_))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:i}){(this.#l||=new Map).set(e,i)}removeChangedExistingAnnotation({annotationElementId:e}){this.#l?.delete(e)}renderAnnotationElement(e){let i=this.#l?.get(e.data.id);if(!i)return;let r=this.#o.getRawValue(i);r&&(this.#D===Ge.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}}return n})(),TO=(()=>{class n{#e=null;#t=!1;#i=null;#n=null;#r=null;#o=null;#l=!1;#c=null;#d=null;#s=null;#h=null;#a=!1;static#u=null;static _l10n=null;constructor(e){this.#d=e,this.#a=e._uiManager.useNewAltTextFlow,n.#u||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){n._l10n??=e}render(){return U(this,null,function*(){let e=this.#i=document.createElement("button");e.className="altText",e.tabIndex="0";let i=this.#n=document.createElement("span");e.append(i),this.#a?(e.classList.add("new"),e.setAttribute("data-l10n-id",n.#u.missing),i.setAttribute("data-l10n-id",n.#u["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));let r=this.#d._uiManager._signal;e.addEventListener("contextmenu",sr,{signal:r}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});let o=a=>{a.preventDefault(),this.#d._uiManager.editAltText(this.#d),this.#a&&this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#m}})};return e.addEventListener("click",o,{capture:!0,signal:r}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(this.#l=!0,o(a))},{signal:r}),yield this.#p(),e})}get#m(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#l}),this.#l=!1)}isEmpty(){return this.#a?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#a?this.#e!==null||!!this.#s:this.isEmpty()}get guessedText(){return this.#s}setGuessedText(e){return U(this,null,function*(){this.#e===null&&(this.#s=e,this.#h=yield n._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#p())})}toggleAltTextBadge(e=!1){if(!this.#a||this.#e){this.#c?.remove(),this.#c=null;return}if(!this.#c){let i=this.#c=document.createElement("div");i.className="noAltTextBadge",this.#d.div.append(i)}this.#c.classList.toggle("hidden",!e)}serialize(e){let i=this.#e;return!e&&this.#s===i&&(i=this.#h),{altText:i,decorative:this.#t,guessedText:this.#s,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:i,guessedText:r,textWithDisclaimer:o,cancel:a=!1}){r&&(this.#s=r,this.#h=o),!(this.#e===e&&this.#t===i)&&(a||(this.#e=e,this.#t=i),this.#p())}toggle(e=!1){this.#i&&(!e&&this.#o&&(clearTimeout(this.#o),this.#o=null),this.#i.disabled=!e)}shown(){this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#m}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#r=null,this.#c?.remove(),this.#c=null}#p(){return U(this,null,function*(){let e=this.#i;if(!e)return;if(this.#a){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",n.#u[this.#m]),this.#n?.setAttribute("data-l10n-id",n.#u[`${this.#m}-label`]),!this.#e){this.#r?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#r?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=this.#r;if(!i){this.#r=i=document.createElement("span"),i.className="tooltip",i.setAttribute("role","tooltip"),i.id=`alt-text-tooltip-${this.#d.id}`;let o=100,a=this.#d._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(this.#o),this.#o=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#o=setTimeout(()=>{this.#o=null,this.#r.classList.add("show"),this.#d._reportTelemetry({action:"alt_text_tooltip"})},o)},{signal:a}),e.addEventListener("mouseleave",()=>{this.#o&&(clearTimeout(this.#o),this.#o=null),this.#r?.classList.remove("show")},{signal:a})}this.#t?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=this.#e),i.parentNode||e.append(i),this.#d.getImageForAltText()?.setAttribute("aria-describedby",i.id)})}}return n})(),_t=class n{#e=null;#t=null;#i=null;#n=!1;#r=!1;#o=null;#l=null;#c=null;#d="";#s=!1;#h=null;#a=!1;#u=!1;#m=!1;#p=null;#f=0;#_=0;#g=null;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#b=!1;#y=n._zIndex++;static _borderLineWidth=-1;static _colorManager=new Xw;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){let t=n.prototype._resizeWithKeyboard,e=Hh.TRANSLATE_SMALL,i=Hh.TRANSLATE_BIG;return nt(this,"_resizerKeyboardManager",new Xs([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],n.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;let{rotation:e,rawDims:{pageWidth:i,pageHeight:r,pageX:o,pageY:a}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[o,a];let[s,l]=this.parentDimensions;this.x=t.x/s,this.y=t.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return nt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){let e=new Qw({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(n._l10n??=t,n._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),n._borderLineWidth!==-1)return;let i=getComputedStyle(document.documentElement);n._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){At("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#b}set _isDraggable(t){this.#b=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){let[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#y}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#N(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#s?this.#s=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,r){let[o,a]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(t+i)/o,this.y=(e+r)/a,this.fixAndSetPosition()}#C([t,e],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/t,this.y+=r/e,this.fixAndSetPosition()}translate(t,e){this.#C(this.parentDimensions,t,e)}translateInPage(t,e){this.#h||=[this.x,this.y],this.#C(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){this.#h||=[this.x,this.y];let[i,r]=this.parentDimensions;if(this.x+=t/i,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){let{x:c,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this,[s,l]=this.getBaseTranslation();o+=s,a+=l,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#h&&(this.#h[0]!==this.x||this.#h[1]!==this.y)}getBaseTranslation(){let[t,e]=this.parentDimensions,{_borderLineWidth:i}=n,r=i/t,o=i/e;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){let[e,i]=this.pageDimensions,{x:r,y:o,width:a,height:s}=this;if(a*=e,s*=i,r*=e,o*=i,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(e-a,r)),o=Math.max(0,Math.min(i-s,o));break;case 90:r=Math.max(0,Math.min(e-s,r)),o=Math.min(i,Math.max(a,o));break;case 180:r=Math.min(e,Math.max(a,r)),o=Math.min(i,Math.max(s,o));break;case 270:r=Math.min(e,Math.max(s,r)),o=Math.max(0,Math.min(i-a,o));break}this.x=r/=e,this.y=o/=i;let[l,c]=this.getBaseTranslation();r+=l,o+=c;let{style:d}=this.div;d.left=`${(100*r).toFixed(2)}%`,d.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}static#w(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return n.#w(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return n.#w(t,e,360-this.parentRotation)}#x(t){switch(t){case 90:{let[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{let[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){let{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(t,e){let[i,r]=this.parentDimensions;this.div.style.width=`${(100*t/i).toFixed(2)}%`,this.#r||(this.div.style.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){let{style:t}=this.div,{height:e,width:i}=t,r=i.endsWith("%"),o=!this.#r&&e.endsWith("%");if(r&&o)return;let[a,s]=this.parentDimensions;r||(t.width=`${(100*parseFloat(i)/a).toFixed(2)}%`),!this.#r&&!o&&(t.height=`${(100*parseFloat(e)/s).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#T(){if(this.#o)return;this.#o=document.createElement("div"),this.#o.classList.add("resizers");let t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(let i of t){let r=document.createElement("div");this.#o.append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",this.#S.bind(this,i),{signal:e}),r.addEventListener("contextmenu",sr,{signal:e}),r.tabIndex=-1}this.div.prepend(this.#o)}#S(t,e){e.preventDefault();let{isMac:i}=Ei.platform;if(e.button!==0||e.ctrlKey&&i)return;this.#i?.toggle(!1);let r=this._isDraggable;this._isDraggable=!1;let o=new AbortController,a=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#E.bind(this,t),{passive:!0,capture:!0,signal:a}),window.addEventListener("contextmenu",sr,{signal:a});let s=this.x,l=this.y,c=this.width,d=this.height,h=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;let p=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=h,this.div.style.cursor=u,this.#k(s,l,c,d)};window.addEventListener("pointerup",p,{signal:a}),window.addEventListener("blur",p,{signal:a})}#k(t,e,i,r){let o=this.x,a=this.y,s=this.width,l=this.height;o===t&&a===e&&s===i&&l===r||this.addCommands({cmd:()=>{this.width=s,this.height=l,this.x=o,this.y=a;let[c,d]=this.parentDimensions;this.setDims(c*s,d*l),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=r,this.x=t,this.y=e;let[c,d]=this.parentDimensions;this.setDims(c*i,d*r),this.fixAndSetPosition()},mustExec:!0})}#E(t,e){let[i,r]=this.parentDimensions,o=this.x,a=this.y,s=this.width,l=this.height,c=n.MIN_SIZE/i,d=n.MIN_SIZE/r,h=Ae=>Math.round(Ae*1e4)/1e4,u=this.#x(this.rotation),p=(Ae,Ye)=>[u[0]*Ae+u[2]*Ye,u[1]*Ae+u[3]*Ye],m=this.#x(360-this.rotation),g=(Ae,Ye)=>[m[0]*Ae+m[2]*Ye,m[1]*Ae+m[3]*Ye],_,v,x=!1,C=!1;switch(t){case"topLeft":x=!0,_=(Ae,Ye)=>[0,0],v=(Ae,Ye)=>[Ae,Ye];break;case"topMiddle":_=(Ae,Ye)=>[Ae/2,0],v=(Ae,Ye)=>[Ae/2,Ye];break;case"topRight":x=!0,_=(Ae,Ye)=>[Ae,0],v=(Ae,Ye)=>[0,Ye];break;case"middleRight":C=!0,_=(Ae,Ye)=>[Ae,Ye/2],v=(Ae,Ye)=>[0,Ye/2];break;case"bottomRight":x=!0,_=(Ae,Ye)=>[Ae,Ye],v=(Ae,Ye)=>[0,0];break;case"bottomMiddle":_=(Ae,Ye)=>[Ae/2,Ye],v=(Ae,Ye)=>[Ae/2,0];break;case"bottomLeft":x=!0,_=(Ae,Ye)=>[0,Ye],v=(Ae,Ye)=>[Ae,0];break;case"middleLeft":C=!0,_=(Ae,Ye)=>[0,Ye/2],v=(Ae,Ye)=>[Ae,Ye/2];break}let D=_(s,l),A=v(s,l),$=p(...A),X=h(o+$[0]),F=h(a+$[1]),S=1,z=1,[he,ze]=this.screenToPageTranslation(e.movementX,e.movementY);if([he,ze]=g(he/i,ze/r),x){let Ae=Math.hypot(s,l);S=z=Math.max(Math.min(Math.hypot(A[0]-D[0]-he,A[1]-D[1]-ze)/Ae,1/s,1/l),c/s,d/l)}else C?S=Math.max(c,Math.min(1,Math.abs(A[0]-D[0]-he)))/s:z=Math.max(d,Math.min(1,Math.abs(A[1]-D[1]-ze)))/l;let qe=h(s*S),Qe=h(l*z);$=p(...v(qe,Qe));let ht=X-$[0],Nt=F-$[1];this.width=qe,this.height=Qe,this.x=ht,this.y=Nt,this.setDims(i*qe,r*Qe),this.fixAndSetPosition()}altTextFinish(){this.#i?.finish()}addEditToolbar(){return U(this,null,function*(){return this._editToolbar||this.#u?this._editToolbar:(this._editToolbar=new Ww(this),this.div.append(this._editToolbar.render()),this.#i&&(yield this._editToolbar.addAltText(this.#i)),this._editToolbar)})}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#i?.destroy())}addContainer(t){let e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}addAltTextButton(){return U(this,null,function*(){this.#i||(TO.initialize(n._l10n),this.#i=new TO(this),this.#e&&(this.#i.data=this.#e,this.#e=null),yield this.addEditToolbar())})}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}setGuessedAltText(t){return U(this,null,function*(){yield this.#i?.setGuessedText(t)})}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#n?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.#R();let[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);let[i,r]=this.getInitialTranslation();return this.translate(i,r),rg(this,this.div,["pointerdown"]),this.div}pointerdown(t){let{isMac:e}=Ei.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#s=!0,this._isDraggable){this.#I(t);return}this.#M(t)}get isSelected(){return this._uiManager.isSelected(this)}#M(t){let{isMac:e}=Ei.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#I(t){let{isSelected:e}=this;this._uiManager.setUpDragSession();let i=new AbortController,r=this._uiManager.combinedSignal(i);if(e){this.div.classList.add("moving"),this.#f=t.clientX,this.#_=t.clientY;let a=s=>{let{clientX:l,clientY:c}=s,[d,h]=this.screenToPageTranslation(l-this.#f,c-this.#_);this.#f=l,this.#_=c,this._uiManager.dragSelectedEditors(d,h)};window.addEventListener("pointermove",a,{passive:!0,capture:!0,signal:r})}let o=()=>{i.abort(),e&&this.div.classList.remove("moving"),this.#s=!1,this._uiManager.endDragSession()||this.#M(t)};window.addEventListener("pointerup",o,{signal:r}),window.addEventListener("blur",o,{signal:r})}moveInDOM(){this.#p&&clearTimeout(this.#p),this.#p=setTimeout(()=>{this.#p=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition()}getRect(t,e,i=this.rotation){let r=this.parentScale,[o,a]=this.pageDimensions,[s,l]=this.pageTranslation,c=t/r,d=e/r,h=this.x*o,u=this.y*a,p=this.width*o,m=this.height*a;switch(i){case 0:return[h+c+s,a-u-d-m+l,h+c+p+s,a-u-d+l];case 90:return[h+d+s,a-u+c+l,h+d+m+s,a-u+c+p+l];case 180:return[h-c-p+s,a-u+d+l,h-c+s,a-u+d+m+l];case 270:return[h-d-m+s,a-u-c-p+l,h-d+s,a-u-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){let[i,r,o,a]=t,s=o-i,l=a-r;switch(this.rotation){case 0:return[i,e-a,s,l];case 90:return[i,e-r,l,s];case 180:return[o,e-r,s,l];case 270:return[o,e-a,l,s];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#u=!0}disableEditMode(){this.#u=!1}isInEditMode(){return this.#u}shouldGetKeyboardEvents(){return this.#m}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}#R(){if(this.#c||!this.div)return;this.#c=new AbortController;let t=this._uiManager.combinedSignal(this.#c);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#R()}rotate(t){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){At("An editor must be serializable")}static deserialize(t,e,i){return U(this,null,function*(){let r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i});r.rotation=t.rotation,r.#e=t.accessibilityData;let[o,a]=r.pageDimensions,[s,l,c,d]=r.getRectInCurrentCoords(t.rect,a);return r.x=s/o,r.y=l/a,r.width=c/o,r.height=d/a,r})}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#c?.abort(),this.#c=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#p&&(clearTimeout(this.#p),this.#p=null),this.#N(),this.removeEditToolbar(),this.#g){for(let t of this.#g.values())clearTimeout(t);this.#g=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#T(),this.#o.classList.remove("hidden"),rg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};let e=this.#o.children;if(!this.#t){this.#t=Array.from(e);let a=this.#D.bind(this),s=this.#v.bind(this),l=this._uiManager._signal;for(let c of this.#t){let d=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",s,{signal:l}),c.addEventListener("focus",this.#A.bind(this,d),{signal:l}),c.setAttribute("data-l10n-id",n._l10nResizer[d])}}let i=this.#t[0],r=0;for(let a of e){if(a===i)break;r++}let o=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(o!==r){if(o<r)for(let s=0;s<r-o;s++)this.#o.append(this.#o.firstChild);else if(o>r)for(let s=0;s<o-r;s++)this.#o.firstChild.before(this.#o.lastChild);let a=0;for(let s of e){let c=this.#t[a++].getAttribute("data-resizer-name");s.setAttribute("data-l10n-id",n._l10nResizer[c])}}this.#P(0),this.#m=!0,this.#o.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#D(t){n._resizerKeyboardManager.exec(this,t)}#v(t){this.#m&&t.relatedTarget?.parentNode!==this.#o&&this.#N()}#A(t){this.#d=this.#m?t:""}#P(t){if(this.#t)for(let e of this.#t)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#m&&this.#E(this.#d,{movementX:t,movementY:e})}#N(){if(this.#m=!1,this.#P(-1),this.#l){let{savedX:t,savedY:e,savedWidth:i,savedHeight:r}=this.#l;this.#k(t,e,i,r),this.#l=null}}_stopResizingWithKeyboard(){this.#N(),this.div.focus()}select(){if(this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}unselect(){this.#o?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#a}set isEditing(t){this.#a=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){this.#r=!0;let i=t/e,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#g||=new Map;let{action:i}=t,r=this.#g.get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#g.delete(i),this.#g.size===0&&(this.#g=null)},n._telemetryTimeout),this.#g.set(i,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#n=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#n=!0}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){let i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){let{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}},Qw=class extends _t{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}},IO=3285377520,ar=4294901760,Xr=65535,og=class{constructor(t){this.h1=t?t&4294967295:IO,this.h2=t?t&4294967295:IO}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let g=0,_=t.length;g<_;g++){let v=t.charCodeAt(g);v<=255?e[i++]=v:(e[i++]=v>>>8,e[i++]=v&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");let r=i>>2,o=i-r*4,a=new Uint32Array(e.buffer,0,r),s=0,l=0,c=this.h1,d=this.h2,h=3432918353,u=461845907,p=h&Xr,m=u&Xr;for(let g=0;g<r;g++)g&1?(s=a[g],s=s*h&ar|s*p&Xr,s=s<<15|s>>>17,s=s*u&ar|s*m&Xr,c^=s,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[g],l=l*h&ar|l*p&Xr,l=l<<15|l>>>17,l=l*u&ar|l*m&Xr,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(s=0,o){case 3:s^=e[r*4+2]<<16;case 2:s^=e[r*4+1]<<8;case 1:s^=e[r*4],s=s*h&ar|s*p&Xr,s=s<<15|s>>>17,s=s*u&ar|s*m&Xr,r&1?c^=s:d^=s}this.h1=c,this.h2=d}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&ar|t*36045&Xr,e=e*4283543511&ar|((e<<16|t>>>16)*2950163797&ar)>>>16,t^=e>>>1,t=t*444984403&ar|t*60499&Xr,e=e*3301882366&ar|((e<<16|t>>>16)*3120437893&ar)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}},Zw=Object.freeze({map:null,hash:"",transfer:void 0}),jh=class{#e=!1;#t=null;#i=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){let i=this.#i.get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return this.#i.get(t)}remove(t){if(this.#i.delete(t),this.#i.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(let e of this.#i.values())if(e instanceof _t)return;this.onAnnotationEditor(null)}}setValue(t,e){let i=this.#i.get(t),r=!1;if(i!==void 0)for(let[o,a]of Object.entries(e))i[o]!==a&&(r=!0,i[o]=a);else r=!0,this.#i.set(t,e);r&&this.#n(),e instanceof _t&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return this.#i.has(t)}getAll(){return this.#i.size>0?sC(this.#i):null}setAll(t){for(let[e,i]of Object.entries(t))this.setValue(e,i)}get size(){return this.#i.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ag(this)}get serializable(){if(this.#i.size===0)return Zw;let t=new Map,e=new og,i=[],r=Object.create(null),o=!1;for(let[a,s]of this.#i){let l=s instanceof _t?s.serialize(!1,r):s;l&&(t.set(a,l),e.update(`${a}:${JSON.stringify(l)}`),o||=!!l.bitmap)}if(o)for(let a of t.values())a.bitmap&&i.push(a.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:Zw}get editorStats(){let t=null,e=new Map;for(let i of this.#i.values()){if(!(i instanceof _t))continue;let r=i.telemetryFinalData;if(!r)continue;let{type:o}=r;e.has(o)||e.set(o,Object.getPrototypeOf(i).constructor),t||=Object.create(null);let a=t[o]||=new Map;for(let[s,l]of Object.entries(r)){if(s==="type")continue;let c=a.get(s);c||(c=new Map,a.set(s,c));let d=c.get(l)??0;c.set(l,d+1)}}for(let[i,r]of e)t[i]=r.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;let t=[];for(let e of this.#i.values())!(e instanceof _t)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return this.#t={ids:new Set(t),hash:t.join(",")}}},ag=class extends jh{#e;constructor(t){super();let{map:e,hash:i,transfer:r}=t.serializable,o=structuredClone(e,r?{transfer:r}:null);this.#e={map:o,hash:i,transfer:r}}get print(){At("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return nt(this,"modifiedIds",{ids:new Set,hash:""})}},Jw=class{#e=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));let e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(let t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(i){return U(this,arguments,function*({systemFontInfo:t,_inspectFont:e}){if(!(!t||this.#e.has(t.loadedName))){if(ci(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){let{loadedName:r,src:o,style:a}=t,s=new FontFace(r,o,a);this.addNativeFontFace(s);try{yield s.load(),this.#e.add(r),e?.(t)}catch{Xe(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(s)}return}At("Not implemented: loadSystemFont without the Font Loading API.")}})}bind(t){return U(this,null,function*(){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){yield this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){let i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{yield i.loaded}catch(r){throw Xe(`Failed to load font '${i.family}': '${r}'.`),t.disableFontFace=!0,r}}return}let e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;yield new Promise(i=>{let r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,r)})}})}get isFontLoadingAPISupported(){let t=!!this._document?.fonts;return nt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(Gi||typeof navigator<"u"&&typeof navigator?.userAgent=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),nt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(ci(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){let o=i.shift();setTimeout(o.callback,0)}}let{loadingRequests:i}=this,r={done:!1,complete:e,callback:t};return i.push(r),r}get _loadTestFont(){let t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return nt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(D,A){return D.charCodeAt(A)<<24|D.charCodeAt(A+1)<<16|D.charCodeAt(A+2)<<8|D.charCodeAt(A+3)&255}function r(D,A,$,X){let F=D.substring(0,A),S=D.substring(A+$);return F+X+S}let o,a,s=this._document.createElement("canvas");s.width=1,s.height=1;let l=s.getContext("2d"),c=0;function d(D,A){if(++c>30){Xe("Load test font never loaded."),A();return}if(l.font="30px "+D,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){A();return}setTimeout(d.bind(null,D,A))}let h=`lt${Date.now()}${this.loadTestFontId++}`,u=this._loadTestFont;u=r(u,976,h.length,h);let m=16,g=1482184792,_=i(u,m);for(o=0,a=h.length-3;o<a;o+=4)_=_-g+i(h,o)|0;o<h.length&&(_=_-g+i(h+"XXX",o)|0),u=r(u,m,4,lq(_));let v=`url(data:font/opentype;base64,${btoa(u)});`,x=`@font-face {font-family:"${h}";src:${v}}`;this.insertRule(x);let C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(let D of[t.loadedName,h]){let A=this._document.createElement("span");A.textContent="Hi",A.style.fontFamily=D,C.append(A)}this._document.body.append(C),d(h,()=>{C.remove(),e.complete()})}},ex=class{constructor(t,{disableFontFace:e=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(let r in t)this[r]=t[r];this.disableFontFace=e===!0,this._inspectFont=i}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{let e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let t=`url(data:${this.mimetype};base64,${mq(this.data)});`,e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let i;try{i=t.get(this.loadedName+"_path_"+e)}catch(o){Xe(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[e]=function(o,a){};let r=[];for(let o=0,a=i.length;o<a;)switch(i[o++]){case zo.BEZIER_CURVE_TO:{let[s,l,c,d,h,u]=i.slice(o,o+6);r.push(p=>p.bezierCurveTo(s,l,c,d,h,u)),o+=6}break;case zo.MOVE_TO:{let[s,l]=i.slice(o,o+2);r.push(c=>c.moveTo(s,l)),o+=2}break;case zo.LINE_TO:{let[s,l]=i.slice(o,o+2);r.push(c=>c.lineTo(s,l)),o+=2}break;case zo.QUADRATIC_CURVE_TO:{let[s,l,c,d]=i.slice(o,o+4);r.push(h=>h.quadraticCurveTo(s,l,c,d)),o+=4}break;case zo.RESTORE:r.push(s=>s.restore());break;case zo.SAVE:r.push(s=>s.save());break;case zo.SCALE:ci(r.length===2,"Scale command is only valid at the third position.");break;case zo.TRANSFORM:{let[s,l,c,d,h,u]=i.slice(o,o+6);r.push(p=>p.transform(s,l,c,d,h,u)),o+=6}break;case zo.TRANSLATE:{let[s,l]=i.slice(o,o+2);r.push(c=>c.translate(s,l)),o+=2}break}return this.compiledGlyphs[e]=function(a,s){r[0](a),r[1](a),a.scale(s,-s);for(let l=2,c=r.length;l<c;l++)r[l](a)}}},sg=class{#e=!1;constructor({enableHWA:t=!1}){this.#e=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");let i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#e})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){At("Abstract method `_createCanvas` called.")}},tx=class extends sg{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){let i=this._document.createElement("canvas");return i.width=t,i.height=e,i}},lg=class{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}fetch(e){return U(this,arguments,function*({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");let i=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(i).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${i}`)})})}_fetch(t){return U(this,null,function*(){At("Abstract method `_fetch` called.")})}},cg=class extends lg{_fetch(t){return U(this,null,function*(){let e=yield Ng(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Lg(e)})}},dg=class{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,r,o){return"none"}destroy(t=!1){}},ix=class extends dg{#e;#t;#i;#n;#r;#o;#l=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#r=e}get#c(){return this.#t||=new Map}get#d(){return this.#o||=new Map}get#s(){if(!this.#i){let t=this.#r.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;let i=this.#r.createElementNS(jo,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#i=this.#r.createElementNS(jo,"defs"),t.append(i),i.append(this.#i),this.#r.body.append(t)}return this.#i}#h(t){if(t.length===1){let l=t[0],c=new Array(256);for(let h=0;h<256;h++)c[h]=l[h]/255;let d=c.join(",");return[d,d,d]}let[e,i,r]=t,o=new Array(256),a=new Array(256),s=new Array(256);for(let l=0;l<256;l++)o[l]=e[l]/255,a[l]=i[l]/255,s[l]=r[l]/255;return[o.join(","),a.join(","),s.join(",")]}#a(t){if(this.#e===void 0){this.#e="";let e=this.#r.URL;e!==this.#r.baseURI&&(Vg(e)?Xe('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=e.split("#",1)[0])}return`url(${this.#e}#${t})`}addFilter(t){if(!t)return"none";let e=this.#c.get(t);if(e)return e;let[i,r,o]=this.#h(t),a=t.length===1?i:`${i}${r}${o}`;if(e=this.#c.get(a),e)return this.#c.set(t,e),e;let s=`g_${this.#n}_transfer_map_${this.#l++}`,l=this.#a(s);this.#c.set(t,l),this.#c.set(a,l);let c=this.#p(s);return this.#_(i,r,o,c),l}addHCMFilter(t,e){let i=`${t}-${e}`,r="base",o=this.#d.get(r);if(o?.key===i||(o?(o.filter?.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},this.#d.set(r,o)),!t||!e))return o.url;let a=this.#b(t);t=Ce.makeHexColor(...a);let s=this.#b(e);if(e=Ce.makeHexColor(...s),this.#s.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return o.url;let l=new Array(256);for(let p=0;p<=255;p++){let m=p/255;l[p]=m<=.03928?m/12.92:((m+.055)/1.055)**2.4}let c=l.join(","),d=`g_${this.#n}_hcm_filter`,h=o.filter=this.#p(d);this.#_(c,c,c,h),this.#m(h);let u=(p,m)=>{let g=a[p]/255,_=s[p]/255,v=new Array(m+1);for(let x=0;x<=m;x++)v[x]=g+x/m*(_-g);return v.join(",")};return this.#_(u(0,5),u(1,5),u(2,5),h),o.url=this.#a(d),o.url}addAlphaFilter(t){let e=this.#c.get(t);if(e)return e;let[i]=this.#h([t]),r=`alpha_${i}`;if(e=this.#c.get(r),e)return this.#c.set(t,e),e;let o=`g_${this.#n}_alpha_map_${this.#l++}`,a=this.#a(o);this.#c.set(t,a),this.#c.set(r,a);let s=this.#p(o);return this.#g(i,s),a}addLuminosityFilter(t){let e=this.#c.get(t||"luminosity");if(e)return e;let i,r;if(t?([i]=this.#h([t]),r=`luminosity_${i}`):r="luminosity",e=this.#c.get(r),e)return this.#c.set(t,e),e;let o=`g_${this.#n}_luminosity_map_${this.#l++}`,a=this.#a(o);this.#c.set(t,a),this.#c.set(r,a);let s=this.#p(o);return this.#u(s),t&&this.#g(i,s),a}addHighlightHCMFilter(t,e,i,r,o){let a=`${e}-${i}-${r}-${o}`,s=this.#d.get(t);if(s?.key===a||(s?(s.filter?.remove(),s.key=a,s.url="none",s.filter=null):(s={key:a,url:"none",filter:null},this.#d.set(t,s)),!e||!i))return s.url;let[l,c]=[e,i].map(this.#b.bind(this)),d=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[u,p]=[r,o].map(this.#b.bind(this));h<d&&([d,h,u,p]=[h,d,p,u]),this.#s.style.color="";let m=(v,x,C)=>{let D=new Array(256),A=(h-d)/C,$=v/255,X=(x-v)/(255*C),F=0;for(let S=0;S<=C;S++){let z=Math.round(d+S*A),he=$+S*X;for(let ze=F;ze<=z;ze++)D[ze]=he;F=z+1}for(let S=F;S<256;S++)D[S]=D[F-1];return D.join(",")},g=`g_${this.#n}_hcm_${t}_filter`,_=s.filter=this.#p(g);return this.#m(_),this.#_(m(u[0],p[0],5),m(u[1],p[1],5),m(u[2],p[2],5),_),s.url=this.#a(g),s.url}destroy(t=!1){t&&this.#d.size!==0||(this.#i&&(this.#i.parentNode.parentNode.remove(),this.#i=null),this.#t&&(this.#t.clear(),this.#t=null),this.#l=0)}#u(t){let e=this.#r.createElementNS(jo,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#m(t){let e=this.#r.createElementNS(jo,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){let e=this.#r.createElementNS(jo,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#s.append(e),e}#f(t,e,i){let r=this.#r.createElementNS(jo,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),t.append(r)}#_(t,e,i,r){let o=this.#r.createElementNS(jo,"feComponentTransfer");r.append(o),this.#f(o,"feFuncR",t),this.#f(o,"feFuncG",e),this.#f(o,"feFuncB",i)}#g(t,e){let i=this.#r.createElementNS(jo,"feComponentTransfer");e.append(i),this.#f(i,"feFuncA",t)}#b(t){return this.#s.style.color=t,dC(getComputedStyle(this.#s).getPropertyValue("color"))}},hg=class{constructor({baseUrl:t=null}){this.baseUrl=t}fetch(e){return U(this,arguments,function*({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");let i=`${this.baseUrl}${t}`;return this._fetch(i).catch(r=>{throw new Error(`Unable to load font data at: ${i}`)})})}_fetch(t){return U(this,null,function*(){At("Abstract method `_fetch` called.")})}},ug=class extends hg{_fetch(t){return U(this,null,function*(){let e=yield Ng(t,"arraybuffer");return new Uint8Array(e)})}};Gi&&(Jf=Promise.withResolvers(),eg=null,U(null,null,function*(){let t=yield import("./chunk-L2HEV66R.js"),e=yield import("./chunk-BMBYILCS.js"),i=yield import("./chunk-ALIQTIYY.js"),r=yield import("./chunk-NYZOWURK.js"),o,a;return new Map(Object.entries({fs:t,http:e,https:i,url:r,canvas:o,path2d:a}))}).then(t=>{eg=t,Jf.resolve()},t=>{Xe(`loadPackages: ${t}`),eg=new Map,Jf.resolve()}));var Jf,eg,Qr=class{static get promise(){return Jf.promise}static get(t){return eg?.get(t)}};function WO(n){return U(this,null,function*(){let e=yield Qr.get("fs").promises.readFile(n);return new Uint8Array(e)})}var nx=class extends dg{},rx=class extends sg{_createCanvas(t,e){return Qr.get("canvas").createCanvas(t,e)}},ox=class extends lg{_fetch(t){return U(this,null,function*(){return WO(t)})}},ax=class extends hg{_fetch(t){return U(this,null,function*(){return WO(t)})}},sn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function sx(n,t){if(!t)return;let e=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,i),n.clip(r)}var Uh=class{getPattern(){At("Abstract method `getPattern` called.")}},lx=class extends Uh{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,r){let o;if(r===sn.STROKE||r===sn.FILL){let a=e.current.getClippedPathBoundingBox(r,Ft(t))||[0,0,0,0],s=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=e.cachedCanvases.getCanvas("pattern",s,l),d=c.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),i=Ce.transform(i,[1,0,0,1,a[0],a[1]]),d.transform(...e.baseTransform),this.matrix&&d.transform(...this.matrix),sx(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),o=t.createPattern(c.canvas,"no-repeat");let h=new DOMMatrix(i);o.setTransform(h)}else sx(t,this._bbox),o=this._createGradient(t);return o}};function zw(n,t,e,i,r,o,a,s){let l=t.coords,c=t.colors,d=n.data,h=n.width*4,u;l[e+1]>l[i+1]&&(u=e,e=i,i=u,u=o,o=a,a=u),l[i+1]>l[r+1]&&(u=i,i=r,r=u,u=a,a=s,s=u),l[e+1]>l[i+1]&&(u=e,e=i,i=u,u=o,o=a,a=u);let p=(l[e]+t.offsetX)*t.scaleX,m=(l[e+1]+t.offsetY)*t.scaleY,g=(l[i]+t.offsetX)*t.scaleX,_=(l[i+1]+t.offsetY)*t.scaleY,v=(l[r]+t.offsetX)*t.scaleX,x=(l[r+1]+t.offsetY)*t.scaleY;if(m>=x)return;let C=c[o],D=c[o+1],A=c[o+2],$=c[a],X=c[a+1],F=c[a+2],S=c[s],z=c[s+1],he=c[s+2],ze=Math.round(m),qe=Math.round(x),Qe,ht,Nt,Ae,Ye,Ko,za,Hn;for(let di=ze;di<=qe;di++){if(di<_){let Tt=di<m?0:(m-di)/(m-_);Qe=p-(p-g)*Tt,ht=C-(C-$)*Tt,Nt=D-(D-X)*Tt,Ae=A-(A-F)*Tt}else{let Tt;di>x?Tt=1:_===x?Tt=0:Tt=(_-di)/(_-x),Qe=g-(g-v)*Tt,ht=$-($-S)*Tt,Nt=X-(X-z)*Tt,Ae=F-(F-he)*Tt}let qt;di<m?qt=0:di>x?qt=1:qt=(m-di)/(m-x),Ye=p-(p-v)*qt,Ko=C-(C-S)*qt,za=D-(D-z)*qt,Hn=A-(A-he)*qt;let tl=Math.round(Math.min(Qe,Ye)),Ec=Math.round(Math.max(Qe,Ye)),jn=h*di+tl*4;for(let Tt=tl;Tt<=Ec;Tt++)qt=(Qe-Tt)/(Qe-Ye),qt<0?qt=0:qt>1&&(qt=1),d[jn++]=ht-(ht-Ko)*qt|0,d[jn++]=Nt-(Nt-za)*qt|0,d[jn++]=Ae-(Ae-Hn)*qt|0,d[jn++]=255}}function yq(n,t,e){let i=t.coords,r=t.colors,o,a;switch(t.type){case"lattice":let s=t.verticesPerRow,l=Math.floor(i.length/s)-1,c=s-1;for(o=0;o<l;o++){let d=o*s;for(let h=0;h<c;h++,d++)zw(n,e,i[d],i[d+1],i[d+s],r[d],r[d+1],r[d+s]),zw(n,e,i[d+s+1],i[d+1],i[d+s],r[d+s+1],r[d+1],r[d+s])}break;case"triangles":for(o=0,a=i.length;o<a;o+=3)zw(n,e,i[o],i[o+1],i[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}var cx=class extends Uh{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,i){let s=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-s,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(c*t[0]*1.1)),3e3),u=Math.min(Math.ceil(Math.abs(d*t[1]*1.1)),3e3),p=c/h,m=d/u,g={coords:this._coords,colors:this._colors,offsetX:-s,offsetY:-l,scaleX:1/p,scaleY:1/m},_=h+2*2,v=u+2*2,x=i.getCanvas("mesh",_,v),C=x.context,D=C.createImageData(h,u);if(e){let $=D.data;for(let X=0,F=$.length;X<F;X+=4)$[X]=e[0],$[X+1]=e[1],$[X+2]=e[2],$[X+3]=255}for(let $ of this._figures)yq(D,$,g);return C.putImageData(D,2,2),{canvas:x.canvas,offsetX:s-2*p,offsetY:l-2*m,scaleX:p,scaleY:m}}getPattern(t,e,i,r){sx(t,this._bbox);let o;if(r===sn.SHADING)o=Ce.singularValueDecompose2dScale(Ft(t));else if(o=Ce.singularValueDecompose2dScale(e.baseTransform),this.matrix){let s=Ce.singularValueDecompose2dScale(this.matrix);o=[o[0]*s[0],o[1]*s[1]]}let a=this._createMeshCanvas(o,r===sn.SHADING?null:this._background,e.cachedCanvases);return r!==sn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(a.offsetX,a.offsetY),t.scale(a.scaleX,a.scaleY),t.createPattern(a.canvas,"no-repeat")}},dx=class extends Uh{getPattern(){return"hotpink"}};function wq(n){switch(n[0]){case"RadialAxial":return new lx(n);case"Mesh":return new cx(n);case"Dummy":return new dx}throw new Error(`Unknown IR type: ${n[0]}`)}var PO={COLORED:1,UNCOLORED:2},xq=(()=>{class n{static MAX_PATTERN_SIZE=3e3;constructor(e,i,r,o,a){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=i,this.ctx=r,this.canvasGraphicsFactory=o,this.baseTransform=a}createPatternCanvas(e){let{bbox:i,operatorList:r,paintType:o,tilingType:a,color:s,canvasGraphicsFactory:l}=this,{xstep:c,ystep:d}=this;c=Math.abs(c),d=Math.abs(d),Fg("TilingType: "+a);let h=i[0],u=i[1],p=i[2],m=i[3],g=p-h,_=m-u,v=Ce.singularValueDecompose2dScale(this.matrix),x=Ce.singularValueDecompose2dScale(this.baseTransform),C=v[0]*x[0],D=v[1]*x[1],A=g,$=_,X=!1,F=!1,S=Math.ceil(c*C),z=Math.ceil(d*D),he=Math.ceil(g*C),ze=Math.ceil(_*D);S>=he?A=c:X=!0,z>=ze?$=d:F=!0;let qe=this.getSizeAndScale(A,this.ctx.canvas.width,C),Qe=this.getSizeAndScale($,this.ctx.canvas.height,D),ht=e.cachedCanvases.getCanvas("pattern",qe.size,Qe.size),Nt=ht.context,Ae=l.createCanvasGraphics(Nt);if(Ae.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(Ae,o,s),Nt.translate(-qe.scale*h,-Qe.scale*u),Ae.transform(qe.scale,0,0,Qe.scale,0,0),Nt.save(),this.clipBbox(Ae,h,u,p,m),Ae.baseTransform=Ft(Ae.ctx),Ae.executeOperatorList(r),Ae.endDrawing(),Nt.restore(),X||F){let Ye=ht.canvas;X&&(A=c),F&&($=d);let Ko=this.getSizeAndScale(A,this.ctx.canvas.width,C),za=this.getSizeAndScale($,this.ctx.canvas.height,D),Hn=Ko.size,di=za.size,qt=e.cachedCanvases.getCanvas("pattern-workaround",Hn,di),tl=qt.context,Ec=X?Math.floor(g/c):0,jn=F?Math.floor(_/d):0;for(let Tt=0;Tt<=Ec;Tt++)for(let eo=0;eo<=jn;eo++)tl.drawImage(Ye,Hn*Tt,di*eo,Hn,di,0,0,Hn,di);return{canvas:qt.canvas,scaleX:Ko.scale,scaleY:za.scale,offsetX:h,offsetY:u}}return{canvas:ht.canvas,scaleX:qe.scale,scaleY:Qe.scale,offsetX:h,offsetY:u}}getSizeAndScale(e,i,r){let o=Math.max(n.MAX_PATTERN_SIZE,i),a=Math.ceil(e*r);return a>=o?a=o:r=a/e,{scale:r,size:a}}clipBbox(e,i,r,o,a){let s=o-i,l=a-r;e.ctx.rect(i,r,s,l),e.current.updateRectMinMax(Ft(e.ctx),[i,r,o,a]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,i,r){let o=e.ctx,a=e.current;switch(i){case PO.COLORED:let s=this.ctx;o.fillStyle=s.fillStyle,o.strokeStyle=s.strokeStyle,a.fillColor=s.fillStyle,a.strokeColor=s.strokeStyle;break;case PO.UNCOLORED:let l=Ce.makeHexColor(r[0],r[1],r[2]);o.fillStyle=l,o.strokeStyle=l,a.fillColor=l,a.strokeColor=l;break;default:throw new $w(`Unsupported paint type: ${i}`)}}getPattern(e,i,r,o){let a=r;o!==sn.SHADING&&(a=Ce.transform(a,i.baseTransform),this.matrix&&(a=Ce.transform(a,this.matrix)));let s=this.createPatternCanvas(i),l=new DOMMatrix(a);l=l.translate(s.offsetX,s.offsetY),l=l.scale(1/s.scaleX,1/s.scaleY);let c=e.createPattern(s.canvas,"repeat");return c.setTransform(l),c}}return n})();function Cq({src:n,srcPos:t=0,dest:e,width:i,height:r,nonBlackColor:o=4294967295,inverseDecode:a=!1}){let s=Ei.isLittleEndian?4278190080:255,[l,c]=a?[o,s]:[s,o],d=i>>3,h=i&7,u=n.length;e=new Uint32Array(e.buffer);let p=0;for(let m=0;m<r;m++){for(let _=t+d;t<_;t++){let v=t<u?n[t]:255;e[p++]=v&128?c:l,e[p++]=v&64?c:l,e[p++]=v&32?c:l,e[p++]=v&16?c:l,e[p++]=v&8?c:l,e[p++]=v&4?c:l,e[p++]=v&2?c:l,e[p++]=v&1?c:l}if(h===0)continue;let g=t<u?n[t++]:255;for(let _=0;_<h;_++)e[p++]=g&1<<7-_?c:l}return{srcPos:t,destPos:p}}var RO=16,OO=100,kq=15,FO=10,LO=1e3,_n=16;function Dq(n,t){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){t.save(),this.__originalSave()},n.restore=function(){t.restore(),this.__originalRestore()},n.translate=function(i,r){t.translate(i,r),this.__originalTranslate(i,r)},n.scale=function(i,r){t.scale(i,r),this.__originalScale(i,r)},n.transform=function(i,r,o,a,s,l){t.transform(i,r,o,a,s,l),this.__originalTransform(i,r,o,a,s,l)},n.setTransform=function(i,r,o,a,s,l){t.setTransform(i,r,o,a,s,l),this.__originalSetTransform(i,r,o,a,s,l)},n.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){t.rotate(i),this.__originalRotate(i)},n.clip=function(i){t.clip(i),this.__originalClip(i)},n.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},n.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},n.bezierCurveTo=function(e,i,r,o,a,s){t.bezierCurveTo(e,i,r,o,a,s),this.__originalBezierCurveTo(e,i,r,o,a,s)},n.rect=function(e,i,r,o){t.rect(e,i,r,o),this.__originalRect(e,i,r,o)},n.closePath=function(){t.closePath(),this.__originalClosePath()},n.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}var hx=class{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,i)):(r=this.canvasFactory.create(e,i),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(let t in this.cache){let e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}};function Gf(n,t,e,i,r,o,a,s,l,c){let[d,h,u,p,m,g]=Ft(n);if(h===0&&u===0){let x=a*d+m,C=Math.round(x),D=s*p+g,A=Math.round(D),$=(a+l)*d+m,X=Math.abs(Math.round($)-C)||1,F=(s+c)*p+g,S=Math.abs(Math.round(F)-A)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(p),C,A),n.drawImage(t,e,i,r,o,0,0,X,S),n.setTransform(d,h,u,p,m,g),[X,S]}if(d===0&&p===0){let x=s*u+m,C=Math.round(x),D=a*h+g,A=Math.round(D),$=(s+c)*u+m,X=Math.abs(Math.round($)-C)||1,F=(a+l)*h+g,S=Math.abs(Math.round(F)-A)||1;return n.setTransform(0,Math.sign(h),Math.sign(u),0,C,A),n.drawImage(t,e,i,r,o,0,0,S,X),n.setTransform(d,h,u,p,m,g),[S,X]}n.drawImage(t,e,i,r,o,a,s,l,c);let _=Math.hypot(d,h),v=Math.hypot(u,p);return[_*l,v*c]}function Mq(n){let{width:t,height:e}=n;if(t>LO||e>LO)return null;let i=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=t+1,a=new Uint8Array(o*(e+1)),s,l,c,d=t+7&-8,h=new Uint8Array(d*e),u=0;for(let v of n.data){let x=128;for(;x>0;)h[u++]=v&x?0:255,x>>=1}let p=0;for(u=0,h[u]!==0&&(a[0]=1,++p),l=1;l<t;l++)h[u]!==h[u+1]&&(a[l]=h[u]?2:1,++p),u++;for(h[u]!==0&&(a[l]=2,++p),s=1;s<e;s++){u=s*d,c=s*o,h[u-d]!==h[u]&&(a[c]=h[u]?1:8,++p);let v=(h[u]?4:0)+(h[u-d]?8:0);for(l=1;l<t;l++)v=(v>>2)+(h[u+1]?4:0)+(h[u-d+1]?8:0),r[v]&&(a[c+l]=r[v],++p),u++;if(h[u-d]!==h[u]&&(a[c+l]=h[u]?2:4,++p),p>i)return null}for(u=d*(e-1),c=s*o,h[u]!==0&&(a[c]=8,++p),l=1;l<t;l++)h[u]!==h[u+1]&&(a[c+l]=h[u]?4:8,++p),u++;if(h[u]!==0&&(a[c+l]=4,++p),p>i)return null;let m=new Int32Array([0,o,-1,0,-o,0,0,0,1]),g=new Path2D;for(s=0;p&&s<=e;s++){let v=s*o,x=v+t;for(;v<x&&!a[v];)v++;if(v===x)continue;g.moveTo(v%o,s);let C=v,D=a[v];do{let A=m[D];do v+=A;while(!a[v]);let $=a[v];$!==5&&$!==10?(D=$,a[v]=0):(D=$&51*D>>4,a[v]&=D>>2|D<<2),g.lineTo(v%o,v/o|0),a[v]||--p}while(C!==v);--s}return h=null,a=null,function(v){v.save(),v.scale(1/t,-1/e),v.translate(0,-e),v.fill(g),v.beginPath(),v.restore()}}var pg=class{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=UO,this.textMatrixScale=1,this.fontMatrix=Uw,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Wi.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){let t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,i){[e,i]=Ce.applyTransform([e,i],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(t,e){let i=Ce.applyTransform(e,t),r=Ce.applyTransform(e.slice(2),t),o=Ce.applyTransform([e[0],e[3]],t),a=Ce.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,i[0],r[0],o[0],a[0]),this.minY=Math.min(this.minY,i[1],r[1],o[1],a[1]),this.maxX=Math.max(this.maxX,i[0],r[0],o[0],a[0]),this.maxY=Math.max(this.maxY,i[1],r[1],o[1],a[1])}updateScalingPathMinMax(t,e){Ce.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,i,r,o,a,s,l,c,d){let h=Ce.bezierBoundingBox(e,i,r,o,a,s,l,c,d);d||this.updateRectMinMax(t,h)}getPathBoundingBox(t=sn.FILL,e=null){let i=[this.minX,this.minY,this.maxX,this.maxY];if(t===sn.STROKE){e||At("Stroke bounding box must include transform.");let r=Ce.singularValueDecompose2dScale(e),o=r[0]*this.lineWidth/2,a=r[1]*this.lineWidth/2;i[0]-=o,i[1]-=a,i[2]+=o,i[3]+=a}return i}updateClipFromPath(){let t=Ce.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=sn.FILL,e=null){return Ce.intersect(this.clipBox,this.getPathBoundingBox(t,e))}};function NO(n,t){if(typeof ImageData<"u"&&t instanceof ImageData){n.putImageData(t,0,0);return}let e=t.height,i=t.width,r=e%_n,o=(e-r)/_n,a=r===0?o:o+1,s=n.createImageData(i,_n),l=0,c,d=t.data,h=s.data,u,p,m,g;if(t.kind===Zf.GRAYSCALE_1BPP){let _=d.byteLength,v=new Uint32Array(h.buffer,0,h.byteLength>>2),x=v.length,C=i+7>>3,D=4294967295,A=Ei.isLittleEndian?4278190080:255;for(u=0;u<a;u++){for(m=u<o?_n:r,c=0,p=0;p<m;p++){let $=_-l,X=0,F=$>C?i:$*8-7,S=F&-8,z=0,he=0;for(;X<S;X+=8)he=d[l++],v[c++]=he&128?D:A,v[c++]=he&64?D:A,v[c++]=he&32?D:A,v[c++]=he&16?D:A,v[c++]=he&8?D:A,v[c++]=he&4?D:A,v[c++]=he&2?D:A,v[c++]=he&1?D:A;for(;X<F;X++)z===0&&(he=d[l++],z=128),v[c++]=he&z?D:A,z>>=1}for(;c<x;)v[c++]=0;n.putImageData(s,0,u*_n)}}else if(t.kind===Zf.RGBA_32BPP){for(p=0,g=i*_n*4,u=0;u<o;u++)h.set(d.subarray(l,l+g)),l+=g,n.putImageData(s,0,p),p+=_n;u<a&&(g=i*r*4,h.set(d.subarray(l,l+g)),n.putImageData(s,0,p))}else if(t.kind===Zf.RGB_24BPP)for(m=_n,g=i*m,u=0;u<a;u++){for(u>=o&&(m=r,g=i*m),c=0,p=g;p--;)h[c++]=d[l++],h[c++]=d[l++],h[c++]=d[l++],h[c++]=255;n.putImageData(s,0,u*_n)}else throw new Error(`bad image kind: ${t.kind}`)}function VO(n,t){if(t.bitmap){n.drawImage(t.bitmap,0,0);return}let e=t.height,i=t.width,r=e%_n,o=(e-r)/_n,a=r===0?o:o+1,s=n.createImageData(i,_n),l=0,c=t.data,d=s.data;for(let h=0;h<a;h++){let u=h<o?_n:r;({srcPos:l}=Cq({src:c,srcPos:l,dest:d,width:i,height:u,nonBlackColor:0})),n.putImageData(s,0,h*_n)}}function Ph(n,t){let e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(let i of e)n[i]!==void 0&&(t[i]=n[i]);n.setLineDash!==void 0&&(t.setLineDash(n.getLineDash()),t.lineDashOffset=n.lineDashOffset)}function qf(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Gi){let{filter:t}=n;t!=="none"&&t!==""&&(n.filter="none")}}function BO(n,t){if(t)return!0;let e=Ce.singularValueDecompose2dScale(n);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);let i=Math.fround((globalThis.devicePixelRatio||1)*Na.PDF_TO_CSS_UNITS);return e[0]<=i&&e[1]<=i}var Sq=["butt","round","square"],Eq=["miter","round","bevel"],Aq={},zO={},wc=class n{constructor(t,e,i,r,o,{optionalContentConfig:a,markedContentStack:s=null},l,c){this.ctx=t,this.current=new pg(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=s||[],this.optionalContentConfig=a,this.cachedCanvases=new hx(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:r=null}){let o=this.ctx.canvas.width,a=this.ctx.canvas.height,s=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,a),this.ctx.fillStyle=s,i){let l=this.cachedCanvases.getCanvas("transparent",o,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Ft(this.compositeCtx))}this.ctx.save(),qf(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Ft(this.ctx)}executeOperatorList(t,e,i,r){let o=t.argsArray,a=t.fnArray,s=e||0,l=o.length;if(l===s)return s;let c=l-s>FO&&typeof i=="function",d=c?Date.now()+kq:0,h=0,u=this.commonObjs,p=this.objs,m;for(;;){if(r!==void 0&&s===r.nextBreakPoint)return r.breakIt(s,i),s;if(m=a[s],m!==kr.dependency)this[m].apply(this,o[s]);else for(let g of o[s]){let _=g.startsWith("g_")?u:p;if(!_.has(g))return _.get(g,i),s}if(s++,s===l)return s;if(c&&++h>FO){if(Date.now()>d)return i(),s;h=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let t of this._cachedBitmapsMap.values()){for(let e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){let t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){let e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){let i=t.width??t.displayWidth,r=t.height??t.displayHeight,o=Math.max(Math.hypot(e[0],e[1]),1),a=Math.max(Math.hypot(e[2],e[3]),1),s=i,l=r,c="prescale1",d,h;for(;o>2&&s>1||a>2&&l>1;){let u=s,p=l;o>2&&s>1&&(u=s>=16384?Math.floor(s/2)-1||1:Math.ceil(s/2),o/=s/u),a>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/p),d=this.cachedCanvases.getCanvas(c,u,p),h=d.context,h.clearRect(0,0,u,p),h.drawImage(t,0,0,s,l,0,0,u,p),t=d.canvas,s=u,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:s,paintHeight:l}}_createMaskCanvas(t){let e=this.ctx,{width:i,height:r}=t,o=this.current.fillColor,a=this.current.patternFill,s=Ft(e),l,c,d,h;if((t.bitmap||t.data)&&t.count>1){let F=t.bitmap||t.data.buffer;c=JSON.stringify(a?s:[s.slice(0,4),o]),l=this._cachedBitmapsMap.get(F),l||(l=new Map,this._cachedBitmapsMap.set(F,l));let S=l.get(c);if(S&&!a){let z=Math.round(Math.min(s[0],s[2])+s[4]),he=Math.round(Math.min(s[1],s[3])+s[5]);return{canvas:S,offsetX:z,offsetY:he}}d=S}d||(h=this.cachedCanvases.getCanvas("maskCanvas",i,r),VO(h.context,t));let u=Ce.transform(s,[1/i,0,0,-1/r,0,0]);u=Ce.transform(u,[1,0,0,1,0,-r]);let[p,m,g,_]=Ce.getAxialAlignedBoundingBox([0,0,i,r],u),v=Math.round(g-p)||1,x=Math.round(_-m)||1,C=this.cachedCanvases.getCanvas("fillCanvas",v,x),D=C.context,A=p,$=m;D.translate(-A,-$),D.transform(...u),d||(d=this._scaleImage(h.canvas,Ho(D)),d=d.img,l&&a&&l.set(c,d)),D.imageSmoothingEnabled=BO(Ft(D),t.interpolate),Gf(D,d,0,0,d.width,d.height,0,0,i,r),D.globalCompositeOperation="source-in";let X=Ce.transform(Ho(D),[1,0,0,1,-A,-$]);return D.fillStyle=a?o.getPattern(e,this,X,sn.FILL):o,D.fillRect(0,0,i,r),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,C.canvas)),{canvas:C.canvas,offsetX:Math.round(A),offsetY:Math.round($)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=Sq[t]}setLineJoin(t){this.ctx.lineJoin=Eq[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){let i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(let[e,i]of t)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let t=this.ctx.canvas.width,e=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;let o=this.ctx;o.setTransform(...Ft(this.suspendedCtx)),Ph(this.suspendedCtx,o),Dq(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ph(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,r){let o=r[0],a=r[1],s=r[2]-o,l=r[3]-a;s===0||l===0||(this.genericComposeSMask(e.context,i,s,l,e.subtype,e.backdrop,e.transferMap,o,a,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,r,o,a,s,l,c,d,h){let u=t.canvas,p=l-d,m=c-h;if(a){let _=Ce.makeHexColor(...a);if(p<0||m<0||p+i>u.width||m+r>u.height){let v=this.cachedCanvases.getCanvas("maskExtension",i,r),x=v.context;x.drawImage(u,-p,-m),x.globalCompositeOperation="destination-atop",x.fillStyle=_,x.fillRect(0,0,i,r),x.globalCompositeOperation="source-over",u=v.canvas,p=m=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);let v=new Path2D;v.rect(p,m,i,r),t.clip(v),t.globalCompositeOperation="destination-atop",t.fillStyle=_,t.fillRect(p,m,i,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&s?e.filter=this.filterFactory.addAlphaFilter(s):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(s));let g=new Path2D;g.rect(l,c,i,r),e.clip(g),e.globalCompositeOperation="destination-in",e.drawImage(u,p,m,i,r,l,c,i,r),e.restore()}save(){this.inSMaskMode?(Ph(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ph(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,i,r,o,a){this.ctx.transform(t,e,i,r,o,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i){let r=this.ctx,o=this.current,a=o.x,s=o.y,l,c,d=Ft(r),h=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,u=h?i.slice(0):null;for(let p=0,m=0,g=t.length;p<g;p++)switch(t[p]|0){case kr.rectangle:a=e[m++],s=e[m++];let _=e[m++],v=e[m++],x=a+_,C=s+v;r.moveTo(a,s),_===0||v===0?r.lineTo(x,C):(r.lineTo(x,s),r.lineTo(x,C),r.lineTo(a,C)),h||o.updateRectMinMax(d,[a,s,x,C]),r.closePath();break;case kr.moveTo:a=e[m++],s=e[m++],r.moveTo(a,s),h||o.updatePathMinMax(d,a,s);break;case kr.lineTo:a=e[m++],s=e[m++],r.lineTo(a,s),h||o.updatePathMinMax(d,a,s);break;case kr.curveTo:l=a,c=s,a=e[m+4],s=e[m+5],r.bezierCurveTo(e[m],e[m+1],e[m+2],e[m+3],a,s),o.updateCurvePathMinMax(d,l,c,e[m],e[m+1],e[m+2],e[m+3],a,s,u),m+=6;break;case kr.curveTo2:l=a,c=s,r.bezierCurveTo(a,s,e[m],e[m+1],e[m+2],e[m+3]),o.updateCurvePathMinMax(d,l,c,a,s,e[m],e[m+1],e[m+2],e[m+3],u),a=e[m+2],s=e[m+3],m+=4;break;case kr.curveTo3:l=a,c=s,a=e[m+2],s=e[m+3],r.bezierCurveTo(e[m],e[m+1],a,s,a,s),o.updateCurvePathMinMax(d,l,c,e[m],e[m+1],a,s,a,s,u),m+=4;break;case kr.closePath:r.closePath();break}h&&o.updateScalingPathMinMax(d,u),o.setCurrentPoint(a,s)}closePath(){this.ctx.closePath()}stroke(t=!0){let e=this.ctx,i=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&i?.getPattern?(e.save(),e.strokeStyle=i.getPattern(e,this,Ho(e),sn.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){let e=this.ctx,i=this.current.fillColor,r=this.current.patternFill,o=!1;r&&(e.save(),e.fillStyle=i.getPattern(e,this,Ho(e),sn.FILL),o=!0);let a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),o&&e.restore(),t&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Aq}eoClip(){this.pendingClip=zO}beginText(){this.current.textMatrix=UO,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(let i of t)e.setTransform(...i.transform),e.translate(i.x,i.y),i.addToPath(e,i.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){let i=this.commonObjs.get(t),r=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=i.fontMatrix||Uw,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Xe("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;let o=i.loadedName||"sans-serif",a=i.systemFontInfo?.css||`"${o}", ${i.fallbackName}`,s="normal";i.black?s="900":i.bold&&(s="bold");let l=i.italic?"italic":"normal",c=e;e<RO?c=RO:e>OO&&(c=OO),this.current.fontSizeScale=e/c,this.ctx.font=`${l} ${s} ${c}px ${a}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,i,r,o,a){this.current.textMatrix=[t,e,i,r,o,a],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,i,r){let o=this.ctx,a=this.current,s=a.font,l=a.textRenderingMode,c=a.fontSize/a.fontSizeScale,d=l&Wi.FILL_STROKE_MASK,h=!!(l&Wi.ADD_TO_PATH_FLAG),u=a.patternFill&&!s.missingFile,p;(s.disableFontFace||h||u)&&(p=s.getPathGenerator(this.commonObjs,t)),s.disableFontFace||u?(o.save(),o.translate(e,i),o.beginPath(),p(o,c),r&&o.setTransform(...r),(d===Wi.FILL||d===Wi.FILL_STROKE)&&o.fill(),(d===Wi.STROKE||d===Wi.FILL_STROKE)&&o.stroke(),o.restore()):((d===Wi.FILL||d===Wi.FILL_STROKE)&&o.fillText(t,e,i),(d===Wi.STROKE||d===Wi.FILL_STROKE)&&o.strokeText(t,e,i)),h&&(this.pendingTextPaths||=[]).push({transform:Ft(o),x:e,y:i,fontSize:c,addToPath:p})}get isFontSubpixelAAEnabled(){let{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);let e=t.getImageData(0,0,10,10).data,i=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){i=!0;break}return nt(this,"isFontSubpixelAAEnabled",i)}showText(t){let e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(t);let r=e.fontSize;if(r===0)return;let o=this.ctx,a=e.fontSizeScale,s=e.charSpacing,l=e.wordSpacing,c=e.fontDirection,d=e.textHScale*c,h=t.length,u=i.vertical,p=u?1:-1,m=i.defaultVMetrics,g=r*e.fontMatrix[0],_=e.textRenderingMode===Wi.FILL&&!i.disableFontFace&&!e.patternFill;o.save(),o.transform(...e.textMatrix),o.translate(e.x,e.y+e.textRise),c>0?o.scale(d,-1):o.scale(d,1);let v;if(e.patternFill){o.save();let $=e.fillColor.getPattern(o,this,Ho(o),sn.FILL);v=Ft(o),o.restore(),o.fillStyle=$}let x=e.lineWidth,C=e.textMatrixScale;if(C===0||x===0){let $=e.textRenderingMode&Wi.FILL_STROKE_MASK;($===Wi.STROKE||$===Wi.FILL_STROKE)&&(x=this.getSinglePixelWidth())}else x/=C;if(a!==1&&(o.scale(a,a),x/=a),o.lineWidth=x,i.isInvalidPDFjsFont){let $=[],X=0;for(let F of t)$.push(F.unicode),X+=F.width;o.fillText($.join(""),0,0),e.x+=X*g*d,o.restore(),this.compose();return}let D=0,A;for(A=0;A<h;++A){let $=t[A];if(typeof $=="number"){D+=p*$*r/1e3;continue}let X=!1,F=($.isSpace?l:0)+s,S=$.fontChar,z=$.accent,he,ze,qe=$.width;if(u){let ht=$.vmetric||m,Nt=-($.vmetric?ht[1]:qe*.5)*g,Ae=ht[2]*g;qe=ht?-ht[0]:qe,he=Nt/a,ze=(D+Ae)/a}else he=D/a,ze=0;if(i.remeasure&&qe>0){let ht=o.measureText(S).width*1e3/r*a;if(qe<ht&&this.isFontSubpixelAAEnabled){let Nt=qe/ht;X=!0,o.save(),o.scale(Nt,1),he/=Nt}else qe!==ht&&(he+=(qe-ht)/2e3*r/a)}if(this.contentVisible&&($.isInFont||i.missingFile)){if(_&&!z)o.fillText(S,he,ze);else if(this.paintChar(S,he,ze,v),z){let ht=he+r*z.offset.x/a,Nt=ze-r*z.offset.y/a;this.paintChar(z.fontChar,ht,Nt,v)}}let Qe=u?qe*g-F*c:qe*g+F*c;D+=Qe,X&&o.restore()}u?e.y-=D:e.x+=D*d,o.restore(),this.compose()}showType3Text(t){let e=this.ctx,i=this.current,r=i.font,o=i.fontSize,a=i.fontDirection,s=r.vertical?1:-1,l=i.charSpacing,c=i.wordSpacing,d=i.textHScale*a,h=i.fontMatrix||Uw,u=t.length,p=i.textRenderingMode===Wi.INVISIBLE,m,g,_,v;if(!(p||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...i.textMatrix),e.translate(i.x,i.y),e.scale(d,a),m=0;m<u;++m){if(g=t[m],typeof g=="number"){v=s*g*o/1e3,this.ctx.translate(v,0),i.x+=v*d;continue}let x=(g.isSpace?c:0)+l,C=r.charProcOperatorList[g.operatorListId];if(!C){Xe(`Type3 character "${g.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=g,this.save(),e.scale(o,o),e.transform(...h),this.executeOperatorList(C),this.restore()),_=Ce.applyTransform([g.width,0],h)[0]*o+x,e.translate(_,0),i.x+=_*d}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,i,r,o,a){this.ctx.rect(i,r,o-i,a-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){let i=t[1],r=this.baseTransform||Ft(this.ctx),o={createCanvasGraphics:a=>new n(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new xq(t,i,this.ctx,o,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,i){this.ctx.strokeStyle=this.current.strokeColor=Ce.makeHexColor(t,e,i)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,i){this.ctx.fillStyle=this.current.fillColor=Ce.makeHexColor(t,e,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=wq(this.getObject(t)),this.cachedPatterns.set(t,i)),e&&(i.matrix=e),i}shadingFill(t){if(!this.contentVisible)return;let e=this.ctx;this.save();let i=this._getPattern(t);e.fillStyle=i.getPattern(e,this,Ho(e),sn.SHADING);let r=Ho(e);if(r){let{width:o,height:a}=e.canvas,[s,l,c,d]=Ce.getAxialAlignedBoundingBox([0,0,o,a],r);this.ctx.fillRect(s,l,c-s,d-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){At("Should not call beginInlineImage")}beginImageData(){At("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Ft(this.ctx),e)){let i=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],i,r),this.current.updateRectMinMax(Ft(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let e=this.ctx;t.isolated||Fg("TODO: Support non-isolated groups."),t.knockout&&Xe("Knockout groups not supported.");let i=Ft(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=Ce.getAxialAlignedBoundingBox(t.bbox,Ft(e)),o=[0,0,e.canvas.width,e.canvas.height];r=Ce.intersect(r,o)||[0,0,0,0];let a=Math.floor(r[0]),s=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-a,1),c=Math.max(Math.ceil(r[3])-s,1);this.current.startNewPathAndClipBox([0,0,l,c]);let d="groupAt"+this.groupLevel;t.smask&&(d+="_smask_"+this.smaskCounter++%2);let h=this.cachedCanvases.getCanvas(d,l,c),u=h.context;u.translate(-a,-s),u.transform(...i),t.smask?this.smaskStack.push({canvas:h.canvas,context:u,offsetX:a,offsetY:s,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(a,s),e.save()),Ph(e,u),this.ctx=u,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;let e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let r=Ft(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);let o=Ce.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(t,e,i,r,o){if(this.#e(),qf(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){let a=e[2]-e[0],s=e[3]-e[1];if(o&&this.annotationCanvasMap){i=i.slice(),i[4]-=e[0],i[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=a,e[3]=s;let[l,c]=Ce.singularValueDecompose2dScale(Ft(this.ctx)),{viewportScale:d}=this,h=Math.ceil(a*this.outputScaleX*d),u=Math.ceil(s*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,u);let{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(t,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,s*c),qf(this.ctx)}else qf(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],a,s),this.ctx.clip(),this.ctx.beginPath()}this.current=new pg(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;let e=t.count;t=this.getObject(t.data,t),t.count=e;let i=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=Mq(t)),r.compiled)){r.compiled(i);return}let o=this._createMaskCanvas(t),a=o.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,o.offsetX,o.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i=0,r=0,o,a){if(!this.contentVisible)return;t=this.getObject(t.data,t);let s=this.ctx;s.save();let l=Ft(s);s.transform(e,i,r,o,0,0);let c=this._createMaskCanvas(t);s.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let d=0,h=a.length;d<h;d+=2){let u=Ce.transform(l,[e,i,r,o,a[d],a[d+1]]),[p,m]=Ce.applyTransform([0,0],u);s.drawImage(c.canvas,p,m)}s.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;let e=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(let o of t){let{data:a,width:s,height:l,transform:c}=o,d=this.cachedCanvases.getCanvas("maskCanvas",s,l),h=d.context;h.save();let u=this.getObject(a,o);VO(h,u),h.globalCompositeOperation="source-in",h.fillStyle=r?i.getPattern(h,this,Ho(e),sn.FILL):i,h.fillRect(0,0,s,l),h.restore(),e.save(),e.transform(...c),e.scale(1,-1),Gf(e,d.canvas,0,0,s,l,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;let e=this.getObject(t);if(!e){Xe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,i,r){if(!this.contentVisible)return;let o=this.getObject(t);if(!o){Xe("Dependent image isn't ready yet");return}let a=o.width,s=o.height,l=[];for(let c=0,d=r.length;c<d;c+=2)l.push({transform:[e,0,0,i,r[c],r[c+1]],x:0,y:0,w:a,h:s});this.paintInlineImageXObjectGroup(o,l)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;let{bitmap:e,width:i,height:r}=t,o=this.cachedCanvases.getCanvas("inlineImage",i,r),a=o.context;return a.filter=this.current.transferMaps,a.drawImage(e,0,0),a.filter="none",o.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;let e=t.width,i=t.height,r=this.ctx;if(this.save(),!Gi){let{filter:s}=r;s!=="none"&&s!==""&&(r.filter="none")}r.scale(1/e,-1/i);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{let l=this.cachedCanvases.getCanvas("inlineImage",e,i).context;NO(l,t),o=this.applyTransferMapsToCanvas(l)}let a=this._scaleImage(o,Ho(r));r.imageSmoothingEnabled=BO(Ft(r),t.interpolate),Gf(r,a.img,0,0,a.paintWidth,a.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;let i=this.ctx,r;if(t.bitmap)r=t.bitmap;else{let o=t.width,a=t.height,l=this.cachedCanvases.getCanvas("inlineImage",o,a).context;NO(l,t),r=this.applyTransferMapsToCanvas(l)}for(let o of e)i.save(),i.transform(...o.transform),i.scale(1,-1),Gf(i,r,o.x,o.y,o.w,o.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){let e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);let i=this.ctx;this.pendingClip&&(e||(this.pendingClip===zO?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let t=Ft(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{let e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){let{lineWidth:t}=this.current,{a:e,b:i,c:r,d:o}=this.ctx.getTransform(),a,s;if(i===0&&r===0){let l=Math.abs(e),c=Math.abs(o);if(l===c)if(t===0)a=s=1/l;else{let d=l*t;a=s=d<1?1/d:1}else if(t===0)a=1/l,s=1/c;else{let d=l*t,h=c*t;a=d<1?1/d:1,s=h<1?1/h:1}}else{let l=Math.abs(e*o-i*r),c=Math.hypot(e,i),d=Math.hypot(r,o);if(t===0)a=d/l,s=c/l;else{let h=t*l;a=d>h?d/h:1,s=c>h?c/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=s}return this._cachedScaleForStroking}rescaleAndStroke(t){let{ctx:e}=this,{lineWidth:i}=this.current,[r,o]=this.getScaleForStroking();if(e.lineWidth=i||1,r===1&&o===1){e.stroke();return}let a=e.getLineDash();if(t&&e.save(),e.scale(r,o),a.length>0){let s=Math.max(r,o);e.setLineDash(a.map(l=>l/s)),e.lineDashOffset/=s}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};for(let n in kr)wc.prototype[n]!==void 0&&(wc.prototype[kr[n]]=wc.prototype[n]);var Ys=class{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#e=t}static get workerSrc(){return this.#t}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#t=t}},Yf={UNKNOWN:0,DATA:1,ERROR:2},ni={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Vn(n){switch(n instanceof Error||typeof n=="object"&&n!==null||At('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Wo(n.message);case"MissingPDFException":return new $o(n.message);case"PasswordException":return new Lh(n.message,n.code);case"UnexpectedResponseException":return new Cc(n.message,n.status);case"UnknownErrorException":return new Nh(n.message,n.details);default:return new Nh(n.message,n.toString())}}var qs=class{#e=new AbortController;constructor(t,e,i){this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){let i=t.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===Yf.DATA)r.resolve(t.data);else if(t.callback===Yf.ERROR)r.reject(Vn(t.reason));else throw new Error("Unexpected callback case");return}let e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){let i=this.sourceName,r=t.sourceName,o=this.comObj;new Promise(function(a){a(e(t.data))}).then(function(a){o.postMessage({sourceName:i,targetName:r,callback:Yf.DATA,callbackId:t.callbackId,data:a})},function(a){o.postMessage({sourceName:i,targetName:r,callback:Yf.ERROR,callbackId:t.callbackId,reason:Vn(a)})});return}if(t.streamId){this.#i(t);return}e(t.data)}on(t,e){let i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){let r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},i)}catch(a){o.reject(a)}return o.promise}sendWithStream(t,e,i,r){let o=this.streamId++,a=this.sourceName,s=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{let d=Promise.withResolvers();return this.streamControllers[o]={controller:c,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:s,action:t,streamId:o,data:e,desiredSize:c.desiredSize},r),d.promise},pull:c=>{let d=Promise.withResolvers();return this.streamControllers[o].pullCall=d,l.postMessage({sourceName:a,targetName:s,stream:ni.PULL,streamId:o,desiredSize:c.desiredSize}),d.promise},cancel:c=>{ci(c instanceof Error,"cancel must have a valid reason");let d=Promise.withResolvers();return this.streamControllers[o].cancelCall=d,this.streamControllers[o].isClosed=!0,l.postMessage({sourceName:a,targetName:s,stream:ni.CANCEL,streamId:o,reason:Vn(c)}),d.promise}},i)}#i(t){let e=t.streamId,i=this.sourceName,r=t.sourceName,o=this.comObj,a=this,s=this.actionHandler[t.action],l={enqueue(c,d=1,h){if(this.isCancelled)return;let u=this.desiredSize;this.desiredSize-=d,u>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:i,targetName:r,stream:ni.ENQUEUE,streamId:e,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:r,stream:ni.CLOSE,streamId:e}),delete a.streamSinks[e])},error(c){ci(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:r,stream:ni.ERROR,streamId:e,reason:Vn(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[e]=l,new Promise(function(c){c(s(t.data,l))}).then(function(){o.postMessage({sourceName:i,targetName:r,stream:ni.START_COMPLETE,streamId:e,success:!0})},function(c){o.postMessage({sourceName:i,targetName:r,stream:ni.START_COMPLETE,streamId:e,reason:Vn(c)})})}#n(t){let e=t.streamId,i=this.sourceName,r=t.sourceName,o=this.comObj,a=this.streamControllers[e],s=this.streamSinks[e];switch(t.stream){case ni.START_COMPLETE:t.success?a.startCall.resolve():a.startCall.reject(Vn(t.reason));break;case ni.PULL_COMPLETE:t.success?a.pullCall.resolve():a.pullCall.reject(Vn(t.reason));break;case ni.PULL:if(!s){o.postMessage({sourceName:i,targetName:r,stream:ni.PULL_COMPLETE,streamId:e,success:!0});break}s.desiredSize<=0&&t.desiredSize>0&&s.sinkCapability.resolve(),s.desiredSize=t.desiredSize,new Promise(function(l){l(s.onPull?.())}).then(function(){o.postMessage({sourceName:i,targetName:r,stream:ni.PULL_COMPLETE,streamId:e,success:!0})},function(l){o.postMessage({sourceName:i,targetName:r,stream:ni.PULL_COMPLETE,streamId:e,reason:Vn(l)})});break;case ni.ENQUEUE:if(ci(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(t.chunk);break;case ni.CLOSE:if(ci(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this.#r(a,e);break;case ni.ERROR:ci(a,"error should have stream controller"),a.controller.error(Vn(t.reason)),this.#r(a,e);break;case ni.CANCEL_COMPLETE:t.success?a.cancelCall.resolve():a.cancelCall.reject(Vn(t.reason)),this.#r(a,e);break;case ni.CANCEL:if(!s)break;new Promise(function(l){l(s.onCancel?.(Vn(t.reason)))}).then(function(){o.postMessage({sourceName:i,targetName:r,stream:ni.CANCEL_COMPLETE,streamId:e,success:!0})},function(l){o.postMessage({sourceName:i,targetName:r,stream:ni.CANCEL_COMPLETE,streamId:e,reason:Vn(l)})}),s.sinkCapability.reject(Vn(t.reason)),s.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}#r(t,e){return U(this,null,function*(){yield Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]})}destroy(){this.#e?.abort(),this.#e=null}},ux=class{#e;#t;constructor({parsedData:t,rawData:e}){this.#e=t,this.#t=e}getRaw(){return this.#t}get(t){return this.#e.get(t)??null}getAll(){return sC(this.#e)}has(t){return this.#e.has(t)}},yc=Symbol("INTERNAL"),px=class{#e=!1;#t=!1;#i=!1;#n=!0;constructor(t,{name:e,intent:i,usage:r,rbGroups:o}){this.#e=!!(t&Bn.DISPLAY),this.#t=!!(t&Bn.PRINT),this.name=e,this.intent=i,this.usage=r,this.rbGroups=o}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;let{print:t,view:e}=this.usage;return this.#e?e?.viewState!=="OFF":this.#t?t?.printState!=="OFF":!0}_setVisible(t,e,i=!1){t!==yc&&At("Internal method `_setVisible` called."),this.#i=i,this.#n=e}},mx=class{#e=null;#t=new Map;#i=null;#n=null;constructor(t,e=Bn.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(let i of t.groups)this.#t.set(i.id,new px(e,i));if(t.baseState==="OFF")for(let i of this.#t.values())i._setVisible(yc,!1);for(let i of t.on)this.#t.get(i)._setVisible(yc,!0);for(let i of t.off)this.#t.get(i)._setVisible(yc,!1);this.#i=this.getHash()}}#r(t){let e=t.length;if(e<2)return!0;let i=t[0];for(let r=1;r<e;r++){let o=t[r],a;if(Array.isArray(o))a=this.#r(o);else if(this.#t.has(o))a=this.#t.get(o).visible;else return Xe(`Optional content group not found: ${o}`),!0;switch(i){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return i==="And"}isVisible(t){if(this.#t.size===0)return!0;if(!t)return Fg("Optional content group not defined."),!0;if(t.type==="OCG")return this.#t.has(t.id)?this.#t.get(t.id).visible:(Xe(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#r(t.expression);if(!t.policy||t.policy==="AnyOn"){for(let e of t.ids){if(!this.#t.has(e))return Xe(`Optional content group not found: ${e}`),!0;if(this.#t.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(let e of t.ids){if(!this.#t.has(e))return Xe(`Optional content group not found: ${e}`),!0;if(!this.#t.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(let e of t.ids){if(!this.#t.has(e))return Xe(`Optional content group not found: ${e}`),!0;if(!this.#t.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(let e of t.ids){if(!this.#t.has(e))return Xe(`Optional content group not found: ${e}`),!0;if(this.#t.get(e).visible)return!1}return!0}return Xe(`Unknown optional content policy ${t.policy}.`),!0}return Xe(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){let r=this.#t.get(t);if(!r){Xe(`Optional content group not found: ${t}`);return}if(i&&e&&r.rbGroups.length)for(let o of r.rbGroups)for(let a of o)a!==t&&this.#t.get(a)?._setVisible(yc,!1,!0);r._setVisible(yc,!!e,!0),this.#e=null}setOCGState({state:t,preserveRB:e}){let i;for(let r of t){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}let o=this.#t.get(r);if(o)switch(i){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!o.visible,e);break}}this.#e=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?sC(this.#t):null}getGroup(t){return this.#t.get(t)||null}getHash(){if(this.#e!==null)return this.#e;let t=new og;for(let[e,i]of this.#t)t.update(`${e}:${i.visible}`);return this.#e=t.hexdigest()}},fx=class{constructor(t,{disableRange:e=!1,disableStream:i=!1}){ci(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');let{length:r,initialData:o,progressiveDone:a,contentDispositionFilename:s}=t;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=s,o?.length>0){let l=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),t.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),t.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){let i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{let r=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(i),!0)});ci(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){let e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){ci(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let t=this._queuedChunks;return this._queuedChunks=null,new gx(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;let i=new _x(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(let e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}},gx=class{constructor(t,e,i=!1,r=null){this._stream=t,this._done=i||!1,this._filename=cC(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(let o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){return U(this,null,function*(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let t=Promise.withResolvers();return this._requests.push(t),t.promise})}cancel(t){this._done=!0;for(let e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}},_x=class{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(let i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){return U(this,null,function*(){if(this._queuedChunk){let e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};let t=Promise.withResolvers();return this._requests.push(t),t.promise})}cancel(t){this._done=!0;for(let e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}};function Tq(n){let t=!0,e=i("filename\\*","i").exec(n);if(e){e=e[1];let d=s(e);return d=unescape(d),d=l(d),d=c(d),o(d)}if(e=a(n),e){let d=c(e);return o(d)}if(e=i("filename","i").exec(n),e){e=e[1];let d=s(e);return d=c(d),o(d)}function i(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function r(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{let u=new TextDecoder(d,{fatal:!0}),p=Lg(h);h=u.decode(p),t=!1}catch{}}return h}function o(d){return t&&/[\x80-\xff]/.test(d)&&(d=r("utf-8",d),t&&(d=r("iso-8859-1",d))),d}function a(d){let h=[],u,p=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(u=p.exec(d))!==null;){let[,g,_,v]=u;if(g=parseInt(g,10),g in h){if(g===0)break;continue}h[g]=[_,v]}let m=[];for(let g=0;g<h.length&&g in h;++g){let[_,v]=h[g];v=s(v),_&&(v=unescape(v),g===0&&(v=l(v))),m.push(v)}return m.join("")}function s(d){if(d.startsWith('"')){let h=d.slice(1).split('\\"');for(let u=0;u<h.length;++u){let p=h[u].indexOf('"');p!==-1&&(h[u]=h[u].slice(0,p),h.length=u+1),h[u]=h[u].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){let h=d.indexOf("'");if(h===-1)return d;let u=d.slice(0,h),m=d.slice(h+1).replace(/^[^']*'/,"");return r(u,m)}function c(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,u,p,m){if(p==="q"||p==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,_){return String.fromCharCode(parseInt(_,16))}),r(u,m);try{m=atob(m)}catch{}return r(u,m)})}return""}function hC(n,t){let e=new Headers;if(!n||!t||typeof t!="object")return e;for(let i in t){let r=t[i];r!==void 0&&e.append(i,r)}return e}function uC({responseHeaders:n,isHttp:t,rangeChunkSize:e,disableRange:i}){let r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(n.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*e)||i||!t||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function pC(n){let t=n.get("Content-Disposition");if(t){let e=Tq(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(cC(e))return e}return null}function Bg(n,t){return n===404||n===0&&t.startsWith("file:")?new $o('Missing PDF "'+t+'".'):new Cc(`Unexpected server response (${n}) while retrieving PDF "${t}".`,n)}function GO(n){return n===200||n===206}function qO(n,t,e){return{method:"GET",headers:n,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function YO(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Xe(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}var mg=class{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=hC(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ci(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new bx(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;let i=new vx(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(let e of this._rangeRequestReaders.slice(0))e.cancel(t)}},bx=class{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;let e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;let i=new Headers(t.headers),r=e.url;fetch(r,qO(i,this._withCredentials,this._abortController)).then(o=>{if(!GO(o.status))throw Bg(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();let a=o.headers,{allowRangeRequests:s,suggestedLength:l}=uC({responseHeaders:a,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=l||this._contentLength,this._filename=pC(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Wo("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return U(this,null,function*(){yield this._headersCapability.promise;let{value:t,done:e}=yield this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:YO(t),done:!1})})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}},vx=class{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;let r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;let o=new Headers(t.headers);o.append("Range",`bytes=${e}-${i-1}`);let a=r.url;fetch(a,qO(o,this._withCredentials,this._abortController)).then(s=>{if(!GO(s.status))throw Bg(s.status,a);this._readCapability.resolve(),this._reader=s.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){return U(this,null,function*(){yield this._readCapability.promise;let{value:t,done:e}=yield this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:YO(t),done:!1})})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}},Hw=200,jw=206;function Iq(n){let t=n.response;return typeof t!="string"?t:Lg(t).buffer}var yx=class{constructor({url:t,httpHeaders:e,withCredentials:i}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=hC(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,i){let r={begin:t,end:e};for(let o in i)r[o]=i[o];return this.request(r)}requestFull(t){return this.request(t)}request(t){let e=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(let[o,a]of this.headers)e.setRequestHeader(o,a);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=jw):r.expectedStatus=Hw,e.responseType="arraybuffer",t.onError&&(e.onerror=function(o){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){let i=this.pendingRequests[t];i&&i.onProgress?.(e)}onStateChange(t,e){let i=this.pendingRequests[t];if(!i)return;let r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){i.onError?.(r.status);return}let o=r.status||Hw;if(!(o===Hw&&i.expectedStatus===jw)&&o!==i.expectedStatus){i.onError?.(r.status);return}let s=Iq(r);if(o===jw){let l=r.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);i.onDone({begin:parseInt(c[1],10),chunk:s})}else s?i.onDone({begin:0,chunk:s}):i.onError?.(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){let e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}},wx=class{constructor(t){this._source=t,this._manager=new yx(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){let e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return ci(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new xx(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){let i=new Cx(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(let e of this._rangeRequestReaders.slice(0))e.cancel(t)}},xx=class{constructor(t,e){this._manager=t;let i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(i),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let t=this._fullRequestId,e=this._manager.getRequestXhr(t),i=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(a=>{let[s,...l]=a.split(": ");return[s,l.join(": ")]})),{allowRangeRequests:r,suggestedLength:o}=uC({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=pC(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Bg(t,this._url),this._headersCapability.reject(this._storedError);for(let e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}read(){return U(this,null,function*(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let t=Promise.withResolvers();return this._requests.push(t),t.promise})}cancel(t){this._done=!0,this._headersCapability.reject(t);for(let e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},Cx=class{constructor(t,e,i){this._manager=t;let r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,i,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(t){let e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(let i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=Bg(t,this._url);for(let e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}read(){return U(this,null,function*(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};let t=Promise.withResolvers();return this._requests.push(t),t.promise})}cancel(t){this._done=!0;for(let e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},Pq=/^[a-z][a-z0-9\-+.]+:/i;function Rq(n){if(Pq.test(n))return new URL(n);let t=Qr.get("url");return new URL(t.pathToFileURL(n))}function KO(n,t,e){return n.protocol==="http:"?Qr.get("http").request(n,{headers:t},e):Qr.get("https").request(n,{headers:t},e)}var kx=class{constructor(t){this.source=t,this.url=Rq(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=hC(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ci(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Sx(this):new Dx(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;let i=this.isFsUrl?new Ex(this,t,e):new Mx(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(let e of this._rangeRequestReaders.slice(0))e.cancel(t)}},fg=class{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;let e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return U(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Wo("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},gg=class{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();let e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){return U(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}},Dx=class extends fg{constructor(t){super(t);let e=Object.fromEntries(t.headers),i=r=>{if(r.statusCode===404){let l=new $o(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(r);let o=new Headers(this._readableStream.headers),{allowRangeRequests:a,suggestedLength:s}=uC({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=s||this._contentLength,this._filename=pC(o)};this._request=KO(this._url,e,i),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}},Mx=class extends gg{constructor(t,e,i){super(t);let r=Object.fromEntries(t.headers);r.Range=`bytes=${e}-${i-1}`;let o=a=>{if(a.statusCode===404){let s=new $o(`Missing PDF "${this._url}".`);this._storedError=s;return}this._setReadableStream(a)};this._request=KO(this._url,r,o),this._request.on("error",a=>{this._storedError=a}),this._request.end()}},Sx=class extends fg{constructor(t){super(t);let e=Qr.get("fs");e.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new $o(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}},Ex=class extends gg{constructor(t,e,i){super(t);let r=Qr.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:i-1}))}},Oq=1e5,gn=30,Fq=.8,$h=class n{#e=Promise.withResolvers();#t=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#r=null;#o=null;#l=0;#c=0;#d=null;#s=null;#h=0;#a=0;#u=Object.create(null);#m=[];#p=null;#f=[];#_=new WeakMap;#g=null;static#b=new Map;static#y=new Map;static#C=new WeakMap;static#w=null;static#x=new Set;constructor({textContentSource:t,container:e,viewport:i}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(l){l.enqueue(t),l.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#s=e,this.#a=i.scale*(globalThis.devicePixelRatio||1),this.#h=i.rotation,this.#o={div:null,properties:null,ctx:null};let{pageWidth:r,pageHeight:o,pageX:a,pageY:s}=i.rawDims;this.#g=[1,0,0,-1,-a,s+o],this.#c=r,this.#l=o,n.#I(),Ks(e,i),this.#e.promise.finally(()=>{n.#x.delete(this),this.#o=null,this.#u=null}).catch(()=>{})}static get fontFamilyMap(){let{isWindows:t,isFirefox:e}=Ei.platform;return nt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){let t=()=>{this.#d.read().then(({value:e,done:i})=>{if(i){this.#e.resolve();return}this.#r??=e.lang,Object.assign(this.#u,e.styles),this.#T(e.items),t()},this.#e.reject)};return this.#d=this.#p.getReader(),n.#x.add(this),t(),this.#e.promise}update({viewport:t,onBefore:e=null}){let i=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==this.#h&&(e?.(),this.#h=r,Ks(this.#s,{rotation:r})),i!==this.#a){e?.(),this.#a=i;let o={div:null,properties:null,ctx:n.#E(this.#r)};for(let a of this.#f)o.properties=this.#_.get(a),o.div=a,this.#k(o)}}cancel(){let t=new Wo("TextLayer task cancelled.");this.#d?.cancel(t).catch(()=>{}),this.#d=null,this.#e.reject(t)}get textDivs(){return this.#f}get textContentItemsStr(){return this.#m}#T(t){if(this.#i)return;this.#o.ctx??=n.#E(this.#r);let e=this.#f,i=this.#m;for(let r of t){if(e.length>Oq){Xe("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){let o=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),r.id!==null&&this.#t.setAttribute("id",`${r.id}`),o.append(this.#t)}else r.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}i.push(r.str),this.#S(r)}}#S(t){let e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#f.push(e);let r=Ce.transform(this.#g,t.transform),o=Math.atan2(r[1],r[0]),a=this.#u[t.fontName];a.vertical&&(o+=Math.PI/2);let s=this.#n&&a.fontSubstitution||a.fontFamily;s=n.fontFamilyMap.get(s)||s;let l=Math.hypot(r[2],r[3]),c=l*n.#R(s,this.#r),d,h;o===0?(d=r[4],h=r[5]-c):(d=r[4]+c*Math.sin(o),h=r[5]-c*Math.cos(o));let u="calc(var(--scale-factor)*",p=e.style;this.#t===this.#s?(p.left=`${(100*d/this.#c).toFixed(2)}%`,p.top=`${(100*h/this.#l).toFixed(2)}%`):(p.left=`${u}${d.toFixed(2)}px)`,p.top=`${u}${h.toFixed(2)}px)`),p.fontSize=`${u}${(n.#w*l).toFixed(2)}px)`,p.fontFamily=s,i.fontSize=l,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=a.fontSubstitutionLoadedName||t.fontName),o!==0&&(i.angle=o*(180/Math.PI));let m=!1;if(t.str.length>1)m=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){let g=Math.abs(t.transform[0]),_=Math.abs(t.transform[3]);g!==_&&Math.max(g,_)/Math.min(g,_)>1.5&&(m=!0)}if(m&&(i.canvasWidth=a.vertical?t.height:t.width),this.#_.set(e,i),this.#o.div=e,this.#o.properties=i,this.#k(this.#o),i.hasText&&this.#t.append(e),i.hasEOL){let g=document.createElement("br");g.setAttribute("role","presentation"),this.#t.append(g)}}#k(t){let{div:e,properties:i,ctx:r}=t,{style:o}=e,a="";if(n.#w>1&&(a=`scale(${1/n.#w})`),i.canvasWidth!==0&&i.hasText){let{fontFamily:s}=o,{canvasWidth:l,fontSize:c}=i;n.#M(r,c*this.#a,s);let{width:d}=r.measureText(e.textContent);d>0&&(a=`scaleX(${l*this.#a/d}) ${a}`)}i.angle!==0&&(a=`rotate(${i.angle}deg) ${a}`),a.length>0&&(o.transform=a)}static cleanup(){if(!(this.#x.size>0)){this.#b.clear();for(let{canvas:t}of this.#y.values())t.remove();this.#y.clear()}}static#E(t=null){let e=this.#y.get(t||="");if(!e){let i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(t,e),this.#C.set(e,{size:0,family:""})}return e}static#M(t,e,i){let r=this.#C.get(t);e===r.size&&i===r.family||(t.font=`${e}px ${i}`,r.size=e,r.family=i)}static#I(){if(this.#w!==null)return;let t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#w=t.getBoundingClientRect().height,t.remove()}static#R(t,e){let i=this.#b.get(t);if(i)return i;let r=this.#E(e);r.canvas.width=r.canvas.height=gn,this.#M(r,gn,t);let o=r.measureText(""),a=o.fontBoundingBoxAscent,s=Math.abs(o.fontBoundingBoxDescent);if(a){let d=a/(a+s);return this.#b.set(t,d),r.canvas.width=r.canvas.height=0,d}r.strokeStyle="red",r.clearRect(0,0,gn,gn),r.strokeText("g",0,0);let l=r.getImageData(0,0,gn,gn).data;s=0;for(let d=l.length-1-3;d>=0;d-=4)if(l[d]>0){s=Math.ceil(d/4/gn);break}r.clearRect(0,0,gn,gn),r.strokeText("A",0,gn),l=r.getImageData(0,0,gn,gn).data,a=0;for(let d=0,h=l.length;d<h;d+=4)if(l[d]>0){a=gn-Math.floor(d/4/gn);break}r.canvas.width=r.canvas.height=0;let c=a?a/(a+s):Fq;return this.#b.set(t,c),c}},Wh=class n{static textContent(t){let e=[],i={items:e,styles:Object.create(null)};function r(o){if(!o)return;let a=null,s=o.name;if(s==="#text")a=o.value;else if(n.shouldBuildText(s))o?.attributes?.textContent?a=o.attributes.textContent:o.value&&(a=o.value);else return;if(a!==null&&e.push({str:a}),!!o.children)for(let l of o.children)r(l)}return r(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}},Lq=65536,Nq=100,Vq=5e3,Bq=Gi?rx:tx,zq=Gi?ox:cg,Hq=Gi?nx:ix,jq=Gi?ax:ug;function Uq(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});let t=new Ax,{docId:e}=t,i=n.url?$q(n.url):null,r=n.data?Wq(n.data):null,o=n.httpHeaders||null,a=n.withCredentials===!0,s=n.password??null,l=n.range instanceof _g?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:Lq,d=n.worker instanceof xc?n.worker:null,h=n.verbosity,u=typeof n.docBaseUrl=="string"&&!Vg(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,m=n.cMapPacked!==!1,g=n.CMapReaderFactory||zq,_=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,v=n.StandardFontDataFactory||jq,x=n.stopAtErrors!==!0,C=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,D=n.isEvalSupported!==!1,A=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Gi,$=typeof n.isChrome=="boolean"?n.isChrome:!Ei.platform.isFirefox&&typeof window<"u"&&!!window?.chrome,X=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,F=typeof n.disableFontFace=="boolean"?n.disableFontFace:Gi,S=n.fontExtraProperties===!0,z=n.enableXfa===!0,he=n.ownerDocument||globalThis.document,ze=n.disableRange===!0,qe=n.disableStream===!0,Qe=n.disableAutoFetch===!0,ht=n.pdfBug===!0,Nt=n.CanvasFactory||Bq,Ae=n.FilterFactory||Hq,Ye=n.enableHWA===!0,Ko=l?l.length:n.length??NaN,za=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Gi&&!F,Hn=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:g===cg&&v===ug&&p&&_&&Oh(p,document.baseURI)&&Oh(_,document.baseURI);n.canvasFactory&&AO("`canvasFactory`-instance option, please use `CanvasFactory` instead."),n.filterFactory&&AO("`filterFactory`-instance option, please use `FilterFactory` instead.");let di=null;rq(h);let qt={canvasFactory:new Nt({ownerDocument:he,enableHWA:Ye}),filterFactory:new Ae({docId:e,ownerDocument:he}),cMapReaderFactory:Hn?null:new g({baseUrl:p,isCompressed:m}),standardFontDataFactory:Hn?null:new v({baseUrl:_})};if(!d){let jn={verbosity:h,port:Ys.workerPort};d=jn.port?xc.fromPort(jn):new xc(jn),t._worker=d}let tl={docId:e,apiVersion:"4.8.69",data:r,password:s,disableAutoFetch:Qe,rangeChunkSize:c,length:Ko,docBaseUrl:u,enableXfa:z,evaluatorOptions:{maxImageSize:C,disableFontFace:F,ignoreErrors:x,isEvalSupported:D,isOffscreenCanvasSupported:A,isChrome:$,canvasMaxAreaInBytes:X,fontExtraProperties:S,useSystemFonts:za,cMapUrl:Hn?p:null,standardFontDataUrl:Hn?_:null}},Ec={disableFontFace:F,fontExtraProperties:S,ownerDocument:he,pdfBug:ht,styleElement:di,loadingParams:{disableAutoFetch:Qe,enableXfa:z}};return d.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");let jn=d.messageHandler.sendWithPromise("GetDocRequest",tl,r?[r.buffer]:null),Tt;if(l)Tt=new fx(l,{disableRange:ze,disableStream:qe});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");let eo;Gi?eo=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Oh(i)?mg:kx:eo=Oh(i)?mg:wx,Tt=new eo({url:i,length:Ko,httpHeaders:o,withCredentials:a,rangeChunkSize:c,disableRange:ze,disableStream:qe})}return jn.then(eo=>{if(t.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");let o_=new qs(e,eo,d.port),j2=new Rx(o_,t,Tt,Ec,qt);t._transport=j2,o_.send("Ready",null)})}).catch(t._capability.reject),t}function $q(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Gi&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Wq(n){if(Gi&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Lg(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function HO(n){return typeof n=="object"&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0}var Ax=class n{static#e=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${n.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){return U(this,null,function*(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),yield this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}},_g=class{constructor(t,e,i=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(let i of this._rangeListeners)i(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(let i of this._progressListeners)i(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(let e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){At("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},Tx=class{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return nt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){let{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}},Ix=class{#e=null;#t=!1;constructor(t,e,i,r=!1){this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=r?new ig:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new bg,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:o=!1}={}){return new Vh({viewBox:this.view,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:o})}getAnnotations({intent:t="display"}={}){let{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return nt(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){return U(this,null,function*(){return this._transport._htmlForXfa?.children[this._pageIndex]||null})}render({canvasContext:t,viewport:e,intent:i="display",annotationMode:r=La.ENABLE,transform:o=null,background:a=null,optionalContentConfigPromise:s=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:d=null,isEditing:h=!1}){this._stats?.time("Overall");let u=this._transport.getRenderingIntent(i,r,d,h),{renderingIntent:p,cacheKey:m}=u;this.#t=!1,this.#n(),s||=this._transport.getOptionalContentConfig(p);let g=this._intentStates.get(m);g||(g=Object.create(null),this._intentStates.set(m,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);let _=!!(p&Bn.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(u));let v=D=>{g.renderTasks.delete(x),(this._maybeCleanupAfterRender||_)&&(this.#t=!0),this.#i(!_),D?(x.capability.reject(D),this._abortOperatorList({intentState:g,reason:D instanceof Error?D:new Error(D)})):x.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},x=new Fx({callback:v,params:{canvasContext:t,viewport:e,transform:o,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:c});(g.renderTasks||=new Set).add(x);let C=x.task;return Promise.all([g.displayReadyCapability.promise,s]).then(([D,A])=>{if(this.destroyed){v();return}if(this._stats?.time("Rendering"),!(A.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");x.initializeGraphics({transparency:D,optionalContentConfig:A}),x.operatorListChanged()}).catch(v),C}getOperatorList({intent:t="display",annotationMode:e=La.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){function o(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(l))}let a=this._transport.getRenderingIntent(t,e,i,r,!0),s=this._intentStates.get(a.cacheKey);s||(s=Object.create(null),this._intentStates.set(a.cacheKey,s));let l;return s.opListReadCapability||(l=Object.create(null),l.operatorListChanged=o,s.opListReadCapability=Promise.withResolvers(),(s.renderTasks||=new Set).add(l),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(a)),s.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Wh.textContent(i));let e=this.streamTextContent(t);return new Promise(function(i,r){function o(){a.read().then(function({value:l,done:c}){if(c){i(s);return}s.lang??=l.lang,Object.assign(s.styles,l.styles),s.items.push(...l.items),o()},r)}let a=e.getReader(),s={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let t=[];for(let e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(let i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,this.#n(),Promise.all(t)}cleanup(t=!1){this.#t=!0;let e=this.#i(!1);return t&&e&&(this._stats&&=new ig),e}#i(t=!1){if(this.#n(),!this.#t||this.destroyed)return!1;if(t)return this.#e=setTimeout(()=>{this.#e=null,this.#i(!1)},Vq),!1;for(let{renderTasks:e,operatorList:i}of this._intentStates.values())if(e.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#n(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(t,e){let i=this._intentStates.get(e);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let i=0,r=t.length;i<r;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(let i of e.renderTasks)i.operatorListChanged();t.lastChunk&&this.#i(!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:r}){let{map:o,transfer:a}=i,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:r},a).getReader(),c=this._intentStates.get(e);c.streamReader=l;let d=()=>{l.read().then(({value:h,done:u})=>{if(u){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),d())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(let u of c.renderTasks)u.operatorListChanged();this.#i(!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof Bh){let r=Nq;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Wo(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(let[r,o]of this._intentStates)if(o===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}},Px=class{#e=new Map;#t=Promise.resolve();postMessage(t,e){let i={data:structuredClone(t,e?{transfer:e}:null)};this.#t.then(()=>{for(let[r]of this.#e)r.call(this,i)})}addEventListener(t,e,i=null){let r=null;if(i?.signal instanceof AbortSignal){let{signal:o}=i;if(o.aborted){Xe("LoopbackPort - cannot use an `aborted` signal.");return}let a=()=>this.removeEventListener(t,e);r=()=>o.removeEventListener("abort",a),o.addEventListener("abort",a)}this.#e.set(e,r)}removeEventListener(t,e){this.#e.get(e)?.(),this.#e.delete(e)}terminate(){for(let[,t]of this.#e)t?.();this.#e.clear()}},xc=class n{static#e=0;static#t=!1;static#i;static{Gi&&(this.#t=!0,Ys.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(t,e)=>{let i;try{if(i=new URL(t),!i.origin||i.origin==="null")return!1}catch{return!1}let r=new URL(e,i);return i.origin===r.origin},this._createCDNWrapper=t=>{let e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))}}constructor({name:t=null,port:e=null,verbosity:i=oq()}={}){if(this.name=t,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if(n.#i?.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(n.#i||=new WeakMap).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return Gi?Promise.all([Qr.promise,this._readyCapability.promise]):this._readyCapability.promise}#n(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new qs("main","worker",t),this._messageHandler.on("ready",function(){}),this.#n()}_initialize(){if(n.#t||n.#r){this._setupFakeWorker();return}let{workerSrc:t}=n;try{n._isSameOrigin(window.location.href,t)||(t=n._createCDNWrapper(new URL(t,window.location).href));let e=new Worker(t,{type:"module"}),i=new qs("main","worker",e),r=()=>{o.abort(),i.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:o.signal}),i.on("test",s=>{if(o.abort(),this.destroyed||!s){r();return}this._messageHandler=i,this._port=e,this._webWorker=e,this.#n()}),i.on("ready",s=>{if(o.abort(),this.destroyed){r();return}try{a()}catch{this._setupFakeWorker()}});let a=()=>{let s=new Uint8Array;i.send("test",s,[s.buffer])};a();return}catch{Fg("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){n.#t||(Xe("Setting up fake worker."),n.#t=!0),n._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let e=new Px;this._port=e;let i=`fake${n.#e++}`,r=new qs(i+"_worker",i,e);t.setup(r,e),this._messageHandler=new qs(i,i+"_worker",e),this.#n()}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),n.#i?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");let e=this.#i?.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new n(t)}static get workerSrc(){if(Ys.workerSrc)return Ys.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#r(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return nt(this,"_setupFakeWorkerGlobal",U(this,null,function*(){return this.#r?this.#r:(yield import(this.workerSrc)).WorkerMessageHandler}))}},Rx=class{#e=new Map;#t=new Map;#i=new Map;#n=new Map;#r=null;constructor(t,e,i,r,o){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new bg,this.fontLoader=new Jw({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#o(t,e=null){let i=this.#e.get(t);if(i)return i;let r=this.messageHandler.sendWithPromise(t,e);return this.#e.set(t,r),r}get annotationStorage(){return nt(this,"annotationStorage",new jh)}getRenderingIntent(t,e=La.ENABLE,i=null,r=!1,o=!1){let a=Bn.DISPLAY,s=Zw;switch(t){case"any":a=Bn.ANY;break;case"display":break;case"print":a=Bn.PRINT;break;default:Xe(`getRenderingIntent - invalid intent: ${t}`)}let l=a&Bn.PRINT&&i instanceof ag?i:this.annotationStorage;switch(e){case La.DISABLE:a+=Bn.ANNOTATIONS_DISABLE;break;case La.ENABLE:break;case La.ENABLE_FORMS:a+=Bn.ANNOTATIONS_FORMS;break;case La.ENABLE_STORAGE:a+=Bn.ANNOTATIONS_STORAGE,s=l.serializable;break;default:Xe(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(a+=Bn.IS_EDITING),o&&(a+=Bn.OPLIST);let{ids:c,hash:d}=l.modifiedIds,h=[a,s.hash,d];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:s,modifiedIds:c}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));let t=[];for(let i of this.#t.values())t.push(i._destroy());this.#t.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),$h.cleanup(),this._networkStream?.cancelAllRequests(new Wo("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,r)=>{ci(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:a}){if(a){r.close();return}ci(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("ReaderHeadersReady",i=>U(this,null,function*(){yield this._fullReader.headersReady;let{isStreamingSupported:r,isRangeSupported:o,contentLength:a}=this._fullReader;return(!r||!o)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=s=>{e.onProgress?.({loaded:s.loaded,total:s.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:a}})),t.on("GetRangeReader",(i,r)=>{ci(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let o=this._networkStream.getRangeReader(i.begin,i.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:a,done:s}){if(s){r.close();return}ci(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{o.cancel(a),r.ready.catch(s=>{if(!this.destroyed)throw s})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new Tx(i,this))}),t.on("DocException",function(i){let r;switch(i.name){case"PasswordException":r=new Lh(i.message,i.code);break;case"InvalidPDFException":r=new tg(i.message);break;case"MissingPDFException":r=new $o(i.message);break;case"UnexpectedResponseException":r=new Cc(i.message,i.status);break;case"UnknownErrorException":r=new Nh(i.message,i.details);break;default:At("DocException - expected a valid Error.")}e._capability.reject(r)}),t.on("PasswordRequest",i=>{if(this.#r=Promise.withResolvers(),e.onPassword){let r=o=>{o instanceof Error?this.#r.reject(o):this.#r.resolve({password:o})};try{e.onPassword(r,i.code)}catch(o){this.#r.reject(o)}}else this.#r.reject(new Lh(i.message,i.code));return this.#r.promise}),t.on("DataLoaded",i=>{e.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;this.#t.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,r,o])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":let{disableFontFace:a,fontExtraProperties:s,pdfBug:l}=this._params;if("error"in o){let u=o.error;Xe(`Error during font loading: ${u}`),this.commonObjs.resolve(i,u);break}let c=l&&globalThis.FontInspector?.enabled?(u,p)=>globalThis.FontInspector.fontAdded(u,p):null,d=new ex(o,{disableFontFace:a,inspectFont:c});this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!s&&d.data&&(d.data=null),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":let{imageRef:h}=o;ci(h,"The imageRef must be defined.");for(let u of this.#t.values())for(let[,p]of u.objs)if(p?.ref===h)return p.dataLen?(this.commonObjs.resolve(i,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([i,r,o,a])=>{if(this.destroyed)return;let s=this.#t.get(r);if(!s.objs.has(i)){if(s._intentStates.size===0){a?.bitmap?.close();return}switch(o){case"Image":s.objs.resolve(i,a),a?.dataLen>JG&&(s._maybeCleanupAfterRender=!0);break;case"Pattern":s.objs.resolve(i,a);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",i=>{this.destroyed||e.onProgress?.({loaded:i.loaded,total:i.total})}),t.on("FetchBuiltInCMap",i=>U(this,null,function*(){if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(i)})),t.on("FetchStandardFontData",i=>U(this,null,function*(){if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(i)}))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Xe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");let{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));let e=t-1,i=this.#i.get(e);if(i)return i;let r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#n.set(o.refStr,t);let a=new Ix(e,o,this,this._params.pdfBug);return this.#t.set(e,a),a});return this.#i.set(e,r),r}getPageIndex(t){return HO(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#o("GetFieldObjects")}hasJSActions(){return this.#o("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#o("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#o("GetOptionalContentConfig").then(e=>new mx(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){let t="GetMetadata",e=this.#e.get(t);if(e)return e;let i=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new ux(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(t=!1){return U(this,null,function*(){if(!this.destroyed){yield this.messageHandler.sendWithPromise("Cleanup",null);for(let e of this.#t.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),$h.cleanup()}})}cachedPageNumber(t){if(!HO(t))return null;let e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#n.get(e)??null}},Kf=Symbol("INITIAL_DATA"),bg=class{#e=Object.create(null);#t(t){return this.#e[t]||=ye(E({},Promise.withResolvers()),{data:Kf})}get(t,e=null){if(e){let r=this.#t(t);return r.promise.then(()=>e(r.data)),null}let i=this.#e[t];if(!i||i.data===Kf)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){let e=this.#e[t];return!!e&&e.data!==Kf}resolve(t,e=null){let i=this.#t(t);i.data=e,i.resolve()}clear(){for(let t in this.#e){let{data:e}=this.#e[t];e?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(let t in this.#e){let{data:e}=this.#e[t];e!==Kf&&(yield[t,e])}}},Ox=class{#e=null;constructor(t){this.#e=t,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(t=0){this.#e.cancel(null,t)}get separateAnnots(){let{separateAnnots:t}=this.#e.operatorList;if(!t)return!1;let{annotationCanvasMap:e}=this.#e;return t.form||t.canvas&&e?.size>0}},Fx=class n{#e=null;static#t=new WeakSet;constructor({callback:t,params:e,objs:i,commonObjs:r,annotationCanvasMap:o,operatorList:a,pageIndex:s,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:u=null}){this.callback=t,this.params=e,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=s,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=u,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Ox(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(n.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");n.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:i,viewport:r,transform:o,background:a}=this.params;this.gfx=new wc(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:t,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),n.#t.delete(this._canvas),this.callback(t||new Bh(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){return U(this,null,function*(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),n.#t.delete(this._canvas),this.callback())))})}},Gq="4.8.69",qq="3634dab10";function jO(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Rh(n){return Math.max(0,Math.min(255,255*n))}var vg=class{static CMYK_G([t,e,i,r]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Rh(t),[t,t,t]}static G_HTML([t]){let e=jO(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(Rh)}static RGB_HTML(t){return`#${t.map(jO).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,i+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,i,r]){return[Rh(1-Math.min(1,t+r)),Rh(1-Math.min(1,i+r)),Rh(1-Math.min(1,e+r))]}static CMYK_HTML(t){let e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){let r=1-t,o=1-e,a=1-i,s=Math.min(r,o,a);return["CMYK",r,o,a,s]}},Lx=class{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");let r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){At("Abstract method `_createSVG` called.")}},Gh=class extends Lx{_createSVG(t){return document.createElementNS(jo,t)}},yg=class{static setupStorage(t,e,i,r,o){let a=r.getValue(e,{value:null});switch(i.name){case"textarea":if(a.value!==null&&(t.textContent=a.value),o==="print")break;t.addEventListener("input",s=>{r.setValue(e,{value:s.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(a.value===i.attributes.xfaOn?t.setAttribute("checked",!0):a.value===i.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",s=>{r.setValue(e,{value:s.target.checked?s.target.getAttribute("xfaOn"):s.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&t.setAttribute("value",a.value),o==="print")break;t.addEventListener("input",s=>{r.setValue(e,{value:s.target.value})})}break;case"select":if(a.value!==null){t.setAttribute("value",a.value);for(let s of i.children)s.attributes.value===a.value?s.attributes.selected=!0:s.attributes.hasOwnProperty("selected")&&delete s.attributes.selected}t.addEventListener("input",s=>{let l=s.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(e,{value:c})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:r,linkService:o}){let{attributes:a}=e,s=t instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${r}`);for(let[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!s||l!=="href"&&l!=="newWindow")&&t.setAttribute(l,c)}s&&o.addLinkAttributes(t,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(t,a.dataId,e,i)}static render(t){let e=t.annotationStorage,i=t.linkService,r=t.xfaHtml,o=t.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:o,linkService:i});let s=o!=="richText",l=t.div;if(l.append(a),t.viewport){let h=`matrix(${t.viewport.transform.join(",")})`;l.style.transform=h}s&&l.setAttribute("class","xfaLayer xfaFont");let c=[];if(r.children.length===0){if(r.value){let h=document.createTextNode(r.value);a.append(h),s&&Wh.shouldBuildText(r.name)&&c.push(h)}return{textDivs:c}}let d=[[r,-1,a]];for(;d.length>0;){let[h,u,p]=d.at(-1);if(u+1===h.children.length){d.pop();continue}let m=h.children[++d.at(-1)[1]];if(m===null)continue;let{name:g}=m;if(g==="#text"){let v=document.createTextNode(m.value);c.push(v),p.append(v);continue}let _=m?.attributes?.xmlns?document.createElementNS(m.attributes.xmlns,g):document.createElement(g);if(p.append(_),m.attributes&&this.setAttributes({html:_,element:m,storage:e,intent:o,linkService:i}),m.children?.length>0)d.push([m,-1,_]);else if(m.value){let v=document.createTextNode(m.value);s&&Wh.shouldBuildText(g)&&c.push(v),_.append(v)}}for(let h of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:c}}static update(t){let e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}},Xh=1e3,Yq=9,Qs=new WeakSet;function Uo(n){return{width:n[2]-n[0],height:n[3]-n[1]}}var Nx=class{static create(t){switch(t.data.annotationType){case li.LINK:return new wg(t);case li.TEXT:return new Vx(t);case li.WIDGET:switch(t.data.fieldType){case"Tx":return new Bx(t);case"Btn":return t.data.radioButton?new xg(t):t.data.checkBox?new Hx(t):new jx(t);case"Ch":return new Ux(t);case"Sig":return new zx(t)}return new Go(t);case li.POPUP:return new qh(t);case li.FREETEXT:return new Cg(t);case li.LINE:return new Wx(t);case li.SQUARE:return new Gx(t);case li.CIRCLE:return new qx(t);case li.POLYLINE:return new kg(t);case li.CARET:return new Kx(t);case li.INK:return new Yh(t);case li.POLYGON:return new Yx(t);case li.HIGHLIGHT:return new Dg(t);case li.UNDERLINE:return new Xx(t);case li.SQUIGGLY:return new Qx(t);case li.STRIKEOUT:return new Zx(t);case li.STAMP:return new Mg(t);case li.FILEATTACHMENT:return new Jx(t);default:return new Gt(t)}}},Gt=class n{#e=null;#t=!1;#i=null;constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:i}){return!!(t?.str||e?.str||i?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return n._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};let{rect:e}=t;e&&this.#n(e),this.#i?.popup.updateEdited(t)}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#i?.popup.resetEdited(),this.#e=null)}#n(t){let{container:{style:e},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:a,pageX:s,pageY:l}}}}=this;i?.splice(0,4,...t);let{width:c,height:d}=Uo(t);e.left=`${100*(t[0]-s)/o}%`,e.top=`${100*(a-t[3]+l)/a}%`,r===0?(e.width=`${100*c/o}%`,e.height=`${100*d/a}%`):this.setRotation(r)}_createContainer(t){let{data:e,parent:{page:i,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),this instanceof Go||(o.tabIndex=Xh);let{style:a}=o;if(a.zIndex=this.parent.zIndex++,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof qh){let{rotation:g}=e;return!e.hasOwnCanvas&&g!==0&&this.setRotation(g,o),o}let{width:s,height:l}=Uo(e.rect);if(!t&&e.borderStyle.width>0){a.borderWidth=`${e.borderStyle.width}px`;let g=e.borderStyle.horizontalCornerRadius,_=e.borderStyle.verticalCornerRadius;if(g>0||_>0){let x=`calc(${g}px * var(--scale-factor)) / calc(${_}px * var(--scale-factor))`;a.borderRadius=x}else if(this instanceof xg){let x=`calc(${s}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;a.borderRadius=x}switch(e.borderStyle.style){case Ih.SOLID:a.borderStyle="solid";break;case Ih.DASHED:a.borderStyle="dashed";break;case Ih.BEVELED:Xe("Unimplemented border style: beveled");break;case Ih.INSET:Xe("Unimplemented border style: inset");break;case Ih.UNDERLINE:a.borderBottomStyle="solid";break;default:break}let v=e.borderColor||null;v?(this.#t=!0,a.borderColor=Ce.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):a.borderWidth=0}let c=Ce.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:d,pageHeight:h,pageX:u,pageY:p}=r.rawDims;a.left=`${100*(c[0]-u)/d}%`,a.top=`${100*(c[1]-p)/h}%`;let{rotation:m}=e;return e.hasOwnCanvas||m===0?(a.width=`${100*s/d}%`,a.height=`${100*l/h}%`):this.setRotation(m,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;let{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims,{width:o,height:a}=Uo(this.data.rect),s,l;t%180===0?(s=100*o/i,l=100*a/r):(s=100*a/i,l=100*o/r),e.style.width=`${s}%`,e.style.height=`${l}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){let t=(e,i,r)=>{let o=r.detail[e],a=o[0],s=o.slice(1);r.target.style[i]=vg[`${a}_HTML`](s),this.annotationStorage.setValue(this.data.id,{[i]:vg[`${a}_rgb`](s)})};return nt(this,"_commonActions",{display:e=>{let{display:i}=e.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{let{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{let i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){let i=this._commonActions;for(let r of Object.keys(e.detail))(t[r]||i[r])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;let e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;let i=this._commonActions;for(let[r,o]of Object.entries(e)){let a=i[r];if(a){let s={detail:{[r]:o},target:t};a(s),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;let{quadPoints:t}=this.data;if(!t)return;let[e,i,r,o]=this.data.rect.map(g=>Math.fround(g));if(t.length===8){let[g,_,v,x]=t.subarray(2,6);if(r===g&&o===_&&e===v&&i===x)return}let{style:a}=this.container,s;if(this.#t){let{borderColor:g,borderWidth:_}=a;a.borderWidth=0,s=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${_}">`],this.container.classList.add("hasBorder")}let l=r-e,c=o-i,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);let u=d.createElement("defs");h.append(u);let p=d.createElement("clipPath"),m=`clippath_${this.data.id}`;p.setAttribute("id",m),p.setAttribute("clipPathUnits","objectBoundingBox"),u.append(p);for(let g=2,_=t.length;g<_;g+=8){let v=t[g],x=t[g+1],C=t[g+2],D=t[g+3],A=d.createElement("rect"),$=(C-e)/l,X=(o-x)/c,F=(v-C)/l,S=(x-D)/c;A.setAttribute("x",$),A.setAttribute("y",X),A.setAttribute("width",F),A.setAttribute("height",S),p.append(A),s?.push(`<rect vector-effect="non-scaling-stroke" x="${$}" y="${X}" width="${F}" height="${S}"/>`)}this.#t&&(s.push("</g></svg>')"),a.backgroundImage=s.join("")),this.container.append(h),this.container.style.clipPath=`url(#${m})`}_createPopup(){let{data:t}=this,e=this.#i=new qh({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(e.render())}render(){At("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){let i=[];if(this._fieldObjects){let r=this._fieldObjects[t];if(r)for(let{page:o,id:a,exportValues:s}of r){if(o===-1||a===e)continue;let l=typeof s=="string"?s:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!Qs.has(c)){Xe(`_getElementsByName - element not allowed: ${a}`);continue}i.push({id:a,exportValue:l,domElement:c})}return i}for(let r of document.getElementsByName(t)){let{exportValue:o}=r,a=r.getAttribute("data-element-id");a!==e&&Qs.has(r)&&i.push({id:a,exportValue:o,domElement:r})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){let t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(let e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;let{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}},wg=class extends Gt{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){let{data:t,linkService:e}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(i,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(i,t.action),r=!0):t.attachment?(this.#t(i,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(this.#i(i,t.setOCGState),r=!0):t.dest?(this._bindLink(i,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),r=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#e()}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),this.#e()}#t(t,e,i=null){t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,i),!1),this.#e()}#i(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),this.#e()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");let i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let r of Object.keys(e.actions)){let o=i.get(r);o&&(t[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}t.onclick||(t.onclick=()=>!1),this.#e()}_bindResetFormAction(t,e){let i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){Xe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{i?.();let{fields:r,refs:o,include:a}=e,s=[];if(r.length!==0||o.length!==0){let d=new Set(o);for(let h of r){let u=this._fieldObjects[h]||[];for(let{id:p}of u)d.add(p)}for(let h of Object.values(this._fieldObjects))for(let u of h)d.has(u.id)===a&&s.push(u)}else for(let d of Object.values(this._fieldObjects))s.push(...d);let l=this.annotationStorage,c=[];for(let d of s){let{id:h}=d;switch(c.push(h),d.type){case"text":{let p=d.defaultValue||"";l.setValue(h,{value:p});break}case"checkbox":case"radiobutton":{let p=d.defaultValue===d.exportValues;l.setValue(h,{value:p});break}case"combobox":case"listbox":{let p=d.defaultValue||"";l.setValue(h,{value:p});break}default:continue}let u=document.querySelector(`[data-element-id="${h}"]`);if(u){if(!Qs.has(u)){Xe(`_bindResetFormAction - element not allowed: ${h}`);continue}}else continue;u.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}}),!1}}},Vx=class extends Gt{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");let t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}},Go=class extends Gt{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ei.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,r,o){i.includes("mouse")?t.addEventListener(i,a=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):t.addEventListener(i,a=>{if(i==="blur"){if(!e.focused||!a.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(a)}})})}_setEventListeners(t,e,i,r){for(let[o,a]of i)(a==="Action"||this.data.actions?.[a])&&((a==="Focus"||a==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,o,a,r),a==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):a==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){let e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":Ce.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){let e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||Yq,o=t.style,a,s=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){let c=Math.abs(this.data.rect[3]-this.data.rect[1]-s),d=Math.round(c/(Qf*r))||1,h=c/d;a=Math.min(r,l(h/Qf))}else{let c=Math.abs(this.data.rect[3]-this.data.rect[1]-s);a=Math.min(r,l(c/Qf))}o.fontSize=`calc(${a}px * var(--scale-factor))`,o.color=Ce.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}},Bx=class extends Go{constructor(t){let e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,r){let o=this.annotationStorage;for(let a of this._getElementsByName(t.name,t.id))a.domElement&&(a.domElement[e]=i),o.setValue(a.id,{[r]:i})}render(){let t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){let r=t.getValue(e,{value:this.data.fieldValue}),o=r.value||"",a=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;a&&o.length>a&&(o=o.slice(0,a));let s=r.formattedValue||this.data.textContent?.join(`
`)||null;s&&this.data.comb&&(s=s.replaceAll(/\s+/g,""));let l={userValue:o,formattedValue:s,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=s??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",s??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Qs.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=Xh,this._setRequired(i,this.data.required),a&&(i.maxLength=a),i.addEventListener("input",d=>{t.setValue(e,{value:d.target.value}),this.setPropertyOnSiblings(i,"value",d.target.value,"value"),l.formattedValue=null}),i.addEventListener("resetform",d=>{let h=this.data.defaultFieldValue??"";i.value=l.userValue=h,l.formattedValue=null});let c=d=>{let{formattedValue:h}=l;h!=null&&(d.target.value=h),d.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",h=>{if(l.focused)return;let{target:u}=h;l.userValue&&(u.value=l.userValue),l.lastCommittedValue=u.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),i.addEventListener("updatefromsandbox",h=>{this.showElementAndHideCanvas(h.target);let u={value(p){l.userValue=p.detail.value??"",t.setValue(e,{value:l.userValue.toString()}),p.target.value=l.userValue},formattedValue(p){let{formattedValue:m}=p.detail;l.formattedValue=m,m!=null&&p.target!==document.activeElement&&(p.target.value=m),t.setValue(e,{formattedValue:m})},selRange(p){p.target.setSelectionRange(...p.detail.selRange)},charLimit:p=>{let{charLimit:m}=p.detail,{target:g}=p;if(m===0){g.removeAttribute("maxLength");return}g.setAttribute("maxLength",m);let _=l.userValue;!_||_.length<=m||(_=_.slice(0,m),g.value=l.userValue=_,t.setValue(e,{value:_}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:_,willCommit:!0,commitKey:1,selStart:g.selectionStart,selEnd:g.selectionEnd}}))}};this._dispatchEventFromSandbox(u,h)}),i.addEventListener("keydown",h=>{l.commitKey=1;let u=-1;if(h.key==="Escape"?u=0:h.key==="Enter"&&!this.data.multiLine?u=2:h.key==="Tab"&&(l.commitKey=3),u===-1)return;let{value:p}=h.target;l.lastCommittedValue!==p&&(l.lastCommittedValue=p,l.userValue=p,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:p,willCommit:!0,commitKey:u,selStart:h.target.selectionStart,selEnd:h.target.selectionEnd}}))});let d=c;c=null,i.addEventListener("blur",h=>{if(!l.focused||!h.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);let{value:u}=h.target;l.userValue=u,l.lastCommittedValue!==u&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:u,willCommit:!0,commitKey:l.commitKey,selStart:h.target.selectionStart,selEnd:h.target.selectionEnd}}),d(h)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",h=>{l.lastCommittedValue=null;let{data:u,target:p}=h,{value:m,selectionStart:g,selectionEnd:_}=p,v=g,x=_;switch(h.inputType){case"deleteWordBackward":{let C=m.substring(0,g).match(/\w*[^\w]*$/);C&&(v-=C[0].length);break}case"deleteWordForward":{let C=m.substring(g).match(/^[^\w]*\w*/);C&&(x+=C[0].length);break}case"deleteContentBackward":g===_&&(v-=1);break;case"deleteContentForward":g===_&&(x+=1);break}h.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:m,change:u||"",willCommit:!1,selStart:v,selEnd:x}})}),this._setEventListeners(i,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.value)}if(c&&i.addEventListener("blur",c),this.data.comb){let h=(this.data.rect[2]-this.data.rect[0])/a;i.classList.add("comb"),i.style.letterSpacing=`calc(${h}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}},zx=class extends Go{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}},Hx=class extends Go{constructor(t){super(t,{isRenderable:t.renderForms})}render(){let t=this.annotationStorage,e=this.data,i=e.id,r=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");let o=document.createElement("input");return Qs.add(o),o.setAttribute("data-element-id",i),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=Xh,o.addEventListener("change",a=>{let{name:s,checked:l}=a.target;for(let c of this._getElementsByName(s,i)){let d=l&&c.exportValue===e.exportValue;c.domElement&&(c.domElement.checked=d),t.setValue(c.id,{value:d})}t.setValue(i,{value:l})}),o.addEventListener("resetform",a=>{let s=e.defaultFieldValue||"Off";a.target.checked=s===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",a=>{let s={value(l){l.target.checked=l.detail.value!=="Off",t.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(s,a)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}},xg=class extends Go{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let t=this.annotationStorage,e=this.data,i=e.id,r=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(i,{value:r})),r)for(let a of this._getElementsByName(e.fieldName,i))t.setValue(a.id,{value:!1});let o=document.createElement("input");if(Qs.add(o),o.setAttribute("data-element-id",i),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=Xh,o.addEventListener("change",a=>{let{name:s,checked:l}=a.target;for(let c of this._getElementsByName(s,i))t.setValue(c.id,{value:!1});t.setValue(i,{value:l})}),o.addEventListener("resetform",a=>{let s=e.defaultFieldValue;a.target.checked=s!=null&&s===e.buttonValue}),this.enableScripting&&this.hasJSActions){let a=e.buttonValue;o.addEventListener("updatefromsandbox",s=>{let l={value:c=>{let d=a===c.detail.value;for(let h of this._getElementsByName(c.target.name)){let u=d&&h.id===i;h.domElement&&(h.domElement.checked=u),t.setValue(h.id,{value:u})}}};this._dispatchEventFromSandbox(l,s)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}},jx=class extends wg{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){let t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");let e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}},Ux=class extends Go{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");Qs.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Xh;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",d=>{let h=this.data.defaultFieldValue;for(let u of r.options)u.selected=u.value===h});for(let d of this.data.options){let h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,i.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),o=!1),r.append(h)}let a=null;if(o){let d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),r.prepend(d),a=()=>{d.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}let s=d=>{let h=d?"value":"textContent",{options:u,multiple:p}=r;return p?Array.prototype.filter.call(u,m=>m.selected).map(m=>m[h]):u.selectedIndex===-1?null:u[u.selectedIndex][h]},l=s(!1),c=d=>{let h=d.target.options;return Array.prototype.map.call(h,u=>({displayValue:u.textContent,exportValue:u.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",d=>{let h={value(u){a?.();let p=u.detail.value,m=new Set(Array.isArray(p)?p:[p]);for(let g of r.options)g.selected=m.has(g.value);t.setValue(e,{value:s(!0)}),l=s(!1)},multipleSelection(u){r.multiple=!0},remove(u){let p=r.options,m=u.detail.remove;p[m].selected=!1,r.remove(m),p.length>0&&Array.prototype.findIndex.call(p,_=>_.selected)===-1&&(p[0].selected=!0),t.setValue(e,{value:s(!0),items:c(u)}),l=s(!1)},clear(u){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),l=s(!1)},insert(u){let{index:p,displayValue:m,exportValue:g}=u.detail.insert,_=r.children[p],v=document.createElement("option");v.textContent=m,v.value=g,_?_.before(v):r.append(v),t.setValue(e,{value:s(!0),items:c(u)}),l=s(!1)},items(u){let{items:p}=u.detail;for(;r.length!==0;)r.remove(0);for(let m of p){let{displayValue:g,exportValue:_}=m,v=document.createElement("option");v.textContent=g,v.value=_,r.append(v)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:s(!0),items:c(u)}),l=s(!1)},indices(u){let p=new Set(u.detail.indices);for(let m of u.target.options)m.selected=p.has(m.index);t.setValue(e,{value:s(!0)}),l=s(!1)},editable(u){u.target.disabled=!u.detail.editable}};this._dispatchEventFromSandbox(h,d)}),r.addEventListener("input",d=>{let h=s(!0),u=s(!1);t.setValue(e,{value:h}),d.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:l,change:u,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):r.addEventListener("input",function(d){t.setValue(e,{value:s(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}},qh=class extends Gt{constructor(t){let{data:e,elements:i}=t;super(t,{isRenderable:Gt._hasPopupData(e)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");let t=this.popup=new $x({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(let i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",e.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(i=>`${lC}${i}`).join(",")),this.container}},$x=class{#e=this.#T.bind(this);#t=this.#M.bind(this);#i=this.#E.bind(this);#n=this.#k.bind(this);#r=null;#o=null;#l=null;#c=null;#d=null;#s=null;#h=null;#a=!1;#u=null;#m=null;#p=null;#f=null;#_=null;#g=null;#b=!1;constructor({container:t,color:e,elements:i,titleObj:r,modificationDate:o,contentsObj:a,richText:s,parent:l,rect:c,parentRect:d,open:h}){this.#o=t,this.#_=r,this.#l=a,this.#f=s,this.#s=l,this.#r=e,this.#p=c,this.#h=d,this.#d=i,this.#c=ng.toDateObject(o),this.trigger=i.flatMap(u=>u.getElementsToTriggerPopup());for(let u of this.trigger)u.addEventListener("click",this.#n),u.addEventListener("mouseenter",this.#i),u.addEventListener("mouseleave",this.#t),u.classList.add("popupTriggerArea");for(let u of i)u.container?.addEventListener("keydown",this.#e);this.#o.hidden=!0,h&&this.#k()}render(){if(this.#u)return;let t=this.#u=document.createElement("div");if(t.className="popup",this.#r){let o=t.style.outlineColor=Ce.makeHexColor(...this.#r);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:t.style.backgroundColor=Ce.makeHexColor(...this.#r.map(s=>Math.floor(.7*(255-s)+s)))}let e=document.createElement("span");e.className="header";let i=document.createElement("h1");if(e.append(i),{dir:i.dir,str:i.textContent}=this.#_,t.append(e),this.#c){let o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),e.append(o)}let r=this.#y;if(r)yg.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{let o=this._formatContents(this.#l);t.append(o)}this.#o.append(t)}get#y(){let t=this.#f,e=this.#l;return t?.str&&(!e?.str||e.str===t.str)&&this.#f.html||null}get#C(){return this.#y?.attributes?.style?.fontSize||0}get#w(){return this.#y?.attributes?.style?.color||null}#x(t){let e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:this.#w,fontSize:this.#C?`calc(${this.#C}px * var(--scale-factor))`:""}};for(let o of t.split(`
`))e.push({name:"span",value:o,attributes:r});return i}_formatContents({str:t,dir:e}){let i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;let r=t.split(/(?:\r\n?|\n)/);for(let o=0,a=r.length;o<a;++o){let s=r[o];i.append(document.createTextNode(s)),o<a-1&&i.append(document.createElement("br"))}return i}#T(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#a)&&this.#k()}updateEdited({rect:t,popupContent:e}){this.#g||={contentsObj:this.#l,richText:this.#f},t&&(this.#m=null),e&&(this.#f=this.#x(e),this.#l=null),this.#u?.remove(),this.#u=null}resetEdited(){this.#g&&({contentsObj:this.#l,richText:this.#f}=this.#g,this.#g=null,this.#u?.remove(),this.#u=null,this.#m=null)}#S(){if(this.#m!==null)return;let{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:r,pageY:o}}}=this.#s,a=!!this.#h,s=a?this.#h:this.#p;for(let m of this.#d)if(!s||Ce.intersect(m.data.rect,s)!==null){s=m.data.rect,a=!0;break}let l=Ce.normalizeRect([s[0],t[3]-s[1]+t[1],s[2],t[3]-s[3]+t[1]]),d=a?s[2]-s[0]+5:0,h=l[0]+d,u=l[1];this.#m=[100*(h-r)/e,100*(u-o)/i];let{style:p}=this.#o;p.left=`${this.#m[0]}%`,p.top=`${this.#m[1]}%`}#k(){this.#a=!this.#a,this.#a?(this.#E(),this.#o.addEventListener("click",this.#n),this.#o.addEventListener("keydown",this.#e)):(this.#M(),this.#o.removeEventListener("click",this.#n),this.#o.removeEventListener("keydown",this.#e))}#E(){this.#u||this.render(),this.isVisible?this.#a&&this.#o.classList.add("focused"):(this.#S(),this.#o.hidden=!1,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)+1e3)}#M(){this.#o.classList.remove("focused"),!(this.#a||!this.isVisible)&&(this.#o.hidden=!0,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)-1e3)}forceHide(){this.#b=this.isVisible,this.#b&&(this.#o.hidden=!0)}maybeShow(){this.#b&&(this.#u||this.#E(),this.#b=!1,this.#o.hidden=!1)}get isVisible(){return this.#o.hidden===!1}},Cg=class extends Gt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Ge.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){let t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(let e of this.textContent){let i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}},Wx=class extends Gt{#e=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");let t=this.data,{width:e,height:i}=Uo(t.rect),r=this.svgFactory.create(e,i,!0),o=this.#e=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},Gx=class extends Gt{#e=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");let t=this.data,{width:e,height:i}=Uo(t.rect),r=this.svgFactory.create(e,i,!0),o=t.borderStyle.width,a=this.#e=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",e-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},qx=class extends Gt{#e=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");let t=this.data,{width:e,height:i}=Uo(t.rect),r=this.svgFactory.create(e,i,!0),o=t.borderStyle.width,a=this.#e=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",e/2),a.setAttribute("cy",i/2),a.setAttribute("rx",e/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},kg=class extends Gt{#e=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);let{data:{rect:t,vertices:e,borderStyle:i,popupRef:r}}=this;if(!e)return this.container;let{width:o,height:a}=Uo(t),s=this.svgFactory.create(o,a,!0),l=[];for(let d=0,h=e.length;d<h;d+=2){let u=e[d]-t[0],p=t[3]-e[d+1];l.push(`${u},${p}`)}l=l.join(" ");let c=this.#e=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",l),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),s.append(c),this.container.append(s),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},Yx=class extends kg{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}},Kx=class extends Gt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},Yh=class extends Gt{#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ge.HIGHLIGHT:Ge.INK}render(){this.container.classList.add(this.containerClassName);let{data:{rect:t,inkLists:e,borderStyle:i,popupRef:r}}=this,{width:o,height:a}=Uo(t),s=this.svgFactory.create(o,a,!0);for(let l of e){let c=[];for(let h=0,u=l.length;h<u;h+=2){let p=l[h]-t[0],m=t[3]-l[h+1];c.push(`${p},${m}`)}c=c.join(" ");let d=this.svgFactory.createElement(this.svgElementName);this.#e.push(d),d.setAttribute("points",c),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),s.append(d)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(s),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},Dg=class extends Gt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ge.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}},Xx=class extends Gt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}},Qx=class extends Gt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}},Zx=class extends Gt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}},Mg=class extends Gt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ge.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}},Jx=class extends Gt{#e=null;constructor(t){super(t,{isRenderable:!0});let{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",E({source:this},e))}render(){this.container.classList.add("fileAttachmentAnnotation");let{container:t,data:e}=this,i;e.hasAppearance||e.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#t.bind(this)),this.#e=i;let{isMac:r}=Ei.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&this.#t()}),!e.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}},eC=class{#e=null;#t=null;#i=new Map;#n=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:r,page:o,viewport:a,structTreeLayer:s}){this.div=t,this.#e=e,this.#t=i,this.#n=s||null,this.page=o,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return this.#i.size>0}#r(t,e){return U(this,null,function*(){let i=t.firstChild||t,r=i.id=`${lC}${e}`,o=yield this.#n?.getAriaAttributes(r);if(o)for(let[a,s]of o)i.setAttribute(a,s);this.div.append(t),this.#e?.moveElementInDOM(this.div,t,i,!1)})}render(t){return U(this,null,function*(){let{annotations:e}=t,i=this.div;Ks(i,this.viewport);let r=new Map,o={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Gh,annotationStorage:t.annotationStorage||new jh,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(let a of e){if(a.noHTML)continue;let s=a.annotationType===li.POPUP;if(s){let d=r.get(a.id);if(!d)continue;o.elements=d}else{let{width:d,height:h}=Uo(a.rect);if(d<=0||h<=0)continue}o.data=a;let l=Nx.create(o);if(!l.isRenderable)continue;if(!s&&a.popupRef){let d=r.get(a.popupRef);d?d.push(l):r.set(a.popupRef,[l])}let c=l.render();a.hidden&&(c.style.visibility="hidden"),yield this.#r(c,a.id),l._isEditable&&(this.#i.set(l.data.id,l),this._annotationEditorUIManager?.renderAnnotationElement(l))}this.#o()})}update({viewport:t}){let e=this.div;this.viewport=t,Ks(e,{rotation:t.rotation}),this.#o(),e.hidden=!1}#o(){if(!this.#t)return;let t=this.div;for(let[e,i]of this.#t){let r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;i.className="annotationContent";let{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):r.append(i)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#i.values())}getEditableAnnotation(t){return this.#i.get(t)}},Xf=/\r\n?|\n/g,tC=class n extends _t{#e;#t="";#i=`${this.id}-editor`;#n=null;#r;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){let t=n.prototype,e=o=>o.isEmpty(),i=Hh.TRANSLATE_SMALL,r=Hh.TRANSLATE_BIG;return nt(this,"_keyboardManager",new Xs([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}]]))}static _type="freetext";static _editorType=Ge.FREETEXT;constructor(t){super(ye(E({},t),{name:"freeTextEditor"})),this.#e=t.color||n._defaultColor||_t._defaultLineColor,this.#r=t.fontSize||n._defaultFontSize}static initialize(t,e){_t.initialize(t,e);let i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case Be.FREETEXT_SIZE:n._defaultFontSize=e;break;case Be.FREETEXT_COLOR:n._defaultColor=e;break}}updateParams(t,e){switch(t){case Be.FREETEXT_SIZE:this.#o(e);break;case Be.FREETEXT_COLOR:this.#l(e);break}}static get defaultPropertiesToUpdate(){return[[Be.FREETEXT_SIZE,n._defaultFontSize],[Be.FREETEXT_COLOR,n._defaultColor||_t._defaultLineColor]]}get propertiesToUpdate(){return[[Be.FREETEXT_SIZE,this.#r],[Be.FREETEXT_COLOR,this.#e]]}#o(t){let e=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-this.#r)*this.parentScale),this.#r=r,this.#d()},i=this.#r;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Be.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#l(t){let e=r=>{this.#e=this.editorDiv.style.color=r},i=this.#e;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Be.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){let t=this.parentScale;return[-n._internalPadding*t,-(n._internalPadding+this.#r)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Ge.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#n=new AbortController;let t=this._uiManager.combinedSignal(this.#n);this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#i),this._isDraggable=!0,this.#n?.abort(),this.#n=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#c(){let t=[];this.editorDiv.normalize();let e=null;for(let i of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(n.#s(i)),e=i);return t.join(`
`)}#d(){let[t,e]=this.parentDimensions,i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{let{currentLayer:r,div:o}=this,a=o.style.display,s=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",s)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/e):(this.width=i.height/t,this.height=i.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();let t=this.#t,e=this.#t=this.#c().trimEnd();if(t===e)return;let i=r=>{if(this.#t=r,!r){this.remove();return}this.#h(),this._uiManager.rebuild(this),this.#d()};this.addCommands({cmd:()=>{i(e)},undo:()=>{i(t)},mustExec:!1}),this.#d()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){n._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#i),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;let{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#r}px * var(--scale-factor))`,i.color=this.#e,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),rg(this,this.div,["dblclick","keydown"]),this.width){let[r,o]=this.parentDimensions;if(this.annotationElementId){let{position:a}=this._initialData,[s,l]=this.getInitialTranslation();[s,l]=this.pageTranslationToScreen(s,l);let[c,d]=this.pageDimensions,[h,u]=this.pageTranslation,p,m;switch(this.rotation){case 0:p=t+(a[0]-h)/c,m=e+this.height-(a[1]-u)/d;break;case 90:p=t+(a[0]-h)/c,m=e-(a[1]-u)/d,[s,l]=[l,-s];break;case 180:p=t-this.width+(a[0]-h)/c,m=e-(a[1]-u)/d,[s,l]=[-s,-l];break;case 270:p=t+(a[0]-h-this.height*d)/c,m=e+(a[1]-u-this.width*c)/d,[s,l]=[-l,s];break}this.setAt(p*r,m*o,s,l)}else this.setAt(t*r,e*o,this.width*r,this.height*o);this.#h(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#s(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Xf,"")}editorDivPaste(t){let e=t.clipboardData||window.clipboardData,{types:i}=e;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();let r=n.#u(e.getData("text")||"").replaceAll(Xf,`
`);if(!r)return;let o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();let a=o.getRangeAt(0);if(!r.includes(`
`)){a.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}let{startContainer:s,startOffset:l}=a,c=[],d=[];if(s.nodeType===Node.TEXT_NODE){let p=s.parentElement;if(d.push(s.nodeValue.slice(l).replaceAll(Xf,"")),p!==this.editorDiv){let m=c;for(let g of this.editorDiv.childNodes){if(g===p){m=d;continue}m.push(n.#s(g))}}c.push(s.nodeValue.slice(0,l).replaceAll(Xf,""))}else if(s===this.editorDiv){let p=c,m=0;for(let g of this.editorDiv.childNodes)m++===l&&(p=d),p.push(n.#s(g))}this.#t=`${c.join(`
`)}${r}${d.join(`
`)}`,this.#h();let h=new Range,u=c.reduce((p,m)=>p+m.length,0);for(let{firstChild:p}of this.editorDiv.childNodes)if(p.nodeType===Node.TEXT_NODE){let m=p.nodeValue.length;if(u<=m){h.setStart(p,u),h.setEnd(p,u);break}u-=m}o.removeAllRanges(),o.addRange(h)}#h(){if(this.editorDiv.replaceChildren(),!!this.#t)for(let t of this.#t.split(`
`)){let e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#a(){return this.#t.replaceAll("\xA0"," ")}static#u(t){return t.replaceAll(" ","\xA0")}get contentDiv(){return this.editorDiv}static deserialize(t,e,i){return U(this,null,function*(){let r=null;if(t instanceof Cg){let{data:{defaultAppearanceData:{fontSize:a,fontColor:s},rect:l,rotation:c,id:d,popupRef:h},textContent:u,textPosition:p,parent:{page:{pageNumber:m}}}=t;if(!u||u.length===0)return null;r=t={annotationType:Ge.FREETEXT,color:Array.from(s),fontSize:a,value:u.join(`
`),position:p,pageIndex:m-1,rect:l.slice(0),rotation:c,id:d,deleted:!1,popupRef:h}}let o=yield il(n,this,"deserialize").call(this,t,e,i);return o.#r=t.fontSize,o.#e=Ce.makeHexColor(...t.color),o.#t=n.#u(t.value),o.annotationElementId=t.id||null,o._initialData=r,o})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();let e=n._internalPadding*this.parentScale,i=this.getRect(e,e),r=_t._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e),o={annotationType:Ge.FREETEXT,color:r,fontSize:this.#r,value:this.#a(),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!this.#m(o)?null:(o.id=this.annotationElementId,o)}#m(t){let{value:e,fontSize:i,color:r,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==e||t.fontSize!==i||t.color.some((a,s)=>a!==r[s])||t.pageIndex!==o}renderAnnotationElement(t){let e=super.renderAnnotationElement(t);if(this.deleted)return e;let{style:i}=e;i.fontSize=`calc(${this.#r}px * var(--scale-factor))`,i.color=this.#e,e.replaceChildren();for(let o of this.#t.split(`
`)){let a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),e.append(a)}let r=n._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(r,r),popupContent:this.#t}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}},Sg=class{toSVGPath(){At("Abstract method `toSVGPath` must be implemented.")}get box(){At("Abstract getter `box` must be implemented.")}serialize(t,e){At("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){At("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){At("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}},Eg=class n{#e;#t=[];#i;#n;#r=[];#o=new Float64Array(18);#l;#c;#d;#s;#h;#a;#u=[];static#m=8;static#p=2;static#f=n.#m+n.#p;constructor({x:t,y:e},i,r,o,a,s=0){this.#e=i,this.#a=o*r,this.#n=a,this.#o.set([NaN,NaN,NaN,NaN,t,e],6),this.#i=s,this.#s=n.#m*r,this.#d=n.#f*r,this.#h=r,this.#u.push(t,e)}isEmpty(){return isNaN(this.#o[8])}#_(){let t=this.#o.subarray(4,6),e=this.#o.subarray(16,18),[i,r,o,a]=this.#e;return[(this.#l+(t[0]-e[0])/2-i)/o,(this.#c+(t[1]-e[1])/2-r)/a,(this.#l+(e[0]-t[0])/2-i)/o,(this.#c+(e[1]-t[1])/2-r)/a]}add({x:t,y:e}){this.#l=t,this.#c=e;let[i,r,o,a]=this.#e,[s,l,c,d]=this.#o.subarray(8,12),h=t-c,u=e-d,p=Math.hypot(h,u);if(p<this.#d)return!1;let m=p-this.#s,g=m/p,_=g*h,v=g*u,x=s,C=l;s=c,l=d,c+=_,d+=v,this.#u?.push(t,e);let D=-v/m,A=_/m,$=D*this.#a,X=A*this.#a;return this.#o.set(this.#o.subarray(2,8),0),this.#o.set([c+$,d+X],4),this.#o.set(this.#o.subarray(14,18),12),this.#o.set([c-$,d-X],16),isNaN(this.#o[6])?(this.#r.length===0&&(this.#o.set([s+$,l+X],2),this.#r.push(NaN,NaN,NaN,NaN,(s+$-i)/o,(l+X-r)/a),this.#o.set([s-$,l-X],14),this.#t.push(NaN,NaN,NaN,NaN,(s-$-i)/o,(l-X-r)/a)),this.#o.set([x,C,s,l,c,d],6),!this.isEmpty()):(this.#o.set([x,C,s,l,c,d],6),Math.abs(Math.atan2(C-l,x-s)-Math.atan2(v,_))<Math.PI/2?([s,l,c,d]=this.#o.subarray(2,6),this.#r.push(NaN,NaN,NaN,NaN,((s+c)/2-i)/o,((l+d)/2-r)/a),[s,l,x,C]=this.#o.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((x+s)/2-i)/o,((C+l)/2-r)/a),!0):([x,C,s,l,c,d]=this.#o.subarray(0,6),this.#r.push(((x+5*s)/6-i)/o,((C+5*l)/6-r)/a,((5*s+c)/6-i)/o,((5*l+d)/6-r)/a,((s+c)/2-i)/o,((l+d)/2-r)/a),[c,d,s,l,x,C]=this.#o.subarray(12,18),this.#t.push(((x+5*s)/6-i)/o,((C+5*l)/6-r)/a,((5*s+c)/6-i)/o,((5*l+d)/6-r)/a,((s+c)/2-i)/o,((l+d)/2-r)/a),!0))}toSVGPath(){if(this.isEmpty())return"";let t=this.#r,e=this.#t;if(isNaN(this.#o[6])&&!this.isEmpty())return this.#g();let i=[];i.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#y(i);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return this.#b(i),i.join(" ")}#g(){let[t,e,i,r]=this.#e,[o,a,s,l]=this.#_();return`M${(this.#o[2]-t)/i} ${(this.#o[3]-e)/r} L${(this.#o[4]-t)/i} ${(this.#o[5]-e)/r} L${o} ${a} L${s} ${l} L${(this.#o[16]-t)/i} ${(this.#o[17]-e)/r} L${(this.#o[14]-t)/i} ${(this.#o[15]-e)/r} Z`}#b(t){let e=this.#t;t.push(`L${e[4]} ${e[5]} Z`)}#y(t){let[e,i,r,o]=this.#e,a=this.#o.subarray(4,6),s=this.#o.subarray(16,18),[l,c,d,h]=this.#_();t.push(`L${(a[0]-e)/r} ${(a[1]-i)/o} L${l} ${c} L${d} ${h} L${(s[0]-e)/r} ${(s[1]-i)/o}`)}newFreeDrawOutline(t,e,i,r,o,a){return new Ag(t,e,i,r,o,a)}getOutlines(){let t=this.#r,e=this.#t,i=this.#o,[r,o,a,s]=this.#e,l=new Float64Array((this.#u?.length??0)+2);for(let h=0,u=l.length-2;h<u;h+=2)l[h]=(this.#u[h]-r)/a,l[h+1]=(this.#u[h+1]-o)/s;if(l[l.length-2]=(this.#l-r)/a,l[l.length-1]=(this.#c-o)/s,isNaN(i[6])&&!this.isEmpty())return this.#C(l);let c=new Float64Array(this.#r.length+24+this.#t.length),d=t.length;for(let h=0;h<d;h+=2){if(isNaN(t[h])){c[h]=c[h+1]=NaN;continue}c[h]=t[h],c[h+1]=t[h+1]}d=this.#x(c,d);for(let h=e.length-6;h>=6;h-=6)for(let u=0;u<6;u+=2){if(isNaN(e[h+u])){c[d]=c[d+1]=NaN,d+=2;continue}c[d]=e[h+u],c[d+1]=e[h+u+1],d+=2}return this.#w(c,d),this.newFreeDrawOutline(c,l,this.#e,this.#h,this.#i,this.#n)}#C(t){let e=this.#o,[i,r,o,a]=this.#e,[s,l,c,d]=this.#_(),h=new Float64Array(36);return h.set([NaN,NaN,NaN,NaN,(e[2]-i)/o,(e[3]-r)/a,NaN,NaN,NaN,NaN,(e[4]-i)/o,(e[5]-r)/a,NaN,NaN,NaN,NaN,s,l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,(e[16]-i)/o,(e[17]-r)/a,NaN,NaN,NaN,NaN,(e[14]-i)/o,(e[15]-r)/a],0),this.newFreeDrawOutline(h,t,this.#e,this.#h,this.#i,this.#n)}#w(t,e){let i=this.#t;return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6}#x(t,e){let i=this.#o.subarray(4,6),r=this.#o.subarray(16,18),[o,a,s,l]=this.#e,[c,d,h,u]=this.#_();return t.set([NaN,NaN,NaN,NaN,(i[0]-o)/s,(i[1]-a)/l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,h,u,NaN,NaN,NaN,NaN,(r[0]-o)/s,(r[1]-a)/l],e),e+=24}},Ag=class extends Sg{#e;#t=null;#i;#n;#r;#o;#l;constructor(t,e,i,r,o,a){super(),this.#l=t,this.#r=e,this.#e=i,this.#o=r,this.#i=o,this.#n=a,this.#s(a);let{x:s,y:l,width:c,height:d}=this.#t;for(let h=0,u=t.length;h<u;h+=2)t[h]=(t[h]-s)/c,t[h+1]=(t[h+1]-l)/d;for(let h=0,u=e.length;h<u;h+=2)e[h]=(e[h]-s)/c,e[h+1]=(e[h+1]-l)/d}toSVGPath(){let t=[`M${this.#l[4]} ${this.#l[5]}`];for(let e=6,i=this.#l.length;e<i;e+=6){if(isNaN(this.#l[e])){t.push(`L${this.#l[e+4]} ${this.#l[e+5]}`);continue}t.push(`C${this.#l[e]} ${this.#l[e+1]} ${this.#l[e+2]} ${this.#l[e+3]} ${this.#l[e+4]} ${this.#l[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,i,r],o){let a=i-t,s=r-e,l,c;switch(o){case 0:l=this.#c(this.#l,t,r,a,-s),c=this.#c(this.#r,t,r,a,-s);break;case 90:l=this.#d(this.#l,t,e,a,s),c=this.#d(this.#r,t,e,a,s);break;case 180:l=this.#c(this.#l,i,e,-a,s),c=this.#c(this.#r,i,e,-a,s);break;case 270:l=this.#d(this.#l,i,r,-a,-s),c=this.#d(this.#r,i,r,-a,-s);break}return{outline:Array.from(l),points:[Array.from(c)]}}#c(t,e,i,r,o){let a=new Float64Array(t.length);for(let s=0,l=t.length;s<l;s+=2)a[s]=e+t[s]*r,a[s+1]=i+t[s+1]*o;return a}#d(t,e,i,r,o){let a=new Float64Array(t.length);for(let s=0,l=t.length;s<l;s+=2)a[s]=e+t[s+1]*r,a[s+1]=i+t[s]*o;return a}#s(t){let e=this.#l,i=e[4],r=e[5],o=i,a=r,s=i,l=r,c=i,d=r,h=t?Math.max:Math.min;for(let _=6,v=e.length;_<v;_+=6){if(isNaN(e[_]))o=Math.min(o,e[_+4]),a=Math.min(a,e[_+5]),s=Math.max(s,e[_+4]),l=Math.max(l,e[_+5]),d<e[_+5]?(c=e[_+4],d=e[_+5]):d===e[_+5]&&(c=h(c,e[_+4]));else{let x=Ce.bezierBoundingBox(i,r,...e.slice(_,_+6));o=Math.min(o,x[0]),a=Math.min(a,x[1]),s=Math.max(s,x[2]),l=Math.max(l,x[3]),d<x[3]?(c=x[2],d=x[3]):d===x[3]&&(c=h(c,x[2]))}i=e[_+4],r=e[_+5]}let u=o-this.#i,p=a-this.#i,m=s-o+2*this.#i,g=l-a+2*this.#i;this.#t={x:u,y:p,width:m,height:g,lastPoint:[c,d]}}get box(){return this.#t}newOutliner(t,e,i,r,o,a=0){return new Eg(t,e,i,r,o,a)}getNewOutline(t,e){let{x:i,y:r,width:o,height:a}=this.#t,[s,l,c,d]=this.#e,h=o*c,u=a*d,p=i*c+s,m=r*d+l,g=this.newOutliner({x:this.#r[0]*h+p,y:this.#r[1]*u+m},this.#e,this.#o,t,this.#n,e??this.#i);for(let _=2;_<this.#r.length;_+=2)g.add({x:this.#r[_]*h+p,y:this.#r[_+1]*u+m});return g.getOutlines()}get mustRemoveSelfIntersections(){return!0}},Tg=class{#e;#t=[];#i=[];constructor(t,e=0,i=0,r=!0){let o=1/0,a=-1/0,s=1/0,l=-1/0,d=10**-4;for(let{x:v,y:x,width:C,height:D}of t){let A=Math.floor((v-e)/d)*d,$=Math.ceil((v+C+e)/d)*d,X=Math.floor((x-e)/d)*d,F=Math.ceil((x+D+e)/d)*d,S=[A,X,F,!0],z=[$,X,F,!1];this.#t.push(S,z),o=Math.min(o,A),a=Math.max(a,$),s=Math.min(s,X),l=Math.max(l,F)}let h=a-o+2*i,u=l-s+2*i,p=o-i,m=s-i,g=this.#t.at(r?-1:-2),_=[g[0],g[2]];for(let v of this.#t){let[x,C,D]=v;v[0]=(x-p)/h,v[1]=(C-m)/u,v[2]=(D-m)/u}this.#e={x:p,y:m,width:h,height:u,lastPoint:_}}getOutlines(){this.#t.sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);let t=[];for(let e of this.#t)e[3]?(t.push(...this.#c(e)),this.#o(e)):(this.#l(e),t.push(...this.#c(e)));return this.#n(t)}#n(t){let e=[],i=new Set;for(let a of t){let[s,l,c]=a;e.push([s,l,a],[s,c,a])}e.sort((a,s)=>a[1]-s[1]||a[0]-s[0]);for(let a=0,s=e.length;a<s;a+=2){let l=e[a][2],c=e[a+1][2];l.push(c),c.push(l),i.add(l),i.add(c)}let r=[],o;for(;i.size>0;){let a=i.values().next().value,[s,l,c,d,h]=a;i.delete(a);let u=s,p=l;for(o=[s,c],r.push(o);;){let m;if(i.has(d))m=d;else if(i.has(h))m=h;else break;i.delete(m),[s,l,c,d,h]=m,u!==s&&(o.push(u,p,s,p===l?l:c),u=s),p=p===l?c:l}o.push(u,p)}return new iC(r,this.#e)}#r(t){let e=this.#i,i=0,r=e.length-1;for(;i<=r;){let o=i+r>>1,a=e[o][0];if(a===t)return o;a<t?i=o+1:r=o-1}return r+1}#o([,t,e]){let i=this.#r(t);this.#i.splice(i,0,[t,e])}#l([,t,e]){let i=this.#r(t);for(let r=i;r<this.#i.length;r++){let[o,a]=this.#i[r];if(o!==t)break;if(o===t&&a===e){this.#i.splice(r,1);return}}for(let r=i-1;r>=0;r--){let[o,a]=this.#i[r];if(o!==t)break;if(o===t&&a===e){this.#i.splice(r,1);return}}}#c(t){let[e,i,r]=t,o=[[e,i,r]],a=this.#r(r);for(let s=0;s<a;s++){let[l,c]=this.#i[s];for(let d=0,h=o.length;d<h;d++){let[,u,p]=o[d];if(!(c<=u||p<=l)){if(u>=l){if(p>c)o[d][1]=c;else{if(h===1)return[];o.splice(d,1),d--,h--}continue}o[d][2]=l,p>c&&o.push([e,c,p])}}}return o}},iC=class extends Sg{#e;#t;constructor(t,e){super(),this.#t=t,this.#e=e}toSVGPath(){let t=[];for(let e of this.#t){let[i,r]=e;t.push(`M${i} ${r}`);for(let o=2;o<e.length;o+=2){let a=e[o],s=e[o+1];a===i?(t.push(`V${s}`),r=s):s===r&&(t.push(`H${a}`),i=a)}t.push("Z")}return t.join(" ")}serialize([t,e,i,r],o){let a=[],s=i-t,l=r-e;for(let c of this.#t){let d=new Array(c.length);for(let h=0;h<c.length;h+=2)d[h]=t+c[h]*s,d[h+1]=r-c[h+1]*l;a.push(d)}return a}get box(){return this.#e}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}},Kh=class extends Eg{newFreeDrawOutline(t,e,i,r,o,a){return new nC(t,e,i,r,o,a)}get classNamesForDrawing(){return["highlight","free"]}},nC=class extends Ag{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,i,r,o,a=0){return new Kh(t,e,i,r,o,a)}},Ig=class n{#e=null;#t=null;#i;#n=null;#r=!1;#o=!1;#l=null;#c;#d=null;#s=null;#h;static#a=null;static get _keyboardManager(){return nt(this,"_keyboardManager",new Xs([[["Escape","mac+Escape"],n.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],n.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],n.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],n.prototype._moveToPrevious],[["Home","mac+Home"],n.prototype._moveToBeginning],[["End","mac+End"],n.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#o=!1,this.#h=Be.HIGHLIGHT_COLOR,this.#l=t):(this.#o=!0,this.#h=Be.HIGHLIGHT_DEFAULT_COLOR),this.#s=t?._uiManager||e,this.#c=this.#s._eventBus,this.#i=t?.color||this.#s?.highlightColors.values().next().value||"#FFFF98",n.#a||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){let t=this.#e=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);let e=this.#s._signal;t.addEventListener("click",this.#f.bind(this),{signal:e}),t.addEventListener("keydown",this.#p.bind(this),{signal:e});let i=this.#t=document.createElement("span");return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=this.#i,t.append(i),t}renderMainDropdown(){let t=this.#n=this.#u();return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}#u(){let t=document.createElement("div"),e=this.#s._signal;t.addEventListener("contextmenu",sr,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(let[i,r]of this.#s.highlightColors){let o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=i,o.setAttribute("data-l10n-id",n.#a[i]);let a=document.createElement("span");o.append(a),a.className="swatch",a.style.backgroundColor=r,o.setAttribute("aria-selected",r===this.#i),o.addEventListener("click",this.#m.bind(this,r),{signal:e}),t.append(o)}return t.addEventListener("keydown",this.#p.bind(this),{signal:e}),t}#m(t,e){e.stopPropagation(),this.#c.dispatch("switchannotationeditorparams",{source:this,type:this.#h,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#e){this.#f(t);return}let e=t.target.getAttribute("data-color");e&&this.#m(e,t)}_moveToNext(t){if(!this.#g){this.#f(t);return}if(t.target===this.#e){this.#n.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstChild||t.target===this.#e){this.#g&&this._hideDropdownFromKeyboard();return}this.#g||this.#f(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#g){this.#f(t);return}this.#n.firstChild?.focus()}_moveToEnd(t){if(!this.#g){this.#f(t);return}this.#n.lastChild?.focus()}#p(t){n._keyboardManager.exec(this,t)}#f(t){if(this.#g){this.hideDropdown();return}if(this.#r=t.detail===0,this.#d||(this.#d=new AbortController,window.addEventListener("pointerdown",this.#_.bind(this),{signal:this.#s.combinedSignal(this.#d)})),this.#n){this.#n.classList.remove("hidden");return}let e=this.#n=this.#u();this.#e.append(e)}#_(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#d?.abort(),this.#d=null}get#g(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#o){if(!this.#g){this.#l?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#r})}}updateColor(t){if(this.#t&&(this.#t.style.backgroundColor=t),!this.#n)return;let e=this.#s.highlightColors.values();for(let i of this.#n.children)i.setAttribute("aria-selected",e.next().value===t)}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}},Pg=class n extends _t{#e=null;#t=0;#i;#n=null;#r=null;#o=null;#l=null;#c=0;#d=null;#s=null;#h=null;#a=!1;#u=null;#m;#p=null;#f="";#_;#g="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Ge.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){let t=n.prototype;return nt(this,"_keyboardManager",new Xs([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super(ye(E({},t),{name:"highlightEditor"})),this.color=t.color||n._defaultColor,this.#_=t.thickness||n._defaultThickness,this.#m=t.opacity||n._defaultOpacity,this.#i=t.boxes||null,this.#g=t.methodOfCreation||"",this.#f=t.text||"",this._isDraggable=!1,t.highlightId>-1?(this.#a=!0,this.#y(t),this.#S()):this.#i&&(this.#e=t.anchorNode,this.#t=t.anchorOffset,this.#l=t.focusNode,this.#c=t.focusOffset,this.#b(),this.#S(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#a?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#_,methodOfCreation:this.#g}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#b(){let t=new Tg(this.#i,.001);this.#s=t.getOutlines(),{x:this.x,y:this.y,width:this.width,height:this.height}=this.#s.box;let e=new Tg(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#o=e.getOutlines();let{lastPoint:i}=this.#o.box;this.#u=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#y({highlightOutlines:t,highlightId:e,clipPathId:i}){this.#s=t;let r=1.5;if(this.#o=t.getNewOutline(this.#_/2+r,.0025),e>=0)this.#h=e,this.#n=i,this.parent.drawLayer.finalizeLine(e,t),this.#p=this.parent.drawLayer.drawOutline(this.#o);else if(this.parent){let d=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#h,t),this.parent.drawLayer.updateBox(this.#h,n.#k(this.#s.box,(d-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#p,this.#o),this.parent.drawLayer.updateBox(this.#p,n.#k(this.#o.box,d))}let{x:o,y:a,width:s,height:l}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=s,this.height=l;break;case 90:{let[d,h]=this.parentDimensions;this.x=a,this.y=1-o,this.width=s*h/d,this.height=l*d/h;break}case 180:this.x=1-o,this.y=1-a,this.width=s,this.height=l;break;case 270:{let[d,h]=this.parentDimensions;this.x=1-a,this.y=o,this.width=s*h/d,this.height=l*d/h;break}}let{lastPoint:c}=this.#o.box;this.#u=[(c[0]-o)/s,(c[1]-a)/l]}static initialize(t,e){_t.initialize(t,e),n._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case Be.HIGHLIGHT_DEFAULT_COLOR:n._defaultColor=e;break;case Be.HIGHLIGHT_THICKNESS:n._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#u}updateParams(t,e){switch(t){case Be.HIGHLIGHT_COLOR:this.#C(e);break;case Be.HIGHLIGHT_THICKNESS:this.#w(e);break}}static get defaultPropertiesToUpdate(){return[[Be.HIGHLIGHT_DEFAULT_COLOR,n._defaultColor],[Be.HIGHLIGHT_THICKNESS,n._defaultThickness]]}get propertiesToUpdate(){return[[Be.HIGHLIGHT_COLOR,this.color||n._defaultColor],[Be.HIGHLIGHT_THICKNESS,this.#_||n._defaultThickness],[Be.HIGHLIGHT_FREE,this.#a]]}#C(t){let e=(o,a)=>{this.color=o,this.parent?.drawLayer.changeColor(this.#h,o),this.#r?.updateColor(o),this.#m=a,this.parent?.drawLayer.changeOpacity(this.#h,a)},i=this.color,r=this.#m;this.addCommands({cmd:e.bind(this,t,n._defaultOpacity),undo:e.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Be.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#w(t){let e=this.#_,i=r=>{this.#_=r,this.#x(r)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Be.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}addEditToolbar(){return U(this,null,function*(){let t=yield il(n.prototype,this,"addEditToolbar").call(this);return t?(this._uiManager.highlightColors&&(this.#r=new Ig({editor:this}),t.addColorPicker(this.#r)),t):null})}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#I())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#I())}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#S(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#T():t&&(this.#S(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#x(t){if(!this.#a)return;this.#y({highlightOutlines:this.#s.getNewOutline(t/2)}),this.fixAndSetPosition();let[e,i]=this.parentDimensions;this.setDims(this.width*e,this.height*i)}#T(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#S(t=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#n}=t.drawLayer.draw(this.#s,this.color,this.#m),this.#p=t.drawLayer.drawOutline(this.#o),this.#d&&(this.#d.style.clipPath=this.#n))}static#k({x:t,y:e,width:i,height:r},o){switch(o){case 90:return{x:1-e-r,y:t,width:r,height:i};case 180:return{x:1-t-i,y:1-e-r,width:i,height:r};case 270:return{x:e,y:1-t-i,width:r,height:i}}return{x:t,y:e,width:i,height:r}}rotate(t){let{drawLayer:e}=this.parent,i;this.#a?(t=(t-this.rotation+360)%360,i=n.#k(this.#s.box,t)):i=n.#k(this,t),e.rotate(this.#h,t),e.rotate(this.#p,t),e.updateBox(this.#h,i),e.updateBox(this.#p,n.#k(this.#o.box,t))}render(){if(this.div)return this.div;let t=super.render();this.#f&&(t.setAttribute("aria-label",this.#f),t.setAttribute("role","mark")),this.#a?t.classList.add("free"):this.div.addEventListener("keydown",this.#E.bind(this),{signal:this._uiManager._signal});let e=this.#d=document.createElement("div");t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n;let[i,r]=this.parentDimensions;return this.setDims(this.width*i,this.height*r),rg(this,this.#d,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(this.#p,"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(this.#p,"hovered")}#E(t){n._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#M(!0);break;case 1:case 3:this.#M(!1);break}}#M(t){if(!this.#e)return;let e=window.getSelection();t?e.setPosition(this.#e,this.#t):e.setPosition(this.#l,this.#c)}select(){super.select(),this.#p&&(this.parent?.drawLayer.removeClass(this.#p,"hovered"),this.parent?.drawLayer.addClass(this.#p,"selected"))}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.removeClass(this.#p,"selected"),this.#a||this.#M(!1))}get _mustFixPosition(){return!this.#a}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(this.#h,t),this.parent.drawLayer.show(this.#p,t))}#I(){return this.#a?this.rotation:0}#R(){if(this.#a)return null;let[t,e]=this.pageDimensions,[i,r]=this.pageTranslation,o=this.#i,a=new Float32Array(o.length*8),s=0;for(let{x:l,y:c,width:d,height:h}of o){let u=l*t+i,p=(1-c-h)*e+r;a[s]=a[s+4]=u,a[s+1]=a[s+3]=p,a[s+2]=a[s+6]=u+d*t,a[s+5]=a[s+7]=p+h*e,s+=8}return a}#D(t){return this.#s.serialize(t,this.#I())}static startHighlighting(t,e,{target:i,x:r,y:o}){let{x:a,y:s,width:l,height:c}=i.getBoundingClientRect(),d=new AbortController,h=t.combinedSignal(d),u=m=>{m.preventDefault(),m.stopPropagation()},p=m=>{d.abort(),this.#A(t,m)};window.addEventListener("blur",p,{signal:h}),window.addEventListener("pointerup",p,{signal:h}),window.addEventListener("pointerdown",u,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",sr,{signal:h}),i.addEventListener("pointermove",this.#v.bind(this,t),{signal:h}),this._freeHighlight=new Kh({x:r,y:o},[a,s,l,c],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static#v(t,e){this._freeHighlight.add(e)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#A(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(t,e,i){return U(this,null,function*(){let r=null;if(t instanceof Dg){let{data:{quadPoints:m,rect:g,rotation:_,id:v,color:x,opacity:C,popupRef:D},parent:{page:{pageNumber:A}}}=t;r=t={annotationType:Ge.HIGHLIGHT,color:Array.from(x),opacity:C,quadPoints:m,boxes:null,pageIndex:A-1,rect:g.slice(0),rotation:_,id:v,deleted:!1,popupRef:D}}else if(t instanceof Yh){let{data:{inkLists:m,rect:g,rotation:_,id:v,color:x,borderStyle:{rawWidth:C},popupRef:D},parent:{page:{pageNumber:A}}}=t;r=t={annotationType:Ge.HIGHLIGHT,color:Array.from(x),thickness:C,inkLists:m,boxes:null,pageIndex:A-1,rect:g.slice(0),rotation:_,id:v,deleted:!1,popupRef:D}}let{color:o,quadPoints:a,inkLists:s,opacity:l}=t,c=yield il(n,this,"deserialize").call(this,t,e,i);c.color=Ce.makeHexColor(...o),c.#m=l||1,s&&(c.#_=t.thickness),c.annotationElementId=t.id||null,c._initialData=r;let[d,h]=c.pageDimensions,[u,p]=c.pageTranslation;if(a){let m=c.#i=[];for(let g=0;g<a.length;g+=8)m.push({x:(a[g]-u)/d,y:1-(a[g+1]-p)/h,width:(a[g+2]-a[g])/d,height:(a[g+1]-a[g+5])/h});c.#b(),c.#S(),c.rotate(c.rotation)}else if(s){c.#a=!0;let m=s[0],g={x:m[0]-u,y:h-(m[1]-p)},_=new Kh(g,[0,0,d,h],1,c.#_/2,!0,.001);for(let C=0,D=m.length;C<D;C+=2)g.x=m[C]-u,g.y=h-(m[C+1]-p),_.add(g);let{id:v,clipPathId:x}=e.drawLayer.draw(_,c.color,c._defaultOpacity,!0);c.#y({highlightOutlines:_.getOutlines(),highlightId:v,clipPathId:x}),c.#S()}return c})}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();let e=this.getRect(0,0),i=_t._colorManager.convert(this.color),r={annotationType:Ge.HIGHLIGHT,color:i,opacity:this.#m,thickness:this.#_,quadPoints:this.#R(),outlines:this.#D(e),pageIndex:this.pageIndex,rect:e,rotation:this.#I(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#P(r)?null:(r.id=this.annotationElementId,r)}#P(t){let{color:e}=this._initialData;return t.color.some((i,r)=>i!==e[r])}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}},rC=class n extends _t{#e=0;#t=0;#i=null;#n=new Path2D;#r=!1;#o=null;#l=!1;#c=!1;#d=null;#s=null;#h=0;#a=0;#u=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=Ge.INK;constructor(t){super(ye(E({},t),{name:"inkEditor"})),this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,e){_t.initialize(t,e)}static updateDefaultParams(t,e){switch(t){case Be.INK_THICKNESS:n._defaultThickness=e;break;case Be.INK_COLOR:n._defaultColor=e;break;case Be.INK_OPACITY:n._defaultOpacity=e/100;break}}updateParams(t,e){switch(t){case Be.INK_THICKNESS:this.#m(e);break;case Be.INK_COLOR:this.#p(e);break;case Be.INK_OPACITY:this.#f(e);break}}static get defaultPropertiesToUpdate(){return[[Be.INK_THICKNESS,n._defaultThickness],[Be.INK_COLOR,n._defaultColor||_t._defaultLineColor],[Be.INK_OPACITY,Math.round(n._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Be.INK_THICKNESS,this.thickness||n._defaultThickness],[Be.INK_COLOR,this.color||n._defaultColor||_t._defaultLineColor],[Be.INK_OPACITY,Math.round(100*(this.opacity??n._defaultOpacity))]]}#m(t){let e=r=>{this.thickness=r,this.#O()},i=this.thickness;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Be.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#p(t){let e=r=>{this.color=r,this.#k()},i=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Be.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#f(t){let e=r=>{this.opacity=r,this.#k()};t/=100;let i=this.opacity;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Be.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#R(),this.#D()),this.isAttachedToDOM||(this.parent.add(this),this.#v()),this.#O()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#i&&(clearTimeout(this.#i),this.#i=null),this.#d?.disconnect(),this.#d=null,super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){let[t,e]=this.parentDimensions,i=this.width*t,r=this.height*e;this.setDimensions(i,r)}enableEditMode(){this.#r||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.#E())}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.#M())}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#_(){let{parentRotation:t,parentDimensions:[e,i]}=this;switch(t){case 90:return[0,i,i,e];case 180:return[e,i,e,i];case 270:return[e,0,i,e];default:return[0,0,e,i]}}#g(){let{ctx:t,color:e,opacity:i,thickness:r,parentScale:o,scaleFactor:a}=this;t.lineWidth=r*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${e}${vq(i)}`}#b(t,e){this.canvas.addEventListener("contextmenu",sr,{signal:this._uiManager._signal}),this.#M(),this.#o=new AbortController;let i=this._uiManager.combinedSignal(this.#o);this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,this.#c||(this.#c=!0,this.#v(),this.thickness||=n._defaultThickness,this.color||=n._defaultColor||_t._defaultLineColor,this.opacity??=n._defaultOpacity),this.currentPath.push([t,e]),this.#l=!1,this.#g(),this.#u=()=>{this.#x(),this.#u&&window.requestAnimationFrame(this.#u)},window.requestAnimationFrame(this.#u)}#y(t,e){let[i,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&e===r)return;let o=this.currentPath,a=this.#n;if(o.push([t,e]),this.#l=!0,o.length<=2){a.moveTo(...o[0]),a.lineTo(t,e);return}o.length===3&&(this.#n=a=new Path2D,a.moveTo(...o[0])),this.#T(a,...o.at(-3),...o.at(-2),t,e)}#C(){if(this.currentPath.length===0)return;let t=this.currentPath.at(-1);this.#n.lineTo(...t)}#w(t,e){this.#u=null,t=Math.min(Math.max(t,0),this.canvas.width),e=Math.min(Math.max(e,0),this.canvas.height),this.#y(t,e),this.#C();let i;if(this.currentPath.length!==1)i=this.#S();else{let l=[t,e];i=[[l,l.slice(),l.slice(),l]]}let r=this.#n,o=this.currentPath;this.currentPath=[],this.#n=new Path2D;let a=()=>{this.allRawPaths.push(o),this.paths.push(i),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},s=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#R(),this.#D()),this.#O())};this.addCommands({cmd:a,undo:s,mustExec:!0})}#x(){if(!this.#l)return;this.#l=!1;let t=Math.ceil(this.thickness*this.parentScale),e=this.currentPath.slice(-3),i=e.map(d=>d[0]),r=e.map(d=>d[1]),o=Math.min(...i)-t,a=Math.max(...i)+t,s=Math.min(...r)-t,l=Math.max(...r)+t,{ctx:c}=this;c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(let d of this.bezierPath2D)c.stroke(d);c.stroke(this.#n),c.restore()}#T(t,e,i,r,o,a,s){let l=(e+r)/2,c=(i+o)/2,d=(r+a)/2,h=(o+s)/2;t.bezierCurveTo(l+2*(r-l)/3,c+2*(o-c)/3,d+2*(r-d)/3,h+2*(o-h)/3,d,h)}#S(){let t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];let e=[],i,[r,o]=t[0];for(i=1;i<t.length-2;i++){let[u,p]=t[i],[m,g]=t[i+1],_=(u+m)/2,v=(p+g)/2,x=[r+2*(u-r)/3,o+2*(p-o)/3],C=[_+2*(u-_)/3,v+2*(p-v)/3];e.push([[r,o],x,C,[_,v]]),[r,o]=[_,v]}let[a,s]=t[i],[l,c]=t[i+1],d=[r+2*(a-r)/3,o+2*(s-o)/3],h=[l+2*(a-l)/3,c+2*(s-c)/3];return e.push([[r,o],d,h,[l,c]]),e}#k(){if(this.isEmpty()){this.#P();return}this.#g();let{canvas:t,ctx:e}=this;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height),this.#P();for(let i of this.bezierPath2D)e.stroke(i)}commit(){this.#r||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#r=!0,this.div.classList.add("disabled"),this.#O(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}#E(){if(this.#s)return;this.#s=new AbortController;let t=this._uiManager.combinedSignal(this.#s);this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})}#M(){this.pointerdownAC?.abort(),this.pointerdownAC=null}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||this.#r||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#b(t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),this.#y(t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),this.#I(t)}canvasPointerleave(t){this.#I(t)}#I(t){this.#o?.abort(),this.#o=null,this.#E(),this.#i&&clearTimeout(this.#i),this.#i=setTimeout(()=>{this.#i=null,this.canvas.removeEventListener("contextmenu",sr)},10),this.#w(t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#R(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#D(){this.#d=new ResizeObserver(t=>{let e=t[0].contentRect;e.width&&e.height&&this.setDimensions(e.width,e.height)}),this.#d.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#d?.disconnect(),this.#d=null},{once:!0})}get isResizable(){return!this.isEmpty()&&this.#r}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");let[i,r,o,a]=this.#_();if(this.setAt(i,r,0,0),this.setDims(o,a),this.#R(),this.width){let[s,l]=this.parentDimensions;this.setAspectRatio(this.width*s,this.height*l),this.setAt(t*s,e*l,this.width*s,this.height*l),this.#c=!0,this.#v(),this.setDims(this.width*s,this.height*l),this.#k(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#D(),this.div}#v(){if(!this.#c)return;let[t,e]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*e),this.#P()}setDimensions(t,e){let i=Math.round(t),r=Math.round(e);if(this.#h===i&&this.#a===r)return;this.#h=i,this.#a=r,this.canvas.style.visibility="hidden";let[o,a]=this.parentDimensions;this.width=t/o,this.height=e/a,this.fixAndSetPosition(),this.#r&&this.#A(t,e),this.#v(),this.#k(),this.canvas.style.visibility="visible",this.fixDims()}#A(t,e){let i=this.#B(),r=(t-i)/this.#t,o=(e-i)/this.#e;this.scaleFactor=Math.min(r,o)}#P(){let t=this.#B()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)}static#N(t){let e=new Path2D;for(let i=0,r=t.length;i<r;i++){let[o,a,s,l]=t[i];i===0&&e.moveTo(...o),e.bezierCurveTo(a[0],a[1],s[0],s[1],l[0],l[1])}return e}static#H(t,e,i){let[r,o,a,s]=e;switch(i){case 0:for(let l=0,c=t.length;l<c;l+=2)t[l]+=r,t[l+1]=s-t[l+1];break;case 90:for(let l=0,c=t.length;l<c;l+=2){let d=t[l];t[l]=t[l+1]+r,t[l+1]=d+o}break;case 180:for(let l=0,c=t.length;l<c;l+=2)t[l]=a-t[l],t[l+1]+=o;break;case 270:for(let l=0,c=t.length;l<c;l+=2){let d=t[l];t[l]=a-t[l+1],t[l+1]=s-d}break;default:throw new Error("Invalid rotation")}return t}static#z(t,e,i){let[r,o,a,s]=e;switch(i){case 0:for(let l=0,c=t.length;l<c;l+=2)t[l]-=r,t[l+1]=s-t[l+1];break;case 90:for(let l=0,c=t.length;l<c;l+=2){let d=t[l];t[l]=t[l+1]-o,t[l+1]=d-r}break;case 180:for(let l=0,c=t.length;l<c;l+=2)t[l]=a-t[l],t[l+1]-=o;break;case 270:for(let l=0,c=t.length;l<c;l+=2){let d=t[l];t[l]=s-t[l+1],t[l+1]=a-d}break;default:throw new Error("Invalid rotation")}return t}#L(t,e,i,r){let o=[],a=this.thickness/2,s=t*e+a,l=t*i+a;for(let c of this.paths){let d=[],h=[];for(let u=0,p=c.length;u<p;u++){let[m,g,_,v]=c[u];if(m[0]===v[0]&&m[1]===v[1]&&p===1){let z=t*m[0]+s,he=t*m[1]+l;d.push(z,he),h.push(z,he);break}let x=t*m[0]+s,C=t*m[1]+l,D=t*g[0]+s,A=t*g[1]+l,$=t*_[0]+s,X=t*_[1]+l,F=t*v[0]+s,S=t*v[1]+l;u===0&&(d.push(x,C),h.push(x,C)),d.push(D,A,$,X,F,S),h.push(D,A),u===p-1&&h.push(F,S)}o.push({bezier:n.#H(d,r,this.rotation),points:n.#H(h,r,this.rotation)})}return o}#V(){let t=1/0,e=-1/0,i=1/0,r=-1/0;for(let o of this.paths)for(let[a,s,l,c]of o){let d=Ce.bezierBoundingBox(...a,...s,...l,...c);t=Math.min(t,d[0]),i=Math.min(i,d[1]),e=Math.max(e,d[2]),r=Math.max(r,d[3])}return[t,i,e,r]}#B(){return this.#r?Math.ceil(this.thickness*this.parentScale):0}#O(t=!1){if(this.isEmpty())return;if(!this.#r){this.#k();return}let e=this.#V(),i=this.#B();this.#t=Math.max(_t.MIN_SIZE,e[2]-e[0]),this.#e=Math.max(_t.MIN_SIZE,e[3]-e[1]);let r=Math.ceil(i+this.#t*this.scaleFactor),o=Math.ceil(i+this.#e*this.scaleFactor),[a,s]=this.parentDimensions;this.width=r/a,this.height=o/s,this.setAspectRatio(r,o);let l=this.translationX,c=this.translationY;this.translationX=-e[0],this.translationY=-e[1],this.#v(),this.#k(),this.#h=r,this.#a=o,this.setDims(r,o);let d=t?i/this.scaleFactor/2:0;this.translate(l-this.translationX-d,c-this.translationY-d)}static deserialize(t,e,i){return U(this,null,function*(){if(t instanceof Yh)return null;let r=yield il(n,this,"deserialize").call(this,t,e,i);r.thickness=t.thickness,r.color=Ce.makeHexColor(...t.color),r.opacity=t.opacity;let[o,a]=r.pageDimensions,s=r.width*o,l=r.height*a,c=r.parentScale,d=t.thickness/2;r.#r=!0,r.#h=Math.round(s),r.#a=Math.round(l);let{paths:h,rect:u,rotation:p}=t;for(let{bezier:g}of h){g=n.#z(g,u,p);let _=[];r.paths.push(_);let v=c*(g[0]-d),x=c*(g[1]-d);for(let D=2,A=g.length;D<A;D+=6){let $=c*(g[D]-d),X=c*(g[D+1]-d),F=c*(g[D+2]-d),S=c*(g[D+3]-d),z=c*(g[D+4]-d),he=c*(g[D+5]-d);_.push([[v,x],[$,X],[F,S],[z,he]]),v=z,x=he}let C=this.#N(_);r.bezierPath2D.push(C)}let m=r.#V();return r.#t=Math.max(_t.MIN_SIZE,m[2]-m[0]),r.#e=Math.max(_t.MIN_SIZE,m[3]-m[1]),r.#A(s,l),r})}serialize(){if(this.isEmpty())return null;let t=this.getRect(0,0),e=_t._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Ge.INK,color:e,thickness:this.thickness,opacity:this.opacity,paths:this.#L(this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}},oC=class n extends _t{#e=null;#t=null;#i=null;#n=null;#r=null;#o="";#l=null;#c=null;#d=null;#s=!1;#h=!1;static _type="stamp";static _editorType=Ge.STAMP;constructor(t){super(ye(E({},t),{name:"stampEditor"})),this.#n=t.bitmapUrl,this.#r=t.bitmapFile}static initialize(t,e){_t.initialize(t,e)}static get supportedTypes(){return nt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(e=>`image/${e}`))}static get supportedTypesStr(){return nt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,e){e.pasteEditor(Ge.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){let e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#a(t,e=!1){if(!t){this.remove();return}this.#e=t.bitmap,e||(this.#t=t.id,this.#s=t.isSvg),t.file&&(this.#o=t.file.name),this.#p()}#u(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#l){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}mlGuessAltText(t=null,e=!0){return U(this,null,function*(){if(this.hasAltTextData())return null;let{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!(yield i.isEnabledFor("altText")))throw new Error("ML isn't enabled for alt text.");let{data:r,width:o,height:a}=t||this.copyCanvas(null,null,!0).imageData,s=yield i.guess({name:"altText",request:{data:r,width:o,height:a,channels:r.length/(o*a)}});if(!s)throw new Error("No response from the AI service.");if(s.error)throw new Error("Error from the AI service.");if(s.cancel)return null;if(!s.output)throw new Error("No valid response from the AI service.");let l=s.output;return yield this.setGuessedAltText(l),e&&!this.hasAltTextData()&&(this.altTextData={alt:l,decorative:!1}),l})}#m(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(i=>this.#a(i,!0)).finally(()=>this.#u());return}if(this.#n){let i=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(i).then(r=>this.#a(r)).finally(()=>this.#u());return}if(this.#r){let i=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(i).then(r=>this.#a(r)).finally(()=>this.#u());return}let t=document.createElement("input");t.type="file",t.accept=n.supportedTypesStr;let e=this._uiManager._signal;this.#i=new Promise(i=>{t.addEventListener("change",()=>U(this,null,function*(){if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);let r=yield this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#a(r)}i()}),{signal:e}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:e})}).finally(()=>this.#u()),t.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#l?.remove(),this.#l=null,this.#c?.disconnect(),this.#c=null,this.#d&&(clearTimeout(this.#d),this.#d=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#m();return}super.rebuild(),this.div!==null&&(this.#t&&this.#l===null&&this.#m(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#i||this.#e||this.#n||this.#r||this.#t)}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;if(this.width&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),this.#e?this.#p():this.#m(),this.width&&!this.annotationElementId){let[i,r]=this.parentDimensions;this.setAt(t*i,e*r,this.width*i,this.height*r)}return this.div}#p(){let{div:t}=this,{width:e,height:i}=this.#e,[r,o]=this.pageDimensions,a=.75;if(this.width)e=this.width*r,i=this.height*o;else if(e>a*r||i>a*o){let d=Math.min(a*r/e,a*o/i);e*=d,i*=d}let[s,l]=this.parentDimensions;this.setDims(e*s/r,i*l/o),this._uiManager.enableWaiting(!1);let c=this.#l=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#g(e,i),this.#y(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#o&&c.setAttribute("aria-label",this.#o)}copyCanvas(t,e,i=!1){t||(t=224);let{width:r,height:o}=this.#e,a=new zh,s=this.#e,l=r,c=o,d=null;if(e){if(r>e||o>e){let $=Math.min(e/r,e/o);l=Math.floor(r*$),c=Math.floor(o*$)}d=document.createElement("canvas");let u=d.width=Math.ceil(l*a.sx),p=d.height=Math.ceil(c*a.sy);this.#s||(s=this.#_(u,p));let m=d.getContext("2d");m.filter=this._uiManager.hcmFilter;let g="white",_="#cfcfd8";this._uiManager.hcmFilter!=="none"?_="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(g="#8f8f9d",_="#42414d");let v=15,x=v*a.sx,C=v*a.sy,D=new OffscreenCanvas(x*2,C*2),A=D.getContext("2d");A.fillStyle=g,A.fillRect(0,0,x*2,C*2),A.fillStyle=_,A.fillRect(0,0,x,C),A.fillRect(x,C,x,C),m.fillStyle=m.createPattern(D,"repeat"),m.fillRect(0,0,u,p),m.drawImage(s,0,0,s.width,s.height,0,0,u,p)}let h=null;if(i){let u,p;if(a.symmetric&&s.width<t&&s.height<t)u=s.width,p=s.height;else if(s=this.#e,r>t||o>t){let _=Math.min(t/r,t/o);u=Math.floor(r*_),p=Math.floor(o*_),this.#s||(s=this.#_(u,p))}let g=new OffscreenCanvas(u,p).getContext("2d",{willReadFrequently:!0});g.drawImage(s,0,0,s.width,s.height,0,0,u,p),h={width:u,height:p,data:g.getImageData(0,0,u,p).data}}return{canvas:d,width:l,height:c,imageData:h}}#f(t,e){let[i,r]=this.parentDimensions;this.width=t/i,this.height=e/r,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#d!==null&&clearTimeout(this.#d);let o=200;this.#d=setTimeout(()=>{this.#d=null,this.#g(t,e)},o)}#_(t,e){let{width:i,height:r}=this.#e,o=i,a=r,s=this.#e;for(;o>2*t||a>2*e;){let l=o,c=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));let d=new OffscreenCanvas(o,a);d.getContext("2d").drawImage(s,0,0,l,c,0,0,o,a),s=d.transferToImageBitmap()}return s}#g(t,e){let i=new zh,r=Math.ceil(t*i.sx),o=Math.ceil(e*i.sy),a=this.#l;if(!a||a.width===r&&a.height===o)return;a.width=r,a.height=o;let s=this.#s?this.#e:this.#_(r,o),l=a.getContext("2d");l.filter=this._uiManager.hcmFilter,l.drawImage(s,0,0,s.width,s.height,0,0,r,o)}getImageForAltText(){return this.#l}#b(t){if(t){if(this.#s){let r=this._uiManager.imageManager.getSvgUrl(this.#t);if(r)return r}let e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#e,e.getContext("2d").drawImage(this.#e,0,0),e.toDataURL()}if(this.#s){let[e,i]=this.pageDimensions,r=Math.round(this.width*e*Na.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Na.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(r,o);return a.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,r,o),a.transferToImageBitmap()}return structuredClone(this.#e)}#y(){this._uiManager._signal&&(this.#c=new ResizeObserver(t=>{let e=t[0].contentRect;e.width&&e.height&&this.#f(e.width,e.height)}),this.#c.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#c?.disconnect(),this.#c=null},{once:!0}))}static deserialize(t,e,i){return U(this,null,function*(){let r=null;if(t instanceof Mg){let{data:{rect:m,rotation:g,id:_,structParent:v,popupRef:x},container:C,parent:{page:{pageNumber:D}}}=t,A=C.querySelector("canvas"),$=i.imageManager.getFromCanvas(C.id,A);A.remove();let X=(yield e._structTree.getAriaAttributes(`${lC}${_}`))?.get("aria-label")||"";r=t={annotationType:Ge.STAMP,bitmapId:$.id,bitmap:$.bitmap,pageIndex:D-1,rect:m.slice(0),rotation:g,id:_,deleted:!1,accessibilityData:{decorative:!1,altText:X},isSvg:!1,structParent:v,popupRef:x}}let o=yield il(n,this,"deserialize").call(this,t,e,i),{rect:a,bitmap:s,bitmapUrl:l,bitmapId:c,isSvg:d,accessibilityData:h}=t;c&&i.imageManager.isValidId(c)?(o.#t=c,s&&(o.#e=s)):o.#n=l,o.#s=d;let[u,p]=o.pageDimensions;return o.width=(a[2]-a[0])/u,o.height=(a[3]-a[1])/p,o.annotationElementId=t.id||null,h&&(o.altTextData=h),o._initialData=r,o.#h=!!r,o})}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();let i={annotationType:Ge.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#s,structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=this.#b(!0),i.accessibilityData=this.serializeAltText(!0),i;let{decorative:r,altText:o}=this.serializeAltText(!1);if(!r&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){let s=this.#C(i);if(s.isSame)return null;s.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,e===null)return i;e.stamps||=new Map;let a=this.#s?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!e.stamps.has(this.#t))e.stamps.set(this.#t,{area:a,serialized:i}),i.bitmap=this.#b(!1);else if(this.#s){let s=e.stamps.get(this.#t);a>s.area&&(s.area=a,s.serialized.bitmap.close(),s.serialized.bitmap=this.#b(!1))}return i}#C(t){let{rect:e,pageIndex:i,accessibilityData:{altText:r}}=this._initialData,o=t.rect.every((l,c)=>Math.abs(l-e[c])<1),a=t.pageIndex===i,s=(t.accessibilityData?.alt||"")===r;return{isSame:o&&a&&s,isSameAltText:s}}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}},Kq=(()=>{class n{#e;#t=!1;#i=null;#n=null;#r=null;#o=new Map;#l=!1;#c=!1;#d=!1;#s=null;#h=null;#a;static _initialized=!1;static#u=new Map([tC,rC,oC,Pg].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:i,div:r,structTreeLayer:o,accessibilityManager:a,annotationLayer:s,drawLayer:l,textLayer:c,viewport:d,l10n:h}){let u=[...n.#u.values()];if(!n._initialized){n._initialized=!0;for(let p of u)p.initialize(h,e)}e.registerEditorTypes(u),this.#a=e,this.pageIndex=i,this.div=r,this.#e=a,this.#i=s,this.viewport=d,this.#s=c,this.drawLayer=l,this._structTree=o,this.#a.addLayer(this)}get isEmpty(){return this.#o.size===0}get isInvisible(){return this.isEmpty&&this.#a.getMode()===Ge.NONE}updateToolbar(e){this.#a.updateToolbar(e)}updateMode(e=this.#a.getMode()){switch(this.#g(),e){case Ge.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ge.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Ge.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);let{classList:i}=this.div;for(let r of n.#u.values())i.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#s?.div}addInkEditorIfNeeded(e){if(this.#a.getMode()!==Ge.INK)return;if(!e){for(let r of this.#o.values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){this.#a.setEditingState(e)}addCommands(e){this.#a.addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#i?.div.classList.toggle("disabled",!e)}enable(){return U(this,null,function*(){this.div.tabIndex=0,this.togglePointerEvents(!0);let e=new Set;for(let r of this.#o.values())r.enableEditing(),r.show(!0),r.annotationElementId&&(this.#a.removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!this.#i)return;let i=this.#i.getEditableAnnotations();for(let r of i){if(r.hide(),this.#a.isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;let o=yield this.deserialize(r);o&&(this.addOrRebuild(o),o.enableEditing())}})}disable(){this.#d=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);let e=new Map,i=new Map;for(let o of this.#o.values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else i.set(o.annotationElementId,o);this.getEditableAnnotation(o.annotationElementId)?.show(),o.remove()}if(this.#i){let o=this.#i.getEditableAnnotations();for(let a of o){let{id:s}=a.data;if(this.#a.isDeletedAnnotationElement(s))continue;let l=i.get(s);if(l){l.resetAnnotationElement(a),l.show(!1),a.show();continue}l=e.get(s),l&&(this.#a.addChangedExistingAnnotation(l),l.renderAnnotationElement(a)&&l.show(!1)),a.show()}}this.#g(),this.isEmpty&&(this.div.hidden=!0);let{classList:r}=this.div;for(let o of n.#u.values())r.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#d=!1}getEditableAnnotation(e){return this.#i?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#a.getActive()!==e&&this.#a.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#s?.div&&!this.#h){this.#h=new AbortController;let e=this.#a.combinedSignal(this.#h);this.#s.div.addEventListener("pointerdown",this.#m.bind(this),{signal:e}),this.#s.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#s?.div&&this.#h&&(this.#h.abort(),this.#h=null,this.#s.div.classList.remove("highlighting"))}#m(e){this.#a.unselectAll();let{target:i}=e;if(i===this.#s.div||(i.getAttribute("role")==="img"||i.classList.contains("endOfContent"))&&this.#s.div.contains(i)){let{isMac:r}=Ei.platform;if(e.button!==0||e.ctrlKey&&r)return;this.#a.showAllEditors("highlight",!0,!0),this.#s.div.classList.add("free"),this.toggleDrawing(),Pg.startHighlighting(this,this.#a.direction==="ltr",{target:this.#s.div,x:e.x,y:e.y}),this.#s.div.addEventListener("pointerup",()=>{this.#s.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#a._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;let e=this.#a.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#o.set(e.id,e);let{annotationElementId:i}=e;i&&this.#a.isDeletedAnnotationElement(i)&&this.#a.removeDeletedAnnotationElement(e)}detach(e){this.#o.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#d&&e.annotationElementId&&this.#a.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#a.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,this.#c||this.addInkEditorIfNeeded(!1)}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#a.addDeletedAnnotationElement(e.annotationElementId),_t.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#a.addEditor(e),this.attach(e),!e.isAttachedToDOM){let i=e.render();this.div.append(i),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),this.#a.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;let{activeElement:i}=document;e.div.contains(i)&&!this.#r&&(e._focusEventsAllowed=!1,this.#r=setTimeout(()=>{this.#r=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#a._signal}),i.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){let i=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:i,undo:r,mustExec:!1})}getNextId(){return this.#a.getId()}get#p(){return n.#u.get(this.#a.getMode())}combinedSignal(e){return this.#a.combinedSignal(e)}#f(e){let i=this.#p;return i?new i.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#p?.canCreateNewEmptyEditor()}pasteEditor(e,i){this.#a.updateToolbar(e),this.#a.updateMode(e);let{offsetX:r,offsetY:o}=this.#_(),a=this.getNextId(),s=this.#f(E({parent:this,id:a,x:r,y:o,uiManager:this.#a,isCentered:!0},i));s&&this.add(s)}deserialize(e){return U(this,null,function*(){return(yield n.#u.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#a))||null})}createAndAddNewEditor(e,i,r={}){let o=this.getNextId(),a=this.#f(E({parent:this,id:o,x:e.offsetX,y:e.offsetY,uiManager:this.#a,isCentered:i},r));return a&&this.add(a),a}#_(){let{x:e,y:i,width:r,height:o}=this.div.getBoundingClientRect(),a=Math.max(0,e),s=Math.max(0,i),l=Math.min(window.innerWidth,e+r),c=Math.min(window.innerHeight,i+o),d=(a+l)/2-e,h=(s+c)/2-i,[u,p]=this.viewport.rotation%180===0?[d,h]:[h,d];return{offsetX:u,offsetY:p}}addNewEditor(){this.createAndAddNewEditor(this.#_(),!0)}setSelected(e){this.#a.setSelected(e)}toggleSelected(e){this.#a.toggleSelected(e)}unselect(e){this.#a.unselect(e)}pointerup(e){let{isMac:i}=Ei.platform;if(!(e.button!==0||e.ctrlKey&&i)&&e.target===this.div&&this.#l){if(this.#l=!1,!this.#t){this.#t=!0;return}if(this.#a.getMode()===Ge.STAMP){this.#a.unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(this.#a.getMode()===Ge.HIGHLIGHT&&this.enableTextSelection(),this.#l){this.#l=!1;return}let{isMac:i}=Ei.platform;if(e.button!==0||e.ctrlKey&&i||e.target!==this.div)return;this.#l=!0;let r=this.#a.getActive();this.#t=!r||r.isEmpty()}findNewParent(e,i,r){let o=this.#a.findParent(i,r);return o===null||o===this?!1:(o.changeParent(e),!0)}destroy(){this.#a.getActive()?.parent===this&&(this.#a.commitOrRemove(),this.#a.setActiveEditor(null)),this.#r&&(clearTimeout(this.#r),this.#r=null);for(let e of this.#o.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#o.clear(),this.#a.removeLayer(this)}#g(){this.#c=!0;for(let e of this.#o.values())e.isEmpty()&&e.remove();this.#c=!1}render({viewport:e}){this.viewport=e,Ks(this.div,e);for(let i of this.#a.getEditors(this.pageIndex))this.add(i),i.rebuild();this.updateMode()}update({viewport:e}){this.#a.commitOrRemove(),this.#g();let i=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Ks(this.div,{rotation:r}),i!==r)for(let o of this.#o.values())o.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){let{pageWidth:e,pageHeight:i}=this.viewport.rawDims;return[e,i]}get scale(){return this.#a.viewParameters.realScale}}return n})(),aC=class n{#e=null;#t=0;#i=new Map;#n=new Map;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#e){this.#e=t;return}if(this.#e!==t){if(this.#i.size>0)for(let e of this.#i.values())e.remove(),t.append(e);this.#e=t}}static get _svgFactory(){return nt(this,"_svgFactory",new Gh)}static#r(t,{x:e=0,y:i=0,width:r=1,height:o=1}={}){let{style:a}=t;a.top=`${100*i}%`,a.left=`${100*e}%`,a.width=`${100*r}%`,a.height=`${100*o}%`}#o(t){let e=n._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),n.#r(e,t),e}#l(t,e){let i=n._svgFactory.createElement("clipPath");t.append(i);let r=`clip_${e}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");let o=n._svgFactory.createElement("use");return i.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),r}draw(t,e,i,r=!1){let o=this.#t++,a=this.#o(t.box);a.classList.add(...t.classNamesForDrawing);let s=n._svgFactory.createElement("defs");a.append(s);let l=n._svgFactory.createElement("path");s.append(l);let c=`path_p${this.pageIndex}_${o}`;l.setAttribute("id",c),l.setAttribute("d",t.toSVGPath()),r&&this.#n.set(o,l);let d=this.#l(s,c),h=n._svgFactory.createElement("use");return a.append(h),a.setAttribute("fill",e),a.setAttribute("fill-opacity",i),h.setAttribute("href",`#${c}`),this.#i.set(o,a),{id:o,clipPathId:`url(#${d})`}}drawOutline(t){let e=this.#t++,i=this.#o(t.box);i.classList.add(...t.classNamesForOutlining);let r=n._svgFactory.createElement("defs");i.append(r);let o=n._svgFactory.createElement("path");r.append(o);let a=`path_p${this.pageIndex}_${e}`;o.setAttribute("id",a),o.setAttribute("d",t.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let s;if(t.mustRemoveSelfIntersections){let d=n._svgFactory.createElement("mask");r.append(d),s=`mask_p${this.pageIndex}_${e}`,d.setAttribute("id",s),d.setAttribute("maskUnits","objectBoundingBox");let h=n._svgFactory.createElement("rect");d.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");let u=n._svgFactory.createElement("use");d.append(u),u.setAttribute("href",`#${a}`),u.setAttribute("stroke","none"),u.setAttribute("fill","black"),u.setAttribute("fill-rule","nonzero"),u.classList.add("mask")}let l=n._svgFactory.createElement("use");i.append(l),l.setAttribute("href",`#${a}`),s&&l.setAttribute("mask",`url(#${s})`);let c=l.cloneNode();return i.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),this.#i.set(e,i),e}finalizeLine(t,e){let i=this.#n.get(t);this.#n.delete(t),this.updateBox(t,e.box),i.setAttribute("d",e.toSVGPath())}updateLine(t,e){this.#i.get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){this.#n.get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){n.#r(this.#i.get(t),e)}show(t,e){this.#i.get(t).classList.toggle("hidden",!e)}rotate(t,e){this.#i.get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){this.#i.get(t).setAttribute("fill",e)}changeOpacity(t,e){this.#i.get(t).setAttribute("fill-opacity",e)}addClass(t,e){this.#i.get(t).classList.add(e)}removeClass(t,e){this.#i.get(t).classList.remove(e)}getSVGRoot(t){return this.#i.get(t)}remove(t){this.#n.delete(t),this.#e!==null&&(this.#i.get(t).remove(),this.#i.delete(t))}destroy(){this.#e=null;for(let t of this.#i.values())t.remove();this.#i.clear(),this.#n.clear()}};var Xq=He.AbortException,Qq=He.AnnotationEditorLayer,Zq=He.AnnotationEditorParamsType,XO=He.AnnotationEditorType,Jq=He.AnnotationEditorUIManager,eY=He.AnnotationLayer,tY=He.AnnotationMode,iY=He.ColorPicker,nY=He.DOMSVGFactory,rY=He.DrawLayer,oY=He.FeatureTest,QO=He.GlobalWorkerOptions,aY=He.ImageKind,sY=He.InvalidPDFException,lY=He.MissingPDFException,cY=He.OPS,dY=He.OutputScale,hY=He.PDFDataRangeTransport,uY=He.PDFDateString,pY=He.PDFWorker,mY=He.PasswordResponses,fY=He.PermissionFlag,gY=He.PixelsPerInch,_Y=He.RenderingCancelledException,bY=He.TextLayer,vY=He.UnexpectedResponseException,yY=He.Util,mC=He.VerbosityLevel,wY=He.XfaLayer,xY=He.build,CY=He.createValidAbsoluteUrl,kY=He.fetchData,ZO=He.getDocument,DY=He.getFilenameFromUrl,MY=He.getPdfFilenameFromUrl,SY=He.getXfaPageViewport,EY=He.isDataScheme,AY=He.isPdfFile,TY=He.noContextMenu,IY=He.normalizeUnicode,PY=He.setLayerDimensions,RY=He.shadow,JO=He.version;var Zh={};Zh.d=(n,t)=>{for(var e in t)Zh.o(t,e)&&!Zh.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})};Zh.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var Lt=globalThis.pdfjsViewer={};Zh.d(Lt,{AnnotationLayerBuilder:()=>Kg,DownloadManager:()=>EC,EventBus:()=>Xg,FindState:()=>Ba,GenericL10n:()=>Sc,LinkTarget:()=>Zs,PDFFindController:()=>MC,PDFHistory:()=>BC,PDFLinkService:()=>qg,PDFPageView:()=>i_,PDFScriptingManager:()=>YC,PDFSinglePageViewer:()=>QC,PDFViewer:()=>n_,ProgressBar:()=>DC,RenderingStates:()=>Ht,ScrollMode:()=>ot,SimpleLinkService:()=>tu,SpreadMode:()=>qi,StructTreeLayerBuilder:()=>Jg,TextLayerBuilder:()=>e_,XfaLayerBuilder:()=>t_,parseQueryString:()=>r_});var OY="auto",R2=1,e2=1.1,FY=.1,LY=10,gC=0,NY=1.25,t2=40,i2=5,Ht={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},kc={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};var Zr={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2},ot={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},qi={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function O2(n,t,e=!1){let i=n.offsetParent;if(!i){console.error("offsetParent is not set -- cannot scroll");return}let r=n.offsetTop+n.clientTop,o=n.offsetLeft+n.clientLeft;for(;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||e&&(i.classList.contains("markedContent")||getComputedStyle(i).overflow==="hidden");)if(r+=i.offsetTop,o+=i.offsetLeft,i=i.offsetParent,!i)return;t&&(t.top!==void 0&&(r+=t.top),t.left!==void 0&&(o+=t.left,i.scrollLeft=o)),i.scrollTop=r}function VY(n,t,e=void 0){let i=function(a){o||(o=window.requestAnimationFrame(function(){o=null;let l=n.scrollLeft,c=r.lastX;l!==c&&(r.right=l>c),r.lastX=l;let d=n.scrollTop,h=r.lastY;d!==h&&(r.down=d>h),r.lastY=d,t(r)}))},r={right:!0,down:!0,lastX:n.scrollLeft,lastY:n.scrollTop,_eventHandler:i},o=null;return n.addEventListener("scroll",i,{useCapture:!0,signal:e}),e?.addEventListener("abort",()=>window.cancelAnimationFrame(o),{once:!0}),r}function r_(n){let t=new Map;for(let[e,i]of new URLSearchParams(n))t.set(e.toLowerCase(),i);return t}var n2=/[\x00-\x1F]/g;function Jh(n,t=!1){return n2.test(n)?t?n.replaceAll(n2,e=>e==="\0"?"":" "):n.replaceAll("\0",""):n}function eu(n,t,e=0){let i=e,r=n.length-1;if(r<0||!t(n[r]))return n.length;if(t(n[i]))return i;for(;i<r;){let o=i+r>>1,a=n[o];t(a)?r=o:i=o+1}return i}function r2(n){if(Math.floor(n)===n)return[n,1];let t=1/n,e=8;if(t>e)return[1,e];if(Math.floor(t)===t)return[1,t];let i=n>1?t:n,r=0,o=1,a=1,s=1;for(;;){let c=r+a,d=o+s;if(d>e)break;i<=c/d?(a=c,s=d):(r=c,o=d)}let l;return i-r/o<a/s-i?l=i===n?[r,o]:[o,r]:l=i===n?[a,s]:[s,a],l}function zg(n,t){return n-n%t}function BY(n,t,e){if(n<2)return n;let i=t[n].div,r=i.offsetTop+i.clientTop;r>=e&&(i=t[n-1].div,r=i.offsetTop+i.clientTop);for(let o=n-2;o>=0&&(i=t[o].div,!(i.offsetTop+i.clientTop+i.clientHeight<=r));--o)n=o;return n}function zY({scrollEl:n,views:t,sortByVisibility:e=!1,horizontal:i=!1,rtl:r=!1}){let o=n.scrollTop,a=o+n.clientHeight,s=n.scrollLeft,l=s+n.clientWidth;function c(x){let C=x.div;return C.offsetTop+C.clientTop+C.clientHeight>o}function d(x){let C=x.div,D=C.offsetLeft+C.clientLeft,A=D+C.clientWidth;return r?D<l:A>s}let h=[],u=new Set,p=t.length,m=eu(t,i?d:c);m>0&&m<p&&!i&&(m=BY(m,t,o));let g=i?l:-1;for(let x=m;x<p;x++){let C=t[x],D=C.div,A=D.offsetLeft+D.clientLeft,$=D.offsetTop+D.clientTop,X=D.clientWidth,F=D.clientHeight,S=A+X,z=$+F;if(g===-1)z>=a&&(g=z);else if((i?A:$)>g)break;if(z<=o||$>=a||S<=s||A>=l)continue;let he=Math.max(0,o-$)+Math.max(0,z-a),ze=Math.max(0,s-A)+Math.max(0,S-l),qe=(F-he)/F,Qe=(X-ze)/X,ht=qe*Qe*100|0;h.push({id:C.id,x:A,y:$,view:C,percent:ht,widthPercent:Qe*100|0}),u.add(C.id)}let _=h[0],v=h.at(-1);return e&&h.sort(function(x,C){let D=x.percent-C.percent;return Math.abs(D)>.001?-D:x.id-C.id}),{first:_,last:v,views:h,ids:u}}function F2(n){return Number.isInteger(n)&&n%90===0}function HY(n){return Number.isInteger(n)&&Object.values(ot).includes(n)&&n!==ot.UNKNOWN}function jY(n){return Number.isInteger(n)&&Object.values(qi).includes(n)&&n!==qi.UNKNOWN}function o2(n){return n.width<=n.height}var Zye=new Promise(function(n){window.requestAnimationFrame(n)}),UY=document.documentElement.style;function $Y(n,t,e){return Math.min(Math.max(n,t),e)}var DC=class{#e=null;#t=null;#i=0;#n=null;#r=!0;constructor(t){this.#e=t.classList,this.#n=t.style}get percent(){return this.#i}set percent(t){if(this.#i=$Y(t,0,100),isNaN(t)){this.#e.add("indeterminate");return}this.#e.remove("indeterminate"),this.#n.setProperty("--progressBar-percent",`${this.#i}%`)}setWidth(t){if(!t)return;let i=t.parentNode.offsetWidth-t.offsetWidth;i>0&&this.#n.setProperty("--progressBar-end-offset",`${i}px`)}setDisableAutoFetch(t=5e3){this.#i===100||isNaN(this.#i)||(this.#t&&clearTimeout(this.#t),this.show(),this.#t=setTimeout(()=>{this.#t=null,this.hide()},t))}hide(){this.#r&&(this.#r=!1,this.#e.add("hidden"))}show(){this.#r||(this.#r=!0,this.#e.remove("hidden"))}};function WY(n){let t=ot.VERTICAL,e=qi.NONE;switch(n){case"SinglePage":t=ot.PAGE;break;case"OneColumn":break;case"TwoPageLeft":t=ot.PAGE;case"TwoColumnLeft":e=qi.ODD;break;case"TwoPageRight":t=ot.PAGE;case"TwoColumnRight":e=qi.EVEN;break}return{scrollMode:t,spreadMode:e}}var Hg=function(){let n=document.createElement("div");return n.style.width="round(down, calc(1.6666666666666665 * 792px), 1px)",n.style.width==="calc(1320px)"?Math.fround:t=>t}(),Dr={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function GY(n){return n<11904}function qY(n){return(n&65408)===0}function YY(n){return n>=97&&n<=122||n>=65&&n<=90}function KY(n){return n>=48&&n<=57}function XY(n){return n===32||n===9||n===13||n===10}function QY(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}function ZY(n){return n>=12448&&n<=12543}function JY(n){return n>=12352&&n<=12447}function eK(n){return n>=65376&&n<=65439}function tK(n){return(n&65408)===3584}function jg(n){return GY(n)?qY(n)?XY(n)?Dr.SPACE:YY(n)||KY(n)||n===95?Dr.ALPHA_LETTER:Dr.PUNCT:tK(n)?Dr.THAI_LETTER:n===160?Dr.SPACE:Dr.ALPHA_LETTER:QY(n)?Dr.HAN_LETTER:ZY(n)?Dr.KATAKANA_LETTER:JY(n)?Dr.HIRAGANA_LETTER:eK(n)?Dr.HALFWIDTH_KATAKANA_LETTER:Dr.ALPHA_LETTER}var a2;function iK(){return a2||="\xA0\xA8\xAA\xAF\xB2-\xB5\xB8-\xBA\xBC-\xBE\u0132-\u0133\u013F-\u0140\u0149\u017F\u01C4-\u01CC\u01F1-\u01F3\u02B0-\u02B8\u02D8-\u02DD\u02E0-\u02E4\u0374\u037A\u037E\u0384-\u0385\u0387\u03D0-\u03D6\u03F0-\u03F2\u03F4-\u03F5\u03F9\u0587\u0675-\u0678\u0958-\u095F\u09DC-\u09DD\u09DF\u0A33\u0A36\u0A59-\u0A5B\u0A5E\u0B5C-\u0B5D\u0E33\u0EB3\u0EDC-\u0EDD\u0F0C\u0F43\u0F4D\u0F52\u0F57\u0F5C\u0F69\u10FC\u1D2C-\u1D2E\u1D30-\u1D3A\u1D3C-\u1D4D\u1D4F-\u1D6A\u1D78\u1D9B-\u1DBF\u1E9A-\u1E9B\u1F71\u1F73\u1F75\u1F77\u1F79\u1F7B\u1F7D\u1FBB\u1FBD-\u1FC1\u1FC9\u1FCB\u1FCD-\u1FCF\u1FD3\u1FDB\u1FDD-\u1FDF\u1FE3\u1FEB\u1FED-\u1FEF\u1FF9\u1FFB\u1FFD-\u1FFE\u2000-\u200A\u2011\u2017\u2024-\u2026\u202F\u2033-\u2034\u2036-\u2037\u203C\u203E\u2047-\u2049\u2057\u205F\u2070-\u2071\u2074-\u208E\u2090-\u209C\u20A8\u2100-\u2103\u2105-\u2107\u2109-\u2113\u2115-\u2116\u2119-\u211D\u2120-\u2122\u2124\u2126\u2128\u212A-\u212D\u212F-\u2131\u2133-\u2139\u213B-\u2140\u2145-\u2149\u2150-\u217F\u2189\u222C-\u222D\u222F-\u2230\u2329-\u232A\u2460-\u24EA\u2A0C\u2A74-\u2A76\u2ADC\u2C7C-\u2C7D\u2D6F\u2E9F\u2EF3\u2F00-\u2FD5\u3000\u3036\u3038-\u303A\u309B-\u309C\u309F\u30FF\u3131-\u318E\u3192-\u319F\u3200-\u321E\u3220-\u3247\u3250-\u327E\u3280-\u33FF\uA69C-\uA69D\uA770\uA7F2-\uA7F4\uA7F8-\uA7F9\uAB5C-\uAB5F\uAB69\uF900-\uFA0D\uFA10\uFA12\uFA15-\uFA1E\uFA20\uFA22\uFA25-\uFA26\uFA2A-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE10-\uFE19\uFE30-\uFE44\uFE47-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE72\uFE74\uFE76-\uFEFC\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6",a2}var Ba={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},nK=250,rK=-50,oK=-400,s2={"\u2010":"-","\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},l2=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),c2,aK=new RegExp("\\p{M}+","gu"),sK=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),lK=new RegExp("([^\\p{M}])\\p{M}*$","u"),cK=new RegExp("^\\p{M}*([^\\p{M}])","u"),dK=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,d2=new Map,hK="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",h2=new Map,_C=null,bC=null;function vC(n){let t=[],e;for(;(e=dK.exec(n))!==null;){let{index:p}=e;for(let m of e[0]){let g=d2.get(m);g||(g=m.normalize("NFD").length,d2.set(m,g)),t.push([g,p++])}}let i;if(t.length===0&&_C)i=_C;else if(t.length>0&&bC)i=bC;else{let p=Object.keys(s2).join(""),m=iK(),x=`([${p}])|([${m}])|((?:\u3099|\u309A)\\n)|(\\p{M}+(?:-\\n)?)|(\\p{Ll}-\\n\\p{Lu})|(\\S-\\n)|((?:\\p{Ideographic}|[\u3040-\u30FF])\\n)|(\\n)`;t.length===0?i=_C=new RegExp(x+"|(\\u0000)","gum"):i=bC=new RegExp(x+`|(${hK})`,"gum")}let r=[];for(;(e=aK.exec(n))!==null;)r.push([e[0].length,e.index]);let o=n.normalize("NFD"),a=[[0,0]],s=0,l=0,c=0,d=0,h=0,u=!1;return o=o.replace(i,(p,m,g,_,v,x,C,D,A,$,X)=>{if(X-=d,m){let F=s2[m],S=F.length;for(let z=1;z<S;z++)a.push([X-c+z,c-z]);return c-=S-1,F}if(g){let F=h2.get(g);F||(F=g.normalize("NFKC"),h2.set(g,F));let S=F.length;for(let z=1;z<S;z++)a.push([X-c+z,c-z]);return c-=S-1,F}if(_)return u=!0,X+h===r[s]?.[1]?++s:(a.push([X-1-c+1,c-1]),c-=1,d+=1),a.push([X-c+1,c]),d+=1,h+=1,_.charAt(0);if(v){let F=v.endsWith(`
`),S=F?v.length-2:v.length;u=!0;let z=S;X+h===r[s]?.[1]&&(z-=r[s][0],++s);for(let he=1;he<=z;he++)a.push([X-1-c+he,c-he]);return c-=z,d+=z,F?(X+=S-1,a.push([X-c+1,1+c]),c+=1,d+=1,h+=1,v.slice(0,S)):v}if(x)return a.push([X-c+3,1+c]),c+=1,d+=1,h+=1,x.replace(`
`,"");if(C){let F=C.length-2;return a.push([X-c+F,1+c]),c+=1,d+=1,h+=1,C.slice(0,-2)}if(D){let F=D.length-1;return a.push([X-c+F,c]),d+=1,h+=1,D.slice(0,-1)}if(A)return a.push([X-c+1,c-1]),c-=1,d+=1,h+=1," ";if(X+h===t[l]?.[1]){let F=t[l][0]-1;++l;for(let S=1;S<=F;S++)a.push([X-(c-S),c-S]);c-=F,d+=F}return $}),a.push([o.length,c]),[o,a,u]}function uK(n,t,e){if(!n)return[t,e];let i=t,r=t+e-1,o=eu(n,d=>d[0]>=i);n[o][0]>i&&--o;let a=eu(n,d=>d[0]>=r,o);n[a][0]>r&&--a;let s=i+n[o][1],c=r+n[a][1]+1-s;return[s,c]}var MC=class{#e=null;#t=!0;#i=0;constructor({linkService:t,eventBus:e,updateMatchesCountOnProgress:i=!0}){this._linkService=t,this._eventBus=e,this.#t=i,this.onIsPageVisible=null,this.#r(),e._on("find",this.#n.bind(this)),e._on("findbarclose",this.#b.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this.#e}setDocument(t){this._pdfDocument&&this.#r(),t&&(this._pdfDocument=t,this._firstPageCapability.resolve())}#n(t){if(!t)return;let e=this._pdfDocument,{type:i}=t;(this.#e===null||this.#l(t))&&(this._dirtyMatch=!0),this.#e=t,i!=="highlightallchange"&&this.#w(Ba.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||e&&this._pdfDocument!==e)return;this.#h();let r=!this._highlightMatches,o=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),i?this._dirtyMatch?this.#m():i==="again"?(this.#m(),r&&this.#e.highlightAll&&this.#u()):i==="highlightallchange"?(o?this.#m():this._highlightMatches=!0,this.#u()):this.#m():this._findTimeout=setTimeout(()=>{this.#m(),this._findTimeout=null},nK)})}scrollMatchIntoView({element:t=null,selectedLeft:e=0,pageIndex:i=-1,matchIndex:r=-1}){if(!this._scrollMatches||!t)return;if(r===-1||r!==this._selected.matchIdx)return;if(i===-1||i!==this._selected.pageIdx)return;this._scrollMatches=!1;let o={top:rK,left:e+oK};O2(t,o,!0)}#r(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this.#i=0,this.#e=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()}get#o(){let{query:t}=this.#e;return typeof t=="string"?(t!==this._rawQuery&&(this._rawQuery=t,[this._normalizedQuery]=vC(t)),this._normalizedQuery):(t||[]).filter(e=>!!e).map(e=>vC(e)[0])}#l(t){let e=t.query,i=this.#e.query,r=typeof e;if(r!==typeof i)return!0;if(r==="string"){if(e!==i)return!0}else if(JSON.stringify(e)!==JSON.stringify(i))return!0;switch(t.type){case"again":let a=this._selected.pageIdx+1,s=this._linkService;return a>=1&&a<=s.pagesCount&&a!==s.page&&!(this.onIsPageVisible?.(a)??!0);case"highlightallchange":return!1}return!0}#c(t,e,i){let r=t.slice(0,e).match(lK);if(r){let o=t.charCodeAt(e),a=r[1].charCodeAt(0);if(jg(o)===jg(a))return!1}if(r=t.slice(e+i).match(cK),r){let o=t.charCodeAt(e+i-1),a=r[1].charCodeAt(0);if(jg(o)===jg(a))return!1}return!0}#d(t,e){let{matchDiacritics:i}=this.#e,r=!1;t=t.replaceAll(sK,(a,s,l,c,d,h)=>s?`[ ]*\\${s}[ ]*`:l?`[ ]*${l}[ ]*`:c?"[ ]+":i?d||h:d?l2.has(d.charCodeAt(0))?d:"":e?(r=!0,`${h}\\p{M}*`):h);let o="[ ]*";return t.endsWith(o)&&(t=t.slice(0,t.length-o.length)),i&&e&&(c2||=String.fromCharCode(...l2),r=!0,t=`${t}(?=[${c2}]|[^\\p{M}]|$)`),[r,t]}#s(t){let e=this.#o;if(e.length===0)return;let i=this._pageContents[t],r=this.match(e,i,t),o=this._pageMatches[t]=[],a=this._pageMatchesLength[t]=[],s=this._pageDiffs[t];r?.forEach(({index:c,length:d})=>{let[h,u]=uK(s,c,d);u&&(o.push(h),a.push(u))}),this.#e.highlightAll&&this.#a(t),this._resumePageIdx===t&&(this._resumePageIdx=null,this.#f());let l=o.length;this._matchesCountTotal+=l,this.#t?l>0&&this.#C():++this.#i===this._linkService.pagesCount&&this.#C()}match(t,e,i){let r=this._hasDiacritics[i],o=!1;if(typeof t=="string"?[o,t]=this.#d(t,r):t=t.sort().reverse().map(h=>{let[u,p]=this.#d(h,r);return o||=u,`(${p})`}).join("|"),!t)return;let{caseSensitive:a,entireWord:s}=this.#e,l=`g${o?"u":""}${a?"":"i"}`;t=new RegExp(t,l);let c=[],d;for(;(d=t.exec(e))!==null;)s&&!this.#c(e,d.index,d[0].length)||c.push({index:d.index,length:d[0].length});return c}#h(){if(this._extractTextPromises.length>0)return;let t=Promise.resolve(),e={disableNormalization:!0};for(let i=0,r=this._linkService.pagesCount;i<r;i++){let{promise:o,resolve:a}=Promise.withResolvers();this._extractTextPromises[i]=o,t=t.then(()=>this._pdfDocument.getPage(i+1).then(s=>s.getTextContent(e)).then(s=>{let l=[];for(let c of s.items)l.push(c.str),c.hasEOL&&l.push(`
`);[this._pageContents[i],this._pageDiffs[i],this._hasDiacritics[i]]=vC(l.join("")),a()},s=>{console.error(`Unable to get text content for page ${i+1}`,s),this._pageContents[i]="",this._pageDiffs[i]=null,this._hasDiacritics[i]=!1,a()}))}}#a(t){this._scrollMatches&&this._selected.pageIdx===t&&(this._linkService.page=t+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:t})}#u(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#m(){let t=this.#e.findPrevious,e=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=e,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this.#i=0,this._matchesCountTotal=0,this.#u();for(let a=0;a<i;a++)this._pendingFindMatches.has(a)||(this._pendingFindMatches.add(a),this._extractTextPromises[a].then(()=>{this._pendingFindMatches.delete(a),this.#s(a)}))}if(this.#o.length===0){this.#w(Ba.FOUND);return}if(this._resumePageIdx)return;let o=this._offset;if(this._pagesToSearch=i,o.matchIdx!==null){let a=this._pageMatches[o.pageIdx].length;if(!t&&o.matchIdx+1<a||t&&o.matchIdx>0){o.matchIdx=t?o.matchIdx-1:o.matchIdx+1,this.#g(!0);return}this.#_(t)}this.#f()}#p(t){let e=this._offset,i=t.length,r=this.#e.findPrevious;return i?(e.matchIdx=r?i-1:0,this.#g(!0),!0):(this.#_(r),e.wrapped&&(e.matchIdx=null,this._pagesToSearch<0)?(this.#g(!1),!0):!1)}#f(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let t=null;do{let e=this._offset.pageIdx;if(t=this._pageMatches[e],!t){this._resumePageIdx=e;break}}while(!this.#p(t))}#_(t){let e=this._offset,i=this._linkService.pagesCount;e.pageIdx=t?e.pageIdx-1:e.pageIdx+1,e.matchIdx=null,this._pagesToSearch--,(e.pageIdx>=i||e.pageIdx<0)&&(e.pageIdx=t?i-1:0,e.wrapped=!0)}#g(t=!1){let e=Ba.NOT_FOUND,i=this._offset.wrapped;if(this._offset.wrapped=!1,t){let r=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,e=i?Ba.WRAPPED:Ba.FOUND,r!==-1&&r!==this._selected.pageIdx&&this.#a(r)}this.#w(e,this.#e.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,this.#a(this._selected.pageIdx))}#b(t){let e=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||e&&this._pdfDocument!==e||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#w(Ba.FOUND),this._highlightMatches=!1,this.#u())})}#y(){let{pageIdx:t,matchIdx:e}=this._selected,i=0,r=this._matchesCountTotal;if(e!==-1){for(let o=0;o<t;o++)i+=this._pageMatches[o]?.length||0;i+=e+1}return(i<1||i>r)&&(i=r=0),{current:i,total:r}}#C(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#y()})}#w(t,e=!1){!this.#t&&(this.#i!==this._linkService.pagesCount||t===Ba.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:t,previous:e,entireWord:this.#e?.entireWord??null,matchesCount:this.#y(),rawQuery:this.#e?.query??null})}},pK="noopener noreferrer nofollow",Zs={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},qg=class n{externalLinkEnabled=!0;constructor({eventBus:t,externalLinkTarget:e=null,externalLinkRel:i=null,ignoreDestinationZoom:r=!1}={}){this.eventBus=t,this.externalLinkTarget=e,this.externalLinkRel=i,this._ignoreDestinationZoom=r,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(t,e=null){this.baseUrl=e,this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setHistory(t){this.pdfHistory=t}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(t){this.pdfDocument&&(this.pdfViewer.currentPageNumber=t)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(t){this.pdfDocument&&(this.pdfViewer.pagesRotation=t)}get isInPresentationMode(){return this.pdfDocument?this.pdfViewer.isInPresentationMode:!1}goToDestination(t){return U(this,null,function*(){if(!this.pdfDocument)return;let e,i,r;if(typeof t=="string"?(e=t,i=yield this.pdfDocument.getDestination(t)):(e=null,i=yield t),!Array.isArray(i)){console.error(`goToDestination: "${i}" is not a valid destination array, for dest="${t}".`);return}let[o]=i;if(o&&typeof o=="object"){if(r=this.pdfDocument.cachedPageNumber(o),!r)try{r=(yield this.pdfDocument.getPageIndex(o))+1}catch{console.error(`goToDestination: "${o}" is not a valid page reference, for dest="${t}".`);return}}else Number.isInteger(o)&&(r=o+1);if(!r||r<1||r>this.pagesCount){console.error(`goToDestination: "${r}" is not a valid page number, for dest="${t}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:e,explicitDest:i,pageNumber:r})),this.pdfViewer.scrollPageIntoView({pageNumber:r,destArray:i,ignoreDestinationZoom:this._ignoreDestinationZoom})})}goToPage(t){if(!this.pdfDocument)return;let e=typeof t=="string"&&this.pdfViewer.pageLabelToPageNumber(t)||t|0;if(!(Number.isInteger(e)&&e>0&&e<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${t}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(e)),this.pdfViewer.scrollPageIntoView({pageNumber:e})}addLinkAttributes(t,e,i=!1){if(!e||typeof e!="string")throw new Error('A valid "url" parameter must provided.');let r=i?Zs.BLANK:this.externalLinkTarget,o=this.externalLinkRel;this.externalLinkEnabled?t.href=t.title=e:(t.href="",t.title=`Disabled: ${e}`,t.onclick=()=>!1);let a="";switch(r){case Zs.NONE:break;case Zs.SELF:a="_self";break;case Zs.BLANK:a="_blank";break;case Zs.PARENT:a="_parent";break;case Zs.TOP:a="_top";break}t.target=a,t.rel=typeof o=="string"?o:pK}getDestinationHash(t){if(typeof t=="string"){if(t.length>0)return this.getAnchorUrl("#"+escape(t))}else if(Array.isArray(t)){let e=JSON.stringify(t);if(e.length>0)return this.getAnchorUrl("#"+escape(e))}return this.getAnchorUrl("")}getAnchorUrl(t){return this.baseUrl?this.baseUrl+t:t}setHash(t){if(!this.pdfDocument)return;let e,i;if(t.includes("=")){let r=r_(t);if(r.has("search")){let o=r.get("search").replaceAll('"',""),a=r.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:a?o:o.match(/\S+/g)})}if(r.has("page")&&(e=r.get("page")|0||1),r.has("zoom")){let o=r.get("zoom").split(","),a=o[0],s=parseFloat(a);a.includes("Fit")?a==="Fit"||a==="FitB"?i=[null,{name:a}]:a==="FitH"||a==="FitBH"||a==="FitV"||a==="FitBV"?i=[null,{name:a},o.length>1?o[1]|0:null]:a==="FitR"?o.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:a},o[1]|0,o[2]|0,o[3]|0,o[4]|0]:console.error(`PDFLinkService.setHash: "${a}" is not a valid zoom value.`):i=[null,{name:"XYZ"},o.length>1?o[1]|0:null,o.length>2?o[2]|0:null,s?s/100:a]}i?this.pdfViewer.scrollPageIntoView({pageNumber:e||this.page,destArray:i,allowNegativeOffset:!0}):e&&(this.page=e),r.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:r.get("pagemode")}),r.has("nameddest")&&this.goToDestination(r.get("nameddest"));return}i=unescape(t);try{i=JSON.parse(i),Array.isArray(i)||(i=i.toString())}catch{}if(typeof i=="string"||n.#e(i)){this.goToDestination(i);return}console.error(`PDFLinkService.setHash: "${unescape(t)}" is not a valid destination.`)}executeNamedAction(t){if(this.pdfDocument){switch(t){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break;default:break}this.eventBus.dispatch("namedaction",{source:this,action:t})}}executeSetOCGState(t){return U(this,null,function*(){if(!this.pdfDocument)return;let e=this.pdfDocument,i=yield this.pdfViewer.optionalContentConfigPromise;e===this.pdfDocument&&(i.setOCGState(t),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(i))})}static#e(t){if(!Array.isArray(t)||t.length<2)return!1;let[e,i,...r]=t;if(!(typeof e=="object"&&Number.isInteger(e?.num)&&Number.isInteger(e?.gen))&&!Number.isInteger(e)||!(typeof i=="object"&&typeof i?.name=="string"))return!1;let o=r.length,a=!0;switch(i.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;a=!1;break;default:return!1}for(let s of r)if(!(typeof s=="number"||a&&s===null))return!1;return!0}},tu=class extends qg{setDocument(t,e=null){}},{AbortException:mK,AnnotationEditorLayer:fK,AnnotationEditorParamsType:Jye,AnnotationEditorType:zn,AnnotationEditorUIManager:gK,AnnotationLayer:_K,AnnotationMode:Yo,build:ewe,ColorPicker:twe,createValidAbsoluteUrl:bK,DOMSVGFactory:iwe,DrawLayer:vK,FeatureTest:nwe,fetchData:u2,getDocument:rwe,getFilenameFromUrl:owe,getPdfFilenameFromUrl:yK,getXfaPageViewport:awe,GlobalWorkerOptions:swe,ImageKind:lwe,InvalidPDFException:cwe,isDataScheme:dwe,isPdfFile:wK,MissingPDFException:hwe,noContextMenu:uwe,normalizeUnicode:xK,OPS:pwe,OutputScale:CK,PasswordResponses:mwe,PDFDataRangeTransport:fwe,PDFDateString:gwe,PDFWorker:_we,PermissionFlag:Ug,PixelsPerInch:qo,RenderingCancelledException:SC,setLayerDimensions:kK,shadow:Yg,TextLayer:DK,UnexpectedResponseException:bwe,Util:vwe,VerbosityLevel:ywe,version:p2,XfaLayer:yC}=globalThis.pdfjsLib,Kg=class{#e=null;#t=null;constructor({pdfPage:t,linkService:e,downloadManager:i,annotationStorage:r=null,imageResourcesPath:o="",renderForms:a=!0,enableScripting:s=!1,hasJSActionsPromise:l=null,fieldObjectsPromise:c=null,annotationCanvasMap:d=null,accessibilityManager:h=null,annotationEditorUIManager:u=null,onAppend:p=null}){this.pdfPage=t,this.linkService=e,this.downloadManager=i,this.imageResourcesPath=o,this.renderForms=a,this.annotationStorage=r,this.enableScripting=s,this._hasJSActionsPromise=l||Promise.resolve(!1),this._fieldObjectsPromise=c||Promise.resolve(null),this._annotationCanvasMap=d,this._accessibilityManager=h,this._annotationEditorUIManager=u,this.#e=p,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=e.eventBus}render(t,e,i="display"){return U(this,null,function*(){if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:t.clone({dontFlip:!0})});return}let[r,o,a]=yield Promise.all([this.pdfPage.getAnnotations({intent:i}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;let s=this.div=document.createElement("div");if(s.className="annotationLayer",this.#e?.(s),r.length===0){this.hide();return}this.annotationLayer=new _K({div:s,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,page:this.pdfPage,viewport:t.clone({dontFlip:!0}),structTreeLayer:e?.structTreeLayer||null}),yield this.annotationLayer.render({annotations:r,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:o,fieldObjects:a}),this.linkService.isInPresentationMode&&this.#i(kc.FULLSCREEN),this.#t||(this.#t=new AbortController,this._eventBus?._on("presentationmodechanged",l=>{this.#i(l.state)},{signal:this.#t.signal}))})}cancel(){this._cancelled=!0,this.#t?.abort(),this.#t=null}hide(){this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}#i(t){if(!this.div)return;let e=!1;switch(t){case kc.FULLSCREEN:e=!0;break;case kc.NORMAL:break;default:return}for(let i of this.div.childNodes)i.hasAttribute("data-internal-link")||(i.inert=e)}};function m2(n,t){let e=document.createElement("a");if(!e.click)throw new Error('DownloadManager: "a.click()" is not supported.');e.href=n,e.target="_parent","download"in e&&(e.download=t),(document.body||document.documentElement).append(e),e.click(),e.remove()}var EC=class{#e=new WeakMap;downloadData(t,e,i){let r=URL.createObjectURL(new Blob([t],{type:i}));m2(r,e)}openOrDownloadData(t,e,i=null){let o=wK(e)?"application/pdf":"";return this.downloadData(t,e,o),!1}download(t,e,i){let r;if(t)r=URL.createObjectURL(new Blob([t],{type:"application/pdf"}));else{if(!bK(e,"http://example.com")){console.error(`download - not a valid URL: ${e}`);return}r=e+"#pdfjs.action=download"}m2(r,i)}},f2={EVENT:"event",TIMEOUT:"timeout"};function MK(i){return U(this,arguments,function*({target:n,name:t,delay:e=0}){if(typeof n!="object"||!(t&&typeof t=="string")||!(Number.isInteger(e)&&e>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");let{promise:r,resolve:o}=Promise.withResolvers(),a=new AbortController;function s(d){a.abort(),clearTimeout(c),o(d)}let l=n instanceof Xg?"_on":"addEventListener";n[l](t,s.bind(null,f2.EVENT),{signal:a.signal});let c=setTimeout(s.bind(null,f2.TIMEOUT),e);return r})}var Xg=class{#e=Object.create(null);on(t,e,i=null){this._on(t,e,{external:!0,once:i?.once,signal:i?.signal})}off(t,e,i=null){this._off(t,e)}dispatch(t,e){let i=this.#e[t];if(!i||i.length===0)return;let r;for(let{listener:o,external:a,once:s}of i.slice(0)){if(s&&this._off(t,o),a){(r||=[]).push(o);continue}o(e)}if(r){for(let o of r)o(e);r=null}}_on(t,e,i=null){let r=null;if(i?.signal instanceof AbortSignal){let{signal:a}=i;if(a.aborted){console.error("Cannot use an `aborted` signal.");return}let s=()=>this._off(t,e);r=()=>a.removeEventListener("abort",s),a.addEventListener("abort",s)}(this.#e[t]||=[]).push({listener:e,external:i?.external===!0,once:i?.once===!0,rmAbort:r})}_off(t,e,i=null){let r=this.#e[t];if(r)for(let o=0,a=r.length;o<a;o++){let s=r[o];if(s.listener===e){s.rmAbort?.(),r.splice(o,1);return}}}};var Dc=class{constructor(t){this.value=t}valueOf(){return this.value}},jt=class extends Dc{constructor(t="???"){super(t)}toString(t){return`{${this.value}}`}},Mr=class extends Dc{constructor(t,e={}){super(t),this.opts=e}toString(t){try{return t.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(e){return t.reportError(e),this.value.toString(10)}}},el=class extends Dc{constructor(t,e={}){super(t),this.opts=e}toString(t){try{return t.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(e){return t.reportError(e),new Date(this.value).toISOString()}}},g2=100,SK="\u2068",EK="\u2069";function AK(n,t,e){if(e===t||e instanceof Mr&&t instanceof Mr&&e.value===t.value)return!0;if(t instanceof Mr&&typeof e=="string"){let i=n.memoizeIntlObject(Intl.PluralRules,t.opts).select(t.value);if(e===i)return!0}return!1}function _2(n,t,e){return t[e]?Mc(n,t[e].value):(n.reportError(new RangeError("No default")),new jt)}function AC(n,t){let e=[],i=Object.create(null);for(let r of t)r.type==="narg"?i[r.name]=iu(n,r.value):e.push(iu(n,r));return{positional:e,named:i}}function iu(n,t){switch(t.type){case"str":return t.value;case"num":return new Mr(t.value,{minimumFractionDigits:t.precision});case"var":return TK(n,t);case"mesg":return IK(n,t);case"term":return PK(n,t);case"func":return RK(n,t);case"select":return OK(n,t);default:return new jt}}function TK(n,{name:t}){let e;if(n.params)if(Object.prototype.hasOwnProperty.call(n.params,t))e=n.params[t];else return new jt(`$${t}`);else if(n.args&&Object.prototype.hasOwnProperty.call(n.args,t))e=n.args[t];else return n.reportError(new ReferenceError(`Unknown variable: $${t}`)),new jt(`$${t}`);if(e instanceof Dc)return e;switch(typeof e){case"string":return e;case"number":return new Mr(e);case"object":if(e instanceof Date)return new el(e.getTime());default:return n.reportError(new TypeError(`Variable type not supported: $${t}, ${typeof e}`)),new jt(`$${t}`)}}function IK(n,{name:t,attr:e}){let i=n.bundle._messages.get(t);if(!i)return n.reportError(new ReferenceError(`Unknown message: ${t}`)),new jt(t);if(e){let r=i.attributes[e];return r?Mc(n,r):(n.reportError(new ReferenceError(`Unknown attribute: ${e}`)),new jt(`${t}.${e}`))}return i.value?Mc(n,i.value):(n.reportError(new ReferenceError(`No value: ${t}`)),new jt(t))}function PK(n,{name:t,attr:e,args:i}){let r=`-${t}`,o=n.bundle._terms.get(r);if(!o)return n.reportError(new ReferenceError(`Unknown term: ${r}`)),new jt(r);if(e){let s=o.attributes[e];if(s){n.params=AC(n,i).named;let l=Mc(n,s);return n.params=null,l}return n.reportError(new ReferenceError(`Unknown attribute: ${e}`)),new jt(`${r}.${e}`)}n.params=AC(n,i).named;let a=Mc(n,o.value);return n.params=null,a}function RK(n,{name:t,args:e}){let i=n.bundle._functions[t];if(!i)return n.reportError(new ReferenceError(`Unknown function: ${t}()`)),new jt(`${t}()`);if(typeof i!="function")return n.reportError(new TypeError(`Function ${t}() is not callable`)),new jt(`${t}()`);try{let r=AC(n,e);return i(r.positional,r.named)}catch(r){return n.reportError(r),new jt(`${t}()`)}}function OK(n,{selector:t,variants:e,star:i}){let r=iu(n,t);if(r instanceof jt)return _2(n,e,i);for(let o of e){let a=iu(n,o.key);if(AK(n,r,a))return Mc(n,o.value)}return _2(n,e,i)}function L2(n,t){if(n.dirty.has(t))return n.reportError(new RangeError("Cyclic reference")),new jt;n.dirty.add(t);let e=[],i=n.bundle._useIsolating&&t.length>1;for(let r of t){if(typeof r=="string"){e.push(n.bundle._transform(r));continue}if(n.placeables++,n.placeables>g2)throw n.dirty.delete(t),new RangeError(`Too many placeables expanded: ${n.placeables}, max allowed is ${g2}`);i&&e.push(SK),e.push(iu(n,r).toString(n)),i&&e.push(EK)}return n.dirty.delete(t),e.join("")}function Mc(n,t){return typeof t=="string"?n.bundle._transform(t):L2(n,t)}var TC=class{constructor(t,e,i){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=t,this.errors=e,this.args=i}reportError(t){if(!this.errors||!(t instanceof Error))throw t;this.errors.push(t)}memoizeIntlObject(t,e){let i=this.bundle._intls.get(t);i||(i={},this.bundle._intls.set(t,i));let r=JSON.stringify(e);return i[r]||(i[r]=new t(this.bundle.locales,e)),i[r]}};function Qg(n,t){let e=Object.create(null);for(let[i,r]of Object.entries(n))t.includes(i)&&(e[i]=r.valueOf());return e}var b2=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function FK(n,t){let e=n[0];if(e instanceof jt)return new jt(`NUMBER(${e.valueOf()})`);if(e instanceof Mr)return new Mr(e.valueOf(),E(E({},e.opts),Qg(t,b2)));if(e instanceof el)return new Mr(e.valueOf(),E({},Qg(t,b2)));throw new TypeError("Invalid argument to NUMBER")}var v2=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function LK(n,t){let e=n[0];if(e instanceof jt)return new jt(`DATETIME(${e.valueOf()})`);if(e instanceof el)return new el(e.valueOf(),E(E({},e.opts),Qg(t,v2)));if(e instanceof Mr)return new el(e.valueOf(),E({},Qg(t,v2)));throw new TypeError("Invalid argument to DATETIME")}var y2=new Map;function NK(n){let t=Array.isArray(n)?n.join(" "):n,e=y2.get(t);return e===void 0&&(e=new Map,y2.set(t,e)),e}var IC=class{constructor(t,{functions:e,useIsolating:i=!0,transform:r=o=>o}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(t)?t:[t],this._functions=E({NUMBER:FK,DATETIME:LK},e),this._useIsolating=i,this._transform=r,this._intls=NK(t)}hasMessage(t){return this._messages.has(t)}getMessage(t){return this._messages.get(t)}addResource(t,{allowOverrides:e=!1}={}){let i=[];for(let r=0;r<t.body.length;r++){let o=t.body[r];if(o.id.startsWith("-")){if(e===!1&&this._terms.has(o.id)){i.push(new Error(`Attempt to override an existing term: "${o.id}"`));continue}this._terms.set(o.id,o)}else{if(e===!1&&this._messages.has(o.id)){i.push(new Error(`Attempt to override an existing message: "${o.id}"`));continue}this._messages.set(o.id,o)}}return i}formatPattern(t,e=null,i=null){if(typeof t=="string")return this._transform(t);let r=new TC(this,i,e);try{return L2(r,t).toString(r)}catch(o){if(r.errors&&o instanceof Error)return r.errors.push(o),new jt().toString(r);throw o}}},wC=/^(-?[a-zA-Z][\w-]*) *= */gm,w2=/\.([a-zA-Z][\w-]*) *= */y,VK=/\*?\[/y,xC=/(-?[0-9]+(?:\.([0-9]+))?)/y,BK=/([a-zA-Z][\w-]*)/y,x2=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,zK=/^[A-Z][A-Z0-9_-]*$/,$g=/([^{}\n\r]+)/y,HK=/([^\\"\n\r]*)/y,C2=/\\([\\"])/y,k2=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,jK=/^\n+/,D2=/ +$/,UK=/ *\r?\n/g,$K=/( *)$/,WK=/{\s*/y,M2=/\s*}/y,GK=/\[\s*/y,qK=/\s*] */y,YK=/\s*\(\s*/y,KK=/\s*->\s*/y,XK=/\s*:\s*/y,QK=/\s*,?\s*/y,ZK=/\s+/y,PC=class{constructor(t){this.body=[],wC.lastIndex=0;let e=0;for(;;){let S=wC.exec(t);if(S===null)break;e=wC.lastIndex;try{this.body.push(l(S[1]))}catch(z){if(z instanceof SyntaxError)continue;throw z}}function i(S){return S.lastIndex=e,S.test(t)}function r(S,z){if(t[e]===S)return e++,!0;if(z)throw new z(`Expected ${S}`);return!1}function o(S,z){if(i(S))return e=S.lastIndex,!0;if(z)throw new z(`Expected ${S.toString()}`);return!1}function a(S){S.lastIndex=e;let z=S.exec(t);if(z===null)throw new SyntaxError(`Expected ${S.toString()}`);return e=S.lastIndex,z}function s(S){return a(S)[1]}function l(S){let z=d(),he=c();if(z===null&&Object.keys(he).length===0)throw new SyntaxError("Expected message value or attributes");return{id:S,value:z,attributes:he}}function c(){let S=Object.create(null);for(;i(w2);){let z=s(w2),he=d();if(he===null)throw new SyntaxError("Expected attribute value");S[z]=he}return S}function d(){let S;if(i($g)&&(S=s($g)),t[e]==="{"||t[e]==="}")return h(S?[S]:[],1/0);let z=$();return z?S?h([S,z],z.length):(z.value=X(z.value,jK),h([z],z.length)):S?X(S,D2):null}function h(S=[],z){for(;;){if(i($g)){S.push(s($g));continue}if(t[e]==="{"){S.push(u());continue}if(t[e]==="}")throw new SyntaxError("Unbalanced closing brace");let Qe=$();if(Qe){S.push(Qe),z=Math.min(z,Qe.length);continue}break}let he=S.length-1,ze=S[he];typeof ze=="string"&&(S[he]=X(ze,D2));let qe=[];for(let Qe of S)Qe instanceof Zg&&(Qe=Qe.value.slice(0,Qe.value.length-z)),Qe&&qe.push(Qe);return qe}function u(){o(WK,SyntaxError);let S=p();if(o(M2))return S;if(o(KK)){let z=_();return o(M2,SyntaxError),E({type:"select",selector:S},z)}throw new SyntaxError("Unclosed placeable")}function p(){if(t[e]==="{")return u();if(i(x2)){let[,S,z,he=null]=a(x2);if(S==="$")return{type:"var",name:z};if(o(YK)){let ze=m();if(S==="-")return{type:"term",name:z,attr:he,args:ze};if(zK.test(z))return{type:"func",name:z,args:ze};throw new SyntaxError("Function names must be all upper-case")}return S==="-"?{type:"term",name:z,attr:he,args:[]}:{type:"mesg",name:z,attr:he}}return x()}function m(){let S=[];for(;;){switch(t[e]){case")":return e++,S;case void 0:throw new SyntaxError("Unclosed argument list")}S.push(g()),o(QK)}}function g(){let S=p();return S.type!=="mesg"?S:o(XK)?{type:"narg",name:S.name,value:x()}:S}function _(){let S=[],z=0,he;for(;i(VK);){r("*")&&(he=z);let ze=v(),qe=d();if(qe===null)throw new SyntaxError("Expected variant value");S[z++]={key:ze,value:qe}}if(z===0)return null;if(he===void 0)throw new SyntaxError("Expected default variant");return{variants:S,star:he}}function v(){o(GK,SyntaxError);let S;return i(xC)?S=C():S={type:"str",value:s(BK)},o(qK,SyntaxError),S}function x(){if(i(xC))return C();if(t[e]==='"')return D();throw new SyntaxError("Invalid expression")}function C(){let[,S,z=""]=a(xC),he=z.length;return{type:"num",value:parseFloat(S),precision:he}}function D(){r('"',SyntaxError);let S="";for(;;){if(S+=s(HK),t[e]==="\\"){S+=A();continue}if(r('"'))return{type:"str",value:S};throw new SyntaxError("Unclosed string literal")}}function A(){if(i(C2))return s(C2);if(i(k2)){let[,S,z]=a(k2),he=parseInt(S||z,16);return he<=55295||57344<=he?String.fromCodePoint(he):"\uFFFD"}throw new SyntaxError("Unknown escape sequence")}function $(){let S=e;switch(o(ZK),t[e]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return F(t.slice(S,e))}return t[e-1]===" "?F(t.slice(S,e)):!1}function X(S,z){return S.replace(z,"")}function F(S){let z=S.replace(UK,`
`),he=$K.exec(S)[1].length;return new Zg(z,he)}}},Zg=class{constructor(t,e){this.value=t,this.length=e}},JK=/<|&#?\w+;/,eX={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},tX={"http://www.w3.org/1999/xhtml":{global:["title","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function iX(n,t){let{value:e}=t;if(typeof e=="string")if(n.localName==="title"&&n.namespaceURI==="http://www.w3.org/1999/xhtml")n.textContent=e;else if(!JK.test(e))n.textContent=e;else{let i=n.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");i.innerHTML=e,nX(i.content,n)}N2(t,n)}function nX(n,t){for(let e of n.childNodes)if(e.nodeType!==e.TEXT_NODE){if(e.hasAttribute("data-l10n-name")){let i=oX(t,e);n.replaceChild(i,e);continue}if(sX(e)){let i=aX(e);n.replaceChild(i,e);continue}console.warn(`An element of forbidden type "${e.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),n.replaceChild(RC(e),e)}t.textContent="",t.appendChild(n)}function rX(n,t){if(!n)return!1;for(let e of n)if(e.name===t)return!0;return!1}function N2(n,t){let e=t.hasAttribute("data-l10n-attrs")?t.getAttribute("data-l10n-attrs").split(",").map(i=>i.trim()):null;for(let i of Array.from(t.attributes))S2(i.name,t,e)&&!rX(n.attributes,i.name)&&t.removeAttribute(i.name);if(n.attributes)for(let i of Array.from(n.attributes))S2(i.name,t,e)&&t.getAttribute(i.name)!==i.value&&t.setAttribute(i.name,i.value)}function oX(n,t){let e=t.getAttribute("data-l10n-name"),i=n.querySelector(`[data-l10n-name="${e}"]`);if(!i)return console.warn(`An element named "${e}" wasn't found in the source.`),RC(t);if(i.localName!==t.localName)return console.warn(`An element named "${e}" was found in the translation but its type ${t.localName} didn't match the element found in the source (${i.localName}).`),RC(t);n.removeChild(i);let r=i.cloneNode(!1);return V2(t,r)}function aX(n){let t=n.ownerDocument.createElement(n.localName);return V2(n,t)}function RC(n){return n.ownerDocument.createTextNode(n.textContent)}function sX(n){let t=eX[n.namespaceURI];return t&&t.includes(n.localName)}function S2(n,t,e=null){if(e&&e.includes(n))return!0;let i=tX[t.namespaceURI];if(!i)return!1;let r=n.toLowerCase(),o=t.localName;if(i.global.includes(r))return!0;if(!i[o])return!1;if(i[o].includes(r))return!0;if(t.namespaceURI==="http://www.w3.org/1999/xhtml"&&o==="input"&&r==="value"){let a=t.type.toLowerCase();if(a==="submit"||a==="button"||a==="reset")return!0}return!1}function V2(n,t){return t.textContent=n.textContent,N2(n,t),t}var OC=class extends Array{static from(t){return t instanceof this?t:new this(t)}};var FC=class extends OC{constructor(t){if(super(),Symbol.asyncIterator in Object(t))this.iterator=t[Symbol.asyncIterator]();else if(Symbol.iterator in Object(t))this.iterator=t[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.asyncIterator](){let t=this,e=0;return{next(){return U(this,null,function*(){return t.length<=e&&t.push(t.iterator.next()),t[e++]})}}}touchNext(t=1){return U(this,null,function*(){let e=0;for(;e++<t;){let i=this[this.length-1];if(i&&(yield i).done)break;this.push(this.iterator.next())}return this[this.length-1]})}},LC=class{constructor(t=[],e){this.resourceIds=t,this.generateBundles=e,this.onChange(!0)}addResourceIds(t,e=!1){return this.resourceIds.push(...t),this.onChange(e),this.resourceIds.length}removeResourceIds(t){return this.resourceIds=this.resourceIds.filter(e=>!t.includes(e)),this.onChange(),this.resourceIds.length}formatWithFallback(t,e){return U(this,null,function*(){let i=[],r=!1;try{for(var o=c1(this.bundles),a,s,l;a=!(s=yield o.next()).done;a=!1){let c=s.value;r=!0;let d=dX(e,c,t,i);if(d.size===0)break;if(typeof console<"u"){let h=c.locales[0],u=Array.from(d).join(", ");console.warn(`[fluent] Missing translations in ${h}: ${u}`)}}}catch{l=[s]}finally{try{a&&(s=o.return)&&(yield s.call(o))}finally{if(l)throw l[0]}}return!r&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.
  keys: ${JSON.stringify(t)}.
  resourceIds: ${JSON.stringify(this.resourceIds)}.`),i})}formatMessages(t){return this.formatWithFallback(t,cX)}formatValues(t){return this.formatWithFallback(t,lX)}formatValue(t,e){return U(this,null,function*(){let[i]=yield this.formatValues([{id:t,args:e}]);return i})}handleEvent(){this.onChange()}onChange(t=!1){this.bundles=FC.from(this.generateBundles(this.resourceIds)),t&&this.bundles.touchNext(2)}};function lX(n,t,e,i){return e.value?n.formatPattern(e.value,i,t):null}function cX(n,t,e,i){let r={value:null,attributes:null};e.value&&(r.value=n.formatPattern(e.value,i,t));let o=Object.keys(e.attributes);if(o.length>0){r.attributes=new Array(o.length);for(let[a,s]of o.entries()){let l=n.formatPattern(e.attributes[s],i,t);r.attributes[a]={name:s,value:l}}}return r}function dX(n,t,e,i){let r=[],o=new Set;return e.forEach(({id:a,args:s},l)=>{if(i[l]!==void 0)return;let c=t.getMessage(a);if(c){if(r.length=0,i[l]=n(t,r,c,s),r.length>0&&typeof console<"u"){let d=t.locales[0],h=r.join(", ");console.warn(`[fluent][resolver] errors in ${d}/${a}: ${h}.`)}}else o.add(a)}),o}var Js="data-l10n-id",Qh="data-l10n-args",hX=`[${Js}]`,NC=class extends LC{constructor(t,e){super(t,e),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[Js,Qh]}}onChange(t=!1){super.onChange(t),this.roots&&this.translateRoots()}setAttributes(t,e,i){return t.setAttribute(Js,e),i?t.setAttribute(Qh,JSON.stringify(i)):t.removeAttribute(Qh),t}getAttributes(t){return{id:t.getAttribute(Js),args:JSON.parse(t.getAttribute(Qh)||null)}}connectRoot(t){for(let e of this.roots)if(e===t||e.contains(t)||t.contains(e))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==t.ownerDocument.defaultView)throw new Error(`Cannot connect a root:
          DOMLocalization already has a root from a different window.`)}else this.windowElement=t.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(e=>this.translateMutations(e));this.roots.add(t),this.mutationObserver.observe(t,this.observerConfig)}disconnectRoot(t){return this.roots.delete(t),this.pauseObserving(),this.roots.size===0?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){let t=Array.from(this.roots);return Promise.all(t.map(e=>this.translateFragment(e)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(let t of this.roots)this.mutationObserver.observe(t,this.observerConfig)}translateMutations(t){for(let e of t)switch(e.type){case"attributes":e.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(e.target);break;case"childList":for(let i of e.addedNodes)if(i.nodeType===i.ELEMENT_NODE)if(i.childElementCount)for(let r of this.getTranslatables(i))this.pendingElements.add(r);else i.hasAttribute(Js)&&this.pendingElements.add(i);break}this.pendingElements.size>0&&this.pendingrAF===null&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(t){return this.translateElements(this.getTranslatables(t))}translateElements(t){return U(this,null,function*(){if(!t.length)return;let e=t.map(this.getKeysForElement),i=yield this.formatMessages(e);return this.applyTranslations(t,i)})}applyTranslations(t,e){this.pauseObserving();for(let i=0;i<t.length;i++)e[i]!==void 0&&iX(t[i],e[i]);this.resumeObserving()}getTranslatables(t){let e=Array.from(t.querySelectorAll(hX));return typeof t.hasAttribute=="function"&&t.hasAttribute(Js)&&e.push(t),e}getKeysForElement(t){return{id:t.getAttribute(Js),args:JSON.parse(t.getAttribute(Qh)||null)}}},VC=class n{#e;#t;#i;#n;constructor({lang:t,isRTL:e},i=null){this.#i=n.#r(t),this.#n=i,this.#e=e??n.#o(this.#i)?"rtl":"ltr"}_setL10n(t){this.#n=t}getLanguage(){return this.#i}getDirection(){return this.#e}get(t,e=null,i){return U(this,null,function*(){return Array.isArray(t)?(t=t.map(a=>({id:a})),(yield this.#n.formatMessages(t)).map(a=>a.value)):(yield this.#n.formatMessages([{id:t,args:e}]))[0]?.value||i})}translate(t){return U(this,null,function*(){(this.#t||=new Set).add(t);try{this.#n.connectRoot(t),yield this.#n.translateRoots()}catch{}})}translateOnce(t){return U(this,null,function*(){try{yield this.#n.translateElements([t])}catch(e){console.error(`translateOnce: "${e}".`)}})}destroy(){return U(this,null,function*(){if(this.#t){for(let t of this.#t)this.#n.disconnectRoot(t);this.#t.clear(),this.#t=null}this.#n.pauseObserving()})}pause(){this.#n.pauseObserving()}resume(){this.#n.resumeObserving()}static#r(t){return t=t?.toLowerCase()||"en-us",{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[t]||t}static#o(t){let e=t.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(e)}};function E2(n,t){let e=new PC(t),i=new IC(n),r=i.addResource(e);return r.length&&console.error("L10n errors",r),i}var Sc=class n extends VC{constructor(t){super({lang:t});let e=t?n.#e.bind(n,"en-us",this.getLanguage()):n.#n.bind(n,this.getLanguage());this._setL10n(new NC([],e))}static#e(t,e){return l_(this,null,function*(){let{baseURL:i,paths:r}=yield new s_(this.#i()),o=[e];if(t!==e){let a=e.split("-",1)[0];a!==e&&o.push(a),o.push(t)}for(let a of o){let s=yield new s_(this.#t(a,i,r));s?yield s:a==="en-us"&&(yield this.#r(a))}})}static#t(t,e,i){return U(this,null,function*(){let r=i[t];if(!r)return null;let o=new URL(r,e),a=yield u2(o,"text");return E2(t,a)})}static#i(){return U(this,null,function*(){try{let{href:t}=document.querySelector('link[type="application/l10n"]'),e=yield u2(t,"json");return{baseURL:t.replace(/[^/]*$/,"")||"./",paths:e}}catch{}return{baseURL:"./",paths:Object.create(null)}})}static#n(t){return l_(this,null,function*(){yield this.#r(t)})}static#r(t){return U(this,null,function*(){return E2(t,`pdfjs-previous-button =
    .title = Previous Page
pdfjs-previous-button-label = Previous
pdfjs-next-button =
    .title = Next Page
pdfjs-next-button-label = Next
pdfjs-page-input =
    .title = Page
pdfjs-of-pages = of { $pagesCount }
pdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })
pdfjs-zoom-out-button =
    .title = Zoom Out
pdfjs-zoom-out-button-label = Zoom Out
pdfjs-zoom-in-button =
    .title = Zoom In
pdfjs-zoom-in-button-label = Zoom In
pdfjs-zoom-select =
    .title = Zoom
pdfjs-presentation-mode-button =
    .title = Switch to Presentation Mode
pdfjs-presentation-mode-button-label = Presentation Mode
pdfjs-open-file-button =
    .title = Open File
pdfjs-open-file-button-label = Open
pdfjs-print-button =
    .title = Print
pdfjs-print-button-label = Print
pdfjs-save-button =
    .title = Save
pdfjs-save-button-label = Save
pdfjs-download-button =
    .title = Download
pdfjs-download-button-label = Download
pdfjs-bookmark-button =
    .title = Current Page (View URL from Current Page)
pdfjs-bookmark-button-label = Current Page
pdfjs-tools-button =
    .title = Tools
pdfjs-tools-button-label = Tools
pdfjs-first-page-button =
    .title = Go to First Page
pdfjs-first-page-button-label = Go to First Page
pdfjs-last-page-button =
    .title = Go to Last Page
pdfjs-last-page-button-label = Go to Last Page
pdfjs-page-rotate-cw-button =
    .title = Rotate Clockwise
pdfjs-page-rotate-cw-button-label = Rotate Clockwise
pdfjs-page-rotate-ccw-button =
    .title = Rotate Counterclockwise
pdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise
pdfjs-cursor-text-select-tool-button =
    .title = Enable Text Selection Tool
pdfjs-cursor-text-select-tool-button-label = Text Selection Tool
pdfjs-cursor-hand-tool-button =
    .title = Enable Hand Tool
pdfjs-cursor-hand-tool-button-label = Hand Tool
pdfjs-scroll-page-button =
    .title = Use Page Scrolling
pdfjs-scroll-page-button-label = Page Scrolling
pdfjs-scroll-vertical-button =
    .title = Use Vertical Scrolling
pdfjs-scroll-vertical-button-label = Vertical Scrolling
pdfjs-scroll-horizontal-button =
    .title = Use Horizontal Scrolling
pdfjs-scroll-horizontal-button-label = Horizontal Scrolling
pdfjs-scroll-wrapped-button =
    .title = Use Wrapped Scrolling
pdfjs-scroll-wrapped-button-label = Wrapped Scrolling
pdfjs-spread-none-button =
    .title = Do not join page spreads
pdfjs-spread-none-button-label = No Spreads
pdfjs-spread-odd-button =
    .title = Join page spreads starting with odd-numbered pages
pdfjs-spread-odd-button-label = Odd Spreads
pdfjs-spread-even-button =
    .title = Join page spreads starting with even-numbered pages
pdfjs-spread-even-button-label = Even Spreads
pdfjs-document-properties-button =
    .title = Document Properties\u2026
pdfjs-document-properties-button-label = Document Properties\u2026
pdfjs-document-properties-file-name = File name:
pdfjs-document-properties-file-size = File size:
pdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)
pdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)
pdfjs-document-properties-title = Title:
pdfjs-document-properties-author = Author:
pdfjs-document-properties-subject = Subject:
pdfjs-document-properties-keywords = Keywords:
pdfjs-document-properties-creation-date = Creation Date:
pdfjs-document-properties-modification-date = Modification Date:
pdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-document-properties-creator = Creator:
pdfjs-document-properties-producer = PDF Producer:
pdfjs-document-properties-version = PDF Version:
pdfjs-document-properties-page-count = Page Count:
pdfjs-document-properties-page-size = Page Size:
pdfjs-document-properties-page-size-unit-inches = in
pdfjs-document-properties-page-size-unit-millimeters = mm
pdfjs-document-properties-page-size-orientation-portrait = portrait
pdfjs-document-properties-page-size-orientation-landscape = landscape
pdfjs-document-properties-page-size-name-a-three = A3
pdfjs-document-properties-page-size-name-a-four = A4
pdfjs-document-properties-page-size-name-letter = Letter
pdfjs-document-properties-page-size-name-legal = Legal
pdfjs-document-properties-page-size-dimension-string = { $width } \xD7 { $height } { $unit } ({ $orientation })
pdfjs-document-properties-page-size-dimension-name-string = { $width } \xD7 { $height } { $unit } ({ $name }, { $orientation })
pdfjs-document-properties-linearized = Fast Web View:
pdfjs-document-properties-linearized-yes = Yes
pdfjs-document-properties-linearized-no = No
pdfjs-document-properties-close-button = Close
pdfjs-print-progress-message = Preparing document for printing\u2026
pdfjs-print-progress-percent = { $progress }%
pdfjs-print-progress-close-button = Cancel
pdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.
pdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.
pdfjs-toggle-sidebar-button =
    .title = Toggle Sidebar
pdfjs-toggle-sidebar-notification-button =
    .title = Toggle Sidebar (document contains outline/attachments/layers)
pdfjs-toggle-sidebar-button-label = Toggle Sidebar
pdfjs-document-outline-button =
    .title = Show Document Outline (double-click to expand/collapse all items)
pdfjs-document-outline-button-label = Document Outline
pdfjs-attachments-button =
    .title = Show Attachments
pdfjs-attachments-button-label = Attachments
pdfjs-layers-button =
    .title = Show Layers (double-click to reset all layers to the default state)
pdfjs-layers-button-label = Layers
pdfjs-thumbs-button =
    .title = Show Thumbnails
pdfjs-thumbs-button-label = Thumbnails
pdfjs-current-outline-item-button =
    .title = Find Current Outline Item
pdfjs-current-outline-item-button-label = Current Outline Item
pdfjs-findbar-button =
    .title = Find in Document
pdfjs-findbar-button-label = Find
pdfjs-additional-layers = Additional Layers
pdfjs-thumb-page-title =
    .title = Page { $page }
pdfjs-thumb-page-canvas =
    .aria-label = Thumbnail of Page { $page }
pdfjs-find-input =
    .title = Find
    .placeholder = Find in document\u2026
pdfjs-find-previous-button =
    .title = Find the previous occurrence of the phrase
pdfjs-find-previous-button-label = Previous
pdfjs-find-next-button =
    .title = Find the next occurrence of the phrase
pdfjs-find-next-button-label = Next
pdfjs-find-highlight-checkbox = Highlight All
pdfjs-find-match-case-checkbox-label = Match Case
pdfjs-find-match-diacritics-checkbox-label = Match Diacritics
pdfjs-find-entire-word-checkbox-label = Whole Words
pdfjs-find-reached-top = Reached top of document, continued from bottom
pdfjs-find-reached-bottom = Reached end of document, continued from top
pdfjs-find-match-count =
    { $total ->
        [one] { $current } of { $total } match
       *[other] { $current } of { $total } matches
    }
pdfjs-find-match-count-limit =
    { $limit ->
        [one] More than { $limit } match
       *[other] More than { $limit } matches
    }
pdfjs-find-not-found = Phrase not found
pdfjs-page-scale-width = Page Width
pdfjs-page-scale-fit = Page Fit
pdfjs-page-scale-auto = Automatic Zoom
pdfjs-page-scale-actual = Actual Size
pdfjs-page-scale-percent = { $scale }%
pdfjs-page-landmark =
    .aria-label = Page { $page }
pdfjs-loading-error = An error occurred while loading the PDF.
pdfjs-invalid-file-error = Invalid or corrupted PDF file.
pdfjs-missing-file-error = Missing PDF file.
pdfjs-unexpected-response-error = Unexpected server response.
pdfjs-rendering-error = An error occurred while rendering the page.
pdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-text-annotation-type =
    .alt = [{ $type } Annotation]
pdfjs-password-label = Enter the password to open this PDF file.
pdfjs-password-invalid = Invalid password. Please try again.
pdfjs-password-ok-button = OK
pdfjs-password-cancel-button = Cancel
pdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.
pdfjs-editor-free-text-button =
    .title = Text
pdfjs-editor-free-text-button-label = Text
pdfjs-editor-ink-button =
    .title = Draw
pdfjs-editor-ink-button-label = Draw
pdfjs-editor-stamp-button =
    .title = Add or edit images
pdfjs-editor-stamp-button-label = Add or edit images
pdfjs-editor-highlight-button =
    .title = Highlight
pdfjs-editor-highlight-button-label = Highlight
pdfjs-highlight-floating-button1 =
    .title = Highlight
    .aria-label = Highlight
pdfjs-highlight-floating-button-label = Highlight
pdfjs-editor-remove-ink-button =
    .title = Remove drawing
pdfjs-editor-remove-freetext-button =
    .title = Remove text
pdfjs-editor-remove-stamp-button =
    .title = Remove image
pdfjs-editor-remove-highlight-button =
    .title = Remove highlight
pdfjs-editor-free-text-color-input = Color
pdfjs-editor-free-text-size-input = Size
pdfjs-editor-ink-color-input = Color
pdfjs-editor-ink-thickness-input = Thickness
pdfjs-editor-ink-opacity-input = Opacity
pdfjs-editor-stamp-add-image-button =
    .title = Add image
pdfjs-editor-stamp-add-image-button-label = Add image
pdfjs-editor-free-highlight-thickness-input = Thickness
pdfjs-editor-free-highlight-thickness-title =
    .title = Change thickness when highlighting items other than text
pdfjs-free-text2 =
    .aria-label = Text Editor
    .default-content = Start typing\u2026
pdfjs-ink =
    .aria-label = Draw Editor
pdfjs-ink-canvas =
    .aria-label = User-created image
pdfjs-editor-alt-text-button =
    .aria-label = Alt text
pdfjs-editor-alt-text-button-label = Alt text
pdfjs-editor-alt-text-edit-button =
    .aria-label = Edit alt text
pdfjs-editor-alt-text-dialog-label = Choose an option
pdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can\u2019t see the image or when it doesn\u2019t load.
pdfjs-editor-alt-text-add-description-label = Add a description
pdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.
pdfjs-editor-alt-text-mark-decorative-label = Mark as decorative
pdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.
pdfjs-editor-alt-text-cancel-button = Cancel
pdfjs-editor-alt-text-save-button = Save
pdfjs-editor-alt-text-decorative-tooltip = Marked as decorative
pdfjs-editor-alt-text-textarea =
    .placeholder = For example, \u201CA young man sits down at a table to eat a meal\u201D
pdfjs-editor-resizer-top-left =
    .aria-label = Top left corner \u2014 resize
pdfjs-editor-resizer-top-middle =
    .aria-label = Top middle \u2014 resize
pdfjs-editor-resizer-top-right =
    .aria-label = Top right corner \u2014 resize
pdfjs-editor-resizer-middle-right =
    .aria-label = Middle right \u2014 resize
pdfjs-editor-resizer-bottom-right =
    .aria-label = Bottom right corner \u2014 resize
pdfjs-editor-resizer-bottom-middle =
    .aria-label = Bottom middle \u2014 resize
pdfjs-editor-resizer-bottom-left =
    .aria-label = Bottom left corner \u2014 resize
pdfjs-editor-resizer-middle-left =
    .aria-label = Middle left \u2014 resize
pdfjs-editor-highlight-colorpicker-label = Highlight color
pdfjs-editor-colorpicker-button =
    .title = Change color
pdfjs-editor-colorpicker-dropdown =
    .aria-label = Color choices
pdfjs-editor-colorpicker-yellow =
    .title = Yellow
pdfjs-editor-colorpicker-green =
    .title = Green
pdfjs-editor-colorpicker-blue =
    .title = Blue
pdfjs-editor-colorpicker-pink =
    .title = Pink
pdfjs-editor-colorpicker-red =
    .title = Red
pdfjs-editor-highlight-show-all-button-label = Show all
pdfjs-editor-highlight-show-all-button =
    .title = Show all
pdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)
pdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)
pdfjs-editor-new-alt-text-textarea =
    .placeholder = Write your description here\u2026
pdfjs-editor-new-alt-text-description = Short description for people who can\u2019t see the image or when the image doesn\u2019t load.
pdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.
pdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more
pdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically
pdfjs-editor-new-alt-text-not-now-button = Not now
pdfjs-editor-new-alt-text-error-title = Couldn\u2019t create alt text automatically
pdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.
pdfjs-editor-new-alt-text-error-close-button = Close
pdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
pdfjs-editor-new-alt-text-added-button =
    .aria-label = Alt text added
pdfjs-editor-new-alt-text-added-button-label = Alt text added
pdfjs-editor-new-alt-text-missing-button =
    .aria-label = Missing alt text
pdfjs-editor-new-alt-text-missing-button-label = Missing alt text
pdfjs-editor-new-alt-text-to-review-button =
    .aria-label = Review alt text
pdfjs-editor-new-alt-text-to-review-button-label = Review alt text
pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }
pdfjs-image-alt-text-settings-button =
    .title = Image alt text settings
pdfjs-image-alt-text-settings-button-label = Image alt text settings
pdfjs-editor-alt-text-settings-dialog-label = Image alt text settings
pdfjs-editor-alt-text-settings-automatic-title = Automatic alt text
pdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically
pdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who can\u2019t see the image or when the image doesn\u2019t load.
pdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)
pdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.
pdfjs-editor-alt-text-settings-delete-model-button = Delete
pdfjs-editor-alt-text-settings-download-model-button = Download
pdfjs-editor-alt-text-settings-downloading-model-button = Downloading\u2026
pdfjs-editor-alt-text-settings-editor-title = Alt text editor
pdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image
pdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.
pdfjs-editor-alt-text-settings-close-button = Close`)})}},uX=1e3,CC=50,A2=1e3;function kC(){return document.location.hash}var BC=class{#e=null;constructor({linkService:t,eventBus:e}){this.linkService=t,this.eventBus=e,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",i=>{this._isPagesLoaded=!!i.pagesCount},{once:!0})})}initialize({fingerprint:t,resetHistory:e=!1,updateUrl:i=!1}){if(!t||typeof t!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();let r=this._fingerprint!==""&&this._fingerprint!==t;this._fingerprint=t,this._updateUrl=i===!0,this._initialized=!0,this.#h();let o=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=kC(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this.#r(o,!0)||e){let{hash:s,page:l,rotation:c}=this.#l(!0);if(!s||r||e){this.#t(null,!0);return}this.#t({hash:s,page:l,rotation:c},!0);return}let a=o.destination;this.#o(a,o.uid,!0),a.rotation!==void 0&&(this._initialRotation=a.rotation),a.dest?(this._initialBookmark=JSON.stringify(a.dest),this._destination.page=null):a.hash?this._initialBookmark=a.hash:a.page&&(this._initialBookmark=`page=${a.page}`)}reset(){this._initialized&&(this.#s(),this._initialized=!1,this.#a()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:t=null,explicitDest:e,pageNumber:i}){if(!this._initialized)return;if(t&&typeof t!="string"){console.error(`PDFHistory.push: "${t}" is not a valid namedDest parameter.`);return}else if(Array.isArray(e)){if(!this.#n(i)&&(i!==null||this._destination)){console.error(`PDFHistory.push: "${i}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${e}" is not a valid explicitDest parameter.`);return}let r=t||JSON.stringify(e);if(!r)return;let o=!1;if(this._destination&&(pX(this._destination.hash,r)||mX(this._destination.dest,e))){if(this._destination.page)return;o=!0}this._popStateInProgress&&!o||(this.#t({dest:e,hash:r,page:i,rotation:this.linkService.rotation},o),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(t){if(this._initialized){if(!this.#n(t)){console.error(`PDFHistory.pushPage: "${t}" is not a valid page number.`);return}this._destination?.page!==t&&(this._popStateInProgress||(this.#t({dest:null,hash:`page=${t}`,page:t,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this.#i()}back(){if(!this._initialized||this._popStateInProgress)return;let t=window.history.state;this.#r(t)&&t.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;let t=window.history.state;this.#r(t)&&t.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}#t(t,e=!1){let i=e||!this._destination,r={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:t};this.#o(t,r.uid);let o;if(this._updateUrl&&t?.hash){let a=document.location.href.split("#",1)[0];a.startsWith("file://")||(o=`${a}#${t.hash}`)}i?window.history.replaceState(r,"",o):window.history.pushState(r,"",o)}#i(t=!1){if(!this._position)return;let e=this._position;if(t&&(e=Object.assign(Object.create(null),this._position),e.temporary=!0),!this._destination){this.#t(e);return}if(this._destination.temporary){this.#t(e,!0);return}if(this._destination.hash===e.hash||!this._destination.page&&(CC<=0||this._numPositionUpdates<=CC))return;let i=!1;if(this._destination.page>=e.first&&this._destination.page<=e.page){if(this._destination.dest!==void 0||!this._destination.first)return;i=!0}this.#t(e,i)}#n(t){return Number.isInteger(t)&&t>0&&t<=this.linkService.pagesCount}#r(t,e=!1){if(!t)return!1;if(t.fingerprint!==this._fingerprint)if(e){if(typeof t.fingerprint!="string"||t.fingerprint.length!==this._fingerprint.length)return!1;let[i]=performance.getEntriesByType("navigation");if(i?.type!=="reload")return!1}else return!1;return!(!Number.isInteger(t.uid)||t.uid<0||t.destination===null||typeof t.destination!="object")}#o(t,e,i=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),i&&t?.temporary&&delete t.temporary,this._destination=t,this._uid=e,this._maxUid=Math.max(this._maxUid,e),this._numPositionUpdates=0}#l(t=!1){let e=unescape(kC()).substring(1),i=r_(e),r=i.get("nameddest")||"",o=i.get("page")|0;return(!this.#n(o)||t&&r.length>0)&&(o=null),{hash:e,page:o,rotation:this.linkService.rotation}}#c({location:t}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:t.pdfOpenParams.substring(1),page:this.linkService.page,first:t.pageNumber,rotation:t.rotation},!this._popStateInProgress&&(CC>0&&this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,A2>0&&(this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this.#i(!0),this._updateViewareaTimeout=null},A2)))}#d({state:t}){let e=kC(),i=this._currentHash!==e;if(this._currentHash=e,!t){this._uid++;let{hash:o,page:a,rotation:s}=this.#l();this.#t({hash:o,page:a,rotation:s},!0);return}if(!this.#r(t))return;this._popStateInProgress=!0,i&&(this._blockHashChange++,MK({target:window,name:"hashchange",delay:uX}).then(()=>{this._blockHashChange--}));let r=t.destination;this.#o(r,t.uid,!0),F2(r.rotation)&&(this.linkService.rotation=r.rotation),r.dest?this.linkService.goToDestination(r.dest):r.hash?this.linkService.setHash(r.hash):r.page&&(this.linkService.page=r.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}#s(){(!this._destination||this._destination.temporary)&&this.#i()}#h(){if(this.#e)return;this.#e=new AbortController;let{signal:t}=this.#e;this.eventBus._on("updateviewarea",this.#c.bind(this),{signal:t}),window.addEventListener("popstate",this.#d.bind(this),{signal:t}),window.addEventListener("pagehide",this.#s.bind(this),{signal:t})}#a(){this.#e?.abort(),this.#e=null}};function pX(n,t){return typeof n!="string"||typeof t!="string"?!1:n===t||r_(n).get("nameddest")===t}function mX(n,t){function e(i,r){if(typeof i!=typeof r||Array.isArray(i)||Array.isArray(r))return!1;if(i!==null&&typeof i=="object"&&r!==null){if(Object.keys(i).length!==Object.keys(r).length)return!1;for(let o in i)if(!e(i[o],r[o]))return!1;return!0}return i===r||Number.isNaN(i)&&Number.isNaN(r)}if(!(Array.isArray(n)&&Array.isArray(t))||n.length!==t.length)return!1;for(let i=0,r=n.length;i<r;i++)if(!e(n[i],t[i]))return!1;return!0}var zC=class{#e=null;#t=null;#i=null;#n=null;#r=null;#o;constructor(t){this.pdfPage=t.pdfPage,this.accessibilityManager=t.accessibilityManager,this.l10n=t.l10n,this.l10n||=new Sc,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#o=t.uiManager,this.#e=t.annotationLayer||null,this.#r=t.textLayer||null,this.#t=t.drawLayer||null,this.#i=t.onAppend||null,this.#n=t.structTreeLayer||null}render(t,e="display"){return U(this,null,function*(){if(e!=="display"||this._cancelled)return;let i=t.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:i}),this.show();return}let r=this.div=document.createElement("div");r.className="annotationEditorLayer",r.hidden=!0,r.dir=this.#o.direction,this.#i?.(r),this.annotationEditorLayer=new fK({uiManager:this.#o,div:r,structTreeLayer:this.#n,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:i,annotationLayer:this.#e,textLayer:this.#r,drawLayer:this.#t});let o={viewport:i,div:r,annotations:null,intent:e};this.annotationEditorLayer.render(o),this.show()})}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1)}};{Gg=new Map;let n=navigator.userAgent||"",t=navigator.platform||"",e=navigator.maxTouchPoints||1,i=/Android/.test(n),r=/\b(iPad|iPhone|iPod)(?=;)/.test(n)||t==="MacIntel"&&e>1;(function(){(r||i)&&Gg.set("maxCanvasPixels",5242880)})(),function(){i&&Gg.set("useSystemFonts",!1)}()}var Gg,J={BROWSER:1,VIEWER:2,API:4,WORKER:8,EVENT_DISPATCH:16,PREFERENCE:128},HC={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},Jr={allowedGlobalEvents:{value:null,kind:J.BROWSER},canvasMaxAreaInBytes:{value:-1,kind:J.BROWSER+J.API},isInAutomation:{value:!1,kind:J.BROWSER},localeProperties:{value:{lang:navigator.language||"en-US"},kind:J.BROWSER},nimbusDataStr:{value:"",kind:J.BROWSER},supportsCaretBrowsingMode:{value:!1,kind:J.BROWSER},supportsDocumentFonts:{value:!0,kind:J.BROWSER},supportsIntegratedFind:{value:!1,kind:J.BROWSER},supportsMouseWheelZoomCtrlKey:{value:!0,kind:J.BROWSER},supportsMouseWheelZoomMetaKey:{value:!0,kind:J.BROWSER},supportsPinchToZoom:{value:!0,kind:J.BROWSER},toolbarDensity:{value:0,kind:J.BROWSER+J.EVENT_DISPATCH},altTextLearnMoreUrl:{value:"",kind:J.VIEWER+J.PREFERENCE},annotationEditorMode:{value:0,kind:J.VIEWER+J.PREFERENCE},annotationMode:{value:2,kind:J.VIEWER+J.PREFERENCE},cursorToolOnLoad:{value:0,kind:J.VIEWER+J.PREFERENCE},debuggerSrc:{value:"./debugger.mjs",kind:J.VIEWER},defaultZoomDelay:{value:400,kind:J.VIEWER+J.PREFERENCE},defaultZoomValue:{value:"",kind:J.VIEWER+J.PREFERENCE},disableHistory:{value:!1,kind:J.VIEWER},disablePageLabels:{value:!1,kind:J.VIEWER+J.PREFERENCE},enableAltText:{value:!1,kind:J.VIEWER+J.PREFERENCE},enableAltTextModelDownload:{value:!0,kind:J.VIEWER+J.PREFERENCE+J.EVENT_DISPATCH},enableGuessAltText:{value:!0,kind:J.VIEWER+J.PREFERENCE+J.EVENT_DISPATCH},enableHighlightFloatingButton:{value:!1,kind:J.VIEWER+J.PREFERENCE},enableNewAltTextWhenAddingImage:{value:!0,kind:J.VIEWER+J.PREFERENCE},enablePermissions:{value:!1,kind:J.VIEWER+J.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:J.VIEWER+J.PREFERENCE},enableScripting:{value:!0,kind:J.VIEWER+J.PREFERENCE},enableUpdatedAddImage:{value:!1,kind:J.VIEWER+J.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:J.VIEWER},externalLinkTarget:{value:0,kind:J.VIEWER+J.PREFERENCE},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F",kind:J.VIEWER+J.PREFERENCE},historyUpdateUrl:{value:!1,kind:J.VIEWER+J.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:J.VIEWER+J.PREFERENCE},imageResourcesPath:{value:"./images/",kind:J.VIEWER},maxCanvasPixels:{value:2**25,kind:J.VIEWER},forcePageColors:{value:!1,kind:J.VIEWER+J.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:J.VIEWER+J.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:J.VIEWER+J.PREFERENCE},pdfBugEnabled:{value:!1,kind:J.VIEWER+J.PREFERENCE},printResolution:{value:150,kind:J.VIEWER},sidebarViewOnLoad:{value:-1,kind:J.VIEWER+J.PREFERENCE},scrollModeOnLoad:{value:-1,kind:J.VIEWER+J.PREFERENCE},spreadModeOnLoad:{value:-1,kind:J.VIEWER+J.PREFERENCE},textLayerMode:{value:1,kind:J.VIEWER+J.PREFERENCE},viewOnLoad:{value:0,kind:J.VIEWER+J.PREFERENCE},cMapPacked:{value:!0,kind:J.API},cMapUrl:{value:"../web/cmaps/",kind:J.API},disableAutoFetch:{value:!1,kind:J.API+J.PREFERENCE},disableFontFace:{value:!1,kind:J.API+J.PREFERENCE},disableRange:{value:!1,kind:J.API+J.PREFERENCE},disableStream:{value:!1,kind:J.API+J.PREFERENCE},docBaseUrl:{value:"",kind:J.API},enableHWA:{value:!0,kind:J.API+J.VIEWER+J.PREFERENCE},enableXfa:{value:!0,kind:J.API+J.PREFERENCE},fontExtraProperties:{value:!1,kind:J.API},isEvalSupported:{value:!0,kind:J.API},isOffscreenCanvasSupported:{value:!0,kind:J.API},maxImageSize:{value:-1,kind:J.API},pdfBug:{value:!1,kind:J.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:J.API},useSystemFonts:{value:void 0,kind:J.API,type:HC.BOOLEAN+HC.UNDEFINED},verbosity:{value:1,kind:J.API},workerPort:{value:null,kind:J.WORKER},workerSrc:{value:"../build/pdf.worker.mjs",kind:J.WORKER}};Jr.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:J.VIEWER},Jr.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:J.VIEWER},Jr.viewerCssTheme={value:0,kind:J.VIEWER+J.PREFERENCE},Jr.enableFakeMLManager={value:!0,kind:J.VIEWER};Jr.disablePreferences={value:!1,kind:J.VIEWER};var jC=class{static eventBus;static#e=new Map;static{for(let t in Jr)this.#e.set(t,Jr[t].value);for(let[t,e]of Gg)this.#e.set(t,e);this._hasInvokedSet=!1,this._checkDisablePreferences=()=>this.get("disablePreferences")?!0:(this._hasInvokedSet&&console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.'),!1)}static get(t){return this.#e.get(t)}static getAll(t=null,e=!1){let i=Object.create(null);for(let r in Jr){let o=Jr[r];t&&!(t&o.kind)||(i[r]=e?o.value:this.#e.get(r))}return i}static set(t,e){this.setAll({[t]:e})}static setAll(t,e=!1){this._hasInvokedSet||=!0;let i;for(let r in t){let o=Jr[r],a=t[r];if(!o||!(typeof a==typeof o.value||HC[(typeof a).toUpperCase()]&o.type))continue;let{kind:s}=o;e&&!(s&J.BROWSER||s&J.PREFERENCE)||(this.eventBus&&s&J.EVENT_DISPATCH&&(i||=new Map).set(r,a),this.#e.set(r,a))}if(i)for(let[r,o]of i)this.eventBus.dispatch(r.toLowerCase(),{source:this,value:o})}},UC=class{#e=null;constructor(t){this.pageIndex=t.pageIndex}render(t="display"){return U(this,null,function*(){t!=="display"||this.#e||this._cancelled||(this.#e=new vK({pageIndex:this.pageIndex}))})}cancel(){this._cancelled=!0,this.#e&&(this.#e.destroy(),this.#e=null)}setParent(t){this.#e?.setParent(t)}getDrawLayer(){return this.#e}},T2={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},fX=/^H(\d+)$/,Jg=class{#e;#t=null;#i;#n=new Map;#r;#o=null;constructor(t,e){this.#e=t.getStructTree(),this.#r=e}render(){return U(this,null,function*(){if(this.#i)return this.#i;let{promise:t,resolve:e,reject:i}=Promise.withResolvers();this.#i=t;try{this.#t=this.#d(yield this.#e)}catch(r){i(r)}return this.#e=null,this.#t?.classList.add("structTree"),e(this.#t),t})}getAriaAttributes(t){return U(this,null,function*(){try{return yield this.render(),this.#n.get(t)}catch{}return null})}hide(){this.#t&&!this.#t.hidden&&(this.#t.hidden=!0)}show(){this.#t?.hidden&&(this.#t.hidden=!1)}#l(t,e){let{alt:i,id:r,lang:o}=t;if(i!==void 0){let a=!1,s=Jh(i);for(let l of t.children)if(l.type==="annotation"){let c=this.#n.get(l.id);c||(c=new Map,this.#n.set(l.id,c)),c.set("aria-label",s),a=!0}a||e.setAttribute("aria-label",s)}r!==void 0&&e.setAttribute("aria-owns",r),o!==void 0&&e.setAttribute("lang",Jh(o,!0))}#c(t,e){let{alt:i,bbox:r,children:o}=t,a=o?.[0];if(!this.#r||!i||!r||a?.type!=="content")return!1;let{id:s}=a;if(!s)return!1;e.setAttribute("aria-owns",s);let l=document.createElement("span");(this.#o||=new Map).set(s,l),l.setAttribute("role","img"),l.setAttribute("aria-label",Jh(i));let{pageHeight:c,pageX:d,pageY:h}=this.#r,u="calc(var(--scale-factor)*",{style:p}=l;return p.width=`${u}${r[2]-r[0]}px)`,p.height=`${u}${r[3]-r[1]}px)`,p.left=`${u}${r[0]-d}px)`,p.top=`${u}${c-r[3]+h}px)`,!0}addElementsToTextLayer(){if(this.#o){for(let[t,e]of this.#o)document.getElementById(t)?.append(e);this.#o.clear(),this.#o=null}}#d(t){if(!t)return null;let e=document.createElement("span");if("role"in t){let{role:i}=t,r=i.match(fX);if(r?(e.setAttribute("role","heading"),e.setAttribute("aria-level",r[1])):T2[i]&&e.setAttribute("role",T2[i]),i==="Figure"&&this.#c(t,e))return e}if(this.#l(t,e),t.children)if(t.children.length===1&&"id"in t.children[0])this.#l(t.children[0],e);else for(let i of t.children)e.append(this.#d(i));return e}},$C=class n{#e=!1;#t=null;#i=new Map;#n=new Map;setTextMapping(t){this.#t=t}static#r(t,e){let i=t.getBoundingClientRect(),r=e.getBoundingClientRect();if(i.width===0&&i.height===0)return 1;if(r.width===0&&r.height===0)return-1;let o=i.y,a=i.y+i.height,s=i.y+i.height/2,l=r.y,c=r.y+r.height,d=r.y+r.height/2;if(s<=l&&d>=a)return-1;if(d<=o&&s>=c)return 1;let h=i.x+i.width/2,u=r.x+r.width/2;return h-u}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(n.#r),this.#i.size>0){let t=this.#t;for(let[e,i]of this.#i){if(!document.getElementById(e)){this.#i.delete(e);continue}this.#o(e,t[i])}}for(let[t,e]of this.#n)this.addPointerInTextLayer(t,e);this.#n.clear()}disable(){this.#e&&(this.#n.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(t){if(!this.#e){this.#n.delete(t);return}let e=this.#t;if(!e||e.length===0)return;let{id:i}=t,r=this.#i.get(i);if(r===void 0)return;let o=e[r];this.#i.delete(i);let a=o.getAttribute("aria-owns");a?.includes(i)&&(a=a.split(" ").filter(s=>s!==i).join(" "),a?o.setAttribute("aria-owns",a):(o.removeAttribute("aria-owns"),o.setAttribute("role","presentation")))}#o(t,e){let i=e.getAttribute("aria-owns");i?.includes(t)||e.setAttribute("aria-owns",i?`${i} ${t}`:t),e.removeAttribute("role")}addPointerInTextLayer(t,e){let{id:i}=t;if(!i)return null;if(!this.#e)return this.#n.set(t,e),null;e&&this.removePointerInTextLayer(t);let r=this.#t;if(!r||r.length===0)return null;let o=eu(r,c=>n.#r(t,c)<0),a=Math.max(0,o-1),s=r[a];this.#o(i,s),this.#i.set(i,a);let l=s.parentNode;return l?.classList.contains("markedContent")?l.id:null}moveElementInDOM(t,e,i,r){let o=this.addPointerInTextLayer(i,r);if(!t.hasChildNodes())return t.append(e),o;let a=Array.from(t.childNodes).filter(c=>c!==e);if(a.length===0)return o;let s=i||e,l=eu(a,c=>n.#r(s,c)<0);return l===0?a[0].before(e):a[l-1].after(e),o}},WC=class{#e=null;constructor({findController:t,eventBus:e,pageIndex:i}){this.findController=t,this.matches=[],this.eventBus=e,this.pageIdx=i,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(t,e){this.textDivs=t,this.textContentItemsStr=e}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this.#e||(this.#e=new AbortController,this.eventBus._on("updatetextlayermatches",t=>{(t.pageIndex===this.pageIdx||t.pageIndex===-1)&&this._updateMatches()},{signal:this.#e.signal})),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this.#e?.abort(),this.#e=null,this._updateMatches(!0))}_convertMatches(t,e){if(!t)return[];let{textContentItemsStr:i}=this,r=0,o=0,a=i.length-1,s=[];for(let l=0,c=t.length;l<c;l++){let d=t[l];for(;r!==a&&d>=o+i[r].length;)o+=i[r].length,r++;r===i.length&&console.error("Could not find a matching mapping");let h={begin:{divIdx:r,offset:d-o}};for(d+=e[l];r!==a&&d>o+i[r].length;)o+=i[r].length,r++;h.end={divIdx:r,offset:d-o},s.push(h)}return s}_renderMatches(t){if(t.length===0)return;let{findController:e,pageIdx:i}=this,{textContentItemsStr:r,textDivs:o}=this,a=i===e.selected.pageIdx,s=e.selected.matchIdx,l=e.state.highlightAll,c=null,d={divIdx:-1,offset:void 0};function h(v,x){let C=v.divIdx;return o[C].textContent="",u(C,0,v.offset,x)}function u(v,x,C,D){let A=o[v];if(A.nodeType===Node.TEXT_NODE){let F=document.createElement("span");A.before(F),F.append(A),o[v]=F,A=F}let $=r[v].substring(x,C),X=document.createTextNode($);if(D){let F=document.createElement("span");return F.className=`${D} appended`,F.append(X),A.append(F),D.includes("selected")?F.offsetLeft:0}return A.append(X),0}let p=s,m=p+1;if(l)p=0,m=t.length;else if(!a)return;let g=-1,_=-1;for(let v=p;v<m;v++){let x=t[v],C=x.begin;if(C.divIdx===g&&C.offset===_)continue;g=C.divIdx,_=C.offset;let D=x.end,A=a&&v===s,$=A?" selected":"",X=0;if(!c||C.divIdx!==c.divIdx?(c!==null&&u(c.divIdx,c.offset,d.offset),h(C)):u(c.divIdx,c.offset,C.offset),C.divIdx===D.divIdx)X=u(C.divIdx,C.offset,D.offset,"highlight"+$);else{X=u(C.divIdx,C.offset,d.offset,"highlight begin"+$);for(let F=C.divIdx+1,S=D.divIdx;F<S;F++)o[F].className="highlight middle"+$;h(D,"highlight end"+$)}c=D,A&&e.scrollMatchIntoView({element:o[C.divIdx],selectedLeft:X,pageIndex:i,matchIndex:s})}c&&u(c.divIdx,c.offset,d.offset)}_updateMatches(t=!1){if(!this.enabled&&!t)return;let{findController:e,matches:i,pageIdx:r}=this,{textContentItemsStr:o,textDivs:a}=this,s=-1;for(let d of i){let h=Math.max(s,d.begin.divIdx);for(let u=h,p=d.end.divIdx;u<=p;u++){let m=a[u];m.textContent=o[u],m.className=""}s=d.end.divIdx+1}if(!e?.highlightMatches||t)return;let l=e.pageMatches[r]||null,c=e.pageMatchesLength[r]||null;this.matches=this._convertMatches(l,c),this._renderMatches(this.matches)}},e_=class n{#e=!1;#t=null;#i=!1;#n=null;static#r=new Map;static#o=null;constructor({pdfPage:t,highlighter:e=null,accessibilityManager:i=null,enablePermissions:r=!1,onAppend:o=null}){this.pdfPage=t,this.highlighter=e,this.accessibilityManager=i,this.#e=r===!0,this.#t=o,this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}render(t,e=null){return U(this,null,function*(){if(this.#i&&this.#n){this.#n.update({viewport:t,onBefore:this.hide.bind(this)}),this.show();return}this.cancel(),this.#n=new DK({textContentSource:this.pdfPage.streamTextContent(e||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:t});let{textDivs:i,textContentItemsStr:r}=this.#n;this.highlighter?.setTextMapping(i,r),this.accessibilityManager?.setTextMapping(i),yield this.#n.render(),this.#i=!0;let o=document.createElement("div");o.className="endOfContent",this.div.append(o),this.#l(o),this.#t?.(this.div),this.highlighter?.enable(),this.accessibilityManager?.enable()})}hide(){!this.div.hidden&&this.#i&&(this.highlighter?.disable(),this.div.hidden=!0)}show(){this.div.hidden&&this.#i&&(this.div.hidden=!1,this.highlighter?.enable())}cancel(){this.#n?.cancel(),this.#n=null,this.highlighter?.disable(),this.accessibilityManager?.disable(),n.#c(this.div)}#l(t){let{div:e}=this;e.addEventListener("mousedown",()=>{e.classList.add("selecting")}),e.addEventListener("copy",i=>{if(!this.#e){let r=document.getSelection();i.clipboardData.setData("text/plain",Jh(xK(r.toString())))}i.preventDefault(),i.stopPropagation()}),n.#r.set(e,t),n.#d()}static#c(t){this.#r.delete(t),this.#r.size===0&&(this.#o?.abort(),this.#o=null)}static#d(){if(this.#o)return;this.#o=new AbortController;let{signal:t}=this.#o,e=(a,s)=>{s.append(a),a.style.width="",a.style.height="",s.classList.remove("selecting")},i=!1;document.addEventListener("pointerdown",()=>{i=!0},{signal:t}),document.addEventListener("pointerup",()=>{i=!1,this.#r.forEach(e)},{signal:t}),window.addEventListener("blur",()=>{i=!1,this.#r.forEach(e)},{signal:t}),document.addEventListener("keyup",()=>{i||this.#r.forEach(e)},{signal:t});var r,o;document.addEventListener("selectionchange",()=>{let a=document.getSelection();if(a.rangeCount===0){this.#r.forEach(e);return}let s=new Set;for(let p=0;p<a.rangeCount;p++){let m=a.getRangeAt(p);for(let g of this.#r.keys())!s.has(g)&&m.intersectsNode(g)&&s.add(g)}for(let[p,m]of this.#r)s.has(p)?p.classList.add("selecting"):e(m,p);if(r??=getComputedStyle(this.#r.values().next().value).getPropertyValue("-moz-user-select")==="none",r)return;let l=a.getRangeAt(0),c=o&&(l.compareBoundaryPoints(Range.END_TO_END,o)===0||l.compareBoundaryPoints(Range.START_TO_END,o)===0),d=c?l.startContainer:l.endContainer;d.nodeType===Node.TEXT_NODE&&(d=d.parentNode);let h=d.parentElement?.closest(".textLayer"),u=this.#r.get(h);u&&(u.style.width=h.style.width,u.style.height=h.style.height,d.parentElement.insertBefore(u,c?d:d.nextSibling)),o=l.cloneRange()},{signal:t})}},t_=class{constructor({pdfPage:t,annotationStorage:e=null,linkService:i,xfaHtml:r=null}){this.pdfPage=t,this.annotationStorage=e,this.linkService=i,this.xfaHtml=r,this.div=null,this._cancelled=!1}render(t,e="display"){return U(this,null,function*(){if(e==="print"){let o={viewport:t.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:e};return this.div=document.createElement("div"),o.div=this.div,yC.render(o)}let i=yield this.pdfPage.getXfa();if(this._cancelled||!i)return{textDivs:[]};let r={viewport:t.clone({dontFlip:!0}),div:this.div,xfaHtml:i,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:e};return this.div?yC.update(r):(this.div=document.createElement("div"),r.div=this.div,yC.render(r))})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}},gX={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new tu}},_X=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]),i_=class{#e=Yo.ENABLE_FORMS;#t=!1;#i=!1;#n=!1;#r=null;#o=null;#l=null;#c=1;#d=1;#s=null;#h=Ht.INITIAL;#a=Zr.ENABLE;#u={directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0};#m=new WeakMap;#p=[null,null,null,null];constructor(t){let e=t.container,i=t.defaultViewport;this.id=t.id,this.renderingId="page"+this.id,this.#r=t.layerProperties||gX,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=t.scale||R2,this.viewport=i,this.pdfPageRotate=i.rotation,this._optionalContentConfigPromise=t.optionalContentConfigPromise||null,this.#a=t.textLayerMode??Zr.ENABLE,this.#e=t.annotationMode??Yo.ENABLE_FORMS,this.imageResourcesPath=t.imageResourcesPath||"",this.maxCanvasPixels=t.maxCanvasPixels??jC.get("maxCanvasPixels"),this.pageColors=t.pageColors||null,this.#t=t.enableHWA||!1,this.eventBus=t.eventBus,this.renderingQueue=t.renderingQueue,this.l10n=t.l10n,this.l10n||=new Sc,this.renderTask=null,this.resume=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._container=e,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null;let r=document.createElement("div");if(r.className="page",r.setAttribute("data-page-number",this.id),r.setAttribute("role","region"),r.setAttribute("data-l10n-id","pdfjs-page-landmark"),r.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=r,this.#_(),e?.append(r),this._isStandalone){e?.style.setProperty("--scale-factor",this.scale*qo.PDF_TO_CSS_UNITS),this.pageColors?.background&&e?.style.setProperty("--page-bg-color",this.pageColors.background);let{optionalContentConfigPromise:o}=t;o&&o.then(a=>{o===this._optionalContentConfigPromise&&(this.#u.initialOptionalContent=a.hasInitialVisibility)}),t.l10n||this.l10n.translate(this.div)}}#f(t,e){let i=_X.get(e),r=this.#p[i];if(this.#p[i]=t,r){r.replaceWith(t);return}for(let o=i-1;o>=0;o--){let a=this.#p[o];if(a){a.after(t);return}}this.div.prepend(t)}get renderingState(){return this.#h}set renderingState(t){if(t!==this.#h)switch(this.#h=t,this.#o&&(clearTimeout(this.#o),this.#o=null),t){case Ht.PAUSED:this.div.classList.remove("loading");break;case Ht.RUNNING:this.div.classList.add("loadingIcon"),this.#o=setTimeout(()=>{this.div.classList.add("loading"),this.#o=null},0);break;case Ht.INITIAL:case Ht.FINISHED:this.div.classList.remove("loadingIcon","loading");break}}#_(){let{viewport:t}=this;if(this.pdfPage){if(this.#l===t.rotation)return;this.#l=t.rotation}kK(this.div,t,!0,!1)}setPdfPage(t){this._isStandalone&&(this.pageColors?.foreground==="CanvasText"||this.pageColors?.background==="Canvas")&&(this._container?.style.setProperty("--hcm-highlight-filter",t.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),this._container?.style.setProperty("--hcm-highlight-selected-filter",t.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=t,this.pdfPageRotate=t.rotate;let e=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport({scale:this.scale*qo.PDF_TO_CSS_UNITS,rotation:e}),this.#_(),this.reset()}destroy(){this.reset(),this.pdfPage?.cleanup()}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}get _textHighlighter(){return Yg(this,"_textHighlighter",new WC({pageIndex:this.id-1,eventBus:this.eventBus,findController:this.#r.findController}))}#g(t,e){this.eventBus.dispatch(t,{source:this,pageNumber:this.id,error:e})}#b(){return U(this,null,function*(){let t=null;try{yield this.annotationLayer.render(this.viewport,{structTreeLayer:this.structTreeLayer},"display")}catch(e){console.error(`#renderAnnotationLayer: "${e}".`),t=e}finally{this.#g("annotationlayerrendered",t)}})}#y(){return U(this,null,function*(){let t=null;try{yield this.annotationEditorLayer.render(this.viewport,"display")}catch(e){console.error(`#renderAnnotationEditorLayer: "${e}".`),t=e}finally{this.#g("annotationeditorlayerrendered",t)}})}#C(){return U(this,null,function*(){try{yield this.drawLayer.render("display")}catch(t){console.error(`#renderDrawLayer: "${t}".`)}})}#w(){return U(this,null,function*(){let t=null;try{let e=yield this.xfaLayer.render(this.viewport,"display");e?.textDivs&&this._textHighlighter&&this.#S(e.textDivs)}catch(e){console.error(`#renderXfaLayer: "${e}".`),t=e}finally{this.xfaLayer?.div&&(this.l10n.pause(),this.#f(this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),this.#g("xfalayerrendered",t)}})}#x(){return U(this,null,function*(){if(!this.textLayer)return;let t=null;try{yield this.textLayer.render(this.viewport)}catch(e){if(e instanceof mK)return;console.error(`#renderTextLayer: "${e}".`),t=e}this.#g("textlayerrendered",t),this.#T()})}#T(){return U(this,null,function*(){if(!this.textLayer)return;let t=yield this.structTreeLayer?.render();t&&(this.l10n.pause(),this.structTreeLayer?.addElementsToTextLayer(),this.canvas&&t.parentNode!==this.canvas&&this.canvas.append(t),this.l10n.resume()),this.structTreeLayer?.show()})}#S(t){return U(this,null,function*(){let e=yield this.pdfPage.getTextContent(),i=[];for(let r of e.items)i.push(r.str);this._textHighlighter.setTextMapping(t,i),this._textHighlighter.enable()})}_resetZoomLayer(t=!1){if(!this.zoomLayer)return;let e=this.zoomLayer.firstChild;this.#m.delete(e),e.width=0,e.height=0,t&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:t=!1,keepAnnotationLayer:e=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:r=!1,keepTextLayer:o=!1}={}){this.cancelRendering({keepAnnotationLayer:e,keepAnnotationEditorLayer:i,keepXfaLayer:r,keepTextLayer:o}),this.renderingState=Ht.INITIAL;let a=this.div,s=a.childNodes,l=t&&this.zoomLayer||null,c=e&&this.annotationLayer?.div||null,d=i&&this.annotationEditorLayer?.div||null,h=r&&this.xfaLayer?.div||null,u=o&&this.textLayer?.div||null;for(let p=s.length-1;p>=0;p--){let m=s[p];switch(m){case l:case c:case d:case h:case u:continue}m.remove();let g=this.#p.indexOf(m);g>=0&&(this.#p[g]=null)}a.removeAttribute("data-loaded"),c&&this.annotationLayer.hide(),d&&this.annotationEditorLayer.hide(),h&&this.xfaLayer.hide(),u&&this.textLayer.hide(),this.structTreeLayer?.hide(),l||(this.canvas&&(this.#m.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}toggleEditingMode(t){this.hasEditableAnnotations()&&(this.#n=t,this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0}))}update({scale:t=0,rotation:e=null,optionalContentConfigPromise:i=null,drawingDelay:r=-1}){this.scale=t||this.scale,typeof e=="number"&&(this.rotation=e),i instanceof Promise&&(this._optionalContentConfigPromise=i,i.then(a=>{i===this._optionalContentConfigPromise&&(this.#u.initialOptionalContent=a.hasInitialVisibility)})),this.#u.directDrawing=!0;let o=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*qo.PDF_TO_CSS_UNITS,rotation:o}),this.#_(),this._isStandalone&&this._container?.style.setProperty("--scale-factor",this.viewport.scale),this.canvas){let a=!1;if(this.#i){if(this.maxCanvasPixels===0)a=!0;else if(this.maxCanvasPixels>0){let{width:l,height:c}=this.viewport,{sx:d,sy:h}=this.outputScale;a=(Math.floor(l)*d|0)*(Math.floor(c)*h|0)>this.maxCanvasPixels}}let s=r>=0&&r<1e3;if(s||a){if(s&&!a&&this.renderingState!==Ht.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:r}),this.renderingState=Ht.FINISHED,this.#u.directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!s,hideTextLayer:s}),s)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this.#s});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:e=!1,keepXfaLayer:i=!1,keepTextLayer:r=!1,cancelExtraDelay:o=0}={}){this.renderTask&&(this.renderTask.cancel(o),this.renderTask=null),this.resume=null,this.textLayer&&(!r||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!t||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationEditorLayer&&(!e||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!i||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this._textHighlighter?.disable())}cssTransform({target:t,redrawAnnotationLayer:e=!1,redrawAnnotationEditorLayer:i=!1,redrawXfaLayer:r=!1,redrawTextLayer:o=!1,hideTextLayer:a=!1}){if(!t.hasAttribute("zooming")){t.setAttribute("zooming",!0);let{style:l}=t;l.width=l.height=""}let s=this.#m.get(t);if(this.viewport!==s){let l=this.viewport.rotation-s.rotation,c=Math.abs(l),d=1,h=1;if(c===90||c===270){let{width:u,height:p}=this.viewport;d=p/u,h=u/p}t.style.transform=`rotate(${l}deg) scale(${d}, ${h})`}e&&this.annotationLayer&&this.#b(),i&&this.annotationEditorLayer&&(this.drawLayer&&this.#C(),this.#y()),r&&this.xfaLayer&&this.#w(),this.textLayer&&(a?(this.textLayer.hide(),this.structTreeLayer?.hide()):o&&this.#x())}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(t,e){return this.viewport.convertToPdfPoint(t,e)}#k(t,e=null){return U(this,null,function*(){if(t===this.renderTask&&(this.renderTask=null),e instanceof SC){this.#s=null;return}if(this.#s=e,this.renderingState=Ht.FINISHED,this._resetZoomLayer(!0),this.#u.regularAnnotations=!t.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:this.#s}),e)throw e})}draw(){return U(this,null,function*(){this.renderingState!==Ht.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());let{div:t,l10n:e,pageColors:i,pdfPage:r,viewport:o}=this;if(!r)throw this.renderingState=Ht.FINISHED,new Error("pdfPage is not loaded");this.renderingState=Ht.RUNNING;let a=document.createElement("div");if(a.classList.add("canvasWrapper"),this.#f(a,"canvasWrapper"),!this.textLayer&&this.#a!==Zr.DISABLE&&!r.isPureXfa&&(this._accessibilityManager||=new $C,this.textLayer=new e_({pdfPage:r,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:this.#a===Zr.ENABLE_PERMISSIONS,onAppend:S=>{this.l10n.pause(),this.#f(S,"textLayer"),this.l10n.resume()}})),!this.annotationLayer&&this.#e!==Yo.DISABLE){let{annotationStorage:S,annotationEditorUIManager:z,downloadManager:he,enableScripting:ze,fieldObjectsPromise:qe,hasJSActionsPromise:Qe,linkService:ht}=this.#r;this._annotationCanvasMap||=new Map,this.annotationLayer=new Kg({pdfPage:r,annotationStorage:S,imageResourcesPath:this.imageResourcesPath,renderForms:this.#e===Yo.ENABLE_FORMS,linkService:ht,downloadManager:he,enableScripting:ze,hasJSActionsPromise:Qe,fieldObjectsPromise:qe,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:z,onAppend:Nt=>{this.#f(Nt,"annotationLayer")}})}let s=S=>{if(u?.(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=Ht.PAUSED,this.resume=()=>{this.renderingState=Ht.RUNNING,S()};return}S()},{width:l,height:c}=o,d=document.createElement("canvas");d.setAttribute("role","presentation"),d.hidden=!0;let h=!!(i?.background&&i?.foreground),u=S=>{(!h||S)&&(d.hidden=!1,u=null)};a.append(d),this.canvas=d;let p=d.getContext("2d",{alpha:!1,willReadFrequently:!this.#t}),m=this.outputScale=new CK;if(this.maxCanvasPixels===0){let S=1/this.scale;m.sx*=S,m.sy*=S,this.#i=!0}else if(this.maxCanvasPixels>0){let S=l*c,z=Math.sqrt(this.maxCanvasPixels/S);m.sx>z||m.sy>z?(m.sx=z,m.sy=z,this.#i=!0):this.#i=!1}let g=r2(m.sx),_=r2(m.sy),v=d.width=zg(Hg(l*m.sx),g[0]),x=d.height=zg(Hg(c*m.sy),_[0]),C=zg(Hg(l),g[1]),D=zg(Hg(c),_[1]);m.sx=v/C,m.sy=x/D,this.#c!==g[1]&&(t.style.setProperty("--scale-round-x",`${g[1]}px`),this.#c=g[1]),this.#d!==_[1]&&(t.style.setProperty("--scale-round-y",`${_[1]}px`),this.#d=_[1]),this.#m.set(d,o);let A=m.scaled?[m.sx,0,0,m.sy,0,0]:null,$={canvasContext:p,transform:A,viewport:o,annotationMode:this.#e,optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:i,isEditing:this.#n},X=this.renderTask=r.render($);X.onContinue=s;let F=X.promise.then(()=>U(this,null,function*(){u?.(!0),yield this.#k(X),this.structTreeLayer||=new Jg(r,o.rawDims),this.#x(),this.annotationLayer&&(yield this.#b());let{annotationEditorUIManager:S}=this.#r;S&&(this.drawLayer||=new UC({pageIndex:this.id}),yield this.#C(),this.drawLayer.setParent(a),this.annotationEditorLayer||=new zC({uiManager:S,pdfPage:r,l10n:e,structTreeLayer:this.structTreeLayer,accessibilityManager:this._accessibilityManager,annotationLayer:this.annotationLayer?.annotationLayer,textLayer:this.textLayer,drawLayer:this.drawLayer.getDrawLayer(),onAppend:z=>{this.#f(z,"annotationEditorLayer")}}),this.#y())}),S=>(S instanceof SC||u?.(!0),this.#k(X,S)));if(r.isPureXfa){if(!this.xfaLayer){let{annotationStorage:S,linkService:z}=this.#r;this.xfaLayer=new t_({pdfPage:r,annotationStorage:S,linkService:z})}this.#w()}return t.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),F})}setPageLabel(t){this.pageLabel=typeof t=="string"?t:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){let{directDrawing:t,initialOptionalContent:e,regularAnnotations:i}=this.#u;return t&&e&&i?this.canvas:null}};function bX(n){return U(this,null,function*(){let t="",e=t.split("#",1)[0],{info:i,metadata:r,contentDispositionFilename:o,contentLength:a}=yield n.getMetadata();if(!a){let{length:s}=yield n.getDownloadInfo();a=s}return ye(E({},i),{baseURL:e,filesize:a,filename:o||yK(t),metadata:r?.getRaw(),authors:r?.get("dc:creator"),numPages:n.numPages,URL:t})})}var GC=class{constructor(t){this._ready=new Promise((e,i)=>{import(t).then(o=>{e(o.QuickJSSandbox())}).catch(i)})}createSandbox(t){return U(this,null,function*(){(yield this._ready).create(t)})}dispatchEventInSandbox(t){return U(this,null,function*(){let e=yield this._ready;setTimeout(()=>e.dispatchEvent(t),0)})}destroySandbox(){return U(this,null,function*(){(yield this._ready).nukeSandbox()})}},qC=class{#e=null;#t=null;#i=null;#n=null;#r=null;#o=null;#l=null;#c=null;#d=!1;#s=null;#h=null;constructor({eventBus:t,externalServices:e=null,docProperties:i=null}){this.#r=t,this.#o=e,this.#i=i}setViewer(t){this.#c=t}setDocument(t){return U(this,null,function*(){if(this.#l&&(yield this.#f()),this.#l=t,!t)return;let[e,i,r]=yield Promise.all([t.getFieldObjects(),t.getCalculationOrderIds(),t.getJSActions()]);if(!e&&!r){yield this.#f();return}if(t!==this.#l)return;try{this.#s=this.#p()}catch(s){console.error(`setDocument: "${s.message}".`),yield this.#f();return}let o=this.#r;this.#n=new AbortController;let{signal:a}=this.#n;o._on("updatefromsandbox",s=>{s?.source===window&&this.#a(s.detail)},{signal:a}),o._on("dispatcheventinsandbox",s=>{this.#s?.dispatchEventInSandbox(s.detail)},{signal:a}),o._on("pagechanging",({pageNumber:s,previous:l})=>{s!==l&&(this.#m(l),this.#u(s))},{signal:a}),o._on("pagerendered",({pageNumber:s})=>{this._pageOpenPending.has(s)&&s===this.#c.currentPageNumber&&this.#u(s)},{signal:a}),o._on("pagesdestroy",()=>U(this,null,function*(){yield this.#m(this.#c.currentPageNumber),yield this.#s?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),this.#e?.resolve()}),{signal:a});try{let s=yield this.#i(t);if(t!==this.#l)return;yield this.#s.createSandbox({objects:e,calculationOrder:i,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:ye(E({},s),{actions:r})}),o.dispatch("sandboxcreated",{source:this})}catch(s){console.error(`setDocument: "${s.message}".`),yield this.#f();return}yield this.#s?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield this.#u(this.#c.currentPageNumber,!0),Promise.resolve().then(()=>{t===this.#l&&(this.#d=!0)})})}dispatchWillSave(){return U(this,null,function*(){return this.#s?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})}dispatchDidSave(){return U(this,null,function*(){return this.#s?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})}dispatchWillPrint(){return U(this,null,function*(){if(this.#s){yield this.#h?.promise,this.#h=Promise.withResolvers();try{yield this.#s.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(t){throw this.#h.resolve(),this.#h=null,t}yield this.#h.promise}})}dispatchDidPrint(){return U(this,null,function*(){return this.#s?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})}get destroyPromise(){return this.#t?.promise||null}get ready(){return this.#d}get _pageOpenPending(){return Yg(this,"_pageOpenPending",new Set)}get _visitedPages(){return Yg(this,"_visitedPages",new Map)}#a(t){return U(this,null,function*(){let e=this.#c,i=e.isInPresentationMode||e.isChangingPresentationMode,{id:r,siblings:o,command:a,value:s}=t;if(!r){switch(a){case"clear":console.clear();break;case"error":console.error(s);break;case"layout":if(!i){let c=WY(s);e.spreadMode=c.spreadMode}break;case"page-num":e.currentPageNumber=s+1;break;case"print":yield e.pagesPromise,this.#r.dispatch("print",{source:this});break;case"println":console.log(s);break;case"zoom":i||(e.currentScaleValue=s);break;case"SaveAs":this.#r.dispatch("download",{source:this});break;case"FirstPage":e.currentPageNumber=1;break;case"LastPage":e.currentPageNumber=e.pagesCount;break;case"NextPage":e.nextPage();break;case"PrevPage":e.previousPage();break;case"ZoomViewIn":i||e.increaseScale();break;case"ZoomViewOut":i||e.decreaseScale();break;case"WillPrintFinished":this.#h?.resolve(),this.#h=null;break}return}if(i&&t.focus)return;delete t.id,delete t.siblings;let l=o?[r,...o]:[r];for(let c of l){let d=document.querySelector(`[data-element-id="${c}"]`);d?d.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:t})):this.#l?.annotationStorage.setValue(c,t)}})}#u(t,e=!1){return U(this,null,function*(){let i=this.#l,r=this._visitedPages;if(e&&(this.#e=Promise.withResolvers()),!this.#e)return;let o=this.#c.getPageView(t-1);if(o?.renderingState!==Ht.FINISHED){this._pageOpenPending.add(t);return}this._pageOpenPending.delete(t);let a=U(this,null,function*(){let s=yield r.has(t)?null:o.pdfPage?.getJSActions();i===this.#l&&(yield this.#s?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:t,actions:s}))});r.set(t,a)})}#m(t){return U(this,null,function*(){let e=this.#l,i=this._visitedPages;if(!this.#e||this._pageOpenPending.has(t))return;let r=i.get(t);r&&(i.set(t,null),yield r,e===this.#l&&(yield this.#s?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:t})))})}#p(){if(this.#t=Promise.withResolvers(),this.#s)throw new Error("#initScripting: Scripting already exists.");return this.#o.createScripting()}#f(){return U(this,null,function*(){if(!this.#s){this.#l=null,this.#t?.resolve();return}this.#e&&(yield Promise.race([this.#e.promise,new Promise(t=>{setTimeout(t,1e3)})]).catch(()=>{}),this.#e=null),this.#l=null;try{yield this.#s.destroySandbox()}catch{}this.#h?.reject(new Error("Scripting destroyed.")),this.#h=null,this.#n?.abort(),this.#n=null,this._pageOpenPending.clear(),this._visitedPages.clear(),this.#s=null,this.#d=!1,this.#t?.resolve()})}},YC=class extends qC{constructor(t){t.externalServices||window.addEventListener("updatefromsandbox",e=>{t.eventBus.dispatch("updatefromsandbox",{source:window,detail:e.detail})}),t.externalServices||={createScripting:()=>new GC(t.sandboxBundleSrc)},t.docProperties||=e=>bX(e),super(t)}},vX=3e4,KC=class{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(t){this.pdfViewer=t}setThumbnailViewer(t){this.pdfThumbnailViewer=t}isHighestPriority(t){return this.highestPriorityPage===t.renderingId}renderHighestPriority(t){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(t)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),vX)))}getHighestPriority(t,e,i,r=!1){let o=t.views,a=o.length;if(a===0)return null;for(let h=0;h<a;h++){let u=o[h].view;if(!this.isViewFinished(u))return u}let s=t.first.id,l=t.last.id;if(l-s+1>a){let h=t.ids;for(let u=1,p=l-s;u<p;u++){let m=i?s+u:l-u;if(h.has(m))continue;let g=e[m-1];if(!this.isViewFinished(g))return g}}let c=i?l:s-2,d=e[c];return d&&!this.isViewFinished(d)||r&&(c+=i?1:-1,d=e[c],d&&!this.isViewFinished(d))?d:null}isViewFinished(t){return t.renderingState===Ht.FINISHED}renderView(t){switch(t.renderingState){case Ht.FINISHED:return!1;case Ht.PAUSED:this.highestPriorityPage=t.renderingId,t.resume();break;case Ht.RUNNING:this.highestPriorityPage=t.renderingId;break;case Ht.INITIAL:this.highestPriorityPage=t.renderingId,t.draw().finally(()=>{this.renderHighestPriority()}).catch(e=>{e instanceof SC||console.error(`renderView: "${e}"`)});break}return!0}},I2=10,Wg={FORCE_SCROLL_MODE_PAGE:1e4,FORCE_LAZY_PAGE_INIT:5e3,PAUSE_EAGER_PAGE_INIT:250};function P2(n){return Object.values(zn).includes(n)&&n!==zn.DISABLE}var XC=class{#e=new Set;#t=0;constructor(t){this.#t=t}push(t){let e=this.#e;e.has(t)&&e.delete(t),e.add(t),e.size>this.#t&&this.#i()}resize(t,e=null){this.#t=t;let i=this.#e;if(e){let r=i.size,o=1;for(let a of i)if(e.has(a.id)&&(i.delete(a),i.add(a)),++o>r)break}for(;i.size>this.#t;)this.#i()}has(t){return this.#e.has(t)}[Symbol.iterator](){return this.#e.keys()}#i(){let t=this.#e.keys().next().value;t?.destroy(),this.#e.delete(t)}},n_=class{#e=null;#t=null;#i=null;#n=zn.NONE;#r=null;#o=Yo.ENABLE_FORMS;#l=null;#c=!1;#d=!1;#s=!1;#h=!1;#a=!1;#u=null;#m=null;#p=null;#f=null;#_=!1;#g=null;#b=!1;#y=0;#C=new ResizeObserver(this.#V.bind(this));#w=null;#x=null;#T=Zr.ENABLE;constructor(t){let e="4.8.69";if(p2!==e)throw new Error(`The API version "${p2}" does not match the Viewer version "${e}".`);if(this.container=t.container,this.viewer=t.viewer||t.container.firstElementChild,this.container?.tagName!=="DIV"||this.viewer?.tagName!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.#C.observe(this.container),this.eventBus=t.eventBus,this.linkService=t.linkService||new tu,this.downloadManager=t.downloadManager||null,this.findController=t.findController||null,this.#t=t.altTextManager||null,this.findController&&(this.findController.onIsPageVisible=r=>this._getVisiblePages().ids.has(r)),this._scriptingManager=t.scriptingManager||null,this.#T=t.textLayerMode??Zr.ENABLE,this.#o=t.annotationMode??Yo.ENABLE_FORMS,this.#n=t.annotationEditorMode??zn.NONE,this.#i=t.annotationEditorHighlightColors||null,this.#d=t.enableHighlightFloatingButton===!0,this.#h=t.enableUpdatedAddImage===!0,this.#a=t.enableNewAltTextWhenAddingImage===!0,this.imageResourcesPath=t.imageResourcesPath||"",this.enablePrintAutoRotate=t.enablePrintAutoRotate||!1,this.removePageBorders=t.removePageBorders||!1,this.maxCanvasPixels=t.maxCanvasPixels,this.l10n=t.l10n,this.l10n||=new Sc,this.#s=t.enablePermissions||!1,this.pageColors=t.pageColors||null,this.#m=t.mlManager||null,this.#c=t.enableHWA||!1,this.defaultRenderingQueue=!t.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new KC,this.renderingQueue.setViewer(this)):this.renderingQueue=t.renderingQueue;let{abortSignal:i}=t;i?.addEventListener("abort",()=>{this.#C.disconnect(),this.#C=null},{once:!0}),this.scroll=VY(this.container,this._scrollUpdate.bind(this),i),this.presentationModeState=kc.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.#L(),this.eventBus._on("thumbnailrendered",({pageNumber:r,pdfPage:o})=>{let a=this._pages[r-1];this.#e.has(a)||o?.cleanup()}),t.l10n||this.l10n.translate(this.container)}get pagesCount(){return this._pages.length}getPageView(t){return this._pages[t]}getCachedPageViews(){return new Set(this.#e)}get pageViewsReady(){return this._pages.every(t=>t?.pdfPage)}get renderForms(){return this.#o===Yo.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(t){if(!Number.isInteger(t))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(t,!0)||console.error(`currentPageNumber: "${t}" is not a valid page.`))}_setCurrentPageNumber(t,e=!1){if(this._currentPageNumber===t)return e&&this.#P(),!0;if(!(0<t&&t<=this.pagesCount))return!1;let i=this._currentPageNumber;return this._currentPageNumber=t,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:t,pageLabel:this._pageLabels?.[t-1]??null,previous:i}),e&&this.#P(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(t){if(!this.pdfDocument)return;let e=t|0;if(this._pageLabels){let i=this._pageLabels.indexOf(t);i>=0&&(e=i+1)}this._setCurrentPageNumber(e,!0)||console.error(`currentPageLabel: "${t}" is not a valid page.`)}get currentScale(){return this._currentScale!==gC?this._currentScale:R2}set currentScale(t){if(isNaN(t))throw new Error("Invalid numeric scale.");this.pdfDocument&&this.#A(t,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(t){this.pdfDocument&&this.#A(t,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(t){if(!F2(t))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(t%=360,t<0&&(t+=360),this._pagesRotation===t))return;this._pagesRotation=t;let e=this._currentPageNumber;this.refresh(!0,{rotation:t}),this._currentScaleValue&&this.#A(this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:t,pageNumber:e}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){let t=this;return Yg(this,"_layerProperties",{get annotationEditorUIManager(){return t.#r},get annotationStorage(){return t.pdfDocument?.annotationStorage},get downloadManager(){return t.downloadManager},get enableScripting(){return!!t._scriptingManager},get fieldObjectsPromise(){return t.pdfDocument?.getFieldObjects()},get findController(){return t.findController},get hasJSActionsPromise(){return t.pdfDocument?.hasJSActions()},get linkService(){return t.linkService}})}#S(t){let e={annotationEditorMode:this.#n,annotationMode:this.#o,textLayerMode:this.#T};return t&&(!t.includes(Ug.COPY)&&this.#T===Zr.ENABLE&&(e.textLayerMode=Zr.ENABLE_PERMISSIONS),t.includes(Ug.MODIFY_CONTENTS)||(e.annotationEditorMode=zn.DISABLE),!t.includes(Ug.MODIFY_ANNOTATIONS)&&!t.includes(Ug.FILL_INTERACTIVE_FORMS)&&this.#o===Yo.ENABLE_FORMS&&(e.annotationMode=Yo.ENABLE)),e}#k(t){return U(this,null,function*(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return;let e=Promise.withResolvers(),i=new AbortController;document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e.resolve()},{signal:typeof AbortSignal.any=="function"?AbortSignal.any([t,i.signal]):t}),yield Promise.race([this._onePageRenderedCapability.promise,e.promise]),i.abort()})}getAllText(){return U(this,null,function*(){let t=[],e=[];for(let i=1,r=this.pdfDocument.numPages;i<=r;++i){if(this.#b)return null;e.length=0;let o=yield this.pdfDocument.getPage(i),{items:a}=yield o.getTextContent();for(let s of a)s.str&&e.push(s.str),s.hasEOL&&e.push(`
`);t.push(Jh(e.join("")))}return t.join(`
`)})}#E(t,e){let i=document.getSelection(),{focusNode:r,anchorNode:o}=i;if(o&&r&&i.containsNode(this.#g)){if(this.#_||t===Zr.ENABLE_PERMISSIONS){e.preventDefault(),e.stopPropagation();return}this.#_=!0;let{classList:a}=this.viewer;a.add("copyAll");let s=new AbortController;window.addEventListener("keydown",l=>this.#b=l.key==="Escape",{signal:s.signal}),this.getAllText().then(l=>U(this,null,function*(){l!==null&&(yield navigator.clipboard.writeText(l))})).catch(l=>{console.warn(`Something goes wrong when extracting the text: ${l.message}`)}).finally(()=>{this.#_=!1,this.#b=!1,s.abort(),a.remove("copyAll")}),e.preventDefault(),e.stopPropagation()}}setDocument(t){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController?.setDocument(null),this._scriptingManager?.setDocument(null),this.#r?.destroy(),this.#r=null),this.pdfDocument=t,!t)return;let e=t.numPages,i=t.getPage(1),r=t.getOptionalContentConfig({intent:"display"}),o=this.#s?t.getPermissions():Promise.resolve(),{eventBus:a,pageColors:s,viewer:l}=this;this.#u=new AbortController;let{signal:c}=this.#u;if(e>Wg.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");let u=this._scrollMode=ot.PAGE;a.dispatch("scrollmodechanged",{source:this,mode:u})}this._pagesCapability.promise.then(()=>{a.dispatch("pagesloaded",{source:this,pagesCount:e})},()=>{});let d=u=>{let p=this._pages[u.pageNumber-1];p&&this.#e.push(p)};a._on("pagerender",d,{signal:c});let h=u=>{u.cssTransform||(this._onePageRenderedCapability.resolve({timestamp:u.timestamp}),a._off("pagerendered",h))};a._on("pagerendered",h,{signal:c}),Promise.all([i,o]).then(([u,p])=>{if(t!==this.pdfDocument)return;this._firstPageCapability.resolve(u),this._optionalContentConfigPromise=r;let{annotationEditorMode:m,annotationMode:g,textLayerMode:_}=this.#S(p);if(_!==Zr.DISABLE){let D=this.#g=document.createElement("div");D.id="hiddenCopyElement",l.before(D)}if(typeof AbortSignal.any=="function"&&m!==zn.DISABLE){let D=m;t.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):P2(D)?(this.#r=new gK(this.container,l,this.#t,a,t,s,this.#i,this.#d,this.#h,this.#a,this.#m),a.dispatch("annotationeditoruimanager",{source:this,uiManager:this.#r}),D!==zn.NONE&&(D===zn.STAMP&&this.#m?.loadModel("altText"),this.#r.updateMode(D))):console.error(`Invalid AnnotationEditor mode: ${D}`)}let v=this._scrollMode===ot.PAGE?null:l,x=this.currentScale,C=u.getViewport({scale:x*qo.PDF_TO_CSS_UNITS});l.style.setProperty("--scale-factor",C.scale),s?.background&&l.style.setProperty("--page-bg-color",s.background),(s?.foreground==="CanvasText"||s?.background==="Canvas")&&(l.style.setProperty("--hcm-highlight-filter",t.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),l.style.setProperty("--hcm-highlight-selected-filter",t.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let D=1;D<=e;++D){let A=new i_({container:v,eventBus:a,id:D,scale:x,defaultViewport:C.clone(),optionalContentConfigPromise:r,renderingQueue:this.renderingQueue,textLayerMode:_,annotationMode:g,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,pageColors:s,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:this.#c});this._pages.push(A)}this._pages[0]?.setPdfPage(u),this._scrollMode===ot.PAGE?this.#M():this._spreadMode!==qi.NONE&&this._updateSpreadMode(),this.#k(c).then(()=>U(this,null,function*(){if(t!==this.pdfDocument)return;if(this.findController?.setDocument(t),this._scriptingManager?.setDocument(t),this.#g&&document.addEventListener("copy",this.#E.bind(this,_),{signal:c}),this.#r&&a.dispatch("annotationeditormodechanged",{source:this,mode:this.#n}),t.loadingParams.disableAutoFetch||e>Wg.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let D=e-1;if(D<=0){this._pagesCapability.resolve();return}for(let A=2;A<=e;++A){let $=t.getPage(A).then(X=>{let F=this._pages[A-1];F.pdfPage||F.setPdfPage(X),--D===0&&this._pagesCapability.resolve()},X=>{console.error(`Unable to get page ${A} to initialize viewer`,X),--D===0&&this._pagesCapability.resolve()});A%Wg.PAUSE_EAGER_PAGE_INIT===0&&(yield $)}})),a.dispatch("pagesinit",{source:this}),t.getMetadata().then(({info:D})=>{t===this.pdfDocument&&D.Language&&(l.lang=D.Language)}),this.defaultRenderingQueue&&this.update()}).catch(u=>{console.error("Unable to initialize viewer",u),this._pagesCapability.reject(u)})}setPageLabels(t){if(this.pdfDocument){t?Array.isArray(t)&&this.pdfDocument.numPages===t.length?this._pageLabels=t:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let e=0,i=this._pages.length;e<i;e++)this._pages[e].setPageLabel(this._pageLabels?.[e]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=gC,this._currentScaleValue=null,this._pageLabels=null,this.#e=new XC(I2),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=ot.VERTICAL,this._previousScrollMode=ot.UNKNOWN,this._spreadMode=qi.NONE,this.#w={previousPageNumber:1,scrollDown:!0,pages:[]},this.#u?.abort(),this.#u=null,this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.#g?.remove(),this.#g=null,this.#B()}#M(){if(this._scrollMode!==ot.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");let t=this._currentPageNumber,e=this.#w,i=this.viewer;if(i.textContent="",e.pages.length=0,this._spreadMode===qi.NONE&&!this.isInPresentationMode){let r=this._pages[t-1];i.append(r.div),e.pages.push(r)}else{let r=new Set,o=this._spreadMode-1;o===-1?r.add(t-1):t%2!==o?(r.add(t-1),r.add(t)):(r.add(t-2),r.add(t-1));let a=document.createElement("div");if(a.className="spread",this.isInPresentationMode){let s=document.createElement("div");s.className="dummyPage",a.append(s)}for(let s of r){let l=this._pages[s];l&&(a.append(l.div),e.pages.push(l))}i.append(a)}e.scrollDown=t>=e.previousPageNumber,e.previousPageNumber=t}_scrollUpdate(){this.pagesCount!==0&&this.update()}#I(t,e=null){let{div:i,id:r}=t;if(this._currentPageNumber!==r&&this._setCurrentPageNumber(r),this._scrollMode===ot.PAGE&&(this.#M(),this.update()),!e&&!this.isInPresentationMode){let o=i.offsetLeft+i.clientLeft,a=o+i.clientWidth,{scrollLeft:s,clientWidth:l}=this.container;(this._scrollMode===ot.HORIZONTAL||o<s||a>s+l)&&(e={left:0,top:0})}O2(i,e),!this._currentScaleValue&&this._location&&(this._location=null)}#R(t){return t===this._currentScale||Math.abs(t-this._currentScale)<1e-15}#D(t,e,{noScroll:i=!1,preset:r=!1,drawingDelay:o=-1,origin:a=null}){if(this._currentScaleValue=e.toString(),this.#R(t)){r&&this.eventBus.dispatch("scalechanging",{source:this,scale:t,presetValue:e});return}this.viewer.style.setProperty("--scale-factor",t*qo.PDF_TO_CSS_UNITS);let s=o>=0&&o<1e3;this.refresh(!0,{scale:t,drawingDelay:s?o:-1}),s&&(this.#x=setTimeout(()=>{this.#x=null,this.refresh()},o));let l=this._currentScale;if(this._currentScale=t,!i){let c=this._currentPageNumber,d;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(c=this._location.pageNumber,d=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:c,destArray:d,allowNegativeOffset:!0}),Array.isArray(a)){let h=t/l-1,[u,p]=this.containerTopLeft;this.container.scrollLeft+=(a[0]-p)*h,this.container.scrollTop+=(a[1]-u)*h}}this.eventBus.dispatch("scalechanging",{source:this,scale:t,presetValue:r?e:void 0}),this.defaultRenderingQueue&&this.update()}get#v(){return this._spreadMode!==qi.NONE&&this._scrollMode!==ot.HORIZONTAL?2:1}#A(t,e){let i=parseFloat(t);if(i>0)e.preset=!1,this.#D(i,t,e);else{let r=this._pages[this._currentPageNumber-1];if(!r)return;let o=t2,a=i2;this.isInPresentationMode?(o=a=4,this._spreadMode!==qi.NONE&&(o*=2)):this.removePageBorders?o=a=0:this._scrollMode===ot.HORIZONTAL&&([o,a]=[a,o]);let s=(this.container.clientWidth-o)/r.width*r.scale/this.#v,l=(this.container.clientHeight-a)/r.height*r.scale;switch(t){case"page-actual":i=1;break;case"page-width":i=s;break;case"page-height":i=l;break;case"page-fit":i=Math.min(s,l);break;case"auto":let c=o2(r)?s:Math.min(l,s);i=Math.min(NY,c);break;default:console.error(`#setScale: "${t}" is an unknown zoom value.`);return}e.preset=!0,this.#D(i,t,e)}}#P(){let t=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this.#A(this._currentScaleValue,{noScroll:!0}),this.#I(t)}pageLabelToPageNumber(t){if(!this._pageLabels)return null;let e=this._pageLabels.indexOf(t);return e<0?null:e+1}scrollPageIntoView({pageNumber:t,destArray:e=null,allowNegativeOffset:i=!1,ignoreDestinationZoom:r=!1}){if(!this.pdfDocument)return;let o=Number.isInteger(t)&&this._pages[t-1];if(!o){console.error(`scrollPageIntoView: "${t}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!e){this._setCurrentPageNumber(t,!0);return}let a=0,s=0,l=0,c=0,d,h,u=o.rotation%180!==0,p=(u?o.height:o.width)/o.scale/qo.PDF_TO_CSS_UNITS,m=(u?o.width:o.height)/o.scale/qo.PDF_TO_CSS_UNITS,g=0;switch(e[1].name){case"XYZ":a=e[2],s=e[3],g=e[4],a=a!==null?a:0,s=s!==null?s:m;break;case"Fit":case"FitB":g="page-fit";break;case"FitH":case"FitBH":s=e[2],g="page-width",s===null&&this._location?(a=this._location.left,s=this._location.top):(typeof s!="number"||s<0)&&(s=m);break;case"FitV":case"FitBV":a=e[2],l=p,c=m,g="page-height";break;case"FitR":a=e[2],s=e[3],l=e[4]-a,c=e[5]-s;let C=t2,D=i2;this.removePageBorders&&(C=D=0),d=(this.container.clientWidth-C)/l/qo.PDF_TO_CSS_UNITS,h=(this.container.clientHeight-D)/c/qo.PDF_TO_CSS_UNITS,g=Math.min(Math.abs(d),Math.abs(h));break;default:console.error(`scrollPageIntoView: "${e[1].name}" is not a valid destination type.`);return}if(r||(g&&g!==this._currentScale?this.currentScaleValue=g:this._currentScale===gC&&(this.currentScaleValue=OY)),g==="page-fit"&&!e[4]){this.#I(o);return}let _=[o.viewport.convertToViewportPoint(a,s),o.viewport.convertToViewportPoint(a+l,s+c)],v=Math.min(_[0][0],_[1][0]),x=Math.min(_[0][1],_[1][1]);i||(v=Math.max(v,0),x=Math.max(x,0)),this.#I(o,{left:v,top:x})}_updateLocation(t){let e=this._currentScale,i=this._currentScaleValue,r=parseFloat(i)===e?Math.round(e*1e4)/100:i,o=t.id,a=this._pages[o-1],s=this.container,l=a.getPagePoint(s.scrollLeft-t.x,s.scrollTop-t.y),c=Math.round(l[0]),d=Math.round(l[1]),h=`#page=${o}`;this.isInPresentationMode||(h+=`&zoom=${r},${c},${d}`),this._location={pageNumber:o,scale:r,top:d,left:c,rotation:this._pagesRotation,pdfOpenParams:h}}update(){let t=this._getVisiblePages(),e=t.views,i=e.length;if(i===0)return;let r=Math.max(I2,2*i+1);this.#e.resize(r,t.ids),this.renderingQueue.renderHighestPriority(t);let o=this._spreadMode===qi.NONE&&(this._scrollMode===ot.PAGE||this._scrollMode===ot.VERTICAL),a=this._currentPageNumber,s=!1;for(let l of e){if(l.percent<100)break;if(l.id===a&&o){s=!0;break}}this._setCurrentPageNumber(s?a:e[0].id),this._updateLocation(t.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}#N(){let t=this._getVisiblePages(),e=[],{ids:i,views:r}=t;for(let o of r){let{view:a}=o;if(!a.hasEditableAnnotations()){i.delete(a.id);continue}e.push(o)}return e.length===0?null:(this.renderingQueue.renderHighestPriority({first:e[0],last:e.at(-1),views:e,ids:i}),i)}containsElement(t){return this.container.contains(t)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===kc.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===kc.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){let t=this._scrollMode===ot.PAGE?this.#w.pages:this._pages,e=this._scrollMode===ot.HORIZONTAL,i=e&&this._isContainerRtl;return zY({scrollEl:this.container,views:t,sortByVisibility:!0,horizontal:e,rtl:i})}cleanup(){for(let t of this._pages)t.renderingState!==Ht.FINISHED&&t.reset()}_cancelRendering(){for(let t of this._pages)t.cancelRendering()}#H(t){return U(this,null,function*(){if(t.pdfPage)return t.pdfPage;try{let e=yield this.pdfDocument.getPage(t.id);return t.pdfPage||t.setPdfPage(e),e}catch(e){return console.error("Unable to get page for page view",e),null}})}#z(t){if(t.first?.id===1)return!0;if(t.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case ot.PAGE:return this.#w.scrollDown;case ot.HORIZONTAL:return this.scroll.right}return this.scroll.down}forceRendering(t){let e=t||this._getVisiblePages(),i=this.#z(e),r=this._spreadMode!==qi.NONE&&this._scrollMode!==ot.HORIZONTAL,o=this.renderingQueue.getHighestPriority(e,this._pages,i,r);return o?(this.#H(o).then(()=>{this.renderingQueue.renderView(o)}),!0):!1}get hasEqualPageSizes(){let t=this._pages[0];for(let e=1,i=this._pages.length;e<i;++e){let r=this._pages[e];if(r.width!==t.width||r.height!==t.height)return!1}return!0}getPagesOverview(){let t;return this._pages.map(e=>{let i=e.pdfPage.getViewport({scale:1}),r=o2(i);if(t===void 0)t=r;else if(this.enablePrintAutoRotate&&r!==t)return{width:i.height,height:i.width,rotation:(i.rotation-90)%360};return{width:i.width,height:i.height,rotation:i.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(t){if(!(t instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${t}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=t,this.refresh(!1,{optionalContentConfigPromise:t}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:t}))}get scrollMode(){return this._scrollMode}set scrollMode(t){if(this._scrollMode!==t){if(!HY(t))throw new Error(`Invalid scroll mode: ${t}`);this.pagesCount>Wg.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=t,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:t}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(t=null){let e=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",e===ot.HORIZONTAL),i.classList.toggle("scrollWrapped",e===ot.WRAPPED),!(!this.pdfDocument||!t)&&(e===ot.PAGE?this.#M():this._previousScrollMode===ot.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#A(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(t,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(t){if(this._spreadMode!==t){if(!jY(t))throw new Error(`Invalid spread mode: ${t}`);this._spreadMode=t,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:t}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(t=null){if(!this.pdfDocument)return;let e=this.viewer,i=this._pages;if(this._scrollMode===ot.PAGE)this.#M();else if(e.textContent="",this._spreadMode===qi.NONE)for(let r of this._pages)e.append(r.div);else{let r=this._spreadMode-1,o=null;for(let a=0,s=i.length;a<s;++a)o===null?(o=document.createElement("div"),o.className="spread",e.append(o)):a%2===r&&(o=o.cloneNode(!1),e.append(o)),o.append(i[a].div)}t&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#A(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(t,!0),this.update())}_getPageAdvance(t,e=!1){switch(this._scrollMode){case ot.WRAPPED:{let{views:i}=this._getVisiblePages(),r=new Map;for(let{id:o,y:a,percent:s,widthPercent:l}of i){if(s===0||l<100)continue;let c=r.get(a);c||r.set(a,c||=[]),c.push(o)}for(let o of r.values()){let a=o.indexOf(t);if(a===-1)continue;let s=o.length;if(s===1)break;if(e)for(let l=a-1,c=0;l>=c;l--){let d=o[l],h=o[l+1]-1;if(d<h)return t-h}else for(let l=a+1,c=s;l<c;l++){let d=o[l],h=o[l-1]+1;if(d>h)return h-t}if(e){let l=o[0];if(l<t)return t-l+1}else{let l=o[s-1];if(l>t)return l-t+1}break}break}case ot.HORIZONTAL:break;case ot.PAGE:case ot.VERTICAL:{if(this._spreadMode===qi.NONE)break;let i=this._spreadMode-1;if(e&&t%2!==i)break;if(!e&&t%2===i)break;let{views:r}=this._getVisiblePages(),o=e?t-1:t+1;for(let{id:a,percent:s,widthPercent:l}of r)if(a===o){if(s>0&&l===100)return 2;break}break}}return 1}nextPage(){let t=this._currentPageNumber,e=this.pagesCount;if(t>=e)return!1;let i=this._getPageAdvance(t,!1)||1;return this.currentPageNumber=Math.min(t+i,e),!0}previousPage(){let t=this._currentPageNumber;if(t<=1)return!1;let e=this._getPageAdvance(t,!0)||1;return this.currentPageNumber=Math.max(t-e,1),!0}updateScale({drawingDelay:t,scaleFactor:e=null,steps:i=null,origin:r}){if(i===null&&e===null)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let o=this._currentScale;if(e>0&&e!==1)o=Math.round(o*e*100)/100;else if(i){let a=i>0?e2:1/e2,s=i>0?Math.ceil:Math.floor;i=Math.abs(i);do o=s((o*a).toFixed(2)*10)/10;while(--i>0)}o=Math.max(FY,Math.min(LY,o)),this.#A(o,{noScroll:!1,drawingDelay:t,origin:r})}increaseScale(t={}){this.updateScale(ye(E({},t),{steps:t.steps??1}))}decreaseScale(t={}){this.updateScale(ye(E({},t),{steps:-(t.steps??1)}))}#L(t=this.container.clientHeight){t!==this.#y&&(this.#y=t,UY.setProperty("--viewer-container-height",`${t}px`))}#V(t){for(let e of t)if(e.target===this.container){this.#L(Math.floor(e.borderBoxSize[0].blockSize)),this.#l=null;break}}get containerTopLeft(){return this.#l||=[this.container.offsetTop,this.container.offsetLeft]}#B(){this.#p?.abort(),this.#p=null,this.#f!==null&&(clearTimeout(this.#f),this.#f=null)}get annotationEditorMode(){return this.#r?this.#n:zn.DISABLE}set annotationEditorMode({mode:t,editId:e=null,isFromKeyboard:i=!1}){if(!this.#r)throw new Error("The AnnotationEditor is not enabled.");if(this.#n===t)return;if(!P2(t))throw new Error(`Invalid AnnotationEditor mode: ${t}`);if(!this.pdfDocument)return;t===zn.STAMP&&this.#m?.loadModel("altText");let{eventBus:r}=this,o=()=>{this.#B(),this.#n=t,this.#r.updateMode(t,e,i),r.dispatch("annotationeditormodechanged",{source:this,mode:t})};if(t===zn.NONE||this.#n===zn.NONE){let a=t!==zn.NONE;a||this.pdfDocument.annotationStorage.resetModifiedIds();for(let l of this._pages)l.toggleEditingMode(a);let s=this.#N();if(a&&s){this.#B(),this.#p=new AbortController;let l=AbortSignal.any([this.#u.signal,this.#p.signal]);r._on("pagerendered",({pageNumber:c})=>{s.delete(c),s.size===0&&(this.#f=setTimeout(o,0))},{signal:l});return}}o()}refresh(t=!1,e=Object.create(null)){if(this.pdfDocument){for(let i of this._pages)i.update(e);this.#x!==null&&(clearTimeout(this.#x),this.#x=null),t||this.update()}}},QC=class extends n_{_resetView(){super._resetView(),this._scrollMode=ot.PAGE,this._spreadMode=qi.NONE}set scrollMode(t){}_updateScrollMode(){}set spreadMode(t){}_updateSpreadMode(){}};var wwe=Lt.AnnotationLayerBuilder,xwe=Lt.DownloadManager,Cwe=Lt.EventBus,kwe=Lt.FindState,yX=Lt.GenericL10n,wX=Lt.LinkTarget,xX=Lt.PDFFindController,Dwe=Lt.PDFHistory,CX=Lt.PDFLinkService,Mwe=Lt.PDFPageView,Swe=Lt.PDFScriptingManager,kX=Lt.PDFSinglePageViewer,DX=Lt.PDFViewer,Ewe=Lt.ProgressBar,Awe=Lt.RenderingStates,Twe=Lt.ScrollMode,Iwe=Lt.SimpleLinkService,Pwe=Lt.SpreadMode,Rwe=Lt.StructTreeLayerBuilder,Owe=Lt.TextLayerBuilder,Fwe=Lt.XfaLayerBuilder,Lwe=Lt.parseQueryString;function SX(n,t,e){n[t]=e}function EX(){return typeof window>"u"}EX()||SX(fC,"verbosity",mC.INFOS);typeof Promise.withResolvers>"u"&&window&&(window.Promise.withResolvers=()=>{let n,t;return{promise:new Promise((i,r)=>{n=i,t=r}),resolve:n,reject:t}});var B2=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=j({type:n});static \u0275inj=H({})}return n})();var nu=class n{constructor(){}static \u0275fac=function(e){return new(e||n)};static \u0275mod=j({type:n});static \u0275inj=H({providers:[{provide:_h,useValue:"en-GB"},Xy()],imports:[ur,aP,xf,Cf,kf,MP,$P,WP,YP,Ra,KP,XP,eR,tR,rR,DR,Fa,Cw,Bf,BR,zR,mp,UR,ZR,JR,RP,oO,sO,lO,hO,Wt,Ah,pO,mO,gO,vO,yO,wO,xO,CO,pd,kO,Jt,ss,B2,SO]})};var ZC=class n{constructor(t,e,i){this.platformId=t;this.elementRef=e;this.matListOption=i}appScrollIntoView;ngOnChanges(t){jc(this.platformId)&&ft(this.appScrollIntoView)&&this.matListOption.focus()}static \u0275fac=function(e){return new(e||n)(ne(Sr),ne(Q),ne(Ew))};static \u0275dir=V({type:n,selectors:[["mat-list-option","appScrollIntoView",""]],inputs:{appScrollIntoView:"appScrollIntoView"},features:[we]})};function AX(n,t){if(n&1&&(b(0,"div",2)(1,"div",6),je(),b(2,"svg",7)(3,"mask",8),B(4,"rect",9),w(),b(5,"g",10),B(6,"path",11),w()()(),K(7),w()),n&2){let e=k();y(7),Ze(" ",e.filename," ")}}var JC=class n{title;isRedact;filename;confirmationText;cancelText;constructor(t){this.title=t.title,this.isRedact=t.isRedact??!1,this.filename=t.filename??"",this.confirmationText=t.confirmationText??"Yes",this.cancelText=t.cancelText??"No"}static \u0275fac=function(e){return new(e||n)(ne(Nf))};static \u0275cmp=I({type:n,selectors:[["confirmation-modal"]],standalone:!1,decls:9,vars:9,consts:[[1,"confirmation-modal-wrapper"],[1,"text-center","text-normal","text-primary-charcoal"],[1,"redact-file","mt-2"],[1,"d-flex","mt-4","justify-content-center"],["mat-button","",3,"mat-dialog-close"],["mat-button","",1,"btn","flex-grow-1","text-white","decline-btn",3,"mat-dialog-close"],[1,"file-type-icon","me-2"],["width","16","height","16","viewBox","0 0 12 12","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","mask0_141_56056","maskUnits","userSpaceOnUse","x","0","y","0","width","12","height","12",2,"mask-type","alpha"],["width","12","height","12","fill","#D9D9D9"],["mask","url(#mask0_141_56056)"],["d","M2 10C1.725 10 1.48958 9.90208 1.29375 9.70625C1.09792 9.51042 1 9.275 1 9V3C1 2.725 1.09792 2.48958 1.29375 2.29375C1.48958 2.09792 1.725 2 2 2H8C8.275 2 8.51042 2.09792 8.70625 2.29375C8.90208 2.48958 9 2.725 9 3V5.25L10.575 3.675C10.6583 3.59167 10.75 3.57083 10.85 3.6125C10.95 3.65417 11 3.73333 11 3.85V8.15C11 8.26667 10.95 8.34583 10.85 8.3875C10.75 8.42917 10.6583 8.40833 10.575 8.325L9 6.75V9C9 9.275 8.90208 9.51042 8.70625 9.70625C8.51042 9.90208 8.275 10 8 10H2ZM2 9H8V3H2V9Z","fill","white"]],template:function(e,i){e&1&&(b(0,"div",0)(1,"h6",1),K(2),w(),O(3,AX,8,1,"div",2),b(4,"div",3)(5,"div",4),K(6),w(),b(7,"div",5),K(8),w()()()),e&2&&(y(2),De(i.title),y(),le(i.isRedact?3:-1),y(2),Ti("btn flex-grow-1 me-3 text-white confirm-btn ",i.isRedact&&"bg-secondary-green",""),M("mat-dialog-close",!0),y(),Ze(" ",i.confirmationText," "),y(),M("mat-dialog-close",!1),y(),De(i.cancelText))},dependencies:[xw],styles:[".confirmation-modal-wrapper[_ngcontent-%COMP%]{padding:40px 24px}.confirmation-modal-wrapper[_ngcontent-%COMP%]   .confirm-btn[_ngcontent-%COMP%]{background-color:#e2231a}.confirmation-modal-wrapper[_ngcontent-%COMP%]   .confirm-btn[_ngcontent-%COMP%]:hover{background-color:#cb1f17}.confirmation-modal-wrapper[_ngcontent-%COMP%]   .decline-btn[_ngcontent-%COMP%]{background-color:#444}.confirmation-modal-wrapper[_ngcontent-%COMP%]   .decline-btn[_ngcontent-%COMP%]:hover{background-color:#373737}.confirmation-modal-wrapper[_ngcontent-%COMP%]   .redact-file[_ngcontent-%COMP%]{background-color:#d9ecf8;padding:6px 12px;border-radius:4px;color:#369cd9;display:flex;align-items:center;font-size:14px;font-weight:600}.confirmation-modal-wrapper[_ngcontent-%COMP%]   .redact-file[_ngcontent-%COMP%]   .file-type-icon[_ngcontent-%COMP%]{width:28px;height:28px;display:flex;justify-content:center;align-items:center;background-color:#4d7dbf;-webkit-border-radius:28px!important;-moz-border-radius:28px!important;border-radius:28px!important;flex-shrink:0}"]})};var TX=["picker"];function IX(n,t){if(n&1){let e=be();b(0,"div",11),T("click",function(r){W(e);let o=k(3);return G(o.openDatePicker(r))}),b(1,"div",12)(2,"span"),K(3),w(),b(4,"mat-icon",13),T("click",function(){W(e);let r=ut(10),o=k(3);return G(!o.customDateDisabled&&r.open())}),K(5,"date_range"),w()(),b(6,"mat-date-range-input",14)(7,"input",15),Ri("ngModelChange",function(r){W(e);let o=k(3);return Pi(o.startDateModel,r)||(o.startDateModel=r),G(r)}),w(),b(8,"input",16),Ri("ngModelChange",function(r){W(e);let o=k(3);return Pi(o.endDateModel,r)||(o.endDateModel=r),G(r)}),T("dateChange",function(){W(e);let r=k(3);return G(r.onSelectCustomDate())}),w()(),B(9,"mat-date-range-picker",null,0),w()}if(n&2){let e=ut(10),i=k(3);y(),N("btn-disabled",i.customDateDisabled),y(2),De(i.selectedDate),y(3),M("rangePicker",e)("max",i.maxDate),y(),Ii("ngModel",i.startDateModel),y(),Ii("ngModel",i.endDateModel)}}function PX(n,t){if(n&1){let e=be();b(0,"li",8),T("click",function(r){let o=W(e).$implicit,a=k(2);return G(a.onSelectDateRange(o,r))}),B(1,"div",9),b(2,"span"),K(3),w()(),O(4,IX,11,7,"div",10)}if(n&2){let e=t.$implicit,i=k(2);N("selected",i.$fieldModel()===e),y(3),De(e),y(),le(e.includes("Custom")?4:-1)}}function RX(n,t){if(n&1&&(b(0,"div",6)(1,"div",7),pi(2,PX,5,4,null,null,Rc),w()()),n&2){let e=k();y(2),mi(e.dateList)}}var e1=class n{constructor(t){this.el=t}$fieldModel=Xi.required({alias:"fieldModel"});$fieldPlaceholder=xe.required({alias:"fieldPlaceholder"});$customClass=xe("",{alias:"customClass"});$tooltipText=xe("",{alias:"tooltipText"});$onDateSelectEvent=Ki({alias:"onDateSelectEvent"});datePicker;dateList=["Today","Yesterday","Last 7 days","Last 30 days","Custom range"];isExpanded=!1;maxDate=new Date;customDateDisabled=!0;startDateModel;endDateModel;selectedDate="Select range";showFieldItems(){this.isExpanded=!this.isExpanded}openDatePicker(t){t.stopPropagation(),this.customDateDisabled||this.datePicker.open()}onSelectDateRange(t,e){if(e.stopPropagation(),this.$fieldModel.set(t),t.includes("Custom"))this.customDateDisabled=!1,this.$onDateSelectEvent.emit({val:"Custom range",start:this.startDateModel,end:this.endDateModel});else{this.customDateDisabled=!0;let i=new Date,r=new Date;switch(t){case"Today":i.setDate(i.getDate()-1);break;case"Yesterday":i.setDate(i.getDate()-2);break;case"Last 7 days":i.setDate(i.getDate()-7);break;case"Last 30 days":i.setDate(i.getDate()-30);break;default:break}this.$onDateSelectEvent.emit({val:t,start:i,end:r})}}onSelectCustomDate(){let t=this.startDateModel.toLocaleDateString().split("/").map(i=>i.padStart(2,"0")).join("/"),e=this.endDateModel.toLocaleDateString().split("/").map(i=>i.padStart(2,"0")).join("/");this.selectedDate=t+" - "+e,this.$onDateSelectEvent.emit({val:"Custom range",start:this.startDateModel,end:this.endDateModel})}resetFields(){this.$fieldModel.set(""),this.customDateDisabled=!0}closeDropdown(t){let e=this.el.nativeElement.contains(t.target),i=!!t.target.closest(".mat-calendar"),r=!!t.target.closest("mat-multi-year-view"),o=!!t.target.closest("mat-year-view");!e&&!i&&!r&&!o&&(this.isExpanded=!1)}static \u0275fac=function(e){return new(e||n)(ne(Q))};static \u0275cmp=I({type:n,selectors:[["date-picker"]],viewQuery:function(e,i){if(e&1&&se(TX,5),e&2){let r;q(r=Y())&&(i.datePicker=r.first)}},hostBindings:function(e,i){e&1&&T("click",function(o){return i.closeDropdown(o)},!1,Ut)},inputs:{$fieldModel:[1,"fieldModel","$fieldModel"],$fieldPlaceholder:[1,"fieldPlaceholder","$fieldPlaceholder"],$customClass:[1,"customClass","$customClass"],$tooltipText:[1,"tooltipText","$tooltipText"]},outputs:{$fieldModel:"fieldModelChange",$onDateSelectEvent:"onDateSelectEvent"},standalone:!1,decls:8,vars:7,consts:[["picker",""],[1,"date-select-wrapper","form-control"],[1,"d-flex","w-p-full",3,"click","matTooltip"],["type","text","autocomplete","off","app-restrict-input","alphanumeric","readonly","",1,"select","text-primary-charcoal",3,"ngModelChange","ngModel","placeholder"],[1,"material-icons","d-flex"],["class","dropdown-wrapper show",4,"ngIf"],[1,"dropdown-wrapper","show"],[1,"shadow-normal","list-group","dropdown"],[3,"click"],[1,"radio"],["matInput","",1,"date-range-wrapper"],["matInput","",1,"date-range-wrapper",3,"click"],[1,"d-flex","justify-content-between","align-items-center","gap-2","form-control"],[1,"date-icon",3,"click"],[3,"rangePicker","max"],["matStartDate","","readonly","",1,"pointer",3,"ngModelChange","ngModel"],["matEndDate","","readonly","",1,"pointer",3,"ngModelChange","dateChange","ngModel"]],template:function(e,i){e&1&&(b(0,"div")(1,"div",1)(2,"div",2),T("click",function(){return i.showFieldItems()}),b(3,"input",3),Ri("ngModelChange",function(o){return Pi(i.$fieldModel,o)||(i.$fieldModel=o),o}),w(),b(4,"div",4)(5,"mat-icon"),K(6,"date_range"),w()()(),O(7,RX,4,0,"div",5),w()()),e&2&&(Ti("custom-date-picker-wrapper pointer ",i.$customClass(),""),y(2),M("matTooltip",i.$tooltipText()),y(),gu("placeholder",i.$fieldPlaceholder()),Ii("ngModel",i.$fieldModel),y(4),M("ngIf",i.isExpanded))},dependencies:[Vt,Pn,Rn,br,vw,xR,CR,kR,Or,gr],styles:[".custom-date-picker-wrapper[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{cursor:pointer}.custom-date-picker-wrapper[_ngcontent-%COMP%]   .date-select-wrapper[_ngcontent-%COMP%]{user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;position:relative;display:flex;align-items:center}.custom-date-picker-wrapper[_ngcontent-%COMP%]   .date-select-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;box-shadow:none;padding:0;cursor:pointer;font-size:13px;line-height:21px;flex-grow:1}.custom-date-picker-wrapper[_ngcontent-%COMP%]   .date-select-wrapper[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#4d7dbf;width:20px;height:20px;font-size:20px;margin-bottom:1px}.custom-date-picker-wrapper[_ngcontent-%COMP%]   .dropdown-wrapper[_ngcontent-%COMP%]{display:none;position:absolute;z-index:50;width:100%;margin:6px 0 0;top:90%;left:0}.custom-date-picker-wrapper[_ngcontent-%COMP%]   .dropdown-wrapper.show[_ngcontent-%COMP%]{display:block}.custom-date-picker-wrapper[_ngcontent-%COMP%]   .dropdown-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .date-range-wrapper[_ngcontent-%COMP%]{padding:8px 20px}.custom-date-picker-wrapper[_ngcontent-%COMP%]   .dropdown-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .date-range-wrapper[_ngcontent-%COMP%]   mat-date-range-input[_ngcontent-%COMP%]{visibility:hidden;opacity:0;transform:scale(0);width:0;height:0}.custom-date-picker-wrapper[_ngcontent-%COMP%]   .dropdown-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .date-range-wrapper[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{-webkit-border-radius:8px!important;-moz-border-radius:8px!important;border-radius:8px!important;padding:8px 12px;height:auto;line-height:24px;position:relative;flex-shrink:0;white-space:nowrap;min-width:200px}.custom-date-picker-wrapper[_ngcontent-%COMP%]   .dropdown-wrapper[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .date-range-wrapper[_ngcontent-%COMP%]   .date-icon[_ngcontent-%COMP%]{flex-shrink:0;width:20px;height:20px;font-size:20px;color:#4d7dbf}"]})};var OX=["*"],t1=class n{$isIconOnly=xe(!1,{alias:"isIconOnly"});$customClass=xe("",{alias:"customClass"});$disabled=xe(!1,{alias:"disabled"});$clickEvent=Ki({alias:"clickEvent"});onButtonClick(){this.$clickEvent.emit()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=I({type:n,selectors:[["icon-button"]],inputs:{$isIconOnly:[1,"isIconOnly","$isIconOnly"],$customClass:[1,"customClass","$customClass"],$disabled:[1,"disabled","$disabled"]},outputs:{$clickEvent:"clickEvent"},standalone:!1,ngContentSelectors:OX,decls:2,vars:7,consts:[[3,"click"]],template:function(e,i){e&1&&(me(),b(0,"div",0),T("click",function(){return i.onButtonClick()}),re(1),w()),e&2&&(Ti("custom-icon-btn pointer ",i.$customClass(),""),N("btn-disabled",i.$disabled())("icon-only",i.$isIconOnly()))},styles:[".custom-icon-btn[_ngcontent-%COMP%]{-webkit-border-radius:8px!important;-moz-border-radius:8px!important;border-radius:8px!important;display:flex;align-items:center;padding:8px 16px;-webkit-user-select:none;user-select:none;background-color:#fff;border:1px solid #dcddde;color:#9d9fa2}.custom-icon-btn.icon-only[_ngcontent-%COMP%]{width:36px;height:36px;display:flex;justify-content:center;align-items:center;-webkit-border-radius:36px!important;-moz-border-radius:36px!important;border-radius:36px!important;border:none;padding:8px}"]})};var i1=class n{$currentPage=Xi.required({alias:"currentPage"});$itemsPerPage=xe.required({alias:"itemsPerPage"});$totalItems=xe.required({alias:"totalItems"});$onPageChangeEvent=Ki({alias:"onPageChangeEvent"});currentCount="";totalPages=0;constructor(){}get isStartDisabled(){return this.$currentPage()===1}get isEndDisabled(){return this.$currentPage()===this.totalPages}calculateCurrentPageCount(){let t=this.$itemsPerPage()>this.$totalItems()?this.$totalItems():this.$itemsPerPage(),e=this.$currentPage()*t,i=e-t;this.currentCount=`${i+1} - ${e}`}goToPage(t){if(t==="next"){if(this.isEndDisabled)return;this.$currentPage.update(e=>e+1)}else if(t==="prev"){if(this.isStartDisabled)return;this.$currentPage.update(e=>e-1)}this.calculateCurrentPageCount(),this.$onPageChangeEvent.emit(this.$currentPage())}gotToFirstPage(){this.isStartDisabled||(this.$currentPage.set(1),this.calculateCurrentPageCount(),this.$onPageChangeEvent.emit(this.$currentPage()))}gotToLastPage(){this.isEndDisabled||(this.$currentPage.set(this.totalPages),this.calculateCurrentPageCount(),this.$onPageChangeEvent.emit(this.$currentPage()))}ngOnInit(){this.totalPages=Math.ceil(this.$totalItems()/this.$itemsPerPage()),this.calculateCurrentPageCount()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=I({type:n,selectors:[["pagination"]],inputs:{$currentPage:[1,"currentPage","$currentPage"],$itemsPerPage:[1,"itemsPerPage","$itemsPerPage"],$totalItems:[1,"totalItems","$totalItems"]},outputs:{$currentPage:"currentPageChange",$onPageChangeEvent:"onPageChangeEvent"},standalone:!1,decls:21,vars:10,consts:[[1,"pagination-wrapper"],[1,"to-first","icon-wrapper","pointer",3,"click"],[1,"content"],[1,"current-count"],[1,"mx-2","separator-text"],[1,"total-count"],[1,"navigation"],[1,"ms-1","prev","icon-wrapper","pointer",3,"click"],[1,"next","icon-wrapper","pointer",3,"click"],[1,"to-last","icon-wrapper","pointer",3,"click"]],template:function(e,i){e&1&&(b(0,"div",0)(1,"div",1),T("click",function(){return i.gotToFirstPage()}),b(2,"mat-icon"),K(3,"keyboard_double_arrow_left"),w()(),b(4,"div",2)(5,"div",3),K(6),w(),b(7,"div",4),K(8,"of"),w(),b(9,"div",5),K(10),w()(),b(11,"div",6)(12,"div",7),T("click",function(){return i.goToPage("prev")}),b(13,"mat-icon"),K(14,"keyboard_arrow_left"),w()(),b(15,"div",8),T("click",function(){return i.goToPage("next")}),b(16,"mat-icon"),K(17,"keyboard_arrow_right"),w()()(),b(18,"div",9),T("click",function(){return i.gotToLastPage()}),b(19,"mat-icon"),K(20,"keyboard_double_arrow_right"),w()()()),e&2&&(y(),N("btn-disabled",i.isStartDisabled),y(5),De(i.currentCount),y(4),De(i.$totalItems()),y(2),N("btn-disabled",i.isStartDisabled),y(3),N("btn-disabled",i.isEndDisabled),y(3),N("btn-disabled",i.isEndDisabled))},dependencies:[Or],styles:[".pagination-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.pagination-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;font-size:14px;color:#6d6e71;font-weight:500}.pagination-wrapper[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:28px;height:28px;font-size:28px}.pagination-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{transition:background-color .2s;border-radius:50px;padding:3px}.pagination-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]:not(.btn-disabled):hover{background-color:#dcddde}.pagination-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:16px;padding:0}.pagination-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#142430}.pagination-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .separator-text[_ngcontent-%COMP%]{font-weight:400;color:#6d6e71}.pagination-wrapper[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:10px}"]})};var FX=["textareaRef"],LX=n=>({"pb-3 w-p-full justify-content-end":n});function NX(n,t){if(n&1&&(b(0,"label"),K(1),w()),n&2){let e=k();y(),Ze("",e.$label()," ")}}function VX(n,t){if(n&1&&B(0,"ngx-editor-menu",8),n&2){let e=k();M("editor",e.editor)("toolbar",e.toolbarLeft)}}function BX(n,t){if(n&1&&B(0,"ngx-editor-menu",8),n&2){let e=k();M("editor",e.editor)("toolbar",e.toolbarRight)}}var n1=class n{textareaRef;$text=Xi.required({alias:"text"});$label=xe("",{alias:"label"});$rows=xe(3,{alias:"rows"});isEditing=!1;editor;toolbarLeft=[["bold","italic","underline"]];toolbarRight=[["align_left","align_center","align_right","align_justify","bullet_list"]];handleTrigger(t){t==="edit"?this.isEditing=!0:(console.log("Save"),console.log(this.$text()))}ngOnInit(){this.editor=new ff}ngOnDestroy(){this.editor.destroy()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=I({type:n,selectors:[["rich-text-editor"]],viewQuery:function(e,i){if(e&1&&se(FX,5),e&2){let r;q(r=Y())&&(i.textareaRef=r.first)}},inputs:{$text:[1,"text","$text"],$label:[1,"label","$label"],$rows:[1,"rows","$rows"]},outputs:{$text:"textChange"},standalone:!1,decls:11,vars:10,consts:[[1,"text-editor-wrapper"],[1,"text-editor","form-control"],[1,"text-content"],[3,"ngModelChange","editor","ngModel","disabled"],[1,"d-flex","justify-content-between","align-items-center"],[3,"editor","toolbar",4,"ngIf"],[1,"d-flex","align-items-center","pe-3",3,"ngClass"],[1,"btn","bg-primary-web","text-white","text-small","px-3","py-1",3,"click"],[3,"editor","toolbar"]],template:function(e,i){e&1&&(b(0,"div",0),O(1,NX,2,1,"label"),b(2,"div",1)(3,"div",2)(4,"ngx-editor",3),Ri("ngModelChange",function(o){return Pi(i.$text,o)||(i.$text=o),o}),w(),b(5,"div",4),O(6,VX,1,2,"ngx-editor-menu",5),b(7,"div",6),O(8,BX,1,2,"ngx-editor-menu",5),b(9,"button",7),T("click",function(){return i.handleTrigger(i.isEditing?"save":"edit")}),K(10),w()()()()()()),e&2&&(y(),le(i.$label()!==""?1:-1),y(3),M("editor",i.editor),Ii("ngModel",i.$text),M("disabled",!i.isEditing),y(2),M("ngIf",i.isEditing),y(),M("ngClass",Oc(8,LX,!i.isEditing)),y(),M("ngIf",i.isEditing),y(2),Ze(" ",i.isEditing?"Save":"Edit"," "))},dependencies:[Qi,Vt,Rn,br,XI,Ay],styles:[".shadow-normal[_ngcontent-%COMP%]{box-shadow:0 2px 3px #dcddde!important}.shadow-fancy[_ngcontent-%COMP%]{box-shadow:0 5px 15px #0000000d!important}.shadow-inner[_ngcontent-%COMP%]{box-shadow:inset #000 0 0 12px -12px!important}.shadow-none[_ngcontent-%COMP%]{box-shadow:none!important}.rounded-sm[_ngcontent-%COMP%]{-webkit-border-radius:4px!important;-moz-border-radius:4px!important;border-radius:4px!important}.rounded[_ngcontent-%COMP%]{-webkit-border-radius:6px!important;-moz-border-radius:6px!important;border-radius:6px!important}.rounded-md[_ngcontent-%COMP%]{-webkit-border-radius:8px!important;-moz-border-radius:8px!important;border-radius:8px!important}.rounded-lg[_ngcontent-%COMP%]{-webkit-border-radius:10px!important;-moz-border-radius:10px!important;border-radius:10px!important}.rounded-xl[_ngcontent-%COMP%]{-webkit-border-radius:15px!important;-moz-border-radius:15px!important;border-radius:15px!important}.rounded-full[_ngcontent-%COMP%]{-webkit-border-radius:50px!important;-moz-border-radius:50px!important;border-radius:50px!important}.rounded-none[_ngcontent-%COMP%]{-webkit-border-radius:0px!important;-moz-border-radius:0px!important;border-radius:0!important}.opacity-0[_ngcontent-%COMP%]{opacity:0}.opacity-1[_ngcontent-%COMP%]{opacity:.1}.opacity-2[_ngcontent-%COMP%]{opacity:.2}.opacity-3[_ngcontent-%COMP%]{opacity:.3}.opacity-4[_ngcontent-%COMP%]{opacity:.4}.opacity-5[_ngcontent-%COMP%]{opacity:.5}.opacity-6[_ngcontent-%COMP%]{opacity:.6}.opacity-7[_ngcontent-%COMP%]{opacity:.7}.opacity-8[_ngcontent-%COMP%]{opacity:.8}.opacity-9[_ngcontent-%COMP%]{opacity:.9}.opacity-10[_ngcontent-%COMP%]{opacity:1}.static[_ngcontent-%COMP%]{position:static!important}.fixed[_ngcontent-%COMP%]{position:fixed}.absolute[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%]{position:relative}.sticky[_ngcontent-%COMP%]{position:sticky}.top-inherit[_ngcontent-%COMP%]{top:inherit}.right-inherit[_ngcontent-%COMP%]{right:inherit}.bottom-inherit[_ngcontent-%COMP%]{bottom:inherit}.left-inherit[_ngcontent-%COMP%]{left:inherit}.top-auto[_ngcontent-%COMP%]{top:auto}.right-auto[_ngcontent-%COMP%]{right:auto}.bottom-auto[_ngcontent-%COMP%]{bottom:auto}.left-auto[_ngcontent-%COMP%]{left:auto}.top-unset[_ngcontent-%COMP%]{top:unset}.right-unset[_ngcontent-%COMP%]{right:unset}.bottom-unset[_ngcontent-%COMP%]{bottom:unset}.left-unset[_ngcontent-%COMP%]{left:unset}.top-0[_ngcontent-%COMP%]{top:0}.right-0[_ngcontent-%COMP%]{right:0}.bottom-0[_ngcontent-%COMP%]{bottom:0}.left-0[_ngcontent-%COMP%]{left:0}.top-1[_ngcontent-%COMP%]{top:.25rem}.right-1[_ngcontent-%COMP%]{right:.25rem}.bottom-1[_ngcontent-%COMP%]{bottom:.25rem}.left-1[_ngcontent-%COMP%]{left:.25rem}.top-2[_ngcontent-%COMP%]{top:.5rem}.right-2[_ngcontent-%COMP%]{right:.5rem}.bottom-2[_ngcontent-%COMP%]{bottom:.5rem}.left-2[_ngcontent-%COMP%]{left:.5rem}.top-3[_ngcontent-%COMP%]{top:.75rem}.right-3[_ngcontent-%COMP%]{right:.75rem}.bottom-3[_ngcontent-%COMP%]{bottom:.75rem}.left-3[_ngcontent-%COMP%]{left:.75rem}.top-4[_ngcontent-%COMP%]{top:1rem}.right-4[_ngcontent-%COMP%]{right:1rem}.bottom-4[_ngcontent-%COMP%]{bottom:1rem}.left-4[_ngcontent-%COMP%]{left:1rem}.top-5[_ngcontent-%COMP%]{top:1.25rem}.right-5[_ngcontent-%COMP%]{right:1.25rem}.bottom-5[_ngcontent-%COMP%]{bottom:1.25rem}.left-5[_ngcontent-%COMP%]{left:1.25rem}.top-6[_ngcontent-%COMP%]{top:1.5rem}.right-6[_ngcontent-%COMP%]{right:1.5rem}.bottom-6[_ngcontent-%COMP%]{bottom:1.5rem}.left-6[_ngcontent-%COMP%]{left:1.5rem}.top-7[_ngcontent-%COMP%]{top:1.75rem}.right-7[_ngcontent-%COMP%]{right:1.75rem}.bottom-7[_ngcontent-%COMP%]{bottom:1.75rem}.left-7[_ngcontent-%COMP%]{left:1.75rem}.top-8[_ngcontent-%COMP%]{top:2rem}.right-8[_ngcontent-%COMP%]{right:2rem}.bottom-8[_ngcontent-%COMP%]{bottom:2rem}.left-8[_ngcontent-%COMP%]{left:2rem}.top-9[_ngcontent-%COMP%]{top:2.25rem}.right-9[_ngcontent-%COMP%]{right:2.25rem}.bottom-9[_ngcontent-%COMP%]{bottom:2.25rem}.left-9[_ngcontent-%COMP%]{left:2.25rem}.top-10[_ngcontent-%COMP%]{top:2.5rem}.right-10[_ngcontent-%COMP%]{right:2.5rem}.bottom-10[_ngcontent-%COMP%]{bottom:2.5rem}.left-10[_ngcontent-%COMP%]{left:2.5rem}.top-11[_ngcontent-%COMP%]{top:2.75rem}.right-11[_ngcontent-%COMP%]{right:2.75rem}.bottom-11[_ngcontent-%COMP%]{bottom:2.75rem}.left-11[_ngcontent-%COMP%]{left:2.75rem}.top-12[_ngcontent-%COMP%]{top:3rem}.right-12[_ngcontent-%COMP%]{right:3rem}.bottom-12[_ngcontent-%COMP%]{bottom:3rem}.left-12[_ngcontent-%COMP%]{left:3rem}.top-14[_ngcontent-%COMP%]{top:3.5rem}.right-14[_ngcontent-%COMP%]{right:3.5rem}.bottom-14[_ngcontent-%COMP%]{bottom:3.5rem}.left-14[_ngcontent-%COMP%]{left:3.5rem}.top-16[_ngcontent-%COMP%]{top:4rem}.right-16[_ngcontent-%COMP%]{right:4rem}.bottom-16[_ngcontent-%COMP%]{bottom:4rem}.left-16[_ngcontent-%COMP%]{left:4rem}.top-20[_ngcontent-%COMP%]{top:5rem}.right-20[_ngcontent-%COMP%]{right:5rem}.bottom-20[_ngcontent-%COMP%]{bottom:5rem}.left-20[_ngcontent-%COMP%]{left:5rem}.top-24[_ngcontent-%COMP%]{top:6rem}.right-24[_ngcontent-%COMP%]{right:6rem}.bottom-24[_ngcontent-%COMP%]{bottom:6rem}.left-24[_ngcontent-%COMP%]{left:6rem}.top-28[_ngcontent-%COMP%]{top:7rem}.right-28[_ngcontent-%COMP%]{right:7rem}.bottom-28[_ngcontent-%COMP%]{bottom:7rem}.left-28[_ngcontent-%COMP%]{left:7rem}.top-32[_ngcontent-%COMP%]{top:8rem}.right-32[_ngcontent-%COMP%]{right:8rem}.bottom-32[_ngcontent-%COMP%]{bottom:8rem}.left-32[_ngcontent-%COMP%]{left:8rem}.top-36[_ngcontent-%COMP%]{top:9rem}.right-36[_ngcontent-%COMP%]{right:9rem}.bottom-36[_ngcontent-%COMP%]{bottom:9rem}.left-36[_ngcontent-%COMP%]{left:9rem}.top-40[_ngcontent-%COMP%]{top:10rem}.right-40[_ngcontent-%COMP%]{right:10rem}.bottom-40[_ngcontent-%COMP%]{bottom:10rem}.left-40[_ngcontent-%COMP%]{left:10rem}.top-44[_ngcontent-%COMP%]{top:11rem}.right-44[_ngcontent-%COMP%]{right:11rem}.bottom-44[_ngcontent-%COMP%]{bottom:11rem}.left-44[_ngcontent-%COMP%]{left:11rem}.top-48[_ngcontent-%COMP%]{top:12rem}.right-48[_ngcontent-%COMP%]{right:12rem}.bottom-48[_ngcontent-%COMP%]{bottom:12rem}.left-48[_ngcontent-%COMP%]{left:12rem}.top-52[_ngcontent-%COMP%]{top:13rem}.right-52[_ngcontent-%COMP%]{right:13rem}.bottom-52[_ngcontent-%COMP%]{bottom:13rem}.left-52[_ngcontent-%COMP%]{left:13rem}.top-56[_ngcontent-%COMP%]{top:14rem}.right-56[_ngcontent-%COMP%]{right:14rem}.bottom-56[_ngcontent-%COMP%]{bottom:14rem}.left-56[_ngcontent-%COMP%]{left:14rem}.top-60[_ngcontent-%COMP%]{top:15rem}.right-60[_ngcontent-%COMP%]{right:15rem}.bottom-60[_ngcontent-%COMP%]{bottom:15rem}.left-60[_ngcontent-%COMP%]{left:15rem}.top-64[_ngcontent-%COMP%]{top:16rem}.right-64[_ngcontent-%COMP%]{right:16rem}.bottom-64[_ngcontent-%COMP%]{bottom:16rem}.left-64[_ngcontent-%COMP%]{left:16rem}.top-72[_ngcontent-%COMP%]{top:18rem}.right-72[_ngcontent-%COMP%]{right:18rem}.bottom-72[_ngcontent-%COMP%]{bottom:18rem}.left-72[_ngcontent-%COMP%]{left:18rem}.top-80[_ngcontent-%COMP%]{top:20rem}.right-80[_ngcontent-%COMP%]{right:20rem}.bottom-80[_ngcontent-%COMP%]{bottom:20rem}.left-80[_ngcontent-%COMP%]{left:20rem}.top-96[_ngcontent-%COMP%]{top:24rem}.right-96[_ngcontent-%COMP%]{right:24rem}.bottom-96[_ngcontent-%COMP%]{bottom:24rem}.left-96[_ngcontent-%COMP%]{left:24rem}.top-98[_ngcontent-%COMP%]{top:28rem}.right-98[_ngcontent-%COMP%]{right:28rem}.bottom-98[_ngcontent-%COMP%]{bottom:28rem}.left-98[_ngcontent-%COMP%]{left:28rem}.top-p-10[_ngcontent-%COMP%]{top:10%}.right-p-10[_ngcontent-%COMP%]{right:10%}.bottom-p-10[_ngcontent-%COMP%]{bottom:10%}.left-p-10[_ngcontent-%COMP%]{left:10%}.top-p-20[_ngcontent-%COMP%]{top:20%}.right-p-20[_ngcontent-%COMP%]{right:20%}.bottom-p-20[_ngcontent-%COMP%]{bottom:20%}.left-p-20[_ngcontent-%COMP%]{left:20%}.top-p-25[_ngcontent-%COMP%]{top:25%}.right-p-25[_ngcontent-%COMP%]{right:25%}.bottom-p-25[_ngcontent-%COMP%]{bottom:25%}.left-p-25[_ngcontent-%COMP%]{left:25%}.top-p-30[_ngcontent-%COMP%]{top:30%}.right-p-30[_ngcontent-%COMP%]{right:30%}.bottom-p-30[_ngcontent-%COMP%]{bottom:30%}.left-p-30[_ngcontent-%COMP%]{left:30%}.top-p-40[_ngcontent-%COMP%]{top:40%}.right-p-40[_ngcontent-%COMP%]{right:40%}.bottom-p-40[_ngcontent-%COMP%]{bottom:40%}.left-p-40[_ngcontent-%COMP%]{left:40%}.top-p-50[_ngcontent-%COMP%]{top:50%}.right-p-50[_ngcontent-%COMP%]{right:50%}.bottom-p-50[_ngcontent-%COMP%]{bottom:50%}.left-p-50[_ngcontent-%COMP%]{left:50%}.top-p-60[_ngcontent-%COMP%]{top:60%}.right-p-60[_ngcontent-%COMP%]{right:60%}.bottom-p-60[_ngcontent-%COMP%]{bottom:60%}.left-p-60[_ngcontent-%COMP%]{left:60%}.top-p-70[_ngcontent-%COMP%]{top:70%}.right-p-70[_ngcontent-%COMP%]{right:70%}.bottom-p-70[_ngcontent-%COMP%]{bottom:70%}.left-p-70[_ngcontent-%COMP%]{left:70%}.top-p-75[_ngcontent-%COMP%]{top:75%}.right-p-75[_ngcontent-%COMP%]{right:75%}.bottom-p-75[_ngcontent-%COMP%]{bottom:75%}.left-p-75[_ngcontent-%COMP%]{left:75%}.top-p-80[_ngcontent-%COMP%]{top:80%}.right-p-80[_ngcontent-%COMP%]{right:80%}.bottom-p-80[_ngcontent-%COMP%]{bottom:80%}.left-p-80[_ngcontent-%COMP%]{left:80%}.top-p-90[_ngcontent-%COMP%]{top:90%}.right-p-90[_ngcontent-%COMP%]{right:90%}.bottom-p-90[_ngcontent-%COMP%]{bottom:90%}.left-p-90[_ngcontent-%COMP%]{left:90%}.top-p-95[_ngcontent-%COMP%]{top:95%}.right-p-95[_ngcontent-%COMP%]{right:95%}.bottom-p-95[_ngcontent-%COMP%]{bottom:95%}.left-p-95[_ngcontent-%COMP%]{left:95%}.top-p-full[_ngcontent-%COMP%]{top:100%}.right-p-full[_ngcontent-%COMP%]{right:100%}.bottom-p-full[_ngcontent-%COMP%]{bottom:100%}.left-p-full[_ngcontent-%COMP%]{left:100%}.z-index-1[_ngcontent-%COMP%]{z-index:1}.z-index-2[_ngcontent-%COMP%]{z-index:2}.z-index-3[_ngcontent-%COMP%]{z-index:3}.z-index-4[_ngcontent-%COMP%]{z-index:4}.z-index-5[_ngcontent-%COMP%]{z-index:5}.z-index-6[_ngcontent-%COMP%]{z-index:6}.z-index-7[_ngcontent-%COMP%]{z-index:7}.z-index-8[_ngcontent-%COMP%]{z-index:8}.z-index-9[_ngcontent-%COMP%]{z-index:9}.z-index-10[_ngcontent-%COMP%]{z-index:10}.z-index-11[_ngcontent-%COMP%]{z-index:11}.z-index-12[_ngcontent-%COMP%]{z-index:12}.z-index-13[_ngcontent-%COMP%]{z-index:13}.z-index-14[_ngcontent-%COMP%]{z-index:14}.z-index-15[_ngcontent-%COMP%]{z-index:15}.z-index-16[_ngcontent-%COMP%]{z-index:16}.z-index-17[_ngcontent-%COMP%]{z-index:17}.z-index-18[_ngcontent-%COMP%]{z-index:18}.z-index-19[_ngcontent-%COMP%]{z-index:19}.z-index-20[_ngcontent-%COMP%]{z-index:20}.z-index-21[_ngcontent-%COMP%]{z-index:21}.z-index-22[_ngcontent-%COMP%]{z-index:22}.z-index-23[_ngcontent-%COMP%]{z-index:23}.z-index-24[_ngcontent-%COMP%]{z-index:24}.z-index-25[_ngcontent-%COMP%]{z-index:25}.z-index-26[_ngcontent-%COMP%]{z-index:26}.z-index-27[_ngcontent-%COMP%]{z-index:27}.z-index-28[_ngcontent-%COMP%]{z-index:28}.z-index-29[_ngcontent-%COMP%]{z-index:29}.z-index-30[_ngcontent-%COMP%]{z-index:30}.z-index-31[_ngcontent-%COMP%]{z-index:31}.z-index-32[_ngcontent-%COMP%]{z-index:32}.z-index-33[_ngcontent-%COMP%]{z-index:33}.z-index-34[_ngcontent-%COMP%]{z-index:34}.z-index-35[_ngcontent-%COMP%]{z-index:35}.z-index-36[_ngcontent-%COMP%]{z-index:36}.z-index-37[_ngcontent-%COMP%]{z-index:37}.z-index-38[_ngcontent-%COMP%]{z-index:38}.z-index-39[_ngcontent-%COMP%]{z-index:39}.z-index-40[_ngcontent-%COMP%]{z-index:40}.z-index-41[_ngcontent-%COMP%]{z-index:41}.z-index-42[_ngcontent-%COMP%]{z-index:42}.z-index-43[_ngcontent-%COMP%]{z-index:43}.z-index-44[_ngcontent-%COMP%]{z-index:44}.z-index-45[_ngcontent-%COMP%]{z-index:45}.z-index-46[_ngcontent-%COMP%]{z-index:46}.z-index-47[_ngcontent-%COMP%]{z-index:47}.z-index-48[_ngcontent-%COMP%]{z-index:48}.z-index-49[_ngcontent-%COMP%]{z-index:49}.z-index-50[_ngcontent-%COMP%]{z-index:50}.z-index-51[_ngcontent-%COMP%]{z-index:51}.z-index-52[_ngcontent-%COMP%]{z-index:52}.z-index-53[_ngcontent-%COMP%]{z-index:53}.z-index-54[_ngcontent-%COMP%]{z-index:54}.z-index-55[_ngcontent-%COMP%]{z-index:55}.z-index-56[_ngcontent-%COMP%]{z-index:56}.z-index-57[_ngcontent-%COMP%]{z-index:57}.z-index-58[_ngcontent-%COMP%]{z-index:58}.z-index-59[_ngcontent-%COMP%]{z-index:59}.z-index-60[_ngcontent-%COMP%]{z-index:60}.z-index-61[_ngcontent-%COMP%]{z-index:61}.z-index-62[_ngcontent-%COMP%]{z-index:62}.z-index-63[_ngcontent-%COMP%]{z-index:63}.z-index-64[_ngcontent-%COMP%]{z-index:64}.z-index-65[_ngcontent-%COMP%]{z-index:65}.z-index-66[_ngcontent-%COMP%]{z-index:66}.z-index-67[_ngcontent-%COMP%]{z-index:67}.z-index-68[_ngcontent-%COMP%]{z-index:68}.z-index-69[_ngcontent-%COMP%]{z-index:69}.z-index-70[_ngcontent-%COMP%]{z-index:70}.z-index-71[_ngcontent-%COMP%]{z-index:71}.z-index-72[_ngcontent-%COMP%]{z-index:72}.z-index-73[_ngcontent-%COMP%]{z-index:73}.z-index-74[_ngcontent-%COMP%]{z-index:74}.z-index-75[_ngcontent-%COMP%]{z-index:75}.z-index-76[_ngcontent-%COMP%]{z-index:76}.z-index-77[_ngcontent-%COMP%]{z-index:77}.z-index-78[_ngcontent-%COMP%]{z-index:78}.z-index-79[_ngcontent-%COMP%]{z-index:79}.z-index-80[_ngcontent-%COMP%]{z-index:80}.z-index-81[_ngcontent-%COMP%]{z-index:81}.z-index-82[_ngcontent-%COMP%]{z-index:82}.z-index-83[_ngcontent-%COMP%]{z-index:83}.z-index-84[_ngcontent-%COMP%]{z-index:84}.z-index-85[_ngcontent-%COMP%]{z-index:85}.z-index-86[_ngcontent-%COMP%]{z-index:86}.z-index-87[_ngcontent-%COMP%]{z-index:87}.z-index-88[_ngcontent-%COMP%]{z-index:88}.z-index-89[_ngcontent-%COMP%]{z-index:89}.z-index-90[_ngcontent-%COMP%]{z-index:90}.z-index-91[_ngcontent-%COMP%]{z-index:91}.z-index-92[_ngcontent-%COMP%]{z-index:92}.z-index-93[_ngcontent-%COMP%]{z-index:93}.z-index-94[_ngcontent-%COMP%]{z-index:94}.z-index-95[_ngcontent-%COMP%]{z-index:95}.z-index-96[_ngcontent-%COMP%]{z-index:96}.z-index-97[_ngcontent-%COMP%]{z-index:97}.z-index-98[_ngcontent-%COMP%]{z-index:98}.z-index-99[_ngcontent-%COMP%]{z-index:99}.z-index-100[_ngcontent-%COMP%]{z-index:100}.translate-middle[_ngcontent-%COMP%]{transform:translate(-50%,-50%)}.text-editor-wrapper[_ngcontent-%COMP%]{height:100%}.text-editor-wrapper[_ngcontent-%COMP%]   .text-editor[_ngcontent-%COMP%]{padding:0}.text-editor-wrapper[_ngcontent-%COMP%]   .text-editor[_ngcontent-%COMP%]   .text-content[_ngcontent-%COMP%]{background-color:#fff;font-size:15px;height:100%;width:100%;border:none;border-radius:inherit}.text-editor-wrapper[_ngcontent-%COMP%]   .text-editor[_ngcontent-%COMP%]   .editor-tools[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:12px;padding:8px}.text-editor-wrapper[_ngcontent-%COMP%]   .text-editor[_ngcontent-%COMP%]   .editor-tools[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]{flex-shrink:0;padding:4px;cursor:pointer;border-radius:4px;transition:background-color .25s;display:none}.text-editor-wrapper[_ngcontent-%COMP%]   .text-editor[_ngcontent-%COMP%]   .editor-tools[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{flex-shrink:0;width:22px;height:22px}.text-editor-wrapper[_ngcontent-%COMP%]   .text-editor[_ngcontent-%COMP%]   .editor-tools[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]:hover{background-color:#dcddde}.text-editor-wrapper[_ngcontent-%COMP%]   .text-editor[_ngcontent-%COMP%]   .editor-tools.show-tools[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]{display:flex}"]})};function zX(n,t){if(n&1&&(b(0,"label"),K(1),w()),n&2){let e=k();y(),De(e.$fieldLabel())}}var r1=class n{$fieldModel=Xi.required({alias:"fieldModel"});$fieldPlaceholder=xe.required({alias:"fieldPlaceholder"});$rows=xe(2,{alias:"rows"});$fieldLabel=xe("",{alias:"fieldLabel"});$customClass=xe("",{alias:"customClass"});static \u0275fac=function(e){return new(e||n)};static \u0275cmp=I({type:n,selectors:[["rich-text-field"]],inputs:{$fieldModel:[1,"fieldModel","$fieldModel"],$fieldPlaceholder:[1,"fieldPlaceholder","$fieldPlaceholder"],$rows:[1,"rows","$rows"],$fieldLabel:[1,"fieldLabel","$fieldLabel"],$customClass:[1,"customClass","$customClass"]},outputs:{$fieldModel:"fieldModelChange"},standalone:!1,decls:3,vars:8,consts:[[1,"form-control",3,"ngModelChange","ngModel","placeholder","rows","maxlength"]],template:function(e,i){e&1&&(b(0,"div"),O(1,zX,2,1,"label"),b(2,"textarea",0),Ri("ngModelChange",function(o){return Pi(i.$fieldModel,o)||(i.$fieldModel=o),o}),w()()),e&2&&(Ti("rich-text-field-wrapper d-flex flex-column ",i.$customClass(),""),y(),le(i.$fieldLabel()!==""?1:-1),y(),Ii("ngModel",i.$fieldModel),M("placeholder",i.$fieldPlaceholder())("rows",i.$rows())("maxlength",300))},dependencies:[Pn,Rn,qv,br],styles:["[_nghost-%COMP%]{flex-grow:1}.rich-text-field-wrapper[_ngcontent-%COMP%]{height:100%}.rich-text-field-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #dcddde;font-size:14px;color:#6d6e71;height:100%;resize:none}"]})};function HX(n,t){if(n&1&&(b(0,"label"),K(1),w()),n&2){let e=k();y(),De(e.$fieldLabel())}}var o1=class n{$fieldModel=Xi.required({alias:"fieldModel"});$fieldLabel=xe("",{alias:"fieldLabel"});$fieldPlaceholder=Xi.required({alias:"fieldPlaceholder"});$customClass=xe("",{alias:"customClass"});static \u0275fac=function(e){return new(e||n)};static \u0275cmp=I({type:n,selectors:[["search-text-field"]],inputs:{$fieldModel:[1,"fieldModel","$fieldModel"],$fieldLabel:[1,"fieldLabel","$fieldLabel"],$fieldPlaceholder:[1,"fieldPlaceholder","$fieldPlaceholder"],$customClass:[1,"customClass","$customClass"]},outputs:{$fieldModel:"fieldModelChange",$fieldPlaceholder:"fieldPlaceholderChange"},standalone:!1,decls:3,vars:6,consts:[["type","text",1,"form-control",3,"ngModelChange","ngModel","placeholder"]],template:function(e,i){e&1&&(b(0,"div"),O(1,HX,2,1,"label"),b(2,"input",0),Ri("ngModelChange",function(o){return Pi(i.$fieldModel,o)||(i.$fieldModel=o),o}),w()()),e&2&&(Ti("d-flex w-p-full flex-column ",i.$customClass(),""),y(),le(i.$fieldLabel()!==""?1:-1),y(),Ii("ngModel",i.$fieldModel),M("placeholder",i.$fieldPlaceholder()))},dependencies:[Pn,Rn,br],encapsulation:2})};function jX(n,t){if(n&1&&(b(0,"label",7),K(1),w()),n&2){let e=k();y(),De(e.$fieldText())}}function UX(n,t){if(n&1){let e=be();wn(0),b(1,"li",11),T("click",function(){let r=W(e).$implicit,o=k(2);return G(o.getSelectedItem(r))}),B(2,"div"),b(3,"span"),K(4),w()(),xn()}if(n&2){let e=t.$implicit,i=k(2);y(),N("selected",i.$fieldModel()===e||i.$listToCheck().includes(e)),y(),et(i.$listType()),y(2),De(e)}}function $X(n,t){if(n&1&&(b(0,"div",8)(1,"div",9),O(2,UX,5,6,"ng-container",10),w()()),n&2){let e=k();y(2),M("ngForOf",e.$fieldList())}}var a1=class n{el=f(Q);$fieldList=xe.required({alias:"fieldList"});$listToCheck=xe([],{alias:"listToCheck"});$listType=xe("radio",{alias:"listType"});$fieldModel=Xi("",{alias:"fieldModel"});$fieldPlaceholder=xe.required({alias:"fieldPlaceholder"});$fieldText=xe("",{alias:"fieldText"});$disabled=xe(!1,{alias:"disabled"});$customClass=xe("",{alias:"customClass"});$tooltipText=xe("",{alias:"tooltipText"});$inputChangeEvent=Ki({alias:"inputChangeEvent"});isExpanded=!1;constructor(){}showFieldItems(){this.isExpanded=!this.isExpanded}getSelectedItem(t){this.$inputChangeEvent.emit(t),this.$listType()==="radio"?this.$fieldModel.set(t):this.$fieldModel.set(this.$listToCheck().length===0?"":`${this.$fieldPlaceholder()} (${this.$listToCheck().length})`)}resetFields(){this.$fieldModel.set("")}closeDropdown(t){let e=this.el.nativeElement.contains(t.target),i=!!t.target.closest(".select-drop-wrap");!e&&!i&&this.isExpanded&&(this.isExpanded=!1)}ngOnInit(){}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=I({type:n,selectors:[["select-simple-field"]],hostBindings:function(e,i){e&1&&T("click",function(o){return i.closeDropdown(o)},!1,Ut)},inputs:{$fieldList:[1,"fieldList","$fieldList"],$listToCheck:[1,"listToCheck","$listToCheck"],$listType:[1,"listType","$listType"],$fieldModel:[1,"fieldModel","$fieldModel"],$fieldPlaceholder:[1,"fieldPlaceholder","$fieldPlaceholder"],$fieldText:[1,"fieldText","$fieldText"],$disabled:[1,"disabled","$disabled"],$customClass:[1,"customClass","$customClass"],$tooltipText:[1,"tooltipText","$tooltipText"]},outputs:{$fieldModel:"fieldModelChange",$inputChangeEvent:"inputChangeEvent"},standalone:!1,decls:9,vars:12,consts:[["class","label",4,"ngIf"],[1,"select-wrapper"],[3,"click","matTooltip"],["type","text","autocomplete","off","app-restrict-input","alphanumeric","readonly","",1,"form-control","select",3,"ngModelChange","ngModel","placeholder"],[1,"material-icons","select-arrow","bg-common-white"],[1,"d-flex","align-items-center"],["class","dropdown-wrapper select-drop-wrap show",4,"ngIf"],[1,"label"],[1,"dropdown-wrapper","select-drop-wrap","show"],[1,"shadow-normal","dropdown"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(e,i){e&1&&(b(0,"div"),O(1,jX,2,1,"label",0),b(2,"div",1)(3,"div",2),T("click",function(){return!i.$disabled()&&i.showFieldItems()}),b(4,"input",3),Ri("ngModelChange",function(o){return Pi(i.$fieldModel,o)||(i.$fieldModel=o),o}),w(),b(5,"div",4)(6,"div",5),K(7,"keyboard_arrow_down"),w()()(),O(8,$X,3,1,"div",6),w()()),e&2&&(Ti("form-group ",i.$customClass(),""),N("disabled",i.$disabled()),y(),M("ngIf",i.$fieldText()),y(2),M("matTooltip",i.$tooltipText()),y(),gu("placeholder",i.$fieldPlaceholder()),Ii("ngModel",i.$fieldModel),y(2),N("expanded",i.isExpanded),y(2),M("ngIf",i.isExpanded))},dependencies:[ho,Vt,Pn,Rn,br,gr],styles:[".form-group[_ngcontent-%COMP%]{width:fit-content}.form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]{user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;position:relative}.form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;cursor:pointer;background-color:#fff;border:1px solid #dcddde;font-size:13px;color:#6d6e71}.form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:4px;top:50%;transform:translateY(-50%);color:#6d6e71}.form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{transition:transform .25s}.form-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]   div.expanded[_ngcontent-%COMP%]{transform:rotate(-180deg)}.form-group.disabled[_ngcontent-%COMP%]:focus{outline:none}.form-group.disabled[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{cursor:not-allowed;color:#dcddde;border:1px solid #f3f3f4;background-color:#f3f3f4}.form-group.disabled[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]::placeholder{color:#dcddde}.form-group.disabled[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{cursor:not-allowed;color:#dcddde}"]})};var z2={production:!0,googleMapsApiKey:"AIzaSyDacGjFtgUSKdB-ZaORFQYWIogWhj8IDRM"};function WX(n,t){n&1&&(b(0,"ul",10)(1,"li",11),K(2,"Sessions"),w(),b(3,"li",11),K(4,"Media Access"),w(),b(5,"li",11),K(6,"My Downloads"),w()())}function GX(n,t){n&1&&(b(0,"ul",10)(1,"li",11),K(2,"Case"),w()())}var s1=class n{router=f(un);isProduction=z2.production;routerSubscription;activeTab;constructor(){this.routerSubscription=this.router.events.pipe(Pe(t=>t instanceof Ji)).subscribe(()=>{let t=this.router.url.split("/")[1];this.getTabInfo(t)})}getTabInfo(t){switch(t){case"AngularSession.aspx":this.activeTab=3;break;case"AngularEvidence.aspx":this.activeTab=4;break;case"AngularEvidenceCopy.aspx":this.activeTab=7;break;default:this.activeTab=3;break}}changeActiveTab(t){switch(t){case 3:this.activeTab=t,this.router.navigate(["/AngularSession.aspx"]);break;case 4:this.activeTab=t,this.router.navigate(["/AngularEvidence.aspx"]);break;case 7:if(this.isProduction)break;this.activeTab=t,this.router.navigate(["/AngularEvidenceCopy.aspx"]);break;default:break}}ngOnInit(){}ngOnDestroy(){this.routerSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=I({type:n,selectors:[["topbar-old"]],standalone:!1,decls:28,vars:16,consts:[[1,"topbar-old-wrapper"],["src","assets/img/web-portal-logo.png","alt","mView Altitude Logo"],[1,"nav-wrapper"],[1,"nav-top"],[1,"nav-top-list"],[1,"top-list-item"],[1,"top-list-item",3,"click"],[1,"nav-top-user"],[1,"nav-bottom"],["class","nav-bottom-list",4,"ngIf"],[1,"nav-bottom-list"],[1,"bottom-list-item"]],template:function(e,i){e&1&&(b(0,"div",0)(1,"div"),B(2,"img",1),w(),b(3,"div",2)(4,"div",3)(5,"ul",4)(6,"li",5),K(7,"Dashboard"),w(),b(8,"li",5),K(9,"Live Stream"),w(),b(10,"li",6),T("click",function(){return i.changeActiveTab(3)}),K(11,"Media"),w(),b(12,"li",6),T("click",function(){return i.changeActiveTab(4)}),K(13,"Evidence"),w(),b(14,"li",5),K(15,"Settings"),w(),b(16,"li",5),K(17,"Administration"),w(),b(18,"li",6),T("click",function(){return i.changeActiveTab(7)}),K(19,"Support"),w()(),b(20,"div",7)(21,"h6"),K(22,"Welcome, User (Supervisor)"),w(),b(23,"mat-icon"),K(24,"notifications"),w()()(),b(25,"div",8),O(26,WX,7,0,"ul",9)(27,GX,3,0,"ul",9),w()()()),e&2&&(y(6),N("selected-tab",i.activeTab===1),y(2),N("selected-tab",i.activeTab===2),y(2),N("selected-tab",i.activeTab===3),y(2),N("selected-tab",i.activeTab===4),y(2),N("selected-tab",i.activeTab===5),y(2),N("selected-tab",i.activeTab===6),y(2),N("selected-tab",i.activeTab===7),y(8),M("ngIf",i.activeTab===3),y(),M("ngIf",i.activeTab===4))},dependencies:[Vt,Or],styles:[".topbar-old-wrapper[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;background-color:#f3f3f4;z-index:200;padding-top:4px}.topbar-old-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:6px;height:32px}.topbar-old-wrapper[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{margin-top:8px;color:#fff}.topbar-old-wrapper[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   .nav-top[_ngcontent-%COMP%]{background-color:#142430;display:flex;justify-content:space-between;align-items:center}.topbar-old-wrapper[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   .nav-top[_ngcontent-%COMP%]   .nav-top-list[_ngcontent-%COMP%]{display:flex;align-items:center}.topbar-old-wrapper[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   .nav-top[_ngcontent-%COMP%]   .nav-top-list[_ngcontent-%COMP%]   .top-list-item[_ngcontent-%COMP%]{list-style:none;padding:0 16px;font-size:14px;cursor:pointer}.topbar-old-wrapper[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   .nav-top[_ngcontent-%COMP%]   .nav-top-list[_ngcontent-%COMP%]   .top-list-item.selected-tab[_ngcontent-%COMP%]{padding:10px 26px;background-color:#00aeef}.topbar-old-wrapper[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   .nav-top[_ngcontent-%COMP%]   .nav-top-user[_ngcontent-%COMP%]{display:flex;align-items:center;padding-right:24px}.topbar-old-wrapper[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   .nav-top[_ngcontent-%COMP%]   .nav-top-user[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:14px;margin:0}.topbar-old-wrapper[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   .nav-top[_ngcontent-%COMP%]   .nav-top-user[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#fff;margin-left:8px}.topbar-old-wrapper[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   .nav-bottom[_ngcontent-%COMP%]{background-color:#00aeef;display:flex;align-items:center;padding:8px}.topbar-old-wrapper[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   .nav-bottom[_ngcontent-%COMP%]   .nav-bottom-list[_ngcontent-%COMP%]{display:flex;align-items:center}.topbar-old-wrapper[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   .nav-bottom[_ngcontent-%COMP%]   .nav-bottom-list[_ngcontent-%COMP%]   .bottom-list-item[_ngcontent-%COMP%]{list-style:none;padding:0 16px;color:#000;font-size:14px}.topbar-old-wrapper[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   .nav-bottom[_ngcontent-%COMP%]   .nav-bottom-list[_ngcontent-%COMP%]   .bottom-list-item[_ngcontent-%COMP%]:first-child{padding-left:10px;color:#fff}"]})};var l1=class n{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustHtml(t)}static \u0275fac=function(e){return new(e||n)(ne(mo,16))};static \u0275pipe=ea({name:"sanitizeHTML",type:n,pure:!0})};var H2=class n{static forRoot(){return{ngModule:n,providers:[]}}static \u0275fac=function(e){return new(e||n)};static \u0275mod=j({type:n});static \u0275inj=H({providers:[j_],imports:[Li,Yv,bs,nu,Nb,rP,Yv,bs,nu,Nb]})};export{ve as a,Lc as b,Ar as c,Qi as d,ho as e,Vt as f,H_ as g,Tr as h,uo as i,j_ as j,Li as k,jc as l,Z_ as m,SF as n,TF as o,ju as p,ZF as q,JF as r,mo as s,Do as t,Cv as u,un as v,tm as w,G4 as x,Q4 as y,Ot as z,Pn as A,ai as B,Rn as C,jv as D,zr as E,Pae as F,An as G,Oae as H,br as I,QV as J,Hr as K,vm as L,Fae as M,Lae as N,Nae as O,Yv as P,GJ as Q,Nb as R,Vo as S,Zy as T,O7 as U,Jy as V,F7 as W,iw as X,Pa as Y,Ch as Z,rpe as _,ope as $,ape as aa,spe as ba,lpe as ca,JP as da,Or as ea,Zme as fa,yR as ga,P$ as ha,vw as ia,xR as ja,CR as ka,kR as la,bc as ma,Nf as na,Vf as oa,xw as pa,H$ as qa,j$ as ra,J$ as sa,eW as ta,tge as ua,ige as va,Xge as wa,YR as xa,KR as ya,D_e as za,Ew as Aa,M_e as Ba,TW as Ca,Tw as Da,gr as Ea,Gbe as Fa,cG as Ga,dO as Ha,uO as Ia,xG as Ja,Bve as Ka,fO as La,QG as Ma,Yye as Na,ZC as Oa,iv as Pa,JC as Qa,e1 as Ra,md as Sa,t1 as Ta,nv as Ua,da as Va,Fr as Wa,im as Xa,nm as Ya,rm as Za,Rv as _a,i1 as $a,n1 as ab,r1 as bb,o1 as cb,a1 as db,z2 as eb,s1 as fb,l1 as gb,H2 as hb};
